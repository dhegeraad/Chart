!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return f});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}function a(e,t){return function(n,r){t(n,r,e)}}function s(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}},function(e,t,n){"use strict";var r=n(3);var o=n(7),i=n(8);var u=n(5);function a(){}function s(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:a}var c=n(4);n.d(t,"a",function(){return l});var l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var u=this.operator,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new r.a(e,t,n):new r.a(i.a)}(e,t,n);if(u?a.add(u.call(a,this.source)):a.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,o=t.destination,i=t.isStopped;if(n||i)return!1;e=o&&o instanceof r.a?o:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=f(t))(function(t,r){var o;o=n.subscribe(function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[u.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:s(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,n){"use strict";var r=Array.isArray||function(e){return e&&"number"==typeof e.length},o=n(11),i=n(9);function u(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}u.prototype=Object.create(Error.prototype);var a=u;n.d(t,"a",function(){return s});var s=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,u=this._parents,s=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,d=u?u.length:0;n;)n.remove(this),n=++f<d&&u[f]||null;if(Object(i.a)(s))try{s.call(this)}catch(n){t=!0,e=n instanceof a?c(n.errors):[n]}if(r(l))for(f=-1,d=l.length;++f<d;){var p=l[f];if(Object(o.a)(p))try{p.unsubscribe()}catch(n){t=!0,e=e||[],n instanceof a?e=e.concat(c(n.errors)):e.push(n)}}if(t)throw new a(e)}},e.prototype.add=function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var o=this._subscriptions;o?o.push(n):this._subscriptions=[n]}return n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof a?t.errors:t)},[])}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n(9),i=n(8),u=n(2),a=n(7),s=n(4),c=n(6),l=function(e){function t(n,r,o){var u=e.call(this)||this;switch(u.syncErrorValue=null,u.syncErrorThrown=!1,u.syncErrorThrowable=!1,u.isStopped=!1,arguments.length){case 0:u.destination=i.a;break;case 1:if(!n){u.destination=i.a;break}if("object"==typeof n){n instanceof t?(u.syncErrorThrowable=n.syncErrorThrowable,u.destination=n,n.add(u)):(u.syncErrorThrowable=!0,u.destination=new f(u,n));break}default:u.syncErrorThrowable=!0,u.destination=new f(u,n,r,o)}return u}return r.c(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(u.a),f=function(e){function t(t,n,r,u){var a,s=e.call(this)||this;s._parentSubscriber=t;var c=s;return Object(o.a)(n)?a=n:n&&(a=n.next,r=n.error,u=n.complete,n!==i.a&&(c=Object.create(n),Object(o.a)(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=r,s._complete=u,s}return r.c(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw e;Object(c.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return s.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(c.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e})}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(4),o=n(6),i={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(o.a)(e)},complete:function(){}}},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(0),o=n(1),i=n(3),u=n(2);function a(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}a.prototype=Object.create(Error.prototype);var s=a,c=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.c(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(u.a),l=n(7);n.d(t,"b",function(){return f}),n.d(t,"a",function(){return d});var f=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.c(t,e),t}(i.a),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.c(t,e),t.prototype[l.a]=function(){return new f(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new s;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s;return this.hasError?(e.error(this.thrownError),u.a.EMPTY):this.isStopped?(e.complete(),u.a.EMPTY):(this.observers.push(e),new c(this,e))},t.prototype.asObservable=function(){var e=new o.a;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(o.a),p=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.c(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):u.a.EMPTY},t}(d)},function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u};Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.banaan=function(){console.log("banaan")},e=r([o.Component({selector:"enl-example-ng6-lib",template:"\n    <p>\n      example-ng6-lib works!\n    </p>\n  ",styles:[]})],e)}();t.ChartComponent=i},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"ɵangular_packages_core_core_s",function(){return Rv}),n.d(t,"ɵangular_packages_core_core_p",function(){return Pv}),n.d(t,"ɵangular_packages_core_core_q",function(){return Nv}),n.d(t,"ɵangular_packages_core_core_r",function(){return Sv}),n.d(t,"ɵangular_packages_core_core_g",function(){return Pp}),n.d(t,"ɵangular_packages_core_core_n",function(){return fv}),n.d(t,"ɵangular_packages_core_core_o",function(){return mv}),n.d(t,"ɵangular_packages_core_core_m",function(){return $h}),n.d(t,"ɵangular_packages_core_core_l",function(){return Jh}),n.d(t,"ɵangular_packages_core_core_c",function(){return Qt}),n.d(t,"ɵangular_packages_core_core_d",function(){return Ep}),n.d(t,"ɵangular_packages_core_core_e",function(){return hp}),n.d(t,"ɵangular_packages_core_core_f",function(){return _p}),n.d(t,"ɵangular_packages_core_core_k",function(){return Rf}),n.d(t,"ɵangular_packages_core_core_t",function(){return uh}),n.d(t,"ɵangular_packages_core_core_v",function(){return nh}),n.d(t,"ɵangular_packages_core_core_u",function(){return th}),n.d(t,"ɵangular_packages_core_core_y",function(){return ih}),n.d(t,"ɵangular_packages_core_core_w",function(){return rh}),n.d(t,"ɵangular_packages_core_core_x",function(){return oh}),n.d(t,"ɵangular_packages_core_core_bb",function(){return Zn}),n.d(t,"ɵangular_packages_core_core_bi",function(){return p}),n.d(t,"ɵangular_packages_core_core_bc",function(){return hn}),n.d(t,"ɵangular_packages_core_core_bd",function(){return gn}),n.d(t,"ɵangular_packages_core_core_be",function(){return Sn}),n.d(t,"ɵangular_packages_core_core_bh",function(){return Oo}),n.d(t,"ɵangular_packages_core_core_bl",function(){return ct}),n.d(t,"ɵangular_packages_core_core_h",function(){return Vs}),n.d(t,"ɵangular_packages_core_core_i",function(){return Fs}),n.d(t,"ɵangular_packages_core_core_j",function(){return Hs}),n.d(t,"ɵangular_packages_core_core_a",function(){return M}),n.d(t,"ɵangular_packages_core_core_b",function(){return T}),n.d(t,"ɵangular_packages_core_core_bj",function(){return c}),n.d(t,"ɵangular_packages_core_core_z",function(){return jy}),n.d(t,"ɵangular_packages_core_core_ba",function(){return qv}),n.d(t,"createPlatform",function(){return kh}),n.d(t,"assertPlatform",function(){return Th}),n.d(t,"destroyPlatform",function(){return jh}),n.d(t,"getPlatform",function(){return Ph}),n.d(t,"PlatformRef",function(){return Nh}),n.d(t,"ApplicationRef",function(){return Rh}),n.d(t,"createPlatformFactory",function(){return Mh}),n.d(t,"NgProbeToken",function(){return Dh}),n.d(t,"enableProdMode",function(){return dc}),n.d(t,"isDevMode",function(){return fc}),n.d(t,"APP_ID",function(){return jp}),n.d(t,"PACKAGE_ROOT_URL",function(){return Fp}),n.d(t,"PLATFORM_INITIALIZER",function(){return Rp}),n.d(t,"PLATFORM_ID",function(){return Ap}),n.d(t,"APP_BOOTSTRAP_LISTENER",function(){return Vp}),n.d(t,"APP_INITIALIZER",function(){return Mp}),n.d(t,"ApplicationInitStatus",function(){return Tp}),n.d(t,"DebugElement",function(){return lv}),n.d(t,"DebugNode",function(){return cv}),n.d(t,"asNativeElements",function(){return Xh}),n.d(t,"getDebugNode",function(){return av}),n.d(t,"Testability",function(){return bh}),n.d(t,"TestabilityRegistry",function(){return _h}),n.d(t,"setTestabilityGetter",function(){return wh}),n.d(t,"TRANSLATIONS",function(){return Tv}),n.d(t,"TRANSLATIONS_FORMAT",function(){return jv}),n.d(t,"LOCALE_ID",function(){return Mv}),n.d(t,"MissingTranslationStrategy",function(){return Cv}),n.d(t,"ApplicationModule",function(){return Av}),n.d(t,"wtfCreateScope",function(){return sh}),n.d(t,"wtfLeave",function(){return ch}),n.d(t,"wtfStartTimeRange",function(){return lh}),n.d(t,"wtfEndTimeRange",function(){return fh}),n.d(t,"Type",function(){return Hf}),n.d(t,"EventEmitter",function(){return Ql}),n.d(t,"ErrorHandler",function(){return up}),n.d(t,"Sanitizer",function(){return Xs}),n.d(t,"SecurityContext",function(){return Ys}),n.d(t,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return N}),n.d(t,"Attribute",function(){return S}),n.d(t,"ContentChild",function(){return V}),n.d(t,"ContentChildren",function(){return A}),n.d(t,"Query",function(){return R}),n.d(t,"ViewChild",function(){return H}),n.d(t,"ViewChildren",function(){return F}),n.d(t,"Component",function(){return Id}),n.d(t,"Directive",function(){return Od}),n.d(t,"HostBinding",function(){return Td}),n.d(t,"HostListener",function(){return jd}),n.d(t,"Input",function(){return kd}),n.d(t,"Output",function(){return Md}),n.d(t,"Pipe",function(){return Ed}),n.d(t,"CUSTOM_ELEMENTS_SCHEMA",function(){return Bd}),n.d(t,"NO_ERRORS_SCHEMA",function(){return Ud}),n.d(t,"NgModule",function(){return zd}),n.d(t,"ViewEncapsulation",function(){return ee}),n.d(t,"Version",function(){return ec}),n.d(t,"VERSION",function(){return tc}),n.d(t,"defineInjectable",function(){return b}),n.d(t,"defineInjector",function(){return _}),n.d(t,"forwardRef",function(){return J}),n.d(t,"resolveForwardRef",function(){return $}),n.d(t,"Injectable",function(){return Jd}),n.d(t,"INJECTOR",function(){return Aa}),n.d(t,"Injector",function(){return Fa}),n.d(t,"inject",function(){return Zt}),n.d(t,"ɵinject",function(){return Zt}),n.d(t,"InjectFlags",function(){return Nt}),n.d(t,"ReflectiveInjector",function(){return Ip}),n.d(t,"createInjector",function(){return as}),n.d(t,"ResolvedReflectiveFactory",function(){return yp}),n.d(t,"ReflectiveKey",function(){return fp}),n.d(t,"InjectionToken",function(){return x}),n.d(t,"Inject",function(){return St}),n.d(t,"Optional",function(){return Rt}),n.d(t,"Self",function(){return At}),n.d(t,"SkipSelf",function(){return Vt}),n.d(t,"Host",function(){return Ft}),n.d(t,"NgZone",function(){return dh}),n.d(t,"ɵNoopNgZone",function(){return mh}),n.d(t,"RenderComponentType",function(){return Qs}),n.d(t,"Renderer",function(){return qs}),n.d(t,"Renderer2",function(){return Gs}),n.d(t,"RendererFactory2",function(){return Ws}),n.d(t,"RendererStyleFlags2",function(){return Ls}),n.d(t,"RootRenderer",function(){return Ks}),n.d(t,"COMPILER_OPTIONS",function(){return Xp}),n.d(t,"Compiler",function(){return $p}),n.d(t,"CompilerFactory",function(){return eh}),n.d(t,"ModuleWithComponentFactories",function(){return Lp}),n.d(t,"ComponentFactory",function(){return xs}),n.d(t,"ɵComponentFactory",function(){return xs}),n.d(t,"ComponentRef",function(){return Cs}),n.d(t,"ComponentFactoryResolver",function(){return Ts}),n.d(t,"ElementRef",function(){return Bs}),n.d(t,"NgModuleFactory",function(){return Ss}),n.d(t,"NgModuleRef",function(){return Ns}),n.d(t,"NgModuleFactoryLoader",function(){return jf}),n.d(t,"getModuleFactory",function(){return Vf}),n.d(t,"QueryList",function(){return Vh}),n.d(t,"SystemJsNgModuleLoader",function(){return Lh}),n.d(t,"SystemJsNgModuleLoaderConfig",function(){return Fh}),n.d(t,"TemplateRef",function(){return Zl}),n.d(t,"ViewContainerRef",function(){return Uh}),n.d(t,"EmbeddedViewRef",function(){return Yh}),n.d(t,"ViewRef",function(){return Wh}),n.d(t,"ChangeDetectionStrategy",function(){return j}),n.d(t,"ChangeDetectorRef",function(){return Zh}),n.d(t,"DefaultIterableDiffer",function(){return pv}),n.d(t,"IterableDiffers",function(){return wv}),n.d(t,"KeyValueDiffers",function(){return xv}),n.d(t,"SimpleChange",function(){return Mr}),n.d(t,"WrappedValue",function(){return kr}),n.d(t,"platformCore",function(){return kv}),n.d(t,"ɵALLOW_MULTIPLE_PLATFORMS",function(){return Eh}),n.d(t,"ɵAPP_ID_RANDOM_PROVIDER",function(){return Np}),n.d(t,"ɵdefaultIterableDiffers",function(){return Ev}),n.d(t,"ɵdefaultKeyValueDiffers",function(){return Dv}),n.d(t,"ɵdevModeEqual",function(){return Dr}),n.d(t,"ɵisListLikeIterable",function(){return Tr}),n.d(t,"ɵChangeDetectorStatus",function(){return P}),n.d(t,"ɵisDefaultChangeDetectionStrategy",function(){return L}),n.d(t,"ɵConsole",function(){return Hp}),n.d(t,"ɵgetInjectableDef",function(){return w}),n.d(t,"ɵsetCurrentInjector",function(){return Ut}),n.d(t,"ɵAPP_ROOT",function(){return ts}),n.d(t,"ɵivyEnabled",function(){return Fv}),n.d(t,"ɵCodegenComponentFactoryResolver",function(){return js}),n.d(t,"ɵresolveComponentResources",function(){return X}),n.d(t,"ɵReflectionCapabilities",function(){return Qf}),n.d(t,"ɵRenderDebugInfo",function(){return Zs}),n.d(t,"ɵ_sanitizeHtml",function(){return Ac}),n.d(t,"ɵ_sanitizeStyle",function(){return Cf}),n.d(t,"ɵ_sanitizeUrl",function(){return gc}),n.d(t,"ɵglobal",function(){return z}),n.d(t,"ɵlooseIdentical",function(){return W}),n.d(t,"ɵstringify",function(){return Y}),n.d(t,"ɵmakeDecorator",function(){return D}),n.d(t,"ɵisObservable",function(){return kp}),n.d(t,"ɵisPromise",function(){return Dp}),n.d(t,"ɵclearOverrides",function(){return pb}),n.d(t,"ɵinitServicesIfNeeded",function(){return km}),n.d(t,"ɵoverrideComponentView",function(){return db}),n.d(t,"ɵoverrideProvider",function(){return fb}),n.d(t,"ɵNOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return Hy}),n.d(t,"ɵdefineBase",function(){return pe}),n.d(t,"ɵdefineComponent",function(){return se}),n.d(t,"ɵdefineDirective",function(){return he}),n.d(t,"ɵdefinePipe",function(){return ve}),n.d(t,"ɵdefineNgModule",function(){return fe}),n.d(t,"ɵdetectChanges",function(){return Lu}),n.d(t,"ɵrenderComponent",function(){return _a}),n.d(t,"ɵRender3ComponentFactory",function(){return ac}),n.d(t,"ɵRender3ComponentRef",function(){return sc}),n.d(t,"ɵdirectiveInject",function(){return ua}),n.d(t,"ɵinjectAttribute",function(){return aa}),n.d(t,"ɵgetFactoryOf",function(){return er}),n.d(t,"ɵgetInheritedFactory",function(){return tr}),n.d(t,"ɵtemplateRefExtractor",function(){return ff}),n.d(t,"ɵProvidersFeature",function(){return ws}),n.d(t,"ɵInheritDefinitionFeature",function(){return Da}),n.d(t,"ɵNgOnChangesFeature",function(){return Ta}),n.d(t,"ɵLifecycleHooksFeature",function(){return Oa}),n.d(t,"ɵRender3NgModuleRef",function(){return xl}),n.d(t,"ɵmarkDirty",function(){return Qu}),n.d(t,"ɵNgModuleFactory",function(){return Ol}),n.d(t,"ɵNO_CHANGE",function(){return Nr}),n.d(t,"ɵcontainer",function(){return Eu}),n.d(t,"ɵnextContext",function(){return Si}),n.d(t,"ɵelementStart",function(){return Qi}),n.d(t,"ɵnamespaceHTML",function(){return Li}),n.d(t,"ɵnamespaceMathML",function(){return Hi}),n.d(t,"ɵnamespaceSVG",function(){return Fi}),n.d(t,"ɵelement",function(){return Bi}),n.d(t,"ɵlistener",function(){return $i}),n.d(t,"ɵtext",function(){return hu}),n.d(t,"ɵembeddedViewStart",function(){return Tu}),n.d(t,"ɵquery",function(){return cf}),n.d(t,"ɵregisterContentQuery",function(){return sa}),n.d(t,"ɵprojection",function(){return Ru}),n.d(t,"ɵbind",function(){return Zu}),n.d(t,"ɵinterpolation1",function(){return Wu}),n.d(t,"ɵinterpolation2",function(){return Yu}),n.d(t,"ɵinterpolation3",function(){return Gu}),n.d(t,"ɵinterpolation4",function(){return Ju}),n.d(t,"ɵinterpolation5",function(){return $u}),n.d(t,"ɵinterpolation6",function(){return Xu}),n.d(t,"ɵinterpolation7",function(){return ea}),n.d(t,"ɵinterpolation8",function(){return ta}),n.d(t,"ɵinterpolationV",function(){return Ku}),n.d(t,"ɵpipeBind1",function(){return Vl}),n.d(t,"ɵpipeBind2",function(){return Fl}),n.d(t,"ɵpipeBind3",function(){return Hl}),n.d(t,"ɵpipeBind4",function(){return Ll}),n.d(t,"ɵpipeBindV",function(){return Bl}),n.d(t,"ɵpureFunction0",function(){return El}),n.d(t,"ɵpureFunction1",function(){return Dl}),n.d(t,"ɵpureFunction2",function(){return kl}),n.d(t,"ɵpureFunction3",function(){return Ml}),n.d(t,"ɵpureFunction4",function(){return Tl}),n.d(t,"ɵpureFunction5",function(){return jl}),n.d(t,"ɵpureFunction6",function(){return Pl}),n.d(t,"ɵpureFunction7",function(){return Nl}),n.d(t,"ɵpureFunction8",function(){return Sl}),n.d(t,"ɵpureFunctionV",function(){return Rl}),n.d(t,"ɵgetCurrentView",function(){return fa}),n.d(t,"ɵgetHostElement",function(){return br}),n.d(t,"ɵrestoreView",function(){return vn}),n.d(t,"ɵcontainerRefreshStart",function(){return ku}),n.d(t,"ɵcontainerRefreshEnd",function(){return Mu}),n.d(t,"ɵqueryRefresh",function(){return lf}),n.d(t,"ɵloadQueryList",function(){return oa}),n.d(t,"ɵelementEnd",function(){return Xi}),n.d(t,"ɵelementProperty",function(){return tu}),n.d(t,"ɵcomponentHostSyntheticProperty",function(){return nu}),n.d(t,"ɵprojectionDef",function(){return Nu}),n.d(t,"ɵreference",function(){return ra}),n.d(t,"ɵenableBindings",function(){return dn}),n.d(t,"ɵdisableBindings",function(){return pn}),n.d(t,"ɵallocHostVars",function(){return qu}),n.d(t,"ɵelementAttribute",function(){return eu}),n.d(t,"ɵelementContainerStart",function(){return Ui}),n.d(t,"ɵelementContainerEnd",function(){return zi}),n.d(t,"ɵelementStyling",function(){return su}),n.d(t,"ɵelementHostAttrs",function(){return cu}),n.d(t,"ɵelementStylingMap",function(){return pu}),n.d(t,"ɵelementStyleProp",function(){return fu}),n.d(t,"ɵelementStylingApply",function(){return lu}),n.d(t,"ɵelementClassProp",function(){return du}),n.d(t,"ɵtextBinding",function(){return vu}),n.d(t,"ɵtemplate",function(){return Iu}),n.d(t,"ɵembeddedViewEnd",function(){return ju}),n.d(t,"ɵstore",function(){return na}),n.d(t,"ɵload",function(){return ia}),n.d(t,"ɵpipe",function(){return Al}),n.d(t,"ɵwhenRendered",function(){return Ia}),n.d(t,"ɵi18n",function(){return ll}),n.d(t,"ɵi18nAttributes",function(){return fl}),n.d(t,"ɵi18nExp",function(){return vl}),n.d(t,"ɵi18nStart",function(){return ol}),n.d(t,"ɵi18nEnd",function(){return al}),n.d(t,"ɵi18nApply",function(){return gl}),n.d(t,"ɵi18nPostprocess",function(){return ul}),n.d(t,"ɵsetClassMetadata",function(){return Il}),n.d(t,"ɵcompileComponent",function(){return gd}),n.d(t,"ɵcompileDirective",function(){return yd}),n.d(t,"ɵcompileNgModule",function(){return td}),n.d(t,"ɵcompileNgModuleDefs",function(){return nd}),n.d(t,"ɵpatchComponentDefWithScope",function(){return fd}),n.d(t,"ɵresetCompiledComponents",function(){return sd}),n.d(t,"ɵcompilePipe",function(){return xd}),n.d(t,"ɵsanitizeHtml",function(){return xf}),n.d(t,"ɵsanitizeStyle",function(){return Of}),n.d(t,"ɵdefaultStyleSanitizer",function(){return kf}),n.d(t,"ɵsanitizeScript",function(){return Df}),n.d(t,"ɵsanitizeUrl",function(){return If}),n.d(t,"ɵsanitizeResourceUrl",function(){return Ef}),n.d(t,"ɵbypassSanitizationTrustHtml",function(){return hf}),n.d(t,"ɵbypassSanitizationTrustStyle",function(){return vf}),n.d(t,"ɵbypassSanitizationTrustScript",function(){return gf}),n.d(t,"ɵbypassSanitizationTrustUrl",function(){return yf}),n.d(t,"ɵbypassSanitizationTrustResourceUrl",function(){return mf}),n.d(t,"ɵgetLContext",function(){return nr}),n.d(t,"ɵbindPlayerFactory",function(){return xo}),n.d(t,"ɵaddPlayer",function(){return ha}),n.d(t,"ɵgetPlayers",function(){return va}),n.d(t,"ɵcompileNgModuleFactory__POST_R3__",function(){return Ih}),n.d(t,"ɵSWITCH_COMPILE_COMPONENT__POST_R3__",function(){return Pd}),n.d(t,"ɵSWITCH_COMPILE_DIRECTIVE__POST_R3__",function(){return Nd}),n.d(t,"ɵSWITCH_COMPILE_PIPE__POST_R3__",function(){return Sd}),n.d(t,"ɵSWITCH_COMPILE_NGMODULE__POST_R3__",function(){return Qd}),n.d(t,"ɵgetDebugNode__POST_R3__",function(){return uv}),n.d(t,"ɵSWITCH_COMPILE_INJECTABLE__POST_R3__",function(){return $d}),n.d(t,"ɵSWITCH_IVY_ENABLED__POST_R3__",function(){return Vv}),n.d(t,"ɵSWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__",function(){return qh}),n.d(t,"ɵCompiler_compileModuleSync__POST_R3__",function(){return Qp}),n.d(t,"ɵCompiler_compileModuleAsync__POST_R3__",function(){return qp}),n.d(t,"ɵCompiler_compileModuleAndAllComponentsSync__POST_R3__",function(){return Wp}),n.d(t,"ɵCompiler_compileModuleAndAllComponentsAsync__POST_R3__",function(){return Gp}),n.d(t,"ɵSWITCH_ELEMENT_REF_FACTORY__POST_R3__",function(){return Us}),n.d(t,"ɵSWITCH_TEMPLATE_REF_FACTORY__POST_R3__",function(){return ql}),n.d(t,"ɵSWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__",function(){return zh}),n.d(t,"ɵSWITCH_RENDERER2_FACTORY__POST_R3__",function(){return Js}),n.d(t,"ɵgetModuleFactory__POST_R3__",function(){return Af}),n.d(t,"ɵpublishGlobalUtil",function(){return ba}),n.d(t,"ɵpublishDefaultGlobalUtils",function(){return ma}),n.d(t,"ɵSWITCH_INJECTOR_FACTORY__POST_R3__",function(){return Ha}),n.d(t,"ɵregisterModuleFactory",function(){return Nf}),n.d(t,"ɵEMPTY_ARRAY",function(){return Sg}),n.d(t,"ɵEMPTY_MAP",function(){return Rg}),n.d(t,"ɵand",function(){return Ag}),n.d(t,"ɵccf",function(){return ry}),n.d(t,"ɵcmf",function(){return hb}),n.d(t,"ɵcrt",function(){return rg}),n.d(t,"ɵdid",function(){return ky}),n.d(t,"ɵeld",function(){return Vg}),n.d(t,"ɵelementEventFullName",function(){return hg}),n.d(t,"ɵgetComponentViewDefinitionFactory",function(){return oy}),n.d(t,"ɵinlineInterpolate",function(){return Pg}),n.d(t,"ɵinterpolate",function(){return jg}),n.d(t,"ɵmod",function(){return Kg}),n.d(t,"ɵmpd",function(){return qg}),n.d(t,"ɵncd",function(){return Jy}),n.d(t,"ɵnov",function(){return vy}),n.d(t,"ɵpid",function(){return My}),n.d(t,"ɵprd",function(){return Ty}),n.d(t,"ɵpad",function(){return em}),n.d(t,"ɵpod",function(){return tm}),n.d(t,"ɵppd",function(){return Xy}),n.d(t,"ɵqud",function(){return qy}),n.d(t,"ɵted",function(){return rm}),n.d(t,"ɵunv",function(){return eg}),n.d(t,"ɵvid",function(){return um});var r=n(0),o=n(2),i=n(10),u=n(1),a=n(18),s=n(19);
/**
 * @license Angular v7.2.4
 * (c) 2010-2019 Google LLC. https://angular.io/
 * License: MIT
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function c(e){for(var t in e)if(e[t]===c)return t;throw Error("Could not find renamed property on target object.")}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var f=c({ngComponentDef:c}),d=c({ngDirectiveDef:c}),p=c({ngInjectableDef:c}),h=c({ngInjectorDef:c}),v=c({ngPipeDef:c}),g=c({ngModuleDef:c}),y=c({ngBaseDef:c}),m=c({__NG_ELEMENT_ID__:c});
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function b(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function w(e){return e&&e.hasOwnProperty(p)?e[p]:null}function C(e){return e&&e.hasOwnProperty(h)?e[h]:null}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var x=function(){function e(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==t?b({providedIn:t.providedIn||"root",factory:t.factory}):void 0}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),O="__annotations__",I="__parameters__",E="__prop__metadata__";
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function D(e,t,n,o,i){var u=k(t);function a(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof a)return u.call.apply(u,Object(r.g)([this],t)),this;var s=new((e=a).bind.apply(e,Object(r.g)([void 0],t)));return function(e){return i&&i.apply(void 0,Object(r.g)([e],t)),(e.hasOwnProperty(O)?e[O]:Object.defineProperty(e,O,{value:[]})[O]).push(s),o&&o(e),e}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a}function k(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var o=e.apply(void 0,Object(r.g)(t));for(var i in o)this[i]=o[i]}}}function M(e,t,n){var o=k(t);function i(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof i)return o.apply(this,t),this;var u=new((e=i).bind.apply(e,Object(r.g)([void 0],t)));return a.annotation=u,a;function a(e,t,n){for(var r=e.hasOwnProperty(I)?e[I]:Object.defineProperty(e,I,{value:[]})[I];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(u),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function T(e,t,n,o){var i=k(t);function u(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof u)return i.apply(this,t),this;var a=new((e=u).bind.apply(e,Object(r.g)([void 0],t)));return function(e,n){var i=e.constructor,u=i.hasOwnProperty(E)?i[E]:Object.defineProperty(i,E,{value:{}})[E];u[n]=u.hasOwnProperty(n)&&u[n]||[],u[n].unshift(a),o&&o.apply(void 0,Object(r.g)([e,n],t))}}return n&&(u.prototype=Object.create(n.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var j,P,N=new x("AnalyzeForEntryComponents"),S=M("Attribute",function(e){return{attributeName:e}}),R=function(){return function(){}}(),A=T("ContentChildren",function(e,t){return void 0===t&&(t={}),Object(r.a)({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)},R),V=T("ContentChild",function(e,t){return void 0===t&&(t={}),Object(r.a)({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)},R),F=T("ViewChildren",function(e,t){return void 0===t&&(t={}),Object(r.a)({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)},R),H=T("ViewChild",function(e,t){return Object(r.a)({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)},R);function L(e){return null==e||e===j.Default}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */!function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(j||(j={})),function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.Errored=4]="Errored",e[e.Destroyed=5]="Destroyed"}(P||(P={}));var B="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,z=void 0!==e&&e||B||U,Q=Promise.resolve(0),Z=null;function q(){if(!Z){var e=z.Symbol;if(e&&e.iterator)Z=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Z=r)}}return Z}function K(e){"undefined"==typeof Zone?Q.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function W(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Y(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Y).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var G=c({__forward_ref__:c});function J(e){return e.__forward_ref__=J,e.toString=function(){return Y(this())},e}function $(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(G)&&t.__forward_ref__===J?t():e}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function X(e){var t=[],n=new Map;function r(r){var o=n.get(r);if(!o){var i=e(r);n.set(r,o=i.then(oe)),t.push(o)}return o}return ne.forEach(function(e){e.templateUrl&&r(e.templateUrl).then(function(t){e.template=t,e.templateUrl=void 0});var t=e.styleUrls,n=e.styles||(e.styles=[]),o=e.styles.length;t&&t.forEach(function(i,u){n.push(""),r(i).then(function(r){n[o+u]=r,t.splice(t.indexOf(i),1),0==t.length&&(e.styleUrls=void 0)})})}),ne.clear(),Promise.all(t).then(function(){return null})}var ee,te,ne=new Set;function re(e){return e.templateUrl||e.styleUrls&&e.styleUrls.length}function oe(e){return"string"==typeof e?e:e.text()}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */!function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(ee||(ee={})),("undefined"==typeof ngDevMode||ngDevMode)&&(te={firstTemplatePass:0,tNode:0,tView:0,rendererCreateTextNode:0,rendererSetText:0,rendererCreateElement:0,rendererAddEventListener:0,rendererSetAttribute:0,rendererRemoveAttribute:0,rendererSetProperty:0,rendererSetClassName:0,rendererAddClass:0,rendererRemoveClass:0,rendererSetStyle:0,rendererRemoveStyle:0,rendererDestroy:0,rendererDestroyNode:0,rendererMoveNode:0,rendererRemoveNode:0,rendererCreateComment:0},"undefined"!=typeof window&&(window.ngDevMode=te),void 0!==e&&(e.ngDevMode=te),"undefined"!=typeof self&&(self.ngDevMode=te))
/**
* @license
* Copyright Google Inc. All Rights Reserved.
*
* Use of this source code is governed by an MIT-style license that can be
* found in the LICENSE file at https://angular.io/license
*/;var ie={},ue=[];"undefined"!=typeof ngDevMode&&ngDevMode&&(Object.freeze(ie),Object.freeze(ue))
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */;var ae=0;function se(e){var t=e.type,n=t.prototype,r={},o={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,contentQueriesRefresh:e.contentQueriesRefresh||null,attributes:e.attributes||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ee.Emulated,id:"c",styles:e.styles||ue,_:null};return o._=""+{toString:function(){var t=e.directives,n=e.features,i=e.pipes;o.id+=ae++,o.inputs=de(e.inputs,r),o.outputs=de(e.outputs),n&&n.forEach(function(e){return e(o)}),o.directiveDefs=t?function(){return("function"==typeof t?t():t).map(ce)}:null,o.pipeDefs=i?function(){return("function"==typeof i?i():i).map(le)}:null}},o}function ce(e){var t=ge(e)||ye(e);if(ngDevMode&&!t)throw new Error("'"+e.name+"' is neither 'ComponentType' or 'DirectiveType'.");return t}function le(e){var t=me(e);if(ngDevMode&&!t)throw new Error("'"+e.name+"' is not a 'PipeType'.");return t}function fe(e){return{type:e.type,bootstrap:e.bootstrap||ue,declarations:e.declarations||ue,imports:e.imports||ue,exports:e.exports||ue,transitiveCompileScopes:null}}function de(e,t){if(null==e)return ie;var n={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}function pe(e){var t={};return{inputs:de(e.inputs,t),declaredInputs:t,outputs:de(e.outputs)}}var he=se;function ve(e){return{name:e.name,factory:e.factory,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ge(e){return e[f]||null}function ye(e){return e[d]||null}function me(e){return e[v]||null}function be(e,t){var n=e[g]||null;if(!n&&!0===t)throw new Error("Type "+Y(e)+" does not have 'ngModuleDef' property.");return n}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function _e(e,t,n){e!=t&&Ee(n)}function we(e,t,n){e==t&&Ee(n)}function Ce(e,t,n){e>=t&&Ee(n)}function xe(e,t,n){e<=t&&Ee(n)}function Oe(e,t){null==e&&Ee(t)}function Ie(e,t){void 0===t&&(t="Type passed in is not ComponentType, it does not have 'ngComponentDef' property."),ge(e)||Ee(t)}function Ee(e){throw new Error("ASSERTION ERROR: "+e)}function De(e){_e(e instanceof Node,!0,"The provided value must be an instance of a DOM Node")}function ke(e){_e(e,!0,"previousOrParentTNode should be a parent")}function Me(e){Oe(e.parent,"previousOrParentTNode should have a parent")}function Te(e,t){Ce(t,e?e.length:0,"index expected to be a valid data index")}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var je=0,Pe=1,Ne=2,Se=3,Re=4,Ae=5,Ve=6,Fe=7,He=8,Le=9,Be=10,Ue=11,ze=12,Qe=13,Ze=14,qe=15,Ke=16,We=17,Ye=18,Ge=0,Je=1,$e=6,Xe=7,et=8,tt="__ngContext__",nt=8,rt=8,ot=9,it=-1,ut=function(){return function(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}(),at=ut.prototype;function st(e){return"function"==typeof e?e.name||e:"string"==typeof e?e:null==e?"":"object"==typeof e&&"function"==typeof e.type?e.type.name||e.type:""+e}function ct(e,t){return ngDevMode&&Te(e,t+Ye),e[t+Ye]}function lt(e){for(;Array.isArray(e);)e=e[Ae];return e}function ft(e,t){return lt(t[e+Ye])}function dt(e,t){return lt(t[e.index])}function pt(e,t){return ngDevMode&&xe(e,-1,"wrong index for TNode"),ngDevMode&&Ce(e,t[je].data.length,"wrong index for TNode"),t[je].data[e+Ye]}function ht(e,t){var n=t[e];return n.length>=Ye?n:n[Ae]}function vt(e){return 0!=(4&e.flags)}function gt(e){return 1==(1&e.flags)}function yt(e){return null!==e.template}function mt(e){return Array.isArray(e)&&e.length===et}function bt(e){return 0!=(128&e[Pe])}function _t(e){ngDevMode&&Oe(e,"component");for(var t=Array.isArray(e)?e:xt(e);t&&!(128&t[Pe]);)t=t[Ne];return t}function wt(e){var t=_t(e);return ngDevMode&&Oe(t[Le],"RootView has no context. Perhaps it is disconnected?"),t[Le]}function Ct(e){return ngDevMode&&Oe(e,"Target expected"),e[tt]}function xt(e){var t=Ct(e);return t?Array.isArray(t)?t:t.lView:null}function Ot(e){return e!==it}function It(e){return 32767&e}function Et(e){return e>>16}function Dt(e,t){for(var n=Et(e),r=t;n>0;)r=r[We],n--;return r}var kt,Mt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z);function Tt(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function jt(e){for(var t=e[Ve];t&&2===t.type;)ngDevMode&&Oe(e[We],"lView[DECLARATION_VIEW]"),t=(e=e[We])[Ve];return e}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Pt(){var e=z.ng;if(!e||!e.ɵcompilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.ɵcompilerFacade}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */!function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute"}(kt||(kt={}));var Nt,St=M("Inject",function(e){return{token:e}}),Rt=M("Optional"),At=M("Self"),Vt=M("SkipSelf"),Ft=M("Host");!function(e){e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional"}(Nt||(Nt={}));var Ht,Lt,Bt=void 0;function Ut(e){var t=Bt;return Bt=e,t}function zt(e){var t=Ht;return Ht=e,t}function Qt(e,t){if(void 0===t&&(t=Nt.Default),void 0===Bt)throw new Error("inject() must be called from an injection context");return null===Bt?qt(e,void 0,t):Bt.get(e,t&Nt.Optional?null:void 0,t)}function Zt(e,t){return void 0===t&&(t=Nt.Default),(Ht||Qt)(e,t)}function qt(e,t,n){var r=w(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Nt.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND ["+Y(e)+"]")}function Kt(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var o=void 0,i=Nt.Default,u=0;u<r.length;u++){var a=r[u];a instanceof Rt||"Optional"===a.ngMetadataName?i|=Nt.Optional:a instanceof Vt||"SkipSelf"===a.ngMetadataName?i|=Nt.SkipSelf:a instanceof At||"Self"===a.ngMetadataName?i|=Nt.Self:o=a instanceof St?a.token:a}t.push(Zt(o,i))}else t.push(Zt(r))}return t}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Wt(e,t){Oe(e,"should be called with a TNode"),_e(e.type,t,"should be a "+Gt(t))}function Yt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Oe(e,"should be called with a TNode"),_e(t.some(function(t){return e.type===t}),!0,"Should be one of "+t.map(Gt).join(", ")+" but got "+Gt(e.type))}function Gt(e){return 1==e?"Projection":0==e?"Container":2==e?"View":3==e?"Element":4==e?"ElementContainer":"<unknown>"}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Jt(e,t,n,r){ngDevMode&&_e(r.firstTemplatePass,!0,"Should only be called on first template pass"),t&&(r.initHooks||(r.initHooks=[])).push(e,t),n&&((r.initHooks||(r.initHooks=[])).push(e,n),(r.checkHooks||(r.checkHooks=[])).push(e,n))}function $t(e,t){if(e.firstTemplatePass)for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var o=e.data[n];Xt(o,e,n),en(o,e,n),tn(o,e,n)}}function Xt(e,t,n){e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked))}function en(e,t,n){e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked))}function tn(e,t,n){null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}function nn(e,t,n){!n&&32&e[Pe]&&(rn(e,t.initHooks,t.checkHooks,n),e[Pe]&=-33)}function rn(e,t,n,r){if(!r){var o=2&e[Pe]?t:n;o&&on(e,o)}}function on(e,t){for(var n=0;n<t.length;n+=2)t[n+1].call(e[t[n]])}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var un,an,sn,cn,ln=null;function fn(e){ln=e}function dn(){un=!0}function pn(){un=!1}function hn(){return cn}function vn(e){Cn=e}function gn(){return an}function yn(e){an=e}function mn(e,t){an=e,cn=t}function bn(){return sn}function _n(e){sn=e}function wn(e){return void 0===e&&(e=cn),1==(1&e[Pe])}var Cn=null;function xn(){return Cn}var On=!1;function In(){return On}function En(e){On=e}var Dn=!0;function kn(){return Dn}function Mn(e){Dn=e}var Tn=-1;function jn(){return Tn}function Pn(e){Tn=e}function Nn(e,t){var n=cn;if(e){var r=e[je];Dn=r.firstTemplatePass,Tn=r.bindingStartIndex}return an=t,sn=!0,cn=Cn=e,n}function Sn(e){return void 0===e&&(e=1),(Cn=function(e,t){for(;e>0;)ngDevMode&&Oe(t[We],"Declaration view should be defined if nesting level is greater than 0."),t=t[We],e--;return t}(e,Cn))[Le]}function Rn(e){var t=cn[je];wn(cn)?cn[Pe]&=-2:(rn(cn,t.viewHooks,t.viewCheckHooks,On),cn[Pe]&=-11,cn[Pe]|=32,cn[Fe]=t.bindingStartIndex),Nn(e,null)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var An=!0;function Vn(e){var t=An;return An=e,t}var Fn=255,Hn=0;function Ln(e,t){var n=Un(e,t);if(-1!==n)return n;var r=t[je];r.firstTemplatePass&&(e.injectorIndex=t.length,Bn(r.data,e),Bn(t,null),Bn(r.blueprint,null),ngDevMode&&_e(0===e.flags||1===e.flags,!0,"expected tNode.flags to not be initialized"));var o=zn(e,t),i=It(o),u=Dt(o,t),a=e.injectorIndex;if(Ot(o))for(var s=u[je].data,c=0;c<8;c++)t[a+c]=u[i+c]|s[i+c];return t[a+rt]=o,a}function Bn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Un(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+rt]?-1:e.injectorIndex}function zn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[Ve],r=1;n&&-1===n.injectorIndex;)n=(t=t[We])?t[Ve]:null,r++;return n?n.injectorIndex|r<<16:-1}function Qn(e,t,n){!function(e,t,n){ngDevMode&&_e(t.firstTemplatePass,!0,"expected firstTemplatePass to be true");var r="string"!=typeof n?n[m]:n.charCodeAt(0)||0;null==r&&(r=n[m]=Hn++);var o=r&Fn,i=1<<o,u=128&o,a=64&o,s=32&o,c=t.data;u?a?s?c[e+7]|=i:c[e+6]|=i:s?c[e+5]|=i:c[e+4]|=i:a?s?c[e+3]|=i:c[e+2]|=i:s?c[e+1]|=i:c[e]|=i}(e,t[je],n)}function Zn(e,t){ngDevMode&&Yt(e,0,3,4),ngDevMode&&Oe(e,"expecting tNode");var n=e.attrs;if(n)for(var r=0;r<n.length;r+=2){var o=n[r];if(3===o)break;if(o==t)return n[r+1]}return null}function qn(e,t,n,r,o){if(void 0===r&&(r=Nt.Default),e){var i=function(e){if(ngDevMode&&Oe(e,"token must be defined"),"string"==typeof e)return e.charCodeAt(0)||0;var t=e[m];return"number"==typeof t?t&Fn:t}(n);if("function"==typeof i){var u=gn(),a=hn();mn(e,t);try{var s=i();if(null!=s||r&Nt.Optional)return s;throw new Error("No provider for "+st(n)+"!")}finally{mn(u,a)}}else if("number"==typeof i){var c=null,l=Un(e,t),f=it,d=r&Nt.Host?jt(t)[Ve]:null;for((-1===l||r&Nt.SkipSelf)&&(f=-1===l?zn(e,t):t[l+rt],$n(r,!1)?(c=t[je],l=It(f),t=Dt(f,t)):l=-1);-1!==l;){f=t[l+rt];var p=t[je];if(Jn(i,l,p.data)){var h=Wn(l,t,n,c,r,d);if(h!==Kn)return h}$n(r,t[je].data[l+nt]===d)&&Jn(i,l,t)?(c=p,l=It(f),t=Dt(f,t)):l=-1}}}if(r&Nt.Optional&&void 0===o&&(o=null),0==(r&(Nt.Self|Nt.Host))){var v=t[Be];return v?v.get(n,o,r&Nt.Optional):qt(n,o,r&Nt.Optional)}if(r&Nt.Optional)return o;throw new Error("NodeInjector: NOT_FOUND ["+st(n)+"]")}var Kn={};function Wn(e,t,n,r,o,i){var u=t[je],a=u.data[e+nt],s=Yn(a,t,n,null==r?gt(a)&&An:r!=u&&3===a.type,o&Nt.Host&&i===a);return null!==s?Gn(u.data,t,s,a):Kn}function Yn(e,t,n,r,o){for(var i=t[je],u=e.providerIndexes,a=i.data,s=65535&u,c=e.directiveStart,l=e.directiveEnd,f=u>>16,d=o?s+f:l,p=r?s:s+f;p<d;p++){var h=a[p];if(p<c&&n===h||p>=c&&h.type===n)return p}if(o){var v=a[c];if(v&&yt(v)&&v.type===n)return c}return null}function Gn(e,t,n,r){var o,i=t[n];if(null!=(o=i)&&"object"==typeof o&&Object.getPrototypeOf(o)==at){var u=i;if(u.resolving)throw new Error("Circular dep for "+st(e[n]));var a=Vn(u.canSeeViewProviders);u.resolving=!0;var s=void 0;u.injectImpl&&(s=zt(u.injectImpl));var c=gn(),l=hn();mn(r,t);try{i=t[n]=u.factory(null,e,t,r)}finally{u.injectImpl&&zt(s),Vn(a),u.resolving=!1,mn(c,l)}}return i}function Jn(e,t,n){var r=1<<e,o=64&e,i=32&e;return!!((128&e?o?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:o?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&r)}function $n(e,t){return!(e&Nt.Self||e&Nt.Host&&t)}var Xn=function(){function e(e,t){this._tNode=e,this._lView=t}return e.prototype.get=function(e,t){return qn(this._tNode,this._lView,e,void 0,t)},e}();function er(e){var t=e,n=ge(t)||ye(t)||me(t)||w(t)||C(t);return n&&void 0!==n.factory?n.factory:null}function tr(e){var t=er(Object.getPrototypeOf(e.prototype).constructor);return null!==t?t:function(e){return new e}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function nr(e){var t,n=Ct(e);if(n){if(Array.isArray(n)){var r=n,o=void 0,i=void 0,u=void 0;if((t=e)&&t.constructor&&t.constructor.ngComponentDef){if(-1==(o=sr(r,e)))throw new Error("The provided component was not found in the application");i=e}else if(function(e){return e&&e.constructor&&e.constructor.ngDirectiveDef}(e)){if(-1==(o=function(e,t){var n=e[je].firstChild;for(;n;){for(var r=n.directiveStart,o=n.directiveEnd,i=r;i<o;i++)if(e[i]===t)return n.index;n=ar(n)}return-1}(r,e)))throw new Error("The provided directive was not found in the application");u=cr(o,r,!1)}else if(-1==(o=ur(r,e)))return null;var a=Ct(h=lt(r[o])),s=a&&!Array.isArray(a)?a:rr(r,o,h);if(i&&void 0===s.component&&(s.component=i,ir(s.component,s)),u&&void 0===s.directives){s.directives=u;for(var c=0;c<u.length;c++)ir(u[c],s)}ir(s.native,s),n=s}}else{var l=e;ngDevMode&&De(l);for(var f=l;f=f.parentNode;){var d=Ct(f);if(d){r=void 0;if(!(r=Array.isArray(d)?d:d.lView))return null;var p=ur(r,l);if(p>=0){var h;ir(h=lt(r[p]),s=rr(r,p,h)),n=s;break}}}}return n||null}function rr(e,t,n){return{lView:e,nodeIndex:t,native:n,component:void 0,directives:void 0,localRefs:void 0}}function or(e){var t,n=Ct(e);if(Array.isArray(n)){var r=sr(n,e);(o=rr(n,r,(t=ht(r,n))[Ae])).component=e,ir(e,o),ir(o.native,o)}else{var o;t=ht((o=n).nodeIndex,o.lView)}return t}function ir(e,t){e[tt]=t}function ur(e,t){for(var n=e[je].firstChild;n;){if(dt(n,e)===t)return n.index;n=ar(n)}return-1}function ar(e){if(e.child)return e.child;if(e.next)return e.next;for(;e.parent&&!e.parent.next;)e=e.parent;return e.parent&&e.parent.next}function sr(e,t){var n=e[je].components;if(n)for(var r=0;r<n.length;r++){var o=n[r];if(ht(o,e)[Le]===t)return o}else if(ht(Ye,e)[Le]===t)return Ye;return-1}function cr(e,t,n){var r=t[je].data[e],o=r.directiveStart;if(0==o)return ue;var i=r.directiveEnd;return!n&&1&r.flags&&o++,t.slice(o,i)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function lr(e){var t,n,r,o,i=_r(e);return void 0===i.component&&(i.component=(t=i.nodeIndex,n=i.lView,r=n[je].data[t],o=r.directiveStart,1&r.flags?n[o]:null)),i.component}function fr(e){return _r(e).lView[Le]}function dr(e){for(var t=yr(e).lView;t[Ne]&&null===t[Ae];)t=t[Ne];return 128&t[Pe]?null:t[Le]}function pr(e){return function(e){var t;Array.isArray(e)?(ngDevMode&&Oe(e,"lView"),t=e):(ngDevMode&&Oe(e,"component"),t=xt(e));for(;t&&!(128&t[Pe]);)t=t[Ne];return t}(Array.isArray(e)?e:yr(e).lView)[Le]}function hr(e){return Object(r.g)(pr(e).components)}function vr(e){var t=yr(e),n=t.lView[je].data[t.nodeIndex];return new Xn(n,t.lView)}function gr(e){var t=yr(e);return void 0===t.directives&&(t.directives=cr(t.nodeIndex,t.lView,!1)),t.directives||[]}function yr(e,t){void 0===t&&(t=!0);var n=nr(e);if(!n&&t)throw new Error(ngDevMode?"Unable to find context associated with "+st(e):"Invalid ng target");return n}function mr(e){var t=yr(e);return void 0===t.localRefs&&(t.localRefs=function(e,t){var n=e[je].data[t];if(n&&n.localNames){for(var r={},o=0;o<n.localNames.length;o+=2){var i=n.localNames[o],u=n.localNames[o+1];r[i]=-1===u?dt(n,e):e[u]}return r}return null}(t.lView,t.nodeIndex)),t.localRefs||{}}function br(e){return nr(e).native}function _r(e){if(!(e instanceof Node))throw new Error("Expecting instance of DOM Node");return yr(e)}function wr(e){return"boolean"==typeof e.useCapture}function Cr(e){var t=_r(e).lView,n=t[je],r=t[He],o=n.cleanup,i=[];if(o&&r)for(var u=0;u<o.length;){var a=o[u++],s=o[u++];if("string"==typeof a){var c=a,l=lt(t[s]),f=r[o[u++]],d=o[u++],p="boolean"==typeof d?d:!(d>=0)&&null;e==l&&i.push({element:e,name:c,callback:f,useCapture:p})}}return i.sort(xr),i}function xr(e,t){return e.name==t.name?0:e.name<t.name?-1:1}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Or(e){var t;return t=e.replace(/[$@]/g,"_"),"ng-reflect-"+(e=t.replace(Ir,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()}))}var Ir=/([A-Z])/g;function Er(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Dr(e,t){var n=Tr(e),r=Tr(t);return n&&r?function(e,t,n){var r=e[q()](),o=t[q()]();for(;;){var i=r.next(),u=o.next();if(i.done&&u.done)return!0;if(i.done||u.done)return!1;if(!n(i.value,u.value))return!1}}(e,t,Dr):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||W(e,t)}var kr=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),Mr=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function Tr(e){return!!jr(e)&&(Array.isArray(e)||!(e instanceof Map)&&q()in e)}function jr(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Pr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Nr={};
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Sr(e,t,n){return e[t]=n}function Rr(e,t){return ngDevMode&&Te(e,e[t]),ngDevMode&&we(e[t],Nr,"Stored value should never be NO_CHANGE."),e[t]}function Ar(e,t,n){if(ngDevMode&&we(n,Nr,"Incoming value should never be NO_CHANGE."),ngDevMode&&Ce(t,e.length,"Slot should have been initialized to NO_CHANGE"),e[t]===Nr)e[t]=n;else{if(r=e[t],o=n,r!=r&&o!=o||r===o)return!1;ngDevMode&&In()&&(Dr(e[t],n)||function(e,t,n){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";throw e&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),new Error(r)}(wn(e),e[t],n)),e[t]=n}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var r,o;return!0}function Vr(e,t,n,r){var o=Ar(e,t,n);return Ar(e,t+1,r)||o}function Fr(e,t,n,r,o){var i=Vr(e,t,n,r);return Ar(e,t+2,o)||i}function Hr(e,t,n,r,o,i){var u=Vr(e,t,n,r);return Vr(e,t+2,o,i)||u}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Lr,Br="ngProjectAs";
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ur(e){return!!e.listen}!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(Lr||(Lr={}));var zr={createRenderer:function(e,t){return document}};
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Qr(e,t){return null==e.parent?function(e){var t=e[Ve];return t&&2!==t.type?dt(t,e[Ne]):null}(t):dt(Zr(e),t)}function Zr(e){for(var t=e.parent;t&&5===t.type;)t=t.parent;return t}function qr(e,t){if(-1===e.index){var n=t[qe];return n>-1?t[Ne][n]:null}return t[Ne][e.parent.index]}function Kr(e,t){var n=qr(e,t);return n?n[Xe]:null}var Wr=[];function Yr(e,t,n,r,o){for(var i=e[je].node,u=-1,a=e,s=i.child;s;){var c=null;if(3===s.type){Gr(t,n,r,dt(s,a),o);var l=a[s.index];mt(l)&&Gr(t,n,r,l[$e],o)}else if(0===s.type){var f=a[s.index];Gr(t,n,r,f[$e],o),r&&(f[Xe]=r),f[Je].length&&(c=(a=f[Je][0])[je].node,o=f[$e])}else if(1===s.type){var d=jt(a),p=d[Ve].projection[s.projection];Wr[++u]=s,Wr[++u]=a,p&&(c=(a=d[Ne])[je].data[p.index])}else c=s.child;if(null===c)for(null===s.next&&2&s.flags&&(a=Wr[u--],s=Wr[u--]),c=s.next;!c;){if(null===(s=s.parent||a[je].node)||s===i)return null;0===s.type&&(o=(a=a[Ne])[s.index][$e]),c=2===s.type&&a[Se]?(a=a[Se])[je].node:s.next}s=c}}function Gr(e,t,n,r,o){0===e?Ur(t)?t.insertBefore(n,r,o):n.insertBefore(r,o,!0):1===e?Ur(t)?t.removeChild(n,r):n.removeChild(r):2===e&&(ngDevMode&&ngDevMode.rendererDestroyNode++,t.destroyNode(r))}function Jr(e,t){return Ur(t)?t.createText(st(e)):t.createTextNode(st(e))}function $r(e,t,n){var r=Kr(e[je].node,e);(ngDevMode&&Wt(e[je].node,2),r)&&Yr(e,t?0:1,e[ze],r,n)}function Xr(e,t,n,r,o){var i=t[Je];r>0&&(i[r-1][Se]=e),r<i.length?(e[Se]=i[r],i.splice(r,0,e)):(i.push(e),e[Se]=null),o>-1&&(e[qe]=o,e[Ne]=n),e[Re]&&e[Re].insertView(r),e[Pe]|=16}function eo(e,t,n){var r=e[Je],o=r[t];return t>0&&(r[t-1][Se]=o[Se]),r.splice(t,1),n||$r(o,!1),o[Re]&&o[Re].removeView(),o[qe]=-1,o[Ne]=null,o[Pe]&=-17,o}function to(e,t,n){var r=e[Je][n];eo(e,n,!!t.detached),ro(r)}function no(e){var t=e[je].childIndex;return-1===t?null:e[t]}function ro(e){var t=e[ze];Ur(t)&&t.destroyNode&&Yr(e,2,t,null),function(e){if(-1===e[je].childIndex)return io(e);for(var t=no(e);t;){var n=null;if(t.length>=Ye){var r=t;r[je].childIndex>-1&&(n=no(r))}else{var o=t;o[Je].length&&(n=o[Je][0])}if(null==n){for(;t&&!t[Se]&&t!==e;)io(t),t=oo(t,e);io(t||e),n=t&&t[Se]}t=n}}(e),e[Pe]|=64}function oo(e,t){var n;return e.length>=Ye&&(n=e[Ve])&&2===n.type?qr(n,e):e[Ne]===t?null:e[Ne]}function io(e){if(e.length>=Ye){var t=e;!function(e){var t,n=e[je];null!=n&&null!=(t=n.destroyHooks)&&on(e,t)}(t),(o=(r=t)[je]&&r[je].pipeDestroyHooks)&&on(r,o),function(e){var t=e[je].cleanup;if(null!=t){for(var n=e[He],r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){var o=t[r+1],i=n[t[r+2]],u=lt(e[o]),a=t[r+3];"boolean"==typeof a?u.removeEventListener(t[r],i,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else if("number"==typeof t[r]){var s=n[t[r]];s()}else{var c=n[t[r+1]];t[r].call(c)}e[He]=null}}(t);var n=t[Ve];n&&3===n.type&&Ur(t[ze])&&(ngDevMode&&ngDevMode.rendererDestroy++,t[ze].destroy())}var r,o}function uo(e,t){if(ao(e,t)){if(bt(t))return co(t[ze],dt(e,t));var n=t[Ve],r=e.parent;return null!=r&&4===r.type&&(e=fo(r)),null==e.parent&&2===n.type?Kr(n,t):Qr(e,t)}return null}function ao(e,t){var n,r=e,o=e.parent;return e.parent&&(4===e.parent.type?o=(r=fo(e)).parent:5===e.parent.type&&(o=(r=Zr(r)).parent)),null===o&&(o=t[Ve]),o&&2===o.type?null!=(n=qr(o,t))&&null!=n[Xe]:function(e){return null==e.parent||!(3!==e.parent.type||1&e.parent.flags)}(r)}function so(e,t,n,r){Ur(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function co(e,t){return Ur(e)?e.parentNode(t):t.parentNode}function lo(e,t,n){if(void 0===e&&(e=null),null!==e&&ao(t,n)){var r=n[ze],o=Qr(t,n),i=t.parent||n[Ve];if(2===i.type){var u=qr(i,n),a=u[Je],s=a.indexOf(n);so(r,u[Xe],e,po(s,a,u[$e]))}else if(4===i.type){so(r,uo(t,n),e,o)}else if(5===i.type){so(r,o,e,dt(t.parent,n))}else Ur(r)?r.appendChild(o,e):o.appendChild(e);return!0}return!1}function fo(e){for(;null!=e.parent&&4===e.parent.type;)e=e.parent;return e}function po(e,t,n){if(e+1<t.length){var r=t[e+1],o=r[Ve];return o.child?dt(o.child,r):n}return n}function ho(e,t,n){if(null!==t&&ao(e,n)){var r=Qr(e,n),o=n[ze];return Ur(o)?o.removeChild(r,t):r.removeChild(t),!0}return!1}function vo(e,t,n,r){var o=dt(e,r);lo(o,t,n),ir(o,r);var i=uo(t,n),u=r[e.index];if(0===e.type){u[Xe]=i;for(var a=u[Je],s=0;s<a.length;s++)$r(a[s],!0,u[$e])}else{if(4===e.type)for(var c=e.child;c;)vo(c,t,n,r),c=c.next;mt(u)&&(u[Xe]=i,lo(u[$e],t,n))}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var go="ng-template";function yo(e,t,n){return t===e.tagName&&(n||3===e.type||4===e.type||0===e.type&&t===go)}function mo(e,t,n){ngDevMode&&Oe(t[0],"Selector should have a tag name");for(var r,o,i,u,a,s=4,c=e.attrs,l=c?c.indexOf(3):-1,f=!1,d=0;d<t.length;d++){var p=t[d];if("number"!=typeof p){if(!f)if(4&s){if(s=2|1&s,""!==p&&!yo(e,p,n)||""===p&&1===t.length){if(bo(s))return!1;f=!0}}else{var h=_o(8&s?"class":p,c);if(-1===h){if(bo(s))return!1;f=!0;continue}var v=8&s?p:t[++d];if(""!==v){var g=void 0,y=c[h];if(l>-1&&h>l?g="":(ngDevMode&&we(y,0,"We do not match directives on namespaced attributes"),g=c[h+1]),8&s&&(o=v,i=void 0,u=void 0,a=void 0,i=(r=g).length,u=r.indexOf(o),a=u+o.length,-1===u||u>0&&" "!==r[u-1]||a<i&&" "!==r[a])||2&s&&v!==g){if(bo(s))return!1;f=!0}}}}else{if(!f&&!bo(s)&&!bo(p))return!1;if(f&&bo(p))continue;f=!1,s=p|1&s}}return bo(s)||f}function bo(e){return 0==(1&e)}function _o(e,t){if(null===t)return-1;for(var n=!1,r=0;r<t.length;){var o=t[r];if(o===e)return r;0===o?r+=4:(3===o&&(n=!0),r+=n?1:2)}return-1}function wo(e,t,n){void 0===n&&(n=!1);for(var r=0;r<t.length;r++)if(mo(e,t[r],n))return!0;return!1}function Co(e,t,n){for(var r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(Br);if(0==(1&n))return t[n+1]}return null}(e),o=0;o<t.length;o++)if(r===n[o]||null===r&&wo(e,t[o],!0))return o+1;return 0}function xo(e,t){return new Oo(e,t)}var Oo=function(){return function(e,t){this.fn=e,this.value=t}}(),Io=function(){function e(){this._players=[]}return e.prototype.flushPlayers=function(){for(var e=0;e<this._players.length;e++){var t=this._players[e];t.parent||0!==t.state||t.play()}this._players.length=0},e.prototype.queuePlayer=function(e){this._players.push(e)},e}(),Eo="@";function Do(e,t,n,r){return[0,[null,-1,!1,t||null],n||[null],r||[null],[0,0],e||null,null,null,null]}function ko(e,t){for(var n=e,r=t[n],o=t;Array.isArray(r);)o=r,r=r[Ae];if(a=o,Array.isArray(a)&&"number"==typeof a[0]&&Array.isArray(a[2]))return o;var i,u,a,s=pt(e-Ye,t).stylingTemplate;return o!==t&&(n=Ae),o[n]=s?(i=r,(u=s.slice())[5]=i,u[0]|=32,u):Do(r)}function Mo(e){return e[0]===Eo}function To(e,t,n,r,o,i){return i=i||n,o?e[o]=r:e.push(r),!!r&&(r.addEventListener(200,function(){var t=e.indexOf(r),n=e[0];t&&(t<n?e[t]=null:e.splice(t,1)),r.destroy()}),(t.playerHandler||(t.playerHandler=new Io)).queuePlayer(r,i),!0)}function jo(e){return e[8]}function Po(e){return e[8]=[5,null,null,null,null]}function No(){throw new Error("Only elements that exist in an Angular application can be used for animations")}function So(e){return!!(8&e.flags)}function Ro(e){for(var t=Do(),n=t[3]=[null],r=t[2]=[null],o=-1,i=0;i<e.length;i++){var u=e[i];if("number"==typeof u)o=u;else if(2===o)r.push(u,e[++i]);else if(1===o)n.push(u,!0);else if(3===o)break}return t}function Ao(e,t,n){for(var r=1;r<e.length;){if(e[r]===t){var o=e[r+1];return void(null!=o&&0!=o||(e[r+1]=n))}r+=2}e.push(t,n)}function Vo(e,t,n,r){for(var o=1;o<n.length;o+=2){var i=n[o+1];i&&(r?zo(e,n[o+0],!0,t,null):Uo(e,n[o+0],i,t,null))}}function Fo(e,t,n,r,o,i){if(!(32&e[0])){var u=function(e,t,n){var r,o=e[1],i=e[4].length,u=Ci(o,t);if(-1===u)r=o.length/4,o.push(t,i,!1,n||null);else{var a=u+1;if(o[a]>=0)return-1;r=u/4;var s=u+1;o[s]=i;var c=u+3;o[c]=n||null}return r}(e,t,o);if(-1!==u){var a=e[4],s=a[1],c=a[0],l=4*c,f=9+l,d=f+4*s,p=d+l,h=a.length;a.push(r?r.length:0,n?n.length:0);var v=0,g=[];if(r&&r.length)for(var y=0;y<r.length;y++){var m=r[y];-1==(w=Ho(e,m,9,f))&&(w=f+v,v+=4,g.push(m)),a.push(w)}var b=[];if(n&&n.length)for(var _=0;_<n.length;_++){var w,C=n[_];-1==(w=Ho(e,C,f,d))?(w=d+v,v+=4,b.push(C)):w+=4*g.length,a.push(w)}var x=2;if(g.length)for(;x<h;){var O=a[x+0],I=a[x+1];if(I)for(var E=x+2+O,D=E;D<E+I;D++)a[D]+=4*g.length;x+=2+(O+I)}for(var k=b.length+g.length,M=9;M<e.length;M+=4){var T=M>=d,j=M>=(T?p:f),P=ai(e,M),N=Go(P),S=Jo(P);ui(e,M,Wo(P,N,S+=T?j?4*g.length:0:4*k+4*(j?g.length:0)))}for(var R=0;R<4*g.length;R++)e.splice(p,0,null),e.splice(f,0,null),f++,d++,p+=2;for(var A=0;A<4*b.length;A++)e.splice(d,0,null),e.push(null),d++,p++;for(var V=e[3],F=e[2],H=0;H<k;H++){var L=H>=g.length,B=L?H-g.length:H,U=L?b[B]:g[B],z=void 0,Q=void 0;L?(z=p+4*(s+B),Q=f+4*(s+B)):(z=d+4*(c+B),Q=9+4*(c+B));var Z=L?V:F,q=xi(Z,U);-1===q?(q=Z.length+1,Z.push(U,!L&&null)):q+=1;var K=yi(e,U,L,o||null);ui(e,Q,Wo(K,q,z)),Xo(e,Q,U),ei(e,Q,null),ri(e,Q,0,u),ui(e,z,Wo(K,q,Q)),Xo(e,z,U),ei(e,z,null),ri(e,z,0,u)}a[1]=s+b.length,a[0]=c+g.length,ui(e,0,Wo(0,0,d)|(i?16:0))}}}function Ho(e,t,n,r){for(var o=n;o<r;o+=4)if(ci(e,o)===t)return o;return-1}function Lo(e,t,n,r,o){var i=wi(e,o||null),u=function(e,t,n,r){var o=e[1][4*t+1],i=e[4],u=o+2+(r?i[o+0]:0)+n;return i[u]}(e,i,t,r),a=si(e,u),s=ai(e,u),c=_i(e,u),l=n instanceof Oo?n.value:n;if(mi(s,a,l)&&function(e,t,n,r){if(e)return t?r<=n:n===r;return!0}(a,l,c,i)){var f=2==(2&s),d=e[5],p=n instanceof Oo?new bi(n,d,f?1:2):null,h=p?n.value:n,v=oi(e,u),g=!1,y=p?v:0;if(ti(e,p,v)){var m=ni(e,p,v);y=p?m:0,g=!0}if((g||c!==i)&&ri(e,u,y,i),c!==i){var b=ci(e,u),_=Oi(e,i);!function(e,t,n){n?e[t]|=4:e[t]&=-5}(e,u,!(!_||!_(b)))}ei(e,u,h);var w=Jo(s),C=si(e,w);if(!C||mi(s,C,h)){var x=!1,O=!0;!gi(h,f)&&gi(C,f)&&(x=!0,O=!1),Qo(e,w,x),Qo(e,u,O),Ii(e,i,!0),fi(e,!0)}g&&di(e,!0)}}function Bo(e,t,n,r,o,i,u){var a=0,s=wi(e,u||null);if(function(e){return Zo(e,0)}(e)&&function(e,t){return e[1][4*t+2]}(e,s)){for(var c=8&e[0],l=e[5],f=$o(e),d=li(e),p=!1,h=9;h<e.length;h+=4)if(Zo(e,h)){var v=ai(e,h),g=_i(e,h);if(s!==g){p=!0;continue}var y=ci(e,h),m=si(e,h),b=4&v?Oi(e,g):null,_=ii(e,h),w=!!(2&v),C=!w||!d,x=m;if(h<f&&!gi(x,w))x=si(e,Jo(v));w||gi(x,w)||!C||(x=Yo(e,v)),(!r||x)&&(w?zo(l,y,!!x,t,o,_):Uo(l,y,x,t,b,i,_)),Qo(e,h,!1)}if(c){var O=Array.isArray(n)?wt(n):n,I=jo(e),E=I[0];for(h=1;h<E;h+=2){var D=I[h],k=h+1,M=I[k];if(D){var T=D.buildPlayer(M,r);if(void 0!==T){if(null!=T)To(I,O,l,T,k)&&a++;M&&M.destroy()}}else M&&M.destroy()}di(e,!1)}Ii(e,s,!1),fi(e,p)}return a}function Uo(e,t,n,r,o,i,u){n=o&&n?o(t,n):n,i||u?(i&&i.setValue(t,n),u&&u.setValue(t,n)):n?(n=n.toString(),ngDevMode&&ngDevMode.rendererSetStyle++,Ur(r)?r.setStyle(e,t,n,Lr.DashCase):e.style.setProperty(t,n)):(ngDevMode&&ngDevMode.rendererRemoveStyle++,Ur(r)?r.removeStyle(e,t,Lr.DashCase):e.style.removeProperty(t))}function zo(e,t,n,r,o,i){o||i?(o&&o.setValue(t,n),i&&i.setValue(t,n)):n?(ngDevMode&&ngDevMode.rendererAddClass++,Ur(r)?r.addClass(e,t):e.classList.add(t)):(ngDevMode&&ngDevMode.rendererRemoveClass++,Ur(r)?r.removeClass(e,t):e.classList.remove(t))}function Qo(e,t,n){var r=t>=9?t+0:t;n?e[r]|=1:e[r]&=-2}function Zo(e,t){return 1==(1&e[t>=9?t+0:t])}function qo(e,t){return 2==(2&e[t>=9?t+0:t])}function Ko(e,t){return 4==(4&e[t>=9?t+0:t])}function Wo(e,t,n){return 63&e|t<<6|n<<20}function Yo(e,t){var n=Go(t);return(2&t?e[3]:e[2])[n]}function Go(e){return e>>6&16383}function Jo(e){var t=e>>20&16383;return t>=9?t:-1}function $o(e){return Jo(e[0])}function Xo(e,t,n){e[t+1]=n}function ei(e,t,n){e[t+2]=n}function ti(e,t,n){var r=e[8];if(t){if(!r||0===n)return!0}else if(!r)return!1;return r[n]!==t}function ni(e,t,n){var r=e[8]||Po(e);return n>0?r[n]=t:(n=r[0],r.splice(n,0,t,null),r[0]+=2),n}function ri(e,t,n,r){var o=function(e,t){return t<<16|e}(r,n);e[t+3]=o}function oi(e,t){return e[t+3]>>16&65535}function ii(e,t){var n=oi(e,t);if(n){var r=e[8];if(r)return r[n]}return null}function ui(e,t,n){e[0===t?t:t+0]=n}function ai(e,t){return e[0===t?t:t+0]}function si(e,t){return e[t+2]}function ci(e,t){return e[t+1]}function li(e){return 16&e[0]}function fi(e,t){Qo(e,0,t)}function di(e,t){t?e[0]|=8:e[0]&=-9}function pi(e,t,n){for(var r=(n||0)+1;r<e.length;r+=4){if(e[r]==t)return r-1}return-1}function hi(e,t,n){var r=si(e,t),o=ci(e,t),i=ai(e,t),u=oi(e,t),a=i,s=ai(e,n),c=Jo(a);c>=0&&ui(e,c,Wo(l=ai(e,c),Go(l),n));var l,f=Jo(s);f>=0&&ui(e,f,Wo(l=ai(e,f),Go(l),t));ei(e,t,si(e,n)),Xo(e,t,ci(e,n)),ui(e,t,ai(e,n));ri(e,t,oi(e,n),0),ei(e,n,r),Xo(e,n,o),ui(e,n,i),ri(e,n,u,0)}function vi(e,t,n,r,o,i,u,a){var s=t<e.length;e.splice(t,0,1|o|(n?2:0),r,i,0),ri(e,t,a,u),s&&function(e,t){for(var n=t;n<e.length;n+=4){var r=Jo(ai(e,n));if(r>0){var o=Go(ai(e,r));ui(e,r,Wo((Zo(e,r)?1:0)|(qo(e,r)?2:0)|(Ko(e,r)?4:0),o,n))}}}(e,t+4)}function gi(e,t){return t?!!e:null!==e}function yi(e,t,n,r){var o,i=r&&r(t)?4:0;return n?(i|=2,o=xi(e[3],t)):o=xi(e[2],t),Wo(i,o=o>0?o+1:0,0)}function mi(e,t,n){return!(2&e)&&(t&&n)&&4&e?t.toString()!==n.toString():t!==n}var bi=function(){function e(e,t,n){this._element=t,this._type=n,this._values={},this._dirty=!1,this._factory=e}return e.prototype.setValue=function(e,t){this._values[e]!==t&&(this._values[e]=t,this._dirty=!0)},e.prototype.buildPlayer=function(e,t){if(this._dirty){var n=this._factory.fn(this._element,this._type,this._values,t,e||null);return this._values={},this._dirty=!1,n}},e}();function _i(e,t){return 65535&e[t+3]}function wi(e,t){var n=Ci(e[1],t);return ngDevMode&&we(n,-1,"The provided directive "+t+" has not been allocated to the element's style/class bindings"),n>0?n/4:0}function Ci(e,t){for(var n=0;n<e.length;n+=4)if(e[n]===t)return n;return-1}function xi(e,t){for(var n=1;n<e.length;n+=2)if(e[n]===t)return n;return-1}function Oi(e,t){var n=e[1];return n[4*t+3]||n[3]||null}function Ii(e,t,n){e[1][4*t+2]=n}function Ei(e){var t=e[6];if(null==t){t="";for(var n=e[3],r=1;r<n.length;r+=2){n[r+1]&&(t+=(t.length?" ":"")+n[r])}e[6]=t}return t}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Di=Promise.resolve(null);function ki(e){var t=e[je];if(t.firstTemplatePass=!1,Mn(!1),!wn(e)){var n=In();nn(e,t,n),function(e){for(var t=no(e);null!==t;t=t[Se])if(t.length<Ye&&-1===t[Ge])for(var n=t,r=0;r<n[Je].length;r++){var o=n[Je][r];ngDevMode&&Oe(o[je],"TView must be allocated"),Ni(o,o[je],o[Le])}}(e),function(e){if(null!=e.contentQueries)for(var t=0;t<e.contentQueries.length;t+=2){var n=e.contentQueries[t],r=e.data[n];r.contentQueriesRefresh(n-Ye,e.contentQueries[t+1])}}(t),rn(e,t.contentHooks,t.contentCheckHooks,n),function(e,t){if(e.expandoInstructions){var n=t[Fe]=e.expandoStartIndex;Pn(n);for(var r=-1,o=-1,i=0;i<e.expandoInstructions.length;i++){var u=e.expandoInstructions[i];if("number"==typeof u){if(u<=0){o=-u;var a=e.expandoInstructions[++i];r=n+=ot+a}else n+=u;Pn(n)}else null!==u&&(t[Fe]=n,u(2,lt(t[r]),o)),r++}}}(t,e)}!function(e){if(null!=e)for(var t=0;t<e.length;t++)Pu(e[t])}(t.components)}function Mi(e,t,n,r,o,i,u,a){var s=t.blueprint.slice();return s[Pe]=51|r,s[Ne]=s[We]=e,s[Le]=n,s[Ue]=o||e&&e[Ue],ngDevMode&&Oe(s[Ue],"RendererFactory is required"),s[ze]=i||e&&e[ze],ngDevMode&&Oe(s[ze],"Renderer is required"),s[Qe]=u||e&&e[Qe]||null,s[Be]=a||e&&e[Be]||null,s}function Ti(e,t,n,r,o){var i=hn(),u=i[je],a=e+Ye;ngDevMode&&Ce(a,i.length,"Slot should have been initialized with null"),i[a]=n;var s=u.data[a];null==s&&(s=u.data[a]=iu(i,t,a,r,o,null));var c=gn(),l=bn();return c&&(!l||null!=c.child||null===s.parent&&2!==c.type?l||(c.next=s):c.child=s),null==u.firstChild&&(u.firstChild=s),yn(s),_n(!0),s}function ji(e,t){return null==t[je].node&&(t[je].node=iu(t,2,e,null,null,null)),t[Ve]=t[je].node}function Pi(e){var t=e[je];t.firstTemplatePass&&(t.expandoStartIndex++,t.blueprint.push(null),t.data.push(null),e.push(null))}function Ni(e,t,n){var r,o=bn(),i=gn();if(_n(!0),yn(null),128&e[Pe])Hu(wt(e));else try{_n(!0),yn(null),r=Nn(e,e[Ve]),Li(),t.template(Ai(e),n),e[je].firstTemplatePass=!1,Mn(!1),ki(e)}finally{Rn(r),_n(o),yn(i)}}function Si(e){return void 0===e&&(e=1),Sn(e)}function Ri(e,t,n){var r=e[Ue],o=Nn(e,e[Ve]),i=!In();try{i&&r.begin&&r.begin(),wn(e)&&(n&&(Li(),n(1,t)),ki(e),e[Pe]&=-2),n&&n(2,t),ki(e)}finally{i&&r.end&&r.end(),Rn(o)}}function Ai(e){return wn(e)?1:2}var Vi=null;function Fi(){Vi="http://www.w3.org/2000/svg"}function Hi(){Vi="http://www.w3.org/1998/MathML/"}function Li(){Vi=null}function Bi(e,t,n,r){Qi(e,t,n,r),Xi()}function Ui(e,t,n){var r=hn(),o=r[je],i=r[ze];ngDevMode&&_e(r[Fe],o.bindingStartIndex,"element containers should be created before any bindings"),ngDevMode&&ngDevMode.rendererCreateComment++;var u=i.createComment(ngDevMode?"ng-container":"");ngDevMode&&Te(r,e-1),lo(u,Ti(e,4,u,"ng-container",t||null),r),qi(o,r,n),ir(u,r)}function zi(){var e=gn(),t=hn(),n=t[je];bn()?_n(!1):(ngDevMode&&Me(gn()),yn(e=e.parent)),ngDevMode&&Wt(e,4);var r=t[Re];r&&(t[Re]=r.addNode(e)),$t(n,e)}function Qi(e,t,n,r){var o=hn(),i=o[je];ngDevMode&&_e(o[Fe],i.bindingStartIndex,"elements should be created before any bindings "),ngDevMode&&ngDevMode.rendererCreateElement++;var u=Zi(t);ngDevMode&&Te(o,e-1);var a,s,c,l=Ti(e,3,u,t,n||null);if(n&&(i.firstTemplatePass&&!l.stylingTemplate&&function(e){for(var t=0;t<e.length;t++){var n=e[t];if(1==n||2==n)return!0}return!1}(n)&&(l.stylingTemplate=Ro(n)),Yi(u,n)),lo(u,l,o),qi(i,o,r),0===Lt&&ir(u,o),Lt++,i.firstTemplatePass){var f=la(l);f&&f.hasOwnProperty("class")&&(l.flags|=8)}l.stylingTemplate&&0==(8&l.flags)&&(a=u,s=l.stylingTemplate,c=o[ze],Vo(a,c,s[3],!0),Vo(a,c,s[2],!1))}function Zi(e,t){var n=t||hn()[ze];return Ur(n)?n.createElement(e,Vi):null===Vi?n.createElement(e):n.createElementNS(Vi,e)}function qi(e,t,n,r){if(void 0===r&&(r=dt),un){var o=gn();kn()&&(ngDevMode&&ngDevMode.firstTemplatePass++,function(e,t,n,r,o){ngDevMode&&_e(kn(),!0,"should run on first template pass only");var i=o?{"":-1}:null;if(n){wu(r,e.data.length,n.length);for(var u=0;u<n.length;u++){var a=n[u];a.providersResolver&&a.providersResolver(a)}gu(e,r,n.length);for(var u=0;u<n.length;u++){var a=n[u],s=e.data.length;Cu(e,t,a,a.factory),_u(e.data.length-1,a,i),Jt(s,a.onInit,a.doCheck,e)}}i&&function(e,t,n){if(t)for(var r=e.localNames=[],o=0;o<t.length;o+=2){var i=n[t[o+1]];if(null==i)throw new Error("Export of name '"+t[o+1]+"' not found!");r.push(t[o],i)}}(r,o,i)}(e,t,function(e,t,n){ngDevMode&&_e(kn(),!0,"should run on first template pass only");var r=e.directiveRegistry,o=null;if(r)for(var i=0;i<r.length;i++){var u=r[i];wo(n,u.selectors,!1)&&(o||(o=[]),Qn(Ln(gn(),t),t,u.type),yt(u)?(1&n.flags&&Pr(n),n.flags=1,o.unshift(u)):o.push(u))}return o}(e,t,o),o,n||null)),function(e,t,n){var r=n.directiveStart,o=n.directiveEnd;!kn()&&r<o&&Ln(n,t);for(var i=r;i<o;i++){var u=e.data[i];yt(u)&&xu(t,n,u);var a=Gn(e.data,t,i,n);yu(t,a,u,i)}}(e,t,o),function(e,t,n){for(var r=n.directiveStart,o=n.directiveEnd,i=e.expandoInstructions,u=kn(),a=r;a<o;a++){var s=e.data[a],c=t[a];if(s.hostBindings){var l=i.length;fn(s),s.hostBindings(1,c,n.index-Ye),fn(null),l===i.length&&u&&i.push(s.hostBindings)}else u&&i.push(null)}}(e,t,o),function(e,t,n){var r=t.localNames;if(r)for(var o=t.index+1,i=0;i<r.length;i+=2){var u=r[i+1],a=-1===u?n(t,e):e[u];e[o++]=a}}(t,o,r)}}function Ki(e,t,n,r,o,i){return e.ngPrivateData||(e.ngPrivateData=Wi(-1,e,t,n,r,o,i))}function Wi(e,t,n,r,o,i,u){ngDevMode&&ngDevMode.tView++;var a=Ye+n,s=a+r,c=function(e,t){var n=new Array(t).fill(null,0,e).fill(Nr,e);return n[qe]=-1,n[Fe]=e,n}(a,s);return c[je]={id:e,blueprint:c,template:t,viewQuery:u,node:null,data:c.slice(),childIndex:-1,bindingStartIndex:a,expandoStartIndex:s,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof i?i():i,firstChild:null}}function Yi(e,t){for(var n=hn()[ze],r=Ur(n),o=0;o<t.length;){var i=t[o++];if("number"==typeof i){if(0!==i)break;var u=t[o++],a=t[o++],s=t[o++];ngDevMode&&ngDevMode.rendererSetAttribute++,r?n.setAttribute(e,a,s,u):e.setAttributeNS(u,a,s)}else{s=t[o++];i!==Br&&(ngDevMode&&ngDevMode.rendererSetAttribute++,Mo(i)?r&&n.setProperty(e,i,s):r?n.setAttribute(e,i,s):e.setAttribute(i,s))}}}function Gi(e,t){return new Error("Renderer: "+e+" ["+st(t)+"]")}function Ji(e,t){var n=e.createRenderer(null,null),r="string"==typeof t?Ur(n)?n.selectRootElement(t):n.querySelector(t):t;if(ngDevMode&&!r)throw Gi("string"==typeof t?"Host node with selector not found:":"Host node is required:",t);return r}function $i(e,t,n){void 0===n&&(n=!1);var r=hn(),o=gn(),i=r[je],u=i.firstTemplatePass&&(i.cleanup||(i.cleanup=[]));if(ngDevMode&&Yt(o,3,0,4),3===o.type){var a=dt(o,r);ngDevMode&&ngDevMode.rendererAddEventListener++;var s=r[ze],c=(g=da(r)).length,l=n;if(Ur(s)){var f=s.listen(a,e,t);g.push(t,f),l=c+1}else{var d=function(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}(t);a.addEventListener(e,d,n),g.push(d)}u&&u.push(e,o.index,c,l)}void 0===o.outputs&&(o.outputs=au(o,1));var p,h=o.outputs;if(h&&(p=h[e])){var v=p.length;if(v)for(var g=da(r),y=0;y<v;y+=2){ngDevMode&&Te(r,p[y]);var m=r[p[y]][p[y+1]].subscribe(t),b=g.length;g.push(t,m),u&&u.push(e,o.index,b,-(b+1))}}}function Xi(){var e=gn();bn()?_n(!1):(ngDevMode&&Me(gn()),yn(e=e.parent)),ngDevMode&&Wt(e,3);var t=hn(),n=t[Re];if(n&&(t[Re]=n.addNode(e)),$t(hn()[je],e),Lt--,So(e)){var r=ko(e.index,t);uu(t,e.inputs.class,Ei(r))}}function eu(e,t,n,r){if(n!==Nr){var o=hn(),i=o[ze],u=ft(e,o);if(null==n)ngDevMode&&ngDevMode.rendererRemoveAttribute++,Ur(i)?i.removeAttribute(u,t):u.removeAttribute(t);else{ngDevMode&&ngDevMode.rendererSetAttribute++;var a=null==r?st(n):r(n);Ur(i)?i.setAttribute(u,t,a):u.setAttribute(t,a)}}}function tu(e,t,n,r,o){ou(e,t,n,r,o)}function nu(e,t,n,r,o){ou(e,t,n,r,o,ru)}function ru(e,t){return t[e.index][ze]}function ou(e,t,n,r,o,i){if(n!==Nr){var u,a,s=hn(),c=ft(e,s),l=pt(e,s);if(!o&&(u=la(l))&&(a=u[t]))uu(s,a,n),gt(l)&&function(e,t){var n=ht(t,e);4&n[Pe]||(n[Pe]|=8)}(s,e+Ye),ngDevMode&&(3!==l.type&&0!==l.type||function(e,t,n,r,o){for(var i,u=0;u<r.length;u+=2){var a=e[ze],s=Or(r[u+1]),c=Er(o);if(3===n)Ur(a)?a.setAttribute(t,s,c):t.setAttribute(s,c);else if(void 0!==o){var l="bindings="+JSON.stringify(((i={})[s]=c,i),null,2);Ur(a)?a.setValue(t,l):t.textContent=l}}}(s,c,l.type,a,n));else if(3===l.type){var f=i?i(l,s):s[ze];n=null!=r?r(n):n,ngDevMode&&ngDevMode.rendererSetProperty++,Ur(f)?f.setProperty(c,t,n):Mo(t)||(c.setProperty?c.setProperty(t,n):c[t]=n)}}}function iu(e,t,n,r,o,i){var u=gn();ngDevMode&&ngDevMode.tNode++;var a=bn()?u:u&&u.parent,s=a&&e&&a!==e[Ve]?a:null;return{type:t,index:n,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,flags:0,providerIndexes:0,tagName:r,attrs:o,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:i,next:null,child:null,parent:s,detached:null,stylingTemplate:null,projection:null}}function uu(e,t,n){for(var r=0;r<t.length;r+=2)ngDevMode&&Te(e,t[r]),e[t[r]][t[r+1]]=n}function au(e,t){var n=hn()[je],r=null,o=e.directiveStart,i=e.directiveEnd;if(i>o)for(var u=0===t,a=n.data,s=o;s<i;s++){var c=a[s],l=u?c.inputs:c.outputs;for(var f in l)if(l.hasOwnProperty(f)){r=r||{};var d=l[f];r.hasOwnProperty(f)?r[f].push(s,d):r[f]=[s,d]}}return r}function su(e,t,n,r){var o=gn();o.stylingTemplate||(o.stylingTemplate=Do()),Fo(o.stylingTemplate,r||null,e,t,n,So(o))}function cu(e,t){var n=gn();n.stylingTemplate||(n.stylingTemplate=Ro(t)),function(e,t,n){var r=e[1];if(-1==Ci(r,n)){r.push(n,-1,!1,null);for(var o=null,i=null,u=-1,a=0;a<t.length;a++){var s=t[a];"number"==typeof s?u=s:1==u?Ao(o=o||e[3],s,!0):2==u&&Ao(i=i||e[2],s,t[++a])}}}(n.stylingTemplate,t,e)}function lu(e,t){var n=hn(),r=0!=(2&n[Pe]);Bo(ko(e+Ye,n),n[ze],n,r,null,null,t)>0&&Fu(wt(n),2)}function fu(e,t,n,r,o){var i=null;null!==n&&(i=r?st(n)+r:n),Lo(ko(e+Ye,hn()),t,i,!1,o)}function du(e,t,n,r){var o=n instanceof Oo?n:!!n;Lo(ko(e+Ye,hn()),t,o,!0,r)}function pu(e,t,n,r){if(null!=r)return function(e,t,n,r){throw new Error("unimplemented. Should not be needed by ViewEngine compatibility")}();var o=hn(),i=pt(e,o),u=ko(e+Ye,o);if(So(i)&&t!==Nr){var a=Ei(u),s=(a.length?a+" ":"")+t;uu(o,i.inputs.class,s)}else!function(e,t,n,r){n=n||null;var o=wi(e,r||null),i=e[5],u=t instanceof Oo?new bi(t,i,1):null,a=n instanceof Oo?new bi(n,i,2):null,s=u?t.value:t,c=a?n.value:n,l=li(e)||s===Nr||s===e[6],f=c===Nr||c===e[7];if(!l||!f){e[6]=s,e[7]=c;var d=ue,p=!1,h=!1,v=u?1:0;ti(e,u,1)&&(ni(e,u,1),h=!0);var g=a?3:0;ti(e,a,3)&&(ni(e,a,3),h=!0),l||("string"==typeof s?(d=s.split(/\s+/),p=!0):d=s?Object.keys(s):ue);for(var y=s||ie,m=c?Object.keys(c):ue,b=c||ie,_=m.length,w=!1,C=$o(e),x=0,O=m.length+d.length;C<e.length&&x<O;){if(!(A=x>=_)&&!f||A&&!l){var I=A?x-_:x,E=A?d[I]:m[I],D=A?!!p||y[E]:b[E],k=A?v:g;if((V=ci(e,C))===E){var M=si(e,C),T=ai(e,C);if(ri(e,C,k,o),mi(T,M,D)){ei(e,C,D),h=h||!!k;var j=Yo(e,T);(null!=M||mi(T,j,D))&&(Qo(e,C,!0),w=!0)}}else{var P=pi(e,E,C);if(P>0){var N=si(e,P),S=ai(e,P);hi(e,C,P),mi(S,N,D)&&(j=Yo(e,S),ei(e,C,D),(null!=N||mi(S,j,D))&&(Qo(e,C,!0),h=h||!!k,w=!0))}else h=h||!!k,vi(e,C,A,E,yi(e,E,A,Oi(e,o)),D,o,k),w=!0}}C+=4,x++}for(;C<e.length;)(!(A=2==(2&(T=ai(e,C))))&&!f||A&&!l)&&gi(M=si(e,C),A)&&(Qo(e,C,!0),ei(e,C,null),ri(e,C,k=A?v:g,o),w=!0),C+=4;for(var R=Oi(e,o);x<O;){var A;if(!(A=x>=_)&&!f||A&&!l){I=A?x-_:x;var V=A?d[I]:m[I],F=(M=A?!!p||y[V]:b[V],T=1|yi(e,V,A,R),k=A?v:g,e.length);e.push(T,V,M,0),ri(e,F,k,o),w=!0}x++}w&&(fi(e,!0),Ii(e,o,!0)),h&&di(e,!0)}}(u,t,n)}function hu(e,t){var n=hn();ngDevMode&&_e(n[Fe],n[je].bindingStartIndex,"text nodes should be created before any bindings"),ngDevMode&&ngDevMode.rendererCreateTextNode++;var r=Jr(t,n[ze]),o=Ti(e,3,r,null,null);_n(!1),lo(r,o,n)}function vu(e,t){if(t!==Nr){var n=hn();ngDevMode&&Te(n,e+Ye);var r=ft(e,n);ngDevMode&&Oe(r,"native element should exist"),ngDevMode&&ngDevMode.rendererSetText++;var o=n[ze];Ur(o)?o.setValue(r,st(t)):r.textContent=st(t)}}function gu(e,t,n){ngDevMode&&_e(e.firstTemplatePass,!0,"Expando block should only be generated on first template pass.");var r=-(t.index-Ye),o=65535&t.providerIndexes,i=e.data.length-o;(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function yu(e,t,n,r){var o=gn();(mu(e,o,t,n),ngDevMode&&Oe(o,"previousOrParentTNode"),o&&o.attrs&&function(e,t,n,r){var o=r.initialInputs;(void 0===o||e>=o.length)&&(o=function(e,t,n){var r=n.initialInputs||(n.initialInputs=[]);r[e]=null;var o=n.attrs,i=0;for(;i<o.length;){var u=o[i];if(3===u)break;if(0!==u){var a=t[u],s=o[i+1];if(void 0!==a){var c=r[e]||(r[e]=[]);c.push(a,s)}i+=2}else i+=4}return r}(e,n,r));var i=o[e];if(i)for(var u=0;u<i.length;u+=2)t[i[u]]=i[u+1]}(r,t,n.inputs,o),n.contentQueries&&n.contentQueries(r),yt(n))&&(ht(o.index,e)[Le]=t)}function mu(e,t,n,r){var o=dt(t,e);ngDevMode&&_e(e[Fe],e[je].bindingStartIndex,"directives should be created before any bindings"),ngDevMode&&ke(bn()),ir(n,e),o&&ir(o,e),null!=r.attributes&&3==t.type&&Yi(o,r.attributes)}function bu(e){ngDevMode&&_e(kn(),!0,"Should only be called in first template pass.");var t=hn()[je];(t.components||(t.components=[])).push(e.index)}function _u(e,t,n){n&&(t.exportAs&&(n[t.exportAs]=e),t.template&&(n[""]=e))}function wu(e,t,n){ngDevMode&&_e(kn(),!0,"expected firstTemplatePass to be true");var r=e.flags;ngDevMode&&_e(0===r||1===r,!0,"expected node flags to not be initialized"),ngDevMode&&we(n,e.directiveEnd-e.directiveStart,"Reached the max number of directives"),e.flags=1&r,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Cu(e,t,n,r){e.data.push(n);var o=new ut(r,yt(n),null);e.blueprint.push(o),t.push(o)}function xu(e,t,n){var r=dt(t,e),o=Ki(n.template,n.consts,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery),i=e[Ue],u=Au(e,t.index,Mi(e,o,null,n.onPush?8:4,i,e[Ue].createRenderer(r,n)));u[Ve]=t,u[Ae]=e[t.index],e[t.index]=u,kn()&&bu(t)}function Ou(e,t,n,r,o){return[o?-1:0,[],n,null,null,e,r,uo(t,n)]}function Iu(e,t,n,r,o,i,u,a){var s=hn(),c=s[je],l=Du(e,o||null,i||null);kn()&&(l.tViews=Wi(-1,t,n,r,c.directiveRegistry,c.pipeRegistry,null)),qi(c,s,u,a);var f=s[Re],d=gn();ir(dt(d,s),s),f&&(s[Re]=f.addNode(d)),$t(c,l),_n(!1)}function Eu(e){var t=Du(e,null,null);kn()&&(t.tViews=[]),_n(!1)}function Du(e,t,n){var r=hn();ngDevMode&&_e(r[Fe],r[je].bindingStartIndex,"container nodes should be created before any bindings");var o=e+Ye,i=r[ze].createComment(ngDevMode?"container":"");ngDevMode&&ngDevMode.rendererCreateComment++;var u=Ti(e,0,i,t,n),a=r[o]=Ou(r[o],u,r,i);lo(i,u,r),Au(r,e+Ye,a);var s=r[Re];return s&&(a[Re]=s.container()),ngDevMode&&Wt(gn(),0),u}function ku(e){var t=hn(),n=t[je],r=ct(n.data,e);yn(r),ngDevMode&&Wt(r,0),_n(!0),t[e+Ye][Ge]=0,nn(t,n,In())}function Mu(){var e=gn();bn()?_n(!1):(ngDevMode&&Wt(e,2),ngDevMode&&Me(e),yn(e=e.parent)),ngDevMode&&Wt(e,0);for(var t=hn()[e.index],n=t[Ge];n<t[Je].length;)to(t,e,n)}function Tu(e,t,n){var r=hn(),o=gn(),i=2===o.type?o.parent:o,u=r[i.index];ngDevMode&&Wt(i,0);var a=function(e,t,n,r){for(var o=e[Je],i=n;i<o.length;i++){var u=o[i][je].id;if(u===r)return o[i];if(!(u<r))break;to(e,t,i)}return null}(u,i,u[Ge],e);return a?(_n(!0),Nn(a,a[je].node)):(a=Mi(r,function(e,t,n,r){var o=hn()[je];ngDevMode&&Wt(r,0);var i=r.tViews;ngDevMode&&Oe(i,"TView expected"),ngDevMode&&_e(Array.isArray(i),!0,"TViews should be in an array"),(e>=i.length||null==i[e])&&(i[e]=Wi(e,null,t,n,o.directiveRegistry,o.pipeRegistry,null));return i[e]}(e,t,n,i),null,4),u[Re]&&(a[Re]=u[Re].createView()),ji(e,a),Nn(a,a[je].node)),u&&(wn(a)&&Xr(a,u,r,u[Ge],-1),u[Ge]++),wn(a)?3:2}function ju(){var e=hn(),t=e[Ve];wn(e)&&(ki(e),e[Pe]&=-2),ki(e),Rn(e[Ne]),yn(t),_n(!1)}function Pu(e){var t=hn();ngDevMode&&Te(t,e);var n=ht(e,t);ngDevMode&&Wt(t[je].data[e],3),16==(16&n[Pe])&&12&n[Pe]&&(!function(e){for(var t=e[je],n=e.length;n<t.blueprint.length;n++)e[n]=t.blueprint[n]}(n),zu(n,n[Le]))}function Nu(e,t){var n=jt(hn())[Ve];if(!n.projection)for(var r=e?e.length+1:1,o=n.projection=new Array(r).fill(null),i=o.slice(),u=n.child;null!==u;){var a=e?Co(u,e,t):0,s=u.next;i[a]?i[a].next=u:(o[a]=u,u.next=null),i[a]=u,u=s}}var Su=[];function Ru(e,t,n){void 0===t&&(t=0);var r=hn(),o=Ti(e,1,null,null,n||null);null===o.projection&&(o.projection=t),_n(!1);for(var i=jt(r),u=i[Ve].projection[t],a=i[Ne],s=-1;u;){if(1===u.type){var c=jt(a),l=c[Ve].projection[u.projection];if(l){Su[++s]=u,Su[++s]=a,u=l,a=c[Ne];continue}}else u.flags|=2,vo(u,o,r,a);null===u.next&&a!==i[Ne]&&(a=Su[s--],u=Su[s--]),u=u.next}}function Au(e,t,n){var r=e[je],o=kn();return e[Ze]?e[Ze][Se]=n:o&&(r.childIndex=t),e[Ze]=n,n}function Vu(e){for(;e&&!(128&e[Pe]);)e[Pe]|=8,e=e[Ne];e[Pe]|=8,ngDevMode&&Oe(e[Le],"rootContext should be defined"),Fu(e[Le],1)}function Fu(e,t){var n,r=0===e.flags;(e.flags|=t,r&&e.clean==Di)&&(e.clean=new Promise(function(e){return n=e}),e.scheduler(function(){if(1&e.flags&&(e.flags&=-2,Hu(e)),2&e.flags){e.flags&=-3;var t=e.playerHandler;t&&t.flushPlayers()}e.clean=Di,n(null)}))}function Hu(e){for(var t=0;t<e.components.length;t++){var n=e.components[t];Ri(xt(n),n)}}function Lu(e){Bu(or(e),e)}function Bu(e,t){var n=e[Ue];n.begin&&n.begin(),wn(e)&&zu(e,t),zu(e,t),n.end&&n.end()}function Uu(e){Hu(e[Le])}function zu(e,t){var n=e[je],r=Nn(e,e[Ve]),o=n.template,i=n.viewQuery;try{Li(),function(e,t,n){e&&wn(t)&&e(1,n)}(i,e,t),o(Ai(e),t),ki(e),function(e,t,n){e&&!wn(t)&&e(2,n)}(i,e,t)}finally{Rn(r)}}function Qu(e){ngDevMode&&Oe(e,"component"),Vu(or(e))}function Zu(e){var t=hn();return Ar(t,t[Fe]++,e)?e:Nr}function qu(e){if(kn()){var t=hn(),n=t[je];!function(e,t,n){ngDevMode&&_e(kn(),!0,"Should only be called in first template pass.");var r=e.expandoInstructions,o=r.length;o>=2&&r[o-2]===t.hostBindings?r[o-1]=r[o-1]+n:r.push(t.hostBindings,n)}(n,ln,e),function(e,t,n){ngDevMode&&_e(kn(),!0,"Should only be called in first template pass.");for(var r=0;r<n;r++)t.push(Nr),e.blueprint.push(Nr),e.data.push(null)}(n,t,e)}}function Ku(e){ngDevMode&&Ce(2,e.length,"should have at least 3 values"),ngDevMode&&_e(e.length%2,1,"should have an odd number of values");for(var t=!1,n=hn(),r=n[Fe],o=1;o<e.length;o+=2)Ar(n,r++,e[o])&&(t=!0);if(n[Fe]=r,!t)return Nr;var i=e[0];for(o=1;o<e.length;o+=2)i+=st(e[o])+e[o+1];return i}function Wu(e,t,n){var r=hn(),o=Ar(r,r[Fe],t);return r[Fe]+=1,o?e+st(t)+n:Nr}function Yu(e,t,n,r,o){var i=hn(),u=Vr(i,i[Fe],t,r);return i[Fe]+=2,u?e+st(t)+n+st(r)+o:Nr}function Gu(e,t,n,r,o,i,u){var a=hn(),s=Fr(a,a[Fe],t,r,i);return a[Fe]+=3,s?e+st(t)+n+st(r)+o+st(i)+u:Nr}function Ju(e,t,n,r,o,i,u,a,s){var c=hn(),l=Hr(c,c[Fe],t,r,i,a);return c[Fe]+=4,l?e+st(t)+n+st(r)+o+st(i)+u+st(a)+s:Nr}function $u(e,t,n,r,o,i,u,a,s,c,l){var f=hn(),d=f[Fe],p=Hr(f,d,t,r,i,a);return p=Ar(f,d+4,c)||p,f[Fe]+=5,p?e+st(t)+n+st(r)+o+st(i)+u+st(a)+s+st(c)+l:Nr}function Xu(e,t,n,r,o,i,u,a,s,c,l,f,d){var p=hn(),h=p[Fe],v=Hr(p,h,t,r,i,a);return v=Vr(p,h+4,c,f)||v,p[Fe]+=6,v?e+st(t)+n+st(r)+o+st(i)+u+st(a)+s+st(c)+l+st(f)+d:Nr}function ea(e,t,n,r,o,i,u,a,s,c,l,f,d,p,h){var v=hn(),g=v[Fe],y=Hr(v,g,t,r,i,a);return y=Fr(v,g+4,c,f,p)||y,v[Fe]+=7,y?e+st(t)+n+st(r)+o+st(i)+u+st(a)+s+st(c)+l+st(f)+d+st(p)+h:Nr}function ta(e,t,n,r,o,i,u,a,s,c,l,f,d,p,h,v,g){var y=hn(),m=y[Fe],b=Hr(y,m,t,r,i,a);return b=Hr(y,m+4,c,f,p,v)||b,y[Fe]+=8,b?e+st(t)+n+st(r)+o+st(i)+u+st(a)+s+st(c)+l+st(f)+d+st(p)+h+st(v)+g:Nr}function na(e,t){var n=hn(),r=n[je],o=e+Ye;o>=r.data.length&&(r.data[o]=null),n[o]=t}function ra(e){return ct(xn(),e)}function oa(e){var t=hn();return ngDevMode&&Oe(t[Ke],"Content QueryList array should be defined if reading a query."),ngDevMode&&Te(t[Ke],e),t[Ke][e]}function ia(e){return ct(hn(),e)}function ua(e,t){return void 0===t&&(t=Nt.Default),e=$(e),qn(gn(),hn(),e,t)}function aa(e){return Zn(gn(),e)}function sa(e,t){var n=hn(),r=n[je],o=(n[Ke]||(n[Ke]=[])).push(e);if(kn()){var i=r.contentQueries||(r.contentQueries=[]);t!==(r.contentQueries.length?r.contentQueries[r.contentQueries.length-2]:-1)&&i.push(t,o-1)}}var ca=Di;function la(e){return e?(void 0===e.inputs&&(e.inputs=au(e,0)),e.inputs):null}function fa(){return hn()}function da(e){return e[He]||(e[He]=[])}function pa(e){return e[je].cleanup||(e[je].cleanup=[])}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ha(e,t){var n=nr(e);if(n){var r=n.native,o=n.lView,i=function(e,t){if(!(t=t||nr(e)))return ngDevMode&&No(),null;var n=t.lView,r=ko(t.nodeIndex,n);return jo(r)||Po(r)}(r,n),u=pr(o);To(i,u,r,t,0,e),Fu(u,2)}else ngDevMode&&No()}function va(e){var t=nr(e);if(!t)return ngDevMode&&No(),[];var n=ko(t.nodeIndex,t.lView),r=n?jo(n):null;return r?function(e){for(var t=[],n=e[0],r=2;r<n;r+=2){var o=e[r];o&&t.push(o)}for(r=n;r<e.length;r++)t.push(e[r]);return t}(r):[]}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var ga="ng",ya=!1;function ma(){ya||(ya=!0,ba("getComponent",lr),ba("getContext",fr),ba("getListeners",Cr),ba("getViewComponent",dr),ba("getHostElement",br),ba("getInjector",vr),ba("getRootComponents",hr),ba("getDirectives",gr),ba("getPlayers",va),ba("markDirty",Qu))}function ba(e,t){var n=z;if(ngDevMode&&Oe(t,"function not defined"),n){var r=n[ga];r||(r=n[ga]={}),r[e]=t}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function _a(e,t){void 0===t&&(t={}),ngDevMode&&ma(),ngDevMode&&Ie(e);var n=t.rendererFactory||zr,r=t.sanitizer||null,o=ge(e);o.type!=e&&(o.type=e);var i,u=o.selectors[0][0],a=Ji(n,t.host||u),s=o.onPush?136:132,c=xa(t.scheduler,t.playerHandler),l=n.createRenderer(a,o),f=Mi(null,Wi(-1,null,1,0,null,null,null),c,s,n,l,void 0,t.injector||null),d=Nn(f,null);try{n.begin&&n.begin(),i=Ca(wa(a,o,f,n,l,r),o,f,c,t.hostFeatures||null),ki(f),f[Pe]&=-2,ki(f)}finally{Rn(d),n.end&&n.end()}return i}function wa(e,t,n,r,o,i){sn=!1,an=null,Lt=0,un=!0;var u=n[je],a=Mi(n,Ki(t.template,t.consts,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery),null,t.onPush?8:4,r,o,i),s=Ti(0,3,e,null,null);return u.firstTemplatePass&&(Qn(Ln(s,n),n,t.type),s.flags=1,wu(s,n.length,1),bu(s)),a[Ae]=n[Ye],a[Ve]=s,n[Ye]=a}function Ca(e,t,n,r,o){var i=n[je],u=function(e,t,n){var r=gn();e.firstTemplatePass&&(n.providersResolver&&n.providersResolver(n),gu(e,r,1),Cu(e,t,n,n.factory));var o=Gn(e.data,t,t.length-1,r);return mu(t,r,o,n),o}(i,n,t);if(r.components.push(u),e[Le]=u,o&&o.forEach(function(e){return e(u,t)}),i.firstTemplatePass&&t.hostBindings){var a=gn();fn(t),t.hostBindings(1,u,a.index-Ye),fn(null)}return u}function xa(e,t){return{components:[],scheduler:e||Mt,clean:ca,playerHandler:t||null,flags:0}}function Oa(e,t){var n=xt(e)[je],r=n.data.length-1;Jt(r,t.onInit,t.doCheck,n),$t(n,{directiveStart:r,directiveEnd:r+1})}function Ia(e){return function(e){var t=_t(e)[Le];return ngDevMode&&Oe(t,"rootContext"),t}(e).clean}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ea(e){return"function"==typeof e.template}function Da(e){for(var t,n=(t=e.type,Object.getPrototypeOf(t.prototype).constructor),o=function(){var t,o,i=void 0;if(Ea(e))i=n.ngComponentDef||n.ngDirectiveDef;else{if(n.ngComponentDef)throw new Error("Directives cannot inherit Components");i=n.ngDirectiveDef}var u=n.ngBaseDef;if(u||i){var a=e;a.inputs=ka(e.inputs),a.declaredInputs=ka(e.declaredInputs),a.outputs=ka(e.outputs)}if(u&&(l(e.inputs,u.inputs),l(e.declaredInputs,u.declaredInputs),l(e.outputs,u.outputs)),i){var s=e.hostBindings,c=i.hostBindings;if(c&&(e.hostBindings=s?function(e,t,n){c(e,t,n),s(e,t,n)}:c),Ea(e)&&Ea(i)){var f=e.viewQuery,d=i.viewQuery;d&&(e.viewQuery=f?function(e,t){d(e,t),f(e,t)}:d)}var p=e.contentQueries,h=i.contentQueries;h&&(e.contentQueries=p?function(e){h(e),p(e)}:h);var v=e.contentQueriesRefresh,g=i.contentQueriesRefresh;g&&(e.contentQueriesRefresh=v?function(e,t){g(e,t),v(e,t)}:g),l(e.inputs,i.inputs),l(e.declaredInputs,i.declaredInputs),l(e.outputs,i.outputs),e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=e.afterContentInit||i.afterContentInit,e.afterViewChecked=e.afterViewChecked||i.afterViewChecked,e.afterViewInit=e.afterViewInit||i.afterViewInit,e.doCheck=e.doCheck||i.doCheck,e.onDestroy=e.onDestroy||i.onDestroy,e.onInit=e.onInit||i.onInit;var y=i.features;if(y)try{for(var m=Object(r.h)(y),b=m.next();!b.done;b=m.next()){var _=b.value;_&&_.ngInherit&&_(e)}}catch(e){t={error:e}}finally{try{b&&!b.done&&(o=m.return)&&o.call(m)}finally{if(t)throw t.error}}return"break"}var w=n.prototype;w&&(e.afterContentChecked=e.afterContentChecked||w.afterContentChecked,e.afterContentInit=e.afterContentInit||w.afterContentInit,e.afterViewChecked=e.afterViewChecked||w.afterViewChecked,e.afterViewInit=e.afterViewInit||w.afterViewInit,e.doCheck=e.doCheck||w.doCheck,e.onDestroy=e.onDestroy||w.onDestroy,e.onInit=e.onInit||w.onInit),n=Object.getPrototypeOf(n)};n;){if("break"===o())break}}function ka(e){return e===ie?{}:e===ue?[]:e}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Ma="__ngOnChanges_";function Ta(e){var t=e.declaredInputs,n=e.inputs,r=e.type.prototype,o=function(e){if(t.hasOwnProperty(e)){for(var o=n[e],i=t[e],u=Ma+o,a=void 0,s=r;!a&&s&&Object.getPrototypeOf(s)!==Object.getPrototypeOf(Object.prototype);)a=Object.getOwnPropertyDescriptor(s,o),s=Object.getPrototypeOf(s);var c=a&&a.get,l=a&&a.set;Object.defineProperty(r,o,{get:c||(l?void 0:function(){return this[u]}),set:function(e){var t=this[Ma];t||(t={},Object.defineProperty(this,Ma,{value:t,writable:!0}));var n=!this.hasOwnProperty(u),r=t[i];r?r.currentValue=e:t[i]=new Mr(this[u],e,n),n?Object.defineProperty(this,u,{value:e,writable:!0}):this[u]=e,l&&l.call(this,e)},configurable:!!ngDevMode})}};for(var i in t)o(i);null!=e.onInit&&(e.onInit=ja(e.onInit)),e.doCheck=ja(e.doCheck)}function ja(e){return function(){var t=this[Ma];null!=t&&(this.ngOnChanges(t),this[Ma]=null),e&&e.apply(this)}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Pa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */Ta.ngInherit=!0;var Na="__source",Sa=new Object,Ra=Sa,Aa=new x("INJECTOR"),Va=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=Sa),t===Sa)throw new Error("NullInjectorError: No provider for "+Y(e)+"!");return t},e}(),Fa=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new Ga(e,t):new Ga(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=Sa,e.NULL=new Va,e.ngInjectableDef=b({providedIn:"any",factory:function(){return Zt(Aa)}}),e.__NG_ELEMENT_ID__=function(){return La()},e}(),Ha=function(){return e=gn(),new Xn(e,hn());var e},La=Pa,Ba=function(e){return e},Ua=[],za=Ba,Qa=function(){return Array.prototype.slice.call(arguments)},Za=c({provide:String,useValue:c}),qa="ngTempTokenPath",Ka=Fa.NULL,Wa=/\n/gm,Ya="ɵ",Ga=function(){function e(e,t,n){void 0===t&&(t=Ka),void 0===n&&(n=null),this.parent=t,this.source=n;var r=this._records=new Map;r.set(Fa,{token:Fa,fn:Ba,deps:Ua,value:this,useNew:!1}),r.set(Aa,{token:Aa,fn:Ba,deps:Ua,value:this,useNew:!1}),function e(t,n){if(n)if((n=$(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw es("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw es("Unexpected provider",n);var o=$(n.provide),i=function(e){var t=function(e){var t=Ua,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var o=6,i=$(n[r]);if(i instanceof Array)for(var u=0,a=i;u<a.length;u++){var s=a[u];s instanceof Rt||s==Rt?o|=1:s instanceof Vt||s==Vt?o&=-3:s instanceof At||s==At?o&=-5:i=s instanceof St?s.token:$(s)}t.push({token:i,options:o})}}else if(e.useExisting){var i=$(e.useExisting);t=[{token:i,options:6}]}else if(!(n||Za in e))throw es("'deps' required",e);return t}(e),n=Ba,r=Ua,o=!1,i=$(e.provide);if(Za in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)o=!0,n=$(e.useClass);else{if("function"!=typeof i)throw es("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);o=!0,n=i}return{deps:t,fn:n,useNew:o,value:r}}(n);if(!0===n.multi){var u=t.get(o);if(u){if(u.fn!==Qa)throw Ja(o)}else t.set(o,u={token:n.provide,deps:[],useNew:!1,fn:Qa,value:Ua});o=n,u.deps.push({token:o,options:6})}var a=t.get(o);if(a&&a.fn==Qa)throw Ja(o);t.set(o,i)}}(r,e)}return e.prototype.get=function(e,t,n){void 0===n&&(n=Nt.Default);var r=this._records.get(e);try{return $a(e,r,this._records,this.parent,t,n)}catch(t){var o=t[qa];throw e[Na]&&o.unshift(e[Na]),t.message=Xa("\n"+t.message,o,this.source),t.ngTokenPath=o,t[qa]=null,t}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,n){return e.push(Y(n))}),"StaticInjector["+e.join(", ")+"]"},e}();function Ja(e){return es("Cannot mix multi providers and regular providers",e)}function $a(e,t,n,o,i,u){try{return function(e,t,n,o,i,u){var a,s;if(!t||u&Nt.SkipSelf)u&Nt.Self||(s=o.get(e,i,Nt.Default));else{if((s=t.value)==za)throw Error(Ya+"Circular dependency");if(s===Ua){t.value=za;var c=void 0,l=t.useNew,f=t.fn,d=t.deps,p=Ua;if(d.length){p=[];for(var h=0;h<d.length;h++){var v=d[h],g=v.options,y=2&g?n.get(v.token):void 0;p.push($a(v.token,y,n,y||4&g?o:Ka,1&g?null:Fa.THROW_IF_NOT_FOUND,Nt.Default))}}t.value=s=l?new((a=f).bind.apply(a,Object(r.g)([void 0],p))):f.apply(c,p)}}return s}(e,t,n,o,i,u)}catch(n){throw n instanceof Error||(n=new Error(n)),(n[qa]=n[qa]||[]).unshift(e),t&&t.value==za&&(t.value=Ua),n}}function Xa(e,t,n){void 0===n&&(n=null),e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Ya?e.substr(2):e;var r=Y(t);if(t instanceof Array)r=t.map(Y).join(" -> ");else if("object"==typeof t){var o=[];for(var i in t)if(t.hasOwnProperty(i)){var u=t[i];o.push(i+":"+("string"==typeof u?JSON.stringify(u):Y(u)))}r="{"+o.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+e.replace(Wa,"\n  ")}function es(e,t){return new Error(Xa(e,t))}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var ts=new x("The presence of this token marks an injector as being the root injector."),ns={},rs={},os=[],is=void 0;
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function us(){return void 0===is&&(is=new Va),is}function as(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),t=t||us(),new ss(e,n,t)}var ss=function(){function e(e,t,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1;var o=[];ds([e],function(e){return r.processInjectorType(e,[],o)}),t&&ds(t,function(n){return r.processProvider(n,e,t)}),this.records.set(Aa,fs(void 0,this)),this.isRootInjector=this.records.has(ts),this.injectorDefTypes.forEach(function(e){return r.get(e)})}return e.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},e.prototype.get=function(e,t,n){void 0===t&&(t=Ra),void 0===n&&(n=Nt.Default),this.assertNotDestroyed();var r,o=Ut(this);try{if(!(n&Nt.SkipSelf)){var i=this.records.get(e);if(void 0===i){var u=("function"==typeof(r=e)||"object"==typeof r&&r instanceof x)&&w(e);u&&this.injectableDefInScope(u)&&(i=fs(cs(e),ns),this.records.set(e,i))}if(void 0!==i)return this.hydrate(e,i)}return(n&Nt.Self?us():this.parent).get(e,t)}finally{Ut(o)}},e.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},e.prototype.processInjectorType=function(e,t,n){var r=this;if(e=$(e)){var o=C(e),i=null==o&&e.ngModule||void 0,u=void 0===i?e:i;if(ngDevMode&&-1!==t.indexOf(u)){var a=Y(u);throw new Error("Circular dependency in DI detected for type "+a+". Dependency path: "+t.map(function(e){return Y(e)}).join(" > ")+" > "+a+".")}var s=-1!==n.indexOf(u),c=void 0!==i&&e.providers||os;if(void 0!==i&&(o=C(i)),null!=o){if(this.injectorDefTypes.add(u),this.records.set(u,fs(o.factory,ns)),null!=o.imports&&!s){ngDevMode&&t.push(u),n.push(u);try{ds(o.imports,function(e){return r.processInjectorType(e,t,n)})}finally{ngDevMode&&t.pop()}}var l=o.providers;if(null!=l&&!s){var f=e;ds(l,function(e){return r.processProvider(e,f,l)})}var d=e.ngModule;ds(c,function(e){return r.processProvider(e,d,c)})}}},e.prototype.processProvider=function(e,t,n){var r=hs(e=$(e))?e:$(e&&e.provide),o=function(e,t,n){var r=ls(e,t,n);return ps(e)?fs(void 0,e.useValue):fs(r,ns)}(e,t,n);if(hs(e)||!0!==e.multi){var i=this.records.get(r);if(i&&void 0!==i.multi)throw new Error("Mixed multi-provider for "+Y(r))}else{var u=this.records.get(r);if(u){if(void 0===u.multi)throw new Error("Mixed multi-provider for "+r+".")}else(u=fs(void 0,ns,!0)).factory=function(){return Kt(u.multi)},this.records.set(r,u);r=e,u.multi.push(e)}this.records.set(r,o)},e.prototype.hydrate=function(e,t){if(t.value===rs)throw new Error("Cannot instantiate cyclic dependency! "+Y(e));var n;return t.value===ns&&(t.value=rs,t.value=t.factory()),"object"==typeof t.value&&t.value&&("object"==typeof(n=t.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy)&&this.onDestroy.add(t.value),t.value},e.prototype.injectableDefInScope=function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||"root"===e.providedIn&&this.isRootInjector:this.injectorDefTypes.has(e.providedIn))},e}();function cs(e){var t=w(e);if(null===t){var n=C(e);if(null!==n)return n.factory;if(e instanceof x)throw new Error("Token "+Y(e)+" is missing an ngInjectableDef definition.");if(e instanceof Function){var r=e.length;if(r>0){var o=new Array(r).fill("?");throw new Error("Can't resolve all parameters for "+Y(e)+": ("+o.join(", ")+").")}return function(){return new e}}throw new Error("unreachable")}return t.factory}function ls(e,t,n){var o,i=void 0;if(hs(e))return cs($(e));if(ps(e))i=function(){return $(e.useValue)};else if((o=e)&&o.useExisting)i=function(){return Zt($(e.useExisting))};else if(function(e){return!(!e||!e.useFactory)}(e))i=function(){return e.useFactory.apply(e,Object(r.g)(Kt(e.deps||[])))};else{var u=$(e&&(e.useClass||e.provide));if(!u){var a="";if(t&&n)a=" - only instances of Provider and Type are allowed, got: ["+n.map(function(t){return t==e?"?"+e+"?":"..."}).join(", ")+"]";throw new Error("Invalid provider for the NgModule '"+Y(t)+"'"+a)}if(!function(e){return!!e.deps}(e))return cs(u);i=function(){return new(u.bind.apply(u,Object(r.g)([void 0],Kt(e.deps))))}}return i}function fs(e,t,n){return void 0===n&&(n=!1),{factory:e,value:t,multi:n?[]:void 0}}function ds(e,t){e.forEach(function(e){return Array.isArray(e)?ds(e,t):t(e)})}function ps(e){return e&&"object"==typeof e&&Za in e}function hs(e){return"function"==typeof e}function vs(e,t,n,r,o){if(e=$(e),Array.isArray(e))for(var i=0;i<e.length;i++)vs(e[i],t,n,r,o);else{var u=hn(),a=hs(e)?e:$(e.provide),s=ls(e),c=gn(),l=65535&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>16;if(hs(e)||!e.multi){var p=new ut(s,o,ua),h=ys(a,t,o?l:l+d,f);-1==h?(Qn(Ln(c,u),u,a),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=65536),n.push(p),u.push(p)):(n[h]=p,u[h]=p)}else{var v=ys(a,t,l+d,f),g=ys(a,t,l,l+d),y=v>=0&&n[v],m=g>=0&&n[g];if(o&&!m||!o&&!y){Qn(Ln(c,u),u,a);p=function(e,t,n,r,o){var i=new ut(e,n,ua);return i.multi=[],i.index=t,i.componentProviders=0,gs(i,o,r&&!n),i}(o?bs:ms,n.length,o,r,s);!o&&m&&(n[g].providerFactory=p),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=65536),n.push(p),u.push(p)}else gs(n[o?g:v],s,!o&&r);!o&&r&&m&&n[g].componentProviders++}}}function gs(e,t,n){e.multi.push(t),n&&e.componentProviders++}function ys(e,t,n,r){for(var o=n;o<r;o++)if(t[o]===e)return o;return-1}function ms(e,t,n,r){return _s(this.multi,[])}function bs(e,t,n,r){var o,i=this.multi;if(this.providerFactory){var u=this.providerFactory.componentProviders,a=Gn(t,n,this.providerFactory.index,r);_s(i,o=a.slice(0,u));for(var s=u;s<a.length;s++)o.push(a[s])}else _s(i,o=[]);return o}function _s(e,t){for(var n=0;n<e.length;n++){var r=e[n];t.push(r())}return t}function ws(e,t){return void 0===t&&(t=[]),function(n){n.providersResolver=function(n){
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
return function(e,t,n){var r=hn()[je];if(r.firstTemplatePass){var o=yt(e);vs(n,r.data,r.blueprint,o,!0),vs(t,r.data,r.blueprint,o,!1)}}(n,e,t)}}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Cs=function(){return function(){}}(),xs=function(){return function(){}}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Os(e){var t=Error("No component factory found for "+Y(e)+". Did you add it to @NgModule.entryComponents?");return t[ks]=e,t}var Is,Es,Ds,ks="ngComponent",Ms=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw Os(e)},e}(),Ts=function(){function e(){}return e.NULL=new Ms,e}(),js=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var r=0;r<e.length;r++){var o=e[r];this._factories.set(o.componentType,o)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Os(e);return new Ps(t,this._ngModule)},e}(),Ps=function(e){function t(t,n){var r=e.call(this)||this;return r.factory=t,r.ngModule=n,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return Object(r.c)(t,e),t.prototype.create=function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)},t}(xs),Ns=function(){return function(){}}(),Ss=function(){return function(){}}(),Rs=function(){function e(e,t,n){this._context=t,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._lView=e}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){if(null==this._lView[Ae]){var e=this._lView[Ve];return function e(t,n,r){var o=n.child;for(;o;)r.push(dt(o,t)),4===o.type&&e(t,o,r),o=o.next;return r}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(this._lView,e,[])}return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 64==(64&this._lView[Pe])},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}ro(this._lView)},e.prototype.onDestroy=function(e){var t,n;t=this._lView,n=e,da(t).push(n),t[je].firstTemplatePass&&pa(t).push(t[He].length-1,null)},e.prototype.markForCheck=function(){Vu(this._lView)},e.prototype.detach=function(){this._lView[Pe]&=-17},e.prototype.reattach=function(){this._lView[Pe]|=16},e.prototype.detectChanges=function(){Bu(this._lView,this.context)},e.prototype.checkNoChanges=function(){!function(e){En(!0);try{Lu(e)}finally{En(!1)}}(this.context)},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e.prototype.detachFromAppRef=function(){this._appRef=null},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype._lookUpContext=function(){return this._context=this._lView[Ne][this._componentIndex]},e}(),As=function(e){function t(t){var n=e.call(this,t,null,-1)||this;return n._view=t,n}return Object(r.c)(t,e),t.prototype.detectChanges=function(){Uu(this._view)},t.prototype.checkNoChanges=function(){!function(e){En(!0);try{Uu(e)}finally{En(!1)}}(this._view)},Object.defineProperty(t.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),t}(Rs);function Vs(e,t,n){return Is||(Is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t}(e)),new Is(dt(t,n))}function Fs(e,t,n,o){if(Es||(Es=function(e){function t(t,n,r,o,i,u){var a=e.call(this)||this;return a._declarationParentView=t,a.elementRef=n,a._tView=r,a._renderer=o,a._queries=i,a._injectorIndex=u,a}return Object(r.c)(t,e),t.prototype.createEmbeddedView=function(e,t,n,r,o){var i=function(e,t,n,r,o,i){var u=bn(),a=gn();_n(!0),yn(null);var s=Mi(n,e,t,4);return s[We]=n,o&&(s[Re]=o.createView()),ji(-1,s),e.firstTemplatePass&&(e.node.injectorIndex=i),_n(u),yn(a),s}(this._tView,e,this._declarationParentView,this._renderer,this._queries,this._injectorIndex);t&&Xr(i,t,r,o,n.index),Ni(i,this._tView,e);var u=new Rs(i,e,-1);return u._tViewNode=i[Ve],u},t}(e)),0===n.type){var i=o[n.index];return ngDevMode&&Oe(n.tViews,"TView must be allocated"),new Es(o,Vs(t,n,o),n.tViews,hn()[ze],i[Re],n.injectorIndex)}return null}function Hs(e,t,n){if(gt(e)){var r=e.directiveStart,o=ht(e.index,t);return new Rs(o,n,r)}if(3===e.type){var i=jt(t);return new Rs(i,i[Le],-1)}return null}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Ls,Bs=function(){function e(e){this.nativeElement=e}return e.__NG_ELEMENT_ID__=function(){return zs(e)},e}(),Us=function(e){return Vs(e,gn(),hn())},zs=Pa,Qs=function(){return function(e,t,n,r,o,i){this.id=e,this.templateUrl=t,this.slotCount=n,this.encapsulation=r,this.styles=o,this.animations=i}}(),Zs=function(){return function(){}}(),qs=function(){return function(){}}(),Ks=(new x("Renderer2Interceptor"),function(){return function(){}}()),Ws=function(){return function(){}}();!function(e){e[e.Important=1]="Important",e[e.DashCase=2]="DashCase"}(Ls||(Ls={}));var Ys,Gs=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return $s()},e}(),Js=function(){return function(e){var t=e[ze];if(Ur(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(hn())},$s=Pa;!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(Ys||(Ys={}));var Xs=function(){return function(){}}(),ec=function(){return function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}(),tc=new ec("7.2.4"),nc=function(e){function t(t){var n=e.call(this)||this;return n.ngModule=t,n}return Object(r.c)(t,e),t.prototype.resolveComponentFactory=function(e){ngDevMode&&Ie(e);var t=ge(e);return new ac(t,this.ngModule)},t}(Ts);
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function rc(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t.push({propName:r,templateName:n})}return t}var oc=new x("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return xa(Zt(ic))}}),ic=new x("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Mt}}),uc={};var ac=function(e){function t(t,n){var r=e.call(this)||this;return r.componentDef=t,r.ngModule=n,r.componentType=t.type,r.selector=t.selectors[0][0],r.ngContentSelectors=[],r}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){return rc(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){return rc(this.componentDef.outputs)},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){var o=void 0===n,i=(r=r||this.ngModule)?function(e,t){return{get:function(n,r){var o=e.get(n,uc);return o!==uc||r===uc?o:t.get(n,r)}}}(e,r.injector):e,u=i.get(Ws,zr),a=i.get(Xs,null),s=o?Zi(this.selector,u.createRenderer(null,this.componentDef)):Ji(u,n),c=this.componentDef.onPush?136:132,l=o?xa():i.get(oc),f=u.createRenderer(s,this.componentDef);n&&s&&(ngDevMode&&ngDevMode.rendererSetAttribute++,Ur(f)?f.setAttribute(s,"ng-version",tc.full):s.setAttribute("ng-version",tc.full));var d,p,h=Mi(null,Wi(-1,null,1,0,null,null,null),l,c,u,f,a,i),v=Nn(h,null);try{u.begin&&u.begin();var g=wa(s,this.componentDef,h,u,f);if(p=pt(0,h),t)for(var y=0,m=h[je],b=p.projection=[],_=0;_<t.length;_++){for(var w=t[_],C=null,x=null,O=0;O<w.length;O++){m.firstTemplatePass&&(m.expandoStartIndex++,m.blueprint.splice(++y+Ye,0,null),m.data.splice(y+Ye,0,null),h.splice(y+Ye,0,null));var I=Ti(y,3,w[O],null,null);x?x.next=I:C=I,x=I}b.push(C)}d=Ca(g,this.componentDef,h,l,[Oa]),Au(h,Ye,g),ki(h)}finally{Rn(v),u.end&&u.end()}var E=new sc(this.componentType,d,Vs(Bs,p,h),h,p);return o&&(E.hostView._tViewNode.child=p),E},t}(xs),sc=(new nc,function(e){function t(t,n,r,o,i){var u=e.call(this)||this;return u.location=r,u._rootLView=o,u._tNode=i,u.destroyCbs=[],u.instance=n,u.hostView=u.changeDetectorRef=new As(o),u.hostView._tViewNode=ji(-1,o),u.componentType=t,u}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"injector",{get:function(){return new Xn(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){ngDevMode&&Oe(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null,this.hostView.destroy()},t.prototype.onDestroy=function(e){ngDevMode&&Oe(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(e)},t}(Cs)),cc=!0,lc=!1;function fc(){return lc=!0,cc}function dc(){if(lc)throw new Error("Cannot enable prod mode after platform setup.");cc=!1}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var pc=function(){function e(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(e){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(e){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var o=e.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling},e}();var hc=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,vc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function gc(e){return(e=String(e)).match(hc)||e.match(vc)?e:(fc()&&console.warn("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function yc(e){return(e=String(e)).split(",").map(function(e){return gc(e.trim())}).join(", ")}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function mc(e){var t,n,o={};try{for(var i=Object(r.h)(e.split(",")),u=i.next();!u.done;u=i.next()){o[u.value]=!0}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}function bc(){for(var e,t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i={};try{for(var u=Object(r.h)(n),a=u.next();!a.done;a=u.next()){var s=a.value;for(var c in s)s.hasOwnProperty(c)&&(i[c]=!0)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return i}var _c,wc=mc("area,br,col,hr,img,wbr"),Cc=mc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xc=mc("rp,rt"),Oc=bc(xc,Cc),Ic=bc(Cc,mc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ec=bc(xc,mc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dc=bc(wc,Ic,Ec,Oc),kc=mc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mc=mc("srcset"),Tc=mc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jc=bc(kc,Mc,Tc),Pc=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")},e.prototype.startElement=function(e){var t=e.nodeName.toLowerCase();if(!Dc.hasOwnProperty(t))return this.sanitizedSomething=!0,!1;this.buf.push("<"),this.buf.push(t);for(var n=e.attributes,r=0;r<n.length;r++){var o=n.item(r),i=o.name,u=i.toLowerCase();if(jc.hasOwnProperty(u)){var a=o.value;kc[u]&&(a=gc(a)),Mc[u]&&(a=yc(a)),this.buf.push(" ",i,'="',Rc(a),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();Dc.hasOwnProperty(t)&&!wc.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(Rc(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t},e}(),Nc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sc=/([^\#-~ |!])/g;function Rc(e){return e.replace(/&/g,"&amp;").replace(Nc,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Sc,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ac(e,t){var n=null;try{_c=_c||new pc(e);var r=t?String(t):"";n=_c.getInertBodyElement(r);var o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=_c.getInertBodyElement(r)}while(r!==i);var u=new Pc,a=u.sanitizeChildren(Vc(n)||n);return fc()&&u.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var s=Vc(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}function Vc(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e)?e.content:null}var Fc={marker:"element"},Hc={marker:"comment"},Lc="�",Bc=/^\s*(�\d+:?\d*�)\s*,\s*(select|plural)\s*,/,Uc=/�\/?\*(\d+:\d+)�/gi,zc=/�(\/?[#*]\d+):?\d*�/gi,Qc=/�(\d+):?\d*�/gi,Zc=/({\s*�\d+:?\d*�\s*,\s*\S{6}\s*,[\s\S]*})/gi,qc=/\[(�.+?�?)\]/g,Kc=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Wc=/�I18N_EXP_(ICU(_\d+)?)�/g;function Yc(e){if(!e)return[];var t,n=0,r=[],o=[],i=/[{}]/g;for(i.lastIndex=0;t=i.exec(e);){var u=t.index;if("}"==t[0]){if(r.pop(),0==r.length){var a=e.substring(n,u);Bc.test(a)?o.push(Gc(a)):a&&o.push(a),n=u+1}}else{if(0==r.length){var s=e.substring(n,u);o.push(s),n=u+1}r.push("{")}}var c=e.substring(n);return""!=c&&o.push(c),o}function Gc(e){for(var t=[],n=[],r=1,o=0,i=Yc(e=e.replace(Bc,function(e,t,n){return r="select"===n?0:1,o=parseInt(t.substr(1),10),""})),u=0;u<i.length;){var a=i[u++].trim();1===r&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&t.push(a);var s=Yc(i[u++]);s.length&&n.push(s)}return xe(t.indexOf("other"),-1,'Missing key "other" in ICU statement.'),{type:r,mainBinding:o,cases:t,values:n}}function Jc(e){for(var t,n,r="",o=0,i=!1;null!==(t=Uc.exec(e));)i?t[0]===Lc+"/*"+n+Lc&&(o=t.index,i=!1):(r+=e.substring(o,t.index+t[0].length),n=t[1],i=!0);return ngDevMode&&_e(i,!1,'Tag mismatch: unable to find the end of the sub-template in the translation "'+e+'"'),r+=e.substr(o)}function $c(e,t,n,r){void 0===r&&(r=null);for(var o=[null,null],i=e.split(Qc),u=0,a=0;a<i.length;a++){var s=i[a];if(1&a){var c=parseInt(s,10);o.push(-1-c),u|=nl(c)}else""!==s&&o.push(s)}return o.push(t<<2|(n?1:0)),n&&o.push(n,r),o[0]=u,o[1]=o.length-2,o}function Xc(e,t){var n;void 0===t&&(t=0),t|=nl(e.mainBinding);for(var r=0;r<e.values.length;r++)for(var o=e.values[r],i=0;i<o.length;i++){var u=o[i];if("string"==typeof u)for(;n=Qc.exec(u);)t|=nl(parseInt(n[1],10));else t=Xc(u,t)}return t}var el=[],tl=-1;function nl(e){return 1<<Math.min(e,31)}var rl=[];function ol(e,t,n){var r=hn()[je];ngDevMode&&Oe(r,"tView should be defined"),el[++tl]=e,r.firstTemplatePass&&null===r.data[e+Ye]&&function(e,t,n,r){var o=hn(),i=e.blueprint.length-Ye,u=gn(),a=bn()?gn():u&&u.parent,s=a&&a!==o[Ve]?a.index-Ye:t,c=0;rl[c]=s;var l=[];t>0&&u!==a&&l.push(u.index<<3|0);for(var f=[],d=[],p=function(e,t){if("number"!=typeof t)return Jc(e);var n=e.indexOf(":"+t+Lc)+2+t.toString().length,r=e.search(new RegExp(Lc+"\\/\\*\\d+:"+t+Lc));return Jc(e.substring(n,r))}(n,r).split(zc),h=0;h<p.length;h++){var v=p[h];if(1&h)if("/"===v.charAt(0)){if("#"===v.charAt(1)){var g=parseInt(v.substr(2),10);s=rl[--c],l.push(g<<3|5)}}else{var g=parseInt(v.substr(1),10);l.push(g<<3|0,s<<17|1),"#"===v.charAt(0)&&(rl[++c]=s=g)}else for(var y=v.split(Zc),m=0;m<y.length;m++)if(v=y[m],1&m){Pi(o);var b=e.blueprint.length-1-Ye;l.push(Hc,ngDevMode?"ICU "+b:"",s<<17|1);var _=Gc(v.substr(1,v.length-2)),w=Xc(_);bl(d,_,b,b);var C=d.length-1;f.push(nl(_.mainBinding),3,-1-_.mainBinding,b<<2|2,C,w,2,b<<2|3,C)}else if(""!==v){var x=v.match(Qc);Pi(o),l.push(x?"":v,s<<17|1),x&&Tt($c(v,e.blueprint.length-1-Ye),f)}}var O={vars:e.blueprint.length-Ye-i,expandoStartIndex:i,create:l,update:f,icus:d.length?d:null};e.data[t+Ye]=O}(r,e,t,n)}function il(e,t,n){ngDevMode&&ngDevMode.rendererMoveNode++;var r=hn();n||(n=t),n===t&&e!==t.child?(e.next=t.child,t.child=e):n!==t&&e!==n.next?(e.next=n.next,n.next=e):e.next=null,t!==r[Ve]&&(e.parent=t),lo(dt(e,r),e,r);var o=r[e.index];return 0!==e.type&&mt(o)&&lo(o[$e],e,r),e}function ul(e,t){var n={},r=e.replace(qc,function(e,t){if(n[t]||(n[t]=t.split("|")),!n[t].length)throw new Error("i18n postprocess: unmatched placeholder - "+t);return n[t].shift()});if(Object.keys(n).some(function(e){return!!n[e].length}))throw new Error("i18n postprocess: unmatched values - "+JSON.stringify(n));return Object.keys(t).length?r=(r=r.replace(Kc,function(e,n,r,o,i,u){return t.hasOwnProperty(r)?""+n+t[r]+u:e})).replace(Wc,function(e,n){if(t.hasOwnProperty(n)){var r=t[n];if(!r.length)throw new Error("i18n postprocess: unmatched ICU - "+e+" with key: "+n);return r.shift()}return e}):r}function al(){var e=hn()[je];ngDevMode&&Oe(e,"tView should be defined"),function(e){var t=hn();ngDevMode&&_e(t[Fe],t[je].bindingStartIndex,"i18nEnd should be called before any binding");var n=el[tl--],r=e.data[n+Ye];ngDevMode&&Oe(r,"You should call i18nStart before i18nEnd");for(var o=gn(),i=sl(n,r.create,r.expandoStartIndex,t),u=n+1;u<=o.index-Ye;u++)-1===i.indexOf(u)&&cl(u,t)}(e)}function sl(e,t,n,r){for(var o=hn()[ze],i=null,u=null,a=[],s=0;s<t.length;s++){var c=t[s];if("string"==typeof c){var l=Jr(c,o);ngDevMode&&ngDevMode.rendererCreateTextNode++,u=i,i=Ti(n++,3,l,null,null),_n(!1)}else if("number"==typeof c)switch(7&c){case 1:var f=c>>>17,d=void 0;d=f===e?r[Ve]:pt(f,r),ngDevMode&&Oe(i,"You need to create or select a node before you can insert it into the DOM"),u=il(i,d,u),d.next=null;break;case 0:var p=c>>>3;a.push(p),u=i,(i=pt(p,r))&&(yn(i),3===i.type&&_n(!0));break;case 5:u=i=pt(c>>>3,r),yn(i),_n(!1);break;case 4:eu(c>>>3,t[++s],t[++s]);break;default:throw new Error('Unable to determine the type of mutate operation for "'+c+'"')}else switch(c){case Hc:var h=t[++s];ngDevMode&&_e(typeof h,"string",'Expected "'+h+'" to be a comment node value');var v=o.createComment(h);ngDevMode&&ngDevMode.rendererCreateComment++,u=i,i=Ti(n++,5,v,null,null),ir(v,r),i.activeCaseIndex=null,_n(!1);break;case Fc:var g=t[++s];ngDevMode&&_e(typeof g,"string",'Expected "'+g+'" to be an element node tag name');var y=o.createElement(g);ngDevMode&&ngDevMode.rendererCreateElement++,u=i,i=Ti(n++,3,y,g,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'+c+'"')}}return _n(!1),a}function cl(e,t){var n=pt(e,t);ho(n,ft(e,t)||null,t),n.detached=!0,ngDevMode&&ngDevMode.rendererRemoveNode++;var r=ia(e);if(mt(r)){var o=r;0!==n.type&&ho(n,o[$e]||null,t),o[Xe]=null}}function ll(e,t,n){ol(e,t,n),al()}function fl(e,t){var n=hn()[je];ngDevMode&&Oe(n,"tView should be defined"),ngDevMode&&_e(n.firstTemplatePass,!0,"You should only call i18nEnd on first template pass"),n.firstTemplatePass&&null===n.data[e+Ye]&&function(e,t,n){for(var r=gn().index-Ye,o=[],i=0;i<n.length;i+=2)for(var u=n[i],a=n[i+1],s=a.split(Zc),c=0;c<s.length;c++){var l=s[c];if(1&c);else if(""!==l){var f=!!l.match(Qc);f?Tt($c(l,r,u),o):eu(r,u,l)}}e.data[t+Ye]=o}(n,e,t)}var dl,pl=0,hl=0;function vl(e){e!==Nr&&(pl|=1<<hl),hl++}function gl(e){if(hl){var t=hn(),n=t[je];ngDevMode&&Oe(n,"tView should be defined");var r=n.data[e+Ye],o=void 0,i=null;Array.isArray(r)?o=r:(o=r.update,i=r.icus),!function e(t,n,r,o,i,u){void 0===u&&(u=!1);for(var a=!1,s=0;s<t.length;s++){var c=t[s],l=t[++s];if(u||c&o)for(var f="",d=s+1;d<=s+l;d++){var p=t[d];if("string"==typeof p)f+=p;else if("number"==typeof p)if(p<0)f+=st(i[r-p]);else{var h=p>>>2;switch(3&p){case 1:eu(h,t[++d],f,t[++d]);break;case 0:vu(h,f);break;case 2:var v=t[++d],g=n[v],y=pt(h,i);if(null!==y.activeCaseIndex)for(var m=g.remove[y.activeCaseIndex],b=0;b<m.length;b++){var _=m[b];switch(7&_){case 3:cl(_>>>3,i);break;case 6:var w=pt(m[b+1]>>>3,i).activeCaseIndex;null!==w&&Tt(n[_>>>3].remove[w],m)}}var C=ml(g,f);y.activeCaseIndex=-1!==C?C:null,sl(-1,g.create[C],g.expandoStartIndex,i),a=!0;break;case 3:g=n[v=t[++d]],y=pt(h,i),e(g.update[y.activeCaseIndex],n,r,o,i,a)}}}s+=l}}(o,i,t[Fe]-hl-1,pl,t),pl=0,hl=0}}function yl(e,t){switch(function(e,t){"string"==typeof t&&(t=parseInt(t,10));var n=t,r=n.toString().replace(/^[^.]*\.?/,""),o=Math.floor(Math.abs(n)),i=r.length,u=parseInt(r,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?dl.One:dl.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?dl.One:dl.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===o||1===n?dl.One:dl.Other;case"ar":return 0===n?dl.Zero:1===n?dl.One:2===n?dl.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?dl.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?dl.Many:dl.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===o&&0===i?dl.One:dl.Other;case"be":return n%10==1&&n%100!=11?dl.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?dl.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?dl.Many:dl.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?dl.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?dl.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?dl.Few:0!==n&&n%1e6==0?dl.Many:dl.Other;case"bs":case"hr":case"sr":return 0===i&&o%10==1&&o%100!=11||u%10==1&&u%100!=11?dl.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)||u%10===Math.floor(u%10)&&u%10>=2&&u%10<=4&&!(u%100>=12&&u%100<=14)?dl.Few:dl.Other;case"cs":case"sk":return 1===o&&0===i?dl.One:o===Math.floor(o)&&o>=2&&o<=4&&0===i?dl.Few:0!==i?dl.Many:dl.Other;case"cy":return 0===n?dl.Zero:1===n?dl.One:2===n?dl.Two:3===n?dl.Few:6===n?dl.Many:dl.Other;case"da":return 1===n||0!==a&&(0===o||1===o)?dl.One:dl.Other;case"dsb":case"hsb":return 0===i&&o%100==1||u%100==1?dl.One:0===i&&o%100==2||u%100==2?dl.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||u%100===Math.floor(u%100)&&u%100>=3&&u%100<=4?dl.Few:dl.Other;case"ff":case"fr":case"hy":case"kab":return 0===o||1===o?dl.One:dl.Other;case"fil":return 0===i&&(1===o||2===o||3===o)||0===i&&o%10!=4&&o%10!=6&&o%10!=9||0!==i&&u%10!=4&&u%10!=6&&u%10!=9?dl.One:dl.Other;case"ga":return 1===n?dl.One:2===n?dl.Two:n===Math.floor(n)&&n>=3&&n<=6?dl.Few:n===Math.floor(n)&&n>=7&&n<=10?dl.Many:dl.Other;case"gd":return 1===n||11===n?dl.One:2===n||12===n?dl.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?dl.Few:dl.Other;case"gv":return 0===i&&o%10==1?dl.One:0===i&&o%10==2?dl.Two:0!==i||o%100!=0&&o%100!=20&&o%100!=40&&o%100!=60&&o%100!=80?0!==i?dl.Many:dl.Other:dl.Few;case"he":return 1===o&&0===i?dl.One:2===o&&0===i?dl.Two:0!==i||n>=0&&n<=10||n%10!=0?dl.Other:dl.Many;case"is":return 0===a&&o%10==1&&o%100!=11||0!==a?dl.One:dl.Other;case"ksh":return 0===n?dl.Zero:1===n?dl.One:dl.Other;case"kw":case"naq":case"se":case"smn":return 1===n?dl.One:2===n?dl.Two:dl.Other;case"lag":return 0===n?dl.Zero:0!==o&&1!==o||0===n?dl.Other:dl.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?dl.Few:0!==u?dl.Many:dl.Other:dl.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===i&&u%100===Math.floor(u%100)&&u%100>=11&&u%100<=19?dl.Zero:n%10==1&&n%100!=11||2===i&&u%10==1&&u%100!=11||2!==i&&u%10==1?dl.One:dl.Other;case"mk":return 0===i&&o%10==1||u%10==1?dl.One:dl.Other;case"mt":return 1===n?dl.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?dl.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?dl.Many:dl.Other;case"pl":return 1===o&&0===i?dl.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?dl.Few:0===i&&1!==o&&o%10===Math.floor(o%10)&&o%10>=0&&o%10<=1||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=12&&o%100<=14?dl.Many:dl.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?dl.One:dl.Other;case"ro":return 1===o&&0===i?dl.One:0!==i||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?dl.Few:dl.Other;case"ru":case"uk":return 0===i&&o%10==1&&o%100!=11?dl.One:0===i&&o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?dl.Few:0===i&&o%10==0||0===i&&o%10===Math.floor(o%10)&&o%10>=5&&o%10<=9||0===i&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=14?dl.Many:dl.Other;case"shi":return 0===o||1===n?dl.One:n===Math.floor(n)&&n>=2&&n<=10?dl.Few:dl.Other;case"si":return 0===n||1===n||0===o&&1===u?dl.One:dl.Other;case"sl":return 0===i&&o%100==1?dl.One:0===i&&o%100==2?dl.Two:0===i&&o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4||0!==i?dl.Few:dl.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?dl.One:dl.Other;default:return dl.Other}}(t,e)){case dl.Zero:return"zero";case dl.One:return"one";case dl.Two:return"two";case dl.Few:return"few";case dl.Many:return"many";default:return"other"}}function ml(e,t){var n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:var r=yl(t,"en-US");-1===(n=e.cases.indexOf(r))&&"other"!==r&&(n=e.cases.indexOf("other"));break;case 0:n=e.cases.indexOf("other")}return n}function bl(e,t,n,o){for(var i=[],u=[],a=[],s=[],c=[],l=0;l<t.values.length;l++){for(var f=t.values[l],d=[],p=0;p<f.length;p++){var h=f[p];if("string"!=typeof h){var v=d.push(h)-1;f[p]="\x3c!--�"+v+"�--\x3e"}}var g=_l(f.join(""),n,d,e,o);i.push(g.create),u.push(g.remove),a.push(g.update),s.push(g.vars),c.push(g.childIcus)}var y={type:t.type,vars:s,expandoStartIndex:o+1,childIcus:c,cases:t.cases,create:i,remove:u,update:a};e.push(y);var m=hn(),b=Math.max.apply(Math,Object(r.g)(s));for(l=0;l<b;l++)Pi(m)}function _l(e,t,n,o,i){var u=new pc(document).getInertBodyElement(e);if(!u)throw new Error("Unable to generate inert body element");var a={vars:0,childIcus:[],create:[],remove:[],update:[]};return function e(t,n,o,i,u,a){if(t){for(var s=[];t;){var c=t.nextSibling,l=a+ ++n.vars;switch(t.nodeType){case Node.ELEMENT_NODE:var f=t,d=f.tagName.toLowerCase();if(Dc.hasOwnProperty(d)){n.create.push(Fc,d,o<<17|1);for(var p=f.attributes,h=0;h<p.length;h++){var v=p.item(h),g=v.name.toLowerCase(),y=!!v.value.match(Qc);y?jc.hasOwnProperty(g)?kc[g]?Tt($c(v.value,l,v.name,gc),n.update):Mc[g]?Tt($c(v.value,l,v.name,yc),n.update):Tt($c(v.value,l,v.name),n.update):ngDevMode&&console.warn("WARNING: ignoring unsafe attribute value "+g+" on element "+d+" (see http://g.co/ng/security#xss)"):n.create.push(l<<3|4,v.name,v.value)}e(t.firstChild,n,l,i,u,a),n.remove.push(l<<3|3)}else n.vars--;break;case Node.TEXT_NODE:var m=t.textContent||"",b=m.match(Qc);n.create.push(b?"":m,o<<17|1),n.remove.push(l<<3|3),b&&Tt($c(m,l),n.update);break;case Node.COMMENT_NODE:var _=wl.exec(t.textContent||"");if(_){var w=parseInt(_[1],10),C=ngDevMode?"nested ICU "+w:"";n.create.push(Hc,C,o<<17|1);var x=i[w];s.push([x,l])}else n.vars--;break;default:n.vars--}t=c}for(var h=0;h<s.length;h++){var x=s[h][0],O=s[h][1];bl(u,x,O,a+n.vars);var I=u.length-1;n.vars+=Math.max.apply(Math,Object(r.g)(u[I].vars)),n.childIcus.push(I);var E=Xc(x);n.update.push(nl(x.mainBinding),3,-1-x.mainBinding,O<<2|2,I,E,2,O<<2|3,I),n.remove.push(I<<3|6,O<<3|3)}}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */((Vc(u)||u).firstChild,a,t,n,o,i),a}!function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other"}(dl||(dl={}));var wl=/�(\d+)�/;var Cl={provide:Ts,useClass:nc,deps:[Ns]},xl=function(e){function t(t,n){var r=e.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[];var o=be(t);ngDevMode&&Oe(o,"NgModule '"+Y(t)+"' is not a subtype of 'NgModuleType'."),r._bootstrapComponents=o.bootstrap;var i=[{provide:Ns,useValue:r},Cl];return r._r3Injector=as(t,n,i),r.instance=r.get(t),r}return Object(r.c)(t,e),t.prototype.get=function(e,t,n){return void 0===t&&(t=Fa.THROW_IF_NOT_FOUND),void 0===n&&(n=Nt.Default),e===Fa||e===Ns||e===Aa?this:this._r3Injector.get(e,t,n)},Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Ts)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){ngDevMode&&Oe(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null},t.prototype.onDestroy=function(e){ngDevMode&&Oe(this.destroyCbs,"NgModule already destroyed"),this.destroyCbs.push(e)},t}(Ns),Ol=function(e){function t(t){var n=e.call(this)||this;return n.moduleType=t,n}return Object(r.c)(t,e),t.prototype.create=function(e){return new xl(this.moduleType,e)},t}(Ss);
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Il(e,t,n,o){var i,u=e;null!==t&&(void 0!==u.decorators?(i=u.decorators).push.apply(i,Object(r.g)(t)):u.decorators=t),null!==n&&(u.ctorParameters=n),null!==o&&(void 0!==u.propDecorators?u.propDecorators=Object(r.a)({},u.propDecorators,o):u.propDecorators=o)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function El(e,t,n){var r=jn()+e,o=hn();return wn()?Sr(o,r,n?t.call(n):t()):Rr(o,r)}function Dl(e,t,n,r){var o=hn(),i=jn()+e;return Ar(o,i,n)?Sr(o,i+1,r?t.call(r,n):t(n)):Rr(o,i+1)}function kl(e,t,n,r,o){var i=jn()+e,u=hn();return Vr(u,i,n,r)?Sr(u,i+2,o?t.call(o,n,r):t(n,r)):Rr(u,i+2)}function Ml(e,t,n,r,o,i){var u=jn()+e,a=hn();return Fr(a,u,n,r,o)?Sr(a,u+3,i?t.call(i,n,r,o):t(n,r,o)):Rr(a,u+3)}function Tl(e,t,n,r,o,i,u){var a=jn()+e,s=hn();return Hr(s,a,n,r,o,i)?Sr(s,a+4,u?t.call(u,n,r,o,i):t(n,r,o,i)):Rr(s,a+4)}function jl(e,t,n,r,o,i,u,a){var s=jn()+e,c=hn(),l=Hr(c,s,n,r,o,i);return Ar(c,s+4,u)||l?Sr(c,s+5,a?t.call(a,n,r,o,i,u):t(n,r,o,i,u)):Rr(c,s+5)}function Pl(e,t,n,r,o,i,u,a,s){var c=jn()+e,l=hn(),f=Hr(l,c,n,r,o,i);return Vr(l,c+4,u,a)||f?Sr(l,c+6,s?t.call(s,n,r,o,i,u,a):t(n,r,o,i,u,a)):Rr(l,c+6)}function Nl(e,t,n,r,o,i,u,a,s,c){var l=jn()+e,f=hn(),d=Hr(f,l,n,r,o,i);return Fr(f,l+4,u,a,s)||d?Sr(f,l+7,c?t.call(c,n,r,o,i,u,a,s):t(n,r,o,i,u,a,s)):Rr(f,l+7)}function Sl(e,t,n,r,o,i,u,a,s,c,l){var f=jn()+e,d=hn(),p=Hr(d,f,n,r,o,i);return Hr(d,f+4,u,a,s,c)||p?Sr(d,f+8,l?t.call(l,n,r,o,i,u,a,s,c):t(n,r,o,i,u,a,s,c)):Rr(d,f+8)}function Rl(e,t,n,r){for(var o=jn()+e,i=!1,u=hn(),a=0;a<n.length;a++)Ar(u,o++,n[a])&&(i=!0);return i?Sr(u,o,t.apply(r,n)):Rr(u,o)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Al(e,t){var n,r=hn()[je],o=e+Ye;r.firstTemplatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '"+e+"' could not be found!")}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.pipeDestroyHooks||(r.pipeDestroyHooks=[])).push(o,n.onDestroy)):n=r.data[o];var i=n.factory(null);return na(e,i),i}function Vl(e,t,n){var r=ia(e);return zl(Ul(e)?Dl(t,r.transform,n,r):r.transform(n))}function Fl(e,t,n,r){var o=ia(e);return zl(Ul(e)?kl(t,o.transform,n,r,o):o.transform(n,r))}function Hl(e,t,n,r,o){var i=ia(e);return zl(Ul(e)?Ml(t,i.transform,n,r,o,i):i.transform(n,r,o))}function Ll(e,t,n,r,o,i){var u=ia(e);return zl(Ul(e)?Tl(t,u.transform,n,r,o,i,u):u.transform(n,r,o,i))}function Bl(e,t,n){var r=ia(e);return zl(Ul(e)?Rl(t,r.transform,n,r):r.transform.apply(r,n))}function Ul(e){return hn()[je].data[e+Ye].pure}function zl(e){return kr.isWrapped(e)&&(e=kr.unwrap(e),hn()[jn()]=Nr),e}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Ql=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return Object(r.c)(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,r){var i,u=function(e){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(u=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(u=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var s=e.prototype.subscribe.call(this,i,u,a);return t instanceof o.a&&t.add(s),s},t}(i.a),Zl=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Kl(e,Bs)},e}(),ql=function(e,t){return Fs(e,t,gn(),hn())},Kl=Pa,Wl=function(){function e(e,t,n){this.parent=e,this.shallow=t,this.deep=n}return e.prototype.track=function(e,t,n,r){n?this.deep=af(this.deep,e,t,null!=r?r:null):this.shallow=af(this.shallow,e,t,null!=r?r:null)},e.prototype.clone=function(){return new e(this,null,this.deep)},e.prototype.container=function(){var t=Yl(this.shallow),n=Yl(this.deep);return t||n?new e(this,t,n):null},e.prototype.createView=function(){var t=Gl(this.shallow),n=Gl(this.deep);return t||n?new e(this,t,n):null},e.prototype.insertView=function(e){Jl(e,this.shallow),Jl(e,this.deep)},e.prototype.addNode=function(e){return rf(this.deep,e),vt(e)?(rf(this.shallow,e),e.parent&&vt(e.parent)&&rf(this.parent.shallow,e),this.parent):(function(e){return null===e.parent||vt(e.parent)}(e)&&rf(this.shallow,e),this)},e.prototype.removeView=function(){$l(this.shallow),$l(this.deep)},e}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Yl(e){for(var t=null;e;){var n=[];e.values.push(n),t={next:t,list:e.list,predicate:e.predicate,values:n,containerValues:null},e=e.next}return t}function Gl(e){for(var t=null;e;){t={next:t,list:e.list,predicate:e.predicate,values:[],containerValues:e.values},e=e.next}return t}function Jl(e,t){for(;t;)ngDevMode&&Oe(t.containerValues,"View queries need to have a pointer to container values."),t.containerValues.splice(e,0,t.values),t=t.next}function $l(e){for(;e;){ngDevMode&&Oe(e.containerValues,"View queries need to have a pointer to container values.");var t=e.containerValues,n=t.indexOf(e.values),r=t.splice(n,1);ngDevMode&&_e(r.length,1,"removed.length"),r[0].length&&e.list.setDirty(),e=e.next}}function Xl(e,t){var n=e.localNames;if(n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function ef(e,t,n){var r=e[m];if("function"==typeof r)return r();var o=Yn(t,n,e,!1,!1);return null!==o?Gn(n[je].data,n,o,t):null}function tf(e,t,n,r){var o=e[m]();return r?o?ef(r,t,n):null:o}function nf(e,t,n,r){return n?ef(n,e,t):r>-1?Gn(t[je].data,t,r,e):function(e,t){return 3===e.type||4===e.type?Vs(Bs,e,t):0===e.type?Fs(Zl,Bs,e,t):null}(e,t)}function rf(e,t){for(var n=hn();e;){var r=e.predicate,o=r.type;if(o){var i=null;if(o===Zl)i=tf(o,t,n,r.read);else null!==(s=Yn(t,n,o,!1,!1))&&(i=nf(t,n,r.read,s));null!==i&&of(e,i)}else for(var u=r.selector,a=0;a<u.length;a++){var s;if(null!==(s=Xl(t,u[a])))null!==(i=nf(t,n,r.read,s))&&of(e,i)}e=e.next}}function of(e,t){e.values.push(t),e.list.setDirty()}function uf(e,t){var n=Array.isArray(e);return{type:n?null:e,selector:n?e:null,read:t}}function af(e,t,n,r){return{next:e,list:t,predicate:uf(n,r),values:t._valuesTree,containerValues:null}}var sf=function(){function e(){this.dirty=!0,this.changes=new Ql,this._values=[],this._valuesTree=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){var e=this._values;return e.length?e[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=this._values;return e.length?e[e.length-1]:null},enumerable:!0,configurable:!0}),e.prototype.map=function(e){return this._values.map(e)},e.prototype.filter=function(e){return this._values.filter(e)},e.prototype.find=function(e){return this._values.find(e)},e.prototype.reduce=function(e,t){return this._values.reduce(e,t)},e.prototype.forEach=function(e){this._values.forEach(e)},e.prototype.some=function(e){return this._values.some(e)},e.prototype.toArray=function(){return this._values.slice(0)},e.prototype[q()]=function(){return this._values[q()]()},e.prototype.toString=function(){return this._values.toString()},e.prototype.reset=function(e){this._values=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];Array.isArray(r)?r.length>0?(e=r.concat(e.slice(n+1)),n=0):n++:(t.push(r),n++)}return t}(e),this.dirty=!1},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}();function cf(e,t,n,r){ngDevMode&&ke(bn());var o,i,u,a=new sf;return(o=Wl,i=hn(),u=i[Re],an&&an!==i[Ve]&&!vt(an)&&(u&&(u=i[Re]=u.clone()),an.flags|=4),u||(i[Re]=new o(null,null,null))).track(a,t,n,r),function(e,t,n){var r=da(e);r.push(t),e[je].firstTemplatePass&&pa(e).push(n,r.length-1)}(hn(),a,a.destroy),null!=e&&na(e,a),a}function lf(e){var t=e;return!!e.dirty&&(e.reset(t._valuesTree),e.notifyOnChanges(),!0)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ff(e,t){return Fs(Zl,Bs,e,t)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var df="__SANITIZER_TRUSTED_BRAND__";function pf(e,t){return e instanceof String&&e[df]===t}function hf(e){return bf(e,"Html")}function vf(e){return bf(e,"Style")}function gf(e){return bf(e,"Script")}function yf(e){return bf(e,"Url")}function mf(e){return bf(e,"ResourceUrl")}function bf(e,t){var n=new String(e);return n[df]=t,n}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var _f=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),wf=/^url\(([^)]+)\)$/;function Cf(e){if(!(e=String(e).trim()))return"";var t=e.match(wf);return t&&gc(t[1])===t[1]||e.match(_f)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var o=e.charAt(r);"'"===o&&n?t=!t:'"'===o&&t&&(n=!n)}return t&&n}(e)?e:(fc()&&console.warn("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function xf(e){var t=Mf();return t?t.sanitize(Ys.HTML,e)||"":pf(e,"Html")?e.toString():Ac(document,st(e))}function Of(e){var t=Mf();return t?t.sanitize(Ys.STYLE,e)||"":pf(e,"Style")?e.toString():Cf(st(e))}function If(e){var t=Mf();return t?t.sanitize(Ys.URL,e)||"":pf(e,"Url")?e.toString():gc(st(e))}function Ef(e){var t=Mf();if(t)return t.sanitize(Ys.RESOURCE_URL,e)||"";if(pf(e,"ResourceUrl"))return e.toString();throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Df(e){var t=Mf();if(t)return t.sanitize(Ys.SCRIPT,e)||"";if(pf(e,"Script"))return e.toString();throw new Error("unsafe value used in a script context")}var kf=function(e,t){return void 0===t?"background-image"===e||"background"===e||"border-image"===e||"filter"===e||"list-style"===e||"list-style-image"===e:Of(t)};function Mf(){var e=hn();return e&&e[Qe]}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Tf={"ɵdefineBase":pe,"ɵdefineComponent":se,"ɵdefineDirective":he,defineInjectable:b,defineInjector:_,"ɵdefineNgModule":fe,"ɵdefinePipe":ve,"ɵdirectiveInject":ua,"ɵgetFactoryOf":er,"ɵgetInheritedFactory":tr,inject:Zt,"ɵinjectAttribute":aa,"ɵtemplateRefExtractor":ff,"ɵNgOnChangesFeature":Ta,"ɵProvidersFeature":ws,"ɵInheritDefinitionFeature":Da,"ɵelementAttribute":eu,"ɵbind":Zu,"ɵcontainer":Eu,"ɵnextContext":Si,"ɵcontainerRefreshStart":ku,"ɵcontainerRefreshEnd":Mu,"ɵloadQueryList":oa,"ɵnamespaceHTML":Li,"ɵnamespaceMathML":Hi,"ɵnamespaceSVG":Fi,"ɵenableBindings":dn,"ɵdisableBindings":pn,"ɵallocHostVars":qu,"ɵelementStart":Qi,"ɵelementEnd":Xi,"ɵelement":Bi,"ɵelementContainerStart":Ui,"ɵelementContainerEnd":zi,"ɵpureFunction0":El,"ɵpureFunction1":Dl,"ɵpureFunction2":kl,"ɵpureFunction3":Ml,"ɵpureFunction4":Tl,"ɵpureFunction5":jl,"ɵpureFunction6":Pl,"ɵpureFunction7":Nl,"ɵpureFunction8":Sl,"ɵpureFunctionV":Rl,"ɵgetCurrentView":fa,"ɵrestoreView":vn,"ɵinterpolation1":Wu,"ɵinterpolation2":Yu,"ɵinterpolation3":Gu,"ɵinterpolation4":Ju,"ɵinterpolation5":$u,"ɵinterpolation6":Xu,"ɵinterpolation7":ea,"ɵinterpolation8":ta,"ɵinterpolationV":Ku,"ɵelementClassProp":du,"ɵlistener":$i,"ɵload":ia,"ɵprojection":Ru,"ɵelementProperty":tu,"ɵcomponentHostSyntheticProperty":nu,"ɵpipeBind1":Vl,"ɵpipeBind2":Fl,"ɵpipeBind3":Hl,"ɵpipeBind4":Ll,"ɵpipeBindV":Bl,"ɵprojectionDef":Nu,"ɵpipe":Al,"ɵquery":cf,"ɵqueryRefresh":lf,"ɵregisterContentQuery":sa,"ɵreference":ra,"ɵelementStyling":su,"ɵelementHostAttrs":cu,"ɵelementStylingMap":pu,"ɵelementStyleProp":fu,"ɵelementStylingApply":lu,"ɵtemplate":Iu,"ɵtext":hu,"ɵtextBinding":vu,"ɵembeddedViewStart":Tu,"ɵembeddedViewEnd":ju,"ɵi18n":ll,"ɵi18nAttributes":fl,"ɵi18nExp":vl,"ɵi18nStart":ol,"ɵi18nEnd":al,"ɵi18nApply":gl,"ɵi18nPostprocess":ul,"ɵsanitizeHtml":xf,"ɵsanitizeStyle":Of,"ɵdefaultStyleSanitizer":kf,"ɵsanitizeResourceUrl":Ef,"ɵsanitizeScript":Df,"ɵsanitizeUrl":If},jf=function(){return function(){}}(),Pf=new Map;
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Nf(e,t){var n=Pf.get(e);Sf(e,n&&n.moduleType),Pf.set(e,t)}function Sf(e,t){if(t)throw new Error("Duplicate module registered for "+e+" - "+Y(t)+" vs "+Y(t.name))}function Rf(e){var t=Pf.get(e);if(!t)throw Ff(e);return t}function Af(e){var t=Pf.get(e);if(!t)throw Ff(e);return new Ol(t)}var Vf=Rf;function Ff(e){return new Error("No module with ID "+e+" loaded")}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Hf=Function;function Lf(e){return"function"==typeof e}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Bf=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Uf=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,zf=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Qf=function(){function e(e){this._reflect=e||z.Reflect}return e.prototype.isReflectionEnabled=function(){return!0},e.prototype.factory=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new(e.bind.apply(e,Object(r.g)([void 0],t)))}},e.prototype._zipTypesAndAnnotations=function(e,t){var n;n=void 0===e?new Array(t.length):new Array(e.length);for(var r=0;r<n.length;r++)void 0===e?n[r]=[]:e[r]!=Object?n[r]=[e[r]]:n[r]=[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n},e.prototype._ownParameters=function(e,t){var n=e.toString();if(Bf.exec(n)||Uf.exec(n)&&!zf.exec(n))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==t.ctorParameters){var o="function"==typeof r?r():r,i=o.map(function(e){return e&&e.type}),u=o.map(function(e){return e&&Zf(e.decorators)});return this._zipTypesAndAnnotations(i,u)}var a=e.hasOwnProperty(I)&&e[I],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||a?this._zipTypesAndAnnotations(s,a):new Array(e.length).fill(void 0)},e.prototype.parameters=function(e){if(!Lf(e))return[];var t=qf(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]},e.prototype._ownAnnotations=function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?Zf(e.decorators):e.hasOwnProperty(O)?e[O]:null},e.prototype.annotations=function(e){if(!Lf(e))return[];var t=qf(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)},e.prototype._ownPropMetadata=function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,o={};return Object.keys(r).forEach(function(e){o[e]=Zf(r[e])}),o}return e.hasOwnProperty(E)?e[E]:null},e.prototype.propMetadata=function(e){if(!Lf(e))return{};var t=qf(e),n={};if(t!==Object){var o=this.propMetadata(t);Object.keys(o).forEach(function(e){n[e]=o[e]})}var i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach(function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,Object(r.g)(n[e])),t.push.apply(t,Object(r.g)(i[e])),n[e]=t}),n},e.prototype.hasLifecycleHook=function(e,t){return e instanceof Hf&&t in e.prototype},e.prototype.guards=function(e){return{}},e.prototype.getter=function(e){return new Function("o","return o."+e+";")},e.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},e.prototype.method=function(e){return new Function("o","args","if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);")},e.prototype.importUri=function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+Y(e)},e.prototype.resourceUri=function(e){return"./"+Y(e)},e.prototype.resolveIdentifier=function(e,t,n,r){return r},e.prototype.resolveEnum=function(e,t){return e[t]},e}();function Zf(e){return e?e.map(function(e){var t=e.type.annotationCls,n=e.args?e.args:[];return new(t.bind.apply(t,Object(r.g)([void 0],n)))}):[]}function qf(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Kf=null;function Wf(){return Kf=Kf||new Qf}function Yf(e){return Gf(Wf().parameters(e))}function Gf(e){var t=Pt();return e.map(function(e){return function(e,t){var n={token:null,host:!1,optional:!1,resolved:e.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(t){n.resolved=e.R3ResolvedDependencyType.Token,n.token=t}if(Array.isArray(t)){if(0===t.length)throw new Error("Dependency array must have arguments.");for(var o=0;o<t.length;o++){var i=t[o];if(void 0!==i)if(i instanceof Rt||"Optional"===i.__proto__.ngMetadataName)n.optional=!0;else if(i instanceof Vt||"SkipSelf"===i.__proto__.ngMetadataName)n.skipSelf=!0;else if(i instanceof At||"Self"===i.__proto__.ngMetadataName)n.self=!0;else if(i instanceof Ft||"Host"===i.__proto__.ngMetadataName)n.host=!0;else if(i instanceof St)n.token=i.token;else if(i instanceof S){if(void 0===i.attributeName)throw new Error("Attribute name must be defined.");n.token=i.attributeName,n.resolved=e.R3ResolvedDependencyType.Attribute}else r(i)}}else r(t);return n}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(t,e)})}var Jf=[],$f=[];var Xf=!1;function ed(e){return Array.isArray(e)?e.every(ed):!!$(e)}function td(e,t){void 0===t&&(t={}),nd(e,t),function(e,t){$f.push({moduleType:e,ngModule:t})}(e,t)}function nd(e,t){ngDevMode&&Oe(e,"Required value moduleType"),ngDevMode&&Oe(t,"Required value ngModule");var n,r,o=pd(t.declarations||Jf),i=null;Object.defineProperty(e,g,{configurable:!0,get:function(){return null===i&&(i=Pt().compileNgModule(Tf,"ng://"+e.name+"/ngModuleDef.js",{type:e,bootstrap:pd(t.bootstrap||Jf,$),declarations:o.map($),imports:pd(t.imports||Jf,$).map(hd),exports:pd(t.exports||Jf,$).map(hd),emitInline:!0})),i}}),t.id&&(n=t.id,r=e,Sf(n,Pf.get(n)),Pf.set(n,r));var u=null;Object.defineProperty(e,h,{get:function(){if(null===u){ngDevMode&&rd(e);var n={name:e.name,type:e,deps:Yf(e),providers:t.providers||Jf,imports:[(t.imports||Jf).map($),(t.exports||Jf).map($)]};u=Pt().compileInjector(Tf,"ng://"+e.name+"/ngInjectorDef.js",n)}return u},configurable:!!ngDevMode})}function rd(e){if(!ad.get(e)){ad.set(e,!0);var t=be(e=$(e),!0),n=[];t.declarations.forEach(function(t){ge(t=$(t))||ye(t)||me(t)||n.push("Unexpected value '"+st(t)+"' declared by the module '"+st(e)+"'. Please add a @Pipe/@Directive/@Component annotation.")});var o=Object(r.g)(t.declarations.map($),pd(t.imports.map(cd),$));t.exports.forEach(function(t){var r=(ge(t=$(t))?"component":ye(t)&&"directive")||me(t)&&"pipe";r&&-1===o.lastIndexOf(t)&&n.push("Can't export "+r+" "+st(t)+" from "+st(e)+" as it was neither declared nor imported!")}),t.declarations.forEach(function(t){t=$(t);var r=ud.get(t);if(r&&r!==e){var o=[r,e].map(st).sort();n.push("Type "+st(t)+" is part of the declarations of 2 modules: "+o[0]+" and "+o[1]+"! Please consider moving "+st(t)+" to a higher module that imports "+o[0]+" and "+o[1]+". You can also create a new NgModule that exports and includes "+st(t)+" then import that NgModule in "+o[0]+" and "+o[1]+".")}else ud.set(t,e)}),t.declarations.forEach(function(e){if(ge(e=$(e))){var t=id(e,"Component");t&&t.entryComponents&&t.entryComponents.forEach(u)}});var i=id(e,"NgModule");if(i&&(i.imports&&pd(i.imports,od).forEach(rd),i.bootstrap&&i.bootstrap.forEach(u),i.entryComponents&&i.entryComponents.forEach(u)),n.length)throw new Error(n.join("\n"))}function u(e){e=$(e),ud.get(e)||n.push("Component "+st(e)+" is not part of any NgModule or the module has not been imported into your module.")}}function od(e){return(e=$(e)).ngModule||e}function id(e,t){var n=null;return r(e.__annotations__),r(e.decorators),n;function r(e){e&&e.forEach(o)}function o(e){if(!n)if(Object.getPrototypeOf(e).ngMetadataName==t)n=e;else if(e.type){Object.getPrototypeOf(e.type).ngMetadataName==t&&(n=e.args[0])}}}var ud=new Map,ad=new Map;function sd(){ud=new Map,ad=new Map,$f.length=0}function cd(e){var t=be(e=$(e),!0);return Object(r.g)(pd(t.exports.map(function(e){return be(e)?(rd(e),cd(e)):e})))}function ld(e,t){var n=pd(t.declarations||Jf),r=dd(e);n.forEach(function(t){t.hasOwnProperty(f)?fd(ge(t),r):t.hasOwnProperty(d)||t.hasOwnProperty(v)||(t.ngSelectorScope=e)})}function fd(e,t){e.directiveDefs=function(){return Array.from(t.compilation.directives).map(function(e){return ye(e)||ge(e)}).filter(function(e){return!!e})},e.pipeDefs=function(){return Array.from(t.compilation.pipes).map(function(e){return me(e)})}}function dd(e){if(!vd(e))throw new Error(e.name+" does not have an ngModuleDef");var t=be(e);if(null!==t.transitiveCompileScopes)return t.transitiveCompileScopes;var n={compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return t.declarations.forEach(function(e){me(e)?n.compilation.pipes.add(e):n.compilation.directives.add(e)}),t.imports.forEach(function(e){var t=e;if(!vd(t))throw new Error("Importing "+t.name+" which does not have an ngModuleDef");var r=dd(t);r.exported.directives.forEach(function(e){return n.compilation.directives.add(e)}),r.exported.pipes.forEach(function(e){return n.compilation.pipes.add(e)})}),t.exports.forEach(function(e){var t=e;if(vd(t)){var r=dd(t);r.exported.directives.forEach(function(e){n.compilation.directives.add(e),n.exported.directives.add(e)}),r.exported.pipes.forEach(function(e){n.compilation.pipes.add(e),n.exported.pipes.add(e)})}else me(t)?n.exported.pipes.add(t):n.exported.directives.add(t)}),t.transitiveCompileScopes=n,n}function pd(e,t){var n=[];return e.forEach(function(e){Array.isArray(e)?n.push.apply(n,Object(r.g)(pd(e,t))):n.push(t?t(e):e)}),n}function hd(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}function vd(e){return!!be(e)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function gd(e,t){var n=null;!function(e){re(e)&&ne.add(e)}(t),Object.defineProperty(e,f,{get:function(){var o=Pt();if(null===n){if(re(t)){var i=["Component '"+st(e)+"' is not resolved:"];throw t.templateUrl&&i.push(" - templateUrl: "+st(t.templateUrl)),t.styleUrls&&t.styleUrls.length&&i.push(" - styleUrls: "+JSON.stringify(t.styleUrls)),i.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(i.join("\n"))}var u=Object(r.a)({},bd(e,t),{template:t.template||"",preserveWhitespaces:t.preserveWhitespaces||!1,styles:t.styles||ue,animations:t.animations,viewQueries:_d(e,Wf().propMetadata(e),Cd),directives:[],changeDetection:t.changeDetection,pipes:new Map,encapsulation:t.encapsulation||ee.Emulated,interpolation:t.interpolation,viewProviders:t.viewProviders||null});if(n=o.compileComponent(Tf,"ng://"+st(e)+"/template.html",u),function(){if(!Xf){Xf=!0;try{for(var e=$f.length-1;e>=0;e--){var t=$f[e],n=t.moduleType,r=t.ngModule;r.declarations&&r.declarations.every(ed)&&($f.splice(e,1),ld(n,r))}}finally{Xf=!1}}}(),void 0!==e.ngSelectorScope){var a=dd(e.ngSelectorScope);fd(n,a)}}return n},configurable:!!ngDevMode})}function yd(e,t){var n=null;Object.defineProperty(e,d,{get:function(){if(null===n){var r=bd(e,t);n=Pt().compileDirective(Tf,"ng://"+(e&&e.name)+"/ngDirectiveDef.js",r)}return n},configurable:!!ngDevMode})}function md(e){return Object.getPrototypeOf(e.prototype)===Object.prototype}function bd(e,t){var n=Wf().propMetadata(e);return{name:e.name,type:e,typeArgumentCount:0,selector:t.selector,deps:Yf(e),host:t.host||ie,propMetadata:n,inputs:t.inputs||ue,outputs:t.outputs||ue,queries:_d(e,n,wd),lifecycle:{usesOnChanges:void 0!==e.prototype.ngOnChanges},typeSourceSpan:null,usesInheritance:!md(e),exportAs:t.exportAs||null,providers:t.providers||null}}function _d(e,t,n){var r=[],o=function(o){t.hasOwnProperty(o)&&t[o].forEach(function(t){if(n(t)){if(!t.selector)throw new Error("Can't construct a query for the property \""+o+'" of "'+st(e)+"\" since the query selector wasn't defined.");r.push(function(e,t){return{propertyName:e,predicate:(n=t.selector,"string"==typeof n?n.split(",").map(function(e){return e.trim()}):$(n)),descendants:t.descendants,first:t.first,read:t.read?t.read:null};var n}(o,t))}})};for(var i in t)o(i);return r}function wd(e){var t=e.ngMetadataName;return"ContentChild"===t||"ContentChildren"===t}function Cd(e){var t=e.ngMetadataName;return"ViewChild"===t||"ViewChildren"===t}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function xd(e,t){var n=null;Object.defineProperty(e,v,{get:function(){return null===n&&(n=Pt().compilePipe(Tf,"ng://"+st(e)+"/ngPipeDef.js",{type:e,name:e.name,deps:Yf(e),pipeName:t.name,pure:void 0===t.pure||t.pure})),n},configurable:!!ngDevMode})}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Od=D("Directive",function(e){return void 0===e&&(e={}),e},void 0,void 0,function(e,t){return Ad(e,t)}),Id=D("Component",function(e){return void 0===e&&(e={}),Object(r.a)({changeDetection:j.Default},e)},Od,void 0,function(e,t){return Rd(e,t)}),Ed=D("Pipe",function(e){return Object(r.a)({pure:!0},e)},void 0,void 0,function(e,t){return Vd(e,t)}),Dd=function(e){return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=t.constructor;i.hasOwnProperty(y)||function(e){var t=e.constructor,n=t.ngBaseDef,r=t.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(l(r.inputs,n.inputs),l(r.outputs,n.outputs),l(r.declaredInputs,n.declaredInputs))}(t);var u=i.ngBaseDef;e(u)[n]=r[0]}},kd=T("Input",function(e){return{bindingPropertyName:e}},void 0,Dd(function(e){return e.inputs||{}})),Md=T("Output",function(e){return{bindingPropertyName:e}},void 0,Dd(function(e){return e.outputs||{}})),Td=T("HostBinding",function(e){return{hostPropertyName:e}}),jd=T("HostListener",function(e,t){return{eventName:e,args:t}}),Pd=gd,Nd=yd,Sd=xd,Rd=Pa,Ad=Pa,Vd=Pa,Fd=c({provide:String,useValue:c}),Hd=[];function Ld(e,t){if(!t){var n=(c=new Qf).parameters(e);return function(){return new(e.bind.apply(e,Object(r.g)([void 0],Kt(n))))}}if(Fd in t){var o=t;return function(){return o.useValue}}if(t.useExisting){var i=t;return function(){return Zt(i.useExisting)}}if(t.useFactory){var u=t;return function(){return u.useFactory.apply(u,Object(r.g)(Kt(u.deps||Hd)))}}if(t.useClass){var a=t,s=t.deps;if(!s){var c=new Qf;s=c.parameters(e)}return function(){var e;return new((e=a.useClass).bind.apply(e,Object(r.g)([void 0],Kt(s))))}}var l=t.deps;if(!l){c=new Qf;l=c.parameters(e)}return function(){return new(e.bind.apply(e,Object(r.g)([void 0],Kt(l))))}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Bd={name:"custom-elements"},Ud={name:"no-errors-schema"},zd=D("NgModule",function(e){return e},void 0,void 0,function(e,t){return Zd(e,t)});var Qd=td,Zd=function(e,t){var n=t&&t.imports||[];t&&t.exports&&(n=Object(r.g)(n,[t.exports])),e.ngInjectorDef=_({factory:Ld(e,{useClass:e}),providers:t&&t.providers,imports:n})};var qd=c({provide:String,useValue:c});function Kd(e){return void 0!==e.useClass}function Wd(e){return qd in e}function Yd(e){return void 0!==e.useFactory}function Gd(e){return void 0!==e.useExisting}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Jd=D("Injectable",void 0,void 0,void 0,function(e,t){return Xd(e,t)});var $d=
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(e,t){var n=null;e.hasOwnProperty(p)||Object.defineProperty(e,p,{get:function(){if(null===n){var r=t||{providedIn:null},o=Kd(r)||Yd(r)||Wd(r)||Gd(r),i={name:e.name,type:e,typeArgumentCount:0,providedIn:r.providedIn,ctorDeps:Yf(e),userDeps:void 0};if((Kd(r)||Yd(r))&&void 0!==r.deps&&(i.userDeps=Gf(r.deps)),o)if(Kd(r))i.useClass=r.useClass;else if(Wd(r))i.useValue=r.useValue;else if(Yd(r))i.useFactory=r.useFactory;else{if(!Gd(r))throw new Error("Unreachable state.");i.useExisting=r.useExisting}else i.useClass=e;n=Pt().compileInjectable(Tf,"ng://"+e.name+"/ngInjectableDef.js",i)}return n}})},Xd=function(e,t){t&&void 0!==t.providedIn&&!w(e)&&(e.ngInjectableDef=b({providedIn:t.providedIn,factory:Ld(e,t)}))},ep="ngDebugContext",tp="ngOriginalError",np="ngErrorLogger";function rp(e){return e[ep]}function op(e){return e[tp]}function ip(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,Object(r.g)(t))}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var up=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[np]||ip}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?rp(e)?rp(e):this._findContext(op(e)):null},e.prototype._findOriginalError=function(e){for(var t=op(e);t&&op(t);)t=op(t);return t},e}();function ap(e){return e.length>1?" ("+
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function(e){for(var t=[],n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(function(e){return Y(e.token)}).join(" -> ")+")":""}function sp(e,t,n,r){var o=[t],i=n(o),u=r?function(e,t){var n=e+" caused by: "+(t instanceof Error?t.message:t),r=Error(n);return r[tp]=t,r}(i,r):Error(i);return u.addKey=cp,u.keys=o,u.injectors=[e],u.constructResolvingMessage=n,u[tp]=r,u}function cp(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function lp(e,t){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];i&&0!=i.length?n.push(i.map(Y).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+Y(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+Y(e)+"' is decorated with Injectable.")}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var fp=function(){function e(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=Y(this.token)}return e.get=function(e){return dp.get($(e))},Object.defineProperty(e,"numberOfKeys",{get:function(){return dp.numberOfKeys},enumerable:!0,configurable:!0}),e}(),dp=new(function(){function e(){this._allKeys=new Map}return e.prototype.get=function(e){if(e instanceof fp)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new fp(e,fp.numberOfKeys);return this._allKeys.set(e,t),t},Object.defineProperty(e.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),e}()),pp=new(function(){function e(e){this.reflectionCapabilities=e}return e.prototype.updateCapabilities=function(e){this.reflectionCapabilities=e},e.prototype.factory=function(e){return this.reflectionCapabilities.factory(e)},e.prototype.parameters=function(e){return this.reflectionCapabilities.parameters(e)},e.prototype.annotations=function(e){return this.reflectionCapabilities.annotations(e)},e.prototype.propMetadata=function(e){return this.reflectionCapabilities.propMetadata(e)},e.prototype.hasLifecycleHook=function(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)},e.prototype.getter=function(e){return this.reflectionCapabilities.getter(e)},e.prototype.setter=function(e){return this.reflectionCapabilities.setter(e)},e.prototype.method=function(e){return this.reflectionCapabilities.method(e)},e.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},e.prototype.resourceUri=function(e){return this.reflectionCapabilities.resourceUri(e)},e.prototype.resolveIdentifier=function(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)},e.prototype.resolveEnum=function(e,t){return this.reflectionCapabilities.resolveEnum(e,t)},e}())(new Qf),hp=function(){function e(e,t,n){this.key=e,this.optional=t,this.visibility=n}return e.fromKey=function(t){return new e(t,!1,null)},e}(),vp=[],gp=function(){return function(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),yp=function(){return function(e,t){this.factory=e,this.dependencies=t}}();function mp(e){var t,n;if(e.useClass){var r=$(e.useClass);t=pp.factory(r),n=wp(r)}else e.useExisting?(t=function(e){return e},n=[hp.fromKey(fp.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){var n=t.map(function(e){return[e]});return t.map(function(t){return Cp(e,t,n)})}return wp(e)}(e.useFactory,e.deps)):(t=function(){return e.useValue},n=vp);return new yp(t,n)}function bp(e){return new gp(fp.get(e.provide),[mp(e)],e.multi||!1)}function _p(e){var t=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=t.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+o+" "+r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else t.set(r.key.id,r)}else{var u=void 0;u=r.multiProvider?new gp(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,u)}}return t}(function e(t,n){t.forEach(function(t){if(t instanceof Hf)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!(t instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t);e(t,n)}});return n}(e,[]).map(bp),new Map);return Array.from(t.values())}function wp(e){var t=pp.parameters(e);if(!t)return[];if(t.some(function(e){return null==e}))throw lp(e,t);return t.map(function(n){return Cp(e,n,t)})}function Cp(e,t,n){var r=null,o=!1;if(!Array.isArray(t))return xp(t instanceof St?t.token:t,o,null);for(var i=null,u=0;u<t.length;++u){var a=t[u];a instanceof Hf?r=a:a instanceof St?r=a.token:a instanceof Rt?o=!0:a instanceof At||a instanceof Vt?i=a:a instanceof x&&(r=a)}if(null!=(r=$(r)))return xp(r,o,i);throw lp(e,n)}function xp(e,t,n){return new hp(fp.get(e),t,n)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Op=new Object,Ip=function(){function e(){}return e.resolve=function(e){return _p(e)},e.resolveAndCreate=function(t,n){var r=e.resolve(t);return e.fromResolvedProviders(r,n)},e.fromResolvedProviders=function(e,t){return new Ep(e,t)},e}(),Ep=function(){function e(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;var n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=Op}return e.prototype.get=function(e,t){return void 0===t&&(t=Ra),this._getByKey(fp.get(e),null,t)},e.prototype.resolveAndCreateChild=function(e){var t=Ip.resolve(e);return this.createChildFromResolved(t)},e.prototype.createChildFromResolved=function(t){var n=new e(t);return n.parent=this,n},e.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(Ip.resolve([e])[0])},e.prototype.instantiateResolved=function(e){return this._instantiateProvider(e)},e.prototype.getProviderAtIndex=function(e){if(e<0||e>=this._providers.length)throw function(e){return Error("Index "+e+" is out-of-bounds.")}(e);return this._providers[e]},e.prototype._new=function(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw t=this,n=e.key,sp(t,n,function(e){return"Cannot instantiate cyclic dependency!"+ap(e)});var t,n;return this._instantiateProvider(e)},e.prototype._getMaxNumberOfObjects=function(){return this.objs.length},e.prototype._instantiateProvider=function(e){if(e.multiProvider){for(var t=new Array(e.resolvedFactories.length),n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])},e.prototype._instantiate=function(e,t){var n,o,i,u,a,s=this,c=t.factory;try{n=t.dependencies.map(function(e){return s._getByReflectiveDependency(e)})}catch(t){throw t.addKey&&t.addKey(this,e.key),t}try{o=c.apply(void 0,Object(r.g)(n))}catch(t){throw i=this,u=t,t.stack,a=e.key,sp(i,a,function(e){var t=Y(e[0].token);return u.message+": Error during instantiation of "+t+"!"+ap(e)+"."},u)}return o},e.prototype._getByReflectiveDependency=function(e){return this._getByKey(e.key,e.visibility,e.optional?null:Ra)},e.prototype._getByKey=function(t,n,r){return t===e.INJECTOR_KEY?this:n instanceof At?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,n)},e.prototype._getObjByKeyId=function(e){for(var t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Op&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Op},e.prototype._throwOrNull=function(e,t){if(t!==Ra)return t;throw function(e,t){return sp(e,t,function(e){return"No provider for "+Y(e[0].token)+"!"+ap(e)})}(this,e)},e.prototype._getByKeySelf=function(e,t){var n=this._getObjByKeyId(e.id);return n!==Op?n:this._throwOrNull(e,t)},e.prototype._getByKeyDefault=function(t,n,r){var o;for(o=r instanceof Vt?this.parent:this;o instanceof e;){var i=o,u=i._getObjByKeyId(t.id);if(u!==Op)return u;o=i.parent}return null!==o?o.get(t.token,n):this._throwOrNull(t,n)},Object.defineProperty(e.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(e,t){for(var n=new Array(e._providers.length),r=0;r<e._providers.length;++r)n[r]=t(e.getProviderAtIndex(r));return n}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(this,function(e){return' "'+e.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.displayName},e.INJECTOR_KEY=fp.get(Fa),e}();function Dp(e){return!!e&&"function"==typeof e.then}function kp(e){return!!e&&"function"==typeof e.subscribe}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Mp=new x("Application Initializer"),Tp=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();Dp(o)&&t.push(o)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},e=Object(r.b)([Jd(),Object(r.e)(0,St(Mp)),Object(r.e)(0,Rt()),Object(r.d)("design:paramtypes",[Array])],e)}(),jp=new x("AppId");function Pp(){return""+Sp()+Sp()+Sp()}var Np={provide:jp,useFactory:Pp,deps:[]};function Sp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Rp=new x("Platform Initializer"),Ap=new x("Platform ID"),Vp=new x("appBootstrapListener"),Fp=new x("Application Packages Root URL"),Hp=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e=Object(r.b)([Jd()],e)}(),Lp=function(){return function(e,t){this.ngModuleFactory=e,this.componentFactories=t}}();function Bp(){throw new Error("Runtime compiler is not loaded")}var Up,zp,Qp=function(e){return new Ol(e)},Zp=Bp,qp=function(e){return Promise.resolve(Qp(e))},Kp=Bp,Wp=function(e){return new Lp(Qp(e),[])},Yp=Bp,Gp=function(e){return Promise.resolve(Wp(e))},Jp=Bp,$p=function(){function e(){this.compileModuleSync=Zp,this.compileModuleAsync=Kp,this.compileModuleAndAllComponentsSync=Yp,this.compileModuleAndAllComponentsAsync=Jp}return e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e.prototype.getModuleId=function(e){},e=Object(r.b)([Jd()],e)}(),Xp=new x("compilerOptions"),eh=function(){return function(){}}();function th(){var e=z.wtf;return!(!e||!(Up=e.trace))&&(zp=Up.events,!0)}function nh(e,t){return void 0===t&&(t=null),zp.createScope(e,t)}function rh(e,t){return Up.leaveScope(e,t),t}function oh(e,t){return Up.beginTimeRange(e,t)}function ih(e){Up.endTimeRange(e)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var uh=th();function ah(e,t){return null}var sh=uh?nh:function(e,t){return ah},ch=uh?rh:function(e,t){return t},lh=uh?oh:function(e,t){return null},fh=uh?ih:function(e){return null},dh=function(){function e(e){var t=e.enableLongStackTrace,n=void 0!==t&&t;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ql(!1),this.onMicrotaskEmpty=new Ql(!1),this.onStable=new Ql(!1),this.onError=new Ql(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var r;this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(r=this)._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,n,o,i,u){try{return gh(r),e.invokeTask(n,o,i,u)}finally{yh(r)}},onInvoke:function(e,t,n,o,i,u,a){try{return gh(r),e.invoke(n,o,i,u,a)}finally{yh(r)}},onHasTask:function(e,t,n,o){e.hasTask(n,o),t===n&&("microTask"==o.change?(r.hasPendingMicrotasks=o.microTask,vh(r)):"macroTask"==o.change&&(r.hasPendingMacrotasks=o.macroTask))},onHandleError:function(e,t,n,o){return e.handleError(n,o),r.runOutsideAngular(function(){return r.onError.emit(o)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,r){var o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,e,hh,ph,ph);try{return o.runTask(i,t,n)}finally{o.cancelTask(i)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function ph(){}var hh={};function vh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function gh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yh(e){e._nesting--,vh(e)}var mh=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ql,this.onMicrotaskEmpty=new Ql,this.onStable=new Ql,this.onError=new Ql}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),bh=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){t.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){dh.assertNotInAngularZone(),K(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())K(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]},e.prototype.addCallback=function(e,t,n){var r=this,o=-1;t&&t>0&&(o=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==o}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:n})},e.prototype.whenStable=function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e=Object(r.b)([Jd(),Object(r.d)("design:paramtypes",[dh])],e)}(),_h=function(){function e(){this._applications=new Map,xh.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),xh.findTestabilityInTree(this,e,t)},e=Object(r.b)([Jd(),Object(r.d)("design:paramtypes",[])],e)}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function wh(e){xh=e}var Ch,xh=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),Oh=function(e,t,n){return e.get(eh).createCompiler([t]).compileModuleAsync(n)};
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Ih(e,t,n){var r;return ngDevMode&&(void 0===r&&(r="Type passed in is not NgModuleType, it does not have 'ngModuleDef' property."),be(n)||Ee(r)),Promise.resolve(new Ol(n))}var Eh=new x("AllowMultipleToken"),Dh=function(){return function(e,t){this.name=e,this.token=t}}();function kh(e){if(Ch&&!Ch.destroyed&&!Ch.injector.get(Eh,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ch=e.get(Nh);var t=e.get(Rp,null);return t&&t.forEach(function(e){return e()}),Ch}function Mh(e,t,n){void 0===n&&(n=[]);var r="Platform: "+t,o=new x(r);return function(t){void 0===t&&(t=[]);var i=Ph();if(!i||i.injector.get(Eh,!1))if(e)e(n.concat(t).concat({provide:o,useValue:!0}));else{var u=n.concat(t).concat({provide:o,useValue:!0});kh(Fa.create({providers:u,name:r}))}return Th(o)}}function Th(e){var t=Ph();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function jh(){Ch&&!Ch.destroyed&&Ch.destroy()}function Ph(){return Ch&&!Ch.destroyed?Ch:null}var Nh=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n=this,r=function(e){var t;t="noop"===e?new mh:("zone.js"===e?void 0:e)||new dh({enableLongStackTrace:fc()});return t}(t?t.ngZone:void 0),o=[{provide:dh,useValue:r}];return r.run(function(){var t=Fa.create({providers:o,parent:n.injector,name:e.moduleType.name}),i=e.create(t),u=i.injector.get(up,null);if(!u)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(function(){return Ah(n._modules,i)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(e){u.handleError(e)}})}),function(e,t,n){try{var r=n();return Dp(r)?r.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):r}catch(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}}(u,r,function(){var e=i.injector.get(Tp);return e.runInitializers(),e.donePromise.then(function(){return n._moduleDoBootstrap(i),i})})})},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var r=Sh({},t);return Oh(this.injector,r,e).then(function(e){return n.bootstrapModuleFactory(e,r)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(Rh);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+Y(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e=Object(r.b)([Jd(),Object(r.d)("design:paramtypes",[Fa])],e)}();function Sh(e,t){return e=Array.isArray(t)?t.reduce(Sh,e):Object(r.a)({},e,t)}var Rh=function(){function e(e,t,n,r,o,i){var c=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=fc(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new u.a(function(e){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){e.next(c._stable),e.complete()})}),f=new u.a(function(e){var t;c._zone.runOutsideAngular(function(){t=c._zone.onStable.subscribe(function(){dh.assertNotInAngularZone(),K(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,e.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){dh.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(a.a)(l,f.pipe(Object(s.a)()))}var t;return t=e,e.prototype.bootstrap=function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof xs?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var o=n instanceof Ps?null:this._injector.get(Ns),i=t||n.selector,u=n.create(Fa.NULL,[],i,o);u.onDestroy(function(){r._unloadComponent(u)});var a=u.injector.get(bh,null);return a&&u.injector.get(_h).registerApplication(u.location.nativeElement,a),this._loadComponent(u),fc()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),u},e.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(t){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(t)})}finally{this._runningTick=!1,ch(n)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;Ah(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Vp,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),Ah(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=sh("ApplicationRef#tick()"),e=t=Object(r.b)([Jd(),Object(r.d)("design:paramtypes",[dh,Hp,Fa,up,Ts,Tp])],e)}();function Ah(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Vh=function(){function e(){this.dirty=!0,this._results=[],this.changes=new Ql,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[q()]=function(){return this._results[q()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,n){var r=Array.isArray(n)?e(n):n;return t.concat(r)},[])}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}();var Fh=function(){return function(){}}(),Hh={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Lh=function(){function e(e,t){this._compiler=e,this._config=t||Hh}return e.prototype.load=function(e){return this._compiler instanceof $p?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,o=Object(r.f)(e.split("#"),2),i=o[0],u=o[1];return void 0===u&&(u="default"),n(14)(i).then(function(e){return e[u]}).then(function(e){return Bh(e,i,u)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=Object(r.f)(e.split("#"),2),o=t[0],i=t[1],u="NgFactory";return void 0===i&&(i="default",u=""),n(14)(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(function(e){return e[i+u]}).then(function(e){return Bh(e,o,i)})},e=Object(r.b)([Jd(),Object(r.e)(1,Rt()),Object(r.d)("design:paramtypes",[$p,Fh])],e)}();function Bh(e,t,n){if(!e)throw new Error("Cannot find '"+n+"' in '"+t+"'");return e}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Uh=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Qh(e,Bs)},e}(),zh=function(e,t){return function(e,t,n,o){var i;Ds||(Ds=function(e){function n(t,n,r){var o=e.call(this)||this;return o._lContainer=t,o._hostTNode=n,o._hostView=r,o._viewRefs=[],o}return Object(r.c)(n,e),Object.defineProperty(n.prototype,"element",{get:function(){return Vs(t,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new Xn(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){var e=zn(this._hostTNode,this._hostView),t=Dt(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,o=n.parent;null!=o.parent&&r==o.injectorIndex;)o=o.parent;return o}for(var i=Et(e),u=t,a=t[Ve];i>1;)a=(u=u[We])[Ve],i--;return a}(e,this._hostView,this._hostTNode);return Ot(e)&&null!=n?new Xn(n,t):new Xn(null,this._hostView)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(;this._lContainer[Je].length;)this.remove(0)},n.prototype.get=function(e){return this._viewRefs[e]||null},Object.defineProperty(n.prototype,"length",{get:function(){return this._lContainer[Je].length},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(e,t,n){var r=this._adjustIndex(n),o=e.createEmbeddedView(t||{},this._lContainer,this._hostTNode,this._hostView,r);return o.attachToViewContainerRef(this),this._viewRefs.splice(r,0,o),o},n.prototype.createComponent=function(e,t,n,r,o){var i=n||this.parentInjector;!o&&null==e.ngModule&&i&&(o=i.get(Ns,null));var u=e.create(i,r,void 0,o);return this.insert(u.hostView,t),u},n.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=e._lView,r=this._adjustIndex(t);Xr(n,this._lContainer,this._hostView,r,this._hostTNode.index);var o=po(r,this._lContainer[Je],this._lContainer[$e]);return $r(n,!0,o),e.attachToViewContainerRef(this),this._viewRefs.splice(r,0,e),e},n.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n=this.indexOf(e);return this.detach(n),this.insert(e,this._adjustIndex(t)),e},n.prototype.indexOf=function(e){return this._viewRefs.indexOf(e)},n.prototype.remove=function(e){var t=this._adjustIndex(e,-1);to(this._lContainer,this._hostTNode,t),this._viewRefs.splice(t,1)},n.prototype.detach=function(e){var t=this._adjustIndex(e,-1),n=eo(this._lContainer,t,!!this._hostTNode.detached),r=null!=this._viewRefs.splice(t,1)[0];return r?new Rs(n,n[Le],n[qe]):null},n.prototype._adjustIndex=function(e,t){return void 0===t&&(t=0),null==e?this._lContainer[Je].length+t:(ngDevMode&&(xe(e,-1,"index must be positive"),Ce(e,this._lContainer[Je].length+1+t,"index")),e)},n}(e)),ngDevMode&&Yt(n,0,3,4);var u=o[n.index];if(mt(u))(i=u)[Ge]=-1;else{var a=o[ze].createComment(ngDevMode?"container":"");if(ngDevMode&&ngDevMode.rendererCreateComment++,bt(o)){var s=o[ze],c=dt(n,o),l=co(s,c);so(s,l,a,function(e,t){return Ur(e)?e.nextSibling(t):t.nextSibling}(s,c))}else lo(a,n,o);o[n.index]=i=Ou(u,n,o,a,!0),Au(o,n.index,i)}return new Ds(i,n,o)}(e,t,gn(),hn())},Qh=Pa,Zh=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Kh()},e}(),qh=function(){return Hs(gn(),hn(),null)},Kh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t}(Zh),Yh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t}(Wh),Gh=function(){return function(e,t){this.name=e,this.callback=t}}(),Jh=function(){function e(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof $h&&t.addChild(this)}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),$h=function(e){function t(t,n,r){var o=e.call(this,t,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=t,o}return Object(r.c)(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n,o=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,Object(r.g)([i+1,0],t)),t.forEach(function(t){t.parent&&t.parent.removeChild(t),e.parent=o}))},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return ev(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return tv(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(Jh);function Xh(e){return e.map(function(e){return e.nativeElement})}function ev(e,t,n){e.childNodes.forEach(function(e){e instanceof $h&&(t(e)&&n.push(e),ev(e,t,n))})}function tv(e,t,n){e instanceof $h&&e.childNodes.forEach(function(e){t(e)&&n.push(e),e instanceof $h&&tv(e,t,n)})}var nv=function(){function e(e){this.nativeNode=e}return Object.defineProperty(e.prototype,"parent",{get:function(){var e=this.nativeNode.parentNode;return e?new rv(e):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return vr(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){var e=this.nativeNode;return e&&lr(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return fr(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listeners",{get:function(){return Cr(this.nativeNode).filter(wr)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return mr(this.nativeNode)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return function(e){var t=yr(e,!1);if(!t)return[];for(var n,r=t.lView[je],o=r.data[t.nodeIndex],i=[],u=65535&o.providerIndexes,a=o.directiveEnd,s=u;s<a;s++){var c=r.data[s];void 0!==(n=c).type&&void 0!==n.template&&void 0!==n.declaredInputs&&(c=c.type),i.push(c)}return i}(this.nativeNode)},enumerable:!0,configurable:!0}),e}(),rv=function(e){function t(t){return ngDevMode&&De(t),e.call(this,t)||this}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"nativeElement",{get:function(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.nativeElement.nodeName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){var e=yr(this.nativeNode);e.lView[je].data[e.nodeIndex];return{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e={},t=this.nativeElement;if(t)for(var n=t.attributes,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.value}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classes",{get:function(){var e={},t=this.nativeElement;if(t){var n=_r(t),r=n.lView[n.nodeIndex];if(ko(n.nodeIndex,n.lView)){for(var o=9;o<r.length;o+=4)if(qo(r,o)){var i=ci(r,o),u=si(r,o);"boolean"==typeof u&&(e[i]=u)}}else{var a=t.classList;for(o=0;o<a.length;o++)e[a[o]]=!0}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){var e={},t=this.nativeElement;if(t){var n=_r(t),r=n.lView[n.nodeIndex];if(ko(n.nodeIndex,n.lView)){for(var o=9;o<r.length;o+=4)if(!qo(r,o)){var i=ci(r,o),u=si(r,o);null!==u&&(e[i]=u)}}else{var a=t.style;for(o=0;o<a.length;o++){var s=a.item(o);e[s]=a.getPropertyValue(s)}}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){for(var e=this.nativeNode.childNodes,t=[],n=0;n<e.length;n++){var r=e[n];t.push(uv(r))}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){var e=this.nativeElement;if(!e)return[];for(var t=e.children,n=[],r=0;r<t.length;r++){var o=t[r];n.push(uv(o))}return n},enumerable:!0,configurable:!0}),t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return ov(this,e,t,!0),t},t.prototype.queryAllNodes=function(e){var t=[];return ov(this,e,t,!1),t},t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name===e&&n.callback(t)})},t}(nv);function ov(e,t,n,r){e instanceof rv&&e.childNodes.forEach(function(e){t(e)&&n.push(e),e instanceof rv&&(r&&!e.nativeElement||ov(e,t,n,r))})}var iv=new Map;function uv(e){return e instanceof Node?e.nodeType==Node.ELEMENT_NODE?new rv(e):new nv(e):null}var av=function(e){return iv.get(e)||null};function sv(e){iv.set(e.nativeNode,e)}var cv=Jh,lv=$h,fv=function(){function e(){}return e.prototype.supports=function(e){return Tr(e)},e.prototype.create=function(e){return new pv(e)},e}(),dv=function(e,t){return t},pv=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dv}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,r=0,o=null;t||n;){var i=!n||t&&t.currentIndex<yv(n,r,o)?t:n,u=yv(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)r++;else{o||(o=[]);var s=u-r,c=a-r;if(s!=c){for(var l=0;l<s;l++){var f=l<o.length?o[l]:o[l]=0,d=f+l;c<=d&&d<s&&(o[l]=f+1)}o[i.previousIndex]=c-s}}u!==a&&e(i,u,a)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!Tr(e))throw new Error("Error trying to diff '"+Y(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,r,o,i=this._itHead,u=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)r=e[a],o=this._trackByFn(a,r),null!==i&&W(i.trackById,o)?(u&&(i=this._verifyReinsertion(i,r,o,a)),W(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,a),u=!0),i=i._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r=e[q()](),o=void 0;!(o=r.next()).done;)t(o.value)}(e,function(e){o=t._trackByFn(n,e),null!==i&&W(i.trackById,o)?(u&&(i=t._verifyReinsertion(i,e,o,n)),W(i.item,e)||t._addIdentityChange(i,e)):(i=t._mismatch(i,e,o,n),u=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,r){var o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(W(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(W(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):e=this._addAfter(new hv(t,n),o,r),e},e.prototype._verifyReinsertion=function(e,t,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new gv),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gv),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e},e}(),hv=function(){return function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),vv=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&W(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),gv=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new vv,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=e,r=this.map.get(n);return r?r.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function yv(e,t,n){var r=e.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+t+o}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var mv=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||jr(e)},e.prototype.create=function(){return new bv},e}(),bv=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||jr(e)))throw new Error("Error trying to diff '"+Y(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var o=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new _v(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){W(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),_v=function(){return function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),wv=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Vt,new Rt]]}},e.prototype.find=function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e.ngInjectableDef=b({providedIn:"root",factory:function(){return new e([new fv])}}),e}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Cv,xv=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Vt,new Rt]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e.ngInjectableDef=b({providedIn:"root",factory:function(){return new e([new mv])}}),e}(),Ov=[new mv],Iv=[new fv],Ev=new wv(Iv),Dv=new xv(Ov),kv=Mh(null,"core",[{provide:Ap,useValue:"unknown"},{provide:Nh,deps:[Fa]},{provide:_h,deps:[]},{provide:Hp,deps:[]}]),Mv=new x("LocaleId"),Tv=new x("Translations"),jv=new x("TranslationsFormat");
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Pv(){return Ev}function Nv(){return Dv}function Sv(e){return e||"en-US"}!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Cv||(Cv={}));var Rv=[{provide:Rh,useClass:Rh,deps:[dh,Hp,Fa,up,Ts,Tp]},{provide:Tp,useClass:Tp,deps:[[new Rt,Mp]]},{provide:$p,useClass:$p,deps:[]},Np,{provide:wv,useFactory:Pv,deps:[]},{provide:xv,useFactory:Nv,deps:[]},{provide:Mv,useFactory:Sv,deps:[[new St(Mv),new Rt,new Vt]]}],Av=function(){function e(e){}return e=Object(r.b)([zd({providers:Rv}),Object(r.d)("design:paramtypes",[Rh])],e)}(),Vv=!0,Fv=!1;
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Hv(e,t,n){var r=e.state,o=1792&r;return o===t?(e.state=-1793&r|n,e.initIndex=-1,!0):o===n}function Lv(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Bv(e,t){return e.nodes[t]}function Uv(e,t){return e.nodes[t]}function zv(e,t){return e.nodes[t]}function Qv(e,t){return e.nodes[t]}function Zv(e,t){return e.nodes[t]}var qv=function(){return function(){}}(),Kv={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Wv(e,t,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return Yv(n,t),n}(o,e)}function Yv(e,t){e[ep]=t,e[np]=t.logError.bind(t)}function Gv(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var Jv=function(){},$v=new Map;function Xv(e){var t=$v.get(e);return t||(t=Y(e)+"_"+$v.size,$v.set(e,t)),t}function eg(e,t,n,r){if(kr.isWrapped(r)){r=kr.unwrap(r);var o=e.def.nodes[t].bindingIndex+n,i=kr.unwrap(e.oldValues[o]);e.oldValues[o]=new kr(i)}return r}var tg="$$undefined",ng="$$empty";function rg(e){return{id:tg,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var og=0;function ig(e,t,n,r){var o=e.oldValues;return!(!(2&e.state)&&W(o[t.bindingIndex+n],r))}function ug(e,t,n,r){return!!ig(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function ag(e,t,n,r){var o=e.oldValues[t.bindingIndex+n];if(1&e.state||!Dr(o,r)){var i=t.bindings[n].name;throw Wv(Kv.createDebugContext(e,t.nodeIndex),i+": "+o,i+": "+r,0!=(1&e.state))}}function sg(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function cg(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function lg(e,t,n,r){try{return sg(33554432&e.def.nodes[t].flags?Uv(e,t).componentView:e),Kv.handleEvent(e,t,n,r)}catch(t){e.root.errorHandler.handleError(t)}}function fg(e){return e.parent?Uv(e.parent,e.parentNodeDef.nodeIndex):null}function dg(e){return e.parent?e.parentNodeDef.parent:null}function pg(e,t){switch(201347067&t.flags){case 1:return Uv(e,t.nodeIndex).renderElement;case 2:return Bv(e,t.nodeIndex).renderText}}function hg(e,t){return e?e+":"+t:t}function vg(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function gg(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function yg(e){return 1<<e%32}function mg(e){var t={},n=0,o={};return e&&e.forEach(function(e){var i=Object(r.f)(e,2),u=i[0],a=i[1];"number"==typeof u?(t[u]=a,n|=yg(u)):o[u]=a}),{matchedQueries:t,references:o,matchedQueryIds:n}}function bg(e,t){return e.map(function(e){var n,o,i;return Array.isArray(e)?(i=(n=Object(r.f)(e,2))[0],o=n[1]):(i=0,o=e),o&&("function"==typeof o||"object"==typeof o)&&t&&Object.defineProperty(o,Na,{value:t,configurable:!0}),{flags:i,token:o,tokenKey:Xv(o)}})}function _g(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ee.Native?Uv(e,n.renderParent.nodeIndex).renderElement:void 0:t}var wg=new WeakMap;function Cg(e){var t=wg.get(e);return t||((t=e(function(){return Jv})).factory=e,wg.set(e,t)),t}function xg(e,t,n,r,o){3===t&&(n=e.renderer.parentNode(pg(e,e.def.lastRenderRootNode))),Og(e,t,0,e.def.nodes.length-1,n,r,o)}function Og(e,t,n,r,o,i,u){for(var a=n;a<=r;a++){var s=e.def.nodes[a];11&s.flags&&Eg(e,s,t,o,i,u),a+=s.childCount}}function Ig(e,t,n,r,o,i){for(var u=e;u&&!vg(u);)u=u.parent;for(var a=u.parent,s=dg(u),c=s.nodeIndex+1,l=s.nodeIndex+s.childCount,f=c;f<=l;f++){var d=a.def.nodes[f];d.ngContentIndex===t&&Eg(a,d,n,r,o,i),f+=d.childCount}if(!a.parent){var p=e.root.projectableNodes[t];if(p)for(f=0;f<p.length;f++)Dg(e,p[f],n,r,o,i)}}function Eg(e,t,n,r,o,i){if(8&t.flags)Ig(e,t.ngContent.index,n,r,o,i);else{var u=pg(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags){if(16&t.bindingFlags&&Dg(e,u,n,r,o,i),32&t.bindingFlags)Dg(Uv(e,t.nodeIndex).componentView,u,n,r,o,i)}else Dg(e,u,n,r,o,i);if(16777216&t.flags)for(var a=Uv(e,t.nodeIndex).viewContainer._embeddedViews,s=0;s<a.length;s++)xg(a[s],n,r,o,i);1&t.flags&&!t.element.name&&Og(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,o,i)}}function Dg(e,t,n,r,o,i){var u=e.renderer;switch(n){case 1:u.appendChild(r,t);break;case 2:u.insertBefore(r,t,o);break;case 3:u.removeChild(r,t);break;case 0:i.push(t)}}var kg=/^:([^:]+):(.+)$/;function Mg(e){if(":"===e[0]){var t=e.match(kg);return[t[1],t[2]]}return["",e]}function Tg(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function jg(e,t){for(var n="",r=0;r<2*e;r+=2)n=n+t[r]+Ng(t[r+1]);return n+t[2*e]}function Pg(e,t,n,r,o,i,u,a,s,c,l,f,d,p,h,v,g,y,m,b){switch(e){case 1:return t+Ng(n)+r;case 2:return t+Ng(n)+r+Ng(o)+i;case 3:return t+Ng(n)+r+Ng(o)+i+Ng(u)+a;case 4:return t+Ng(n)+r+Ng(o)+i+Ng(u)+a+Ng(s)+c;case 5:return t+Ng(n)+r+Ng(o)+i+Ng(u)+a+Ng(s)+c+Ng(l)+f;case 6:return t+Ng(n)+r+Ng(o)+i+Ng(u)+a+Ng(s)+c+Ng(l)+f+Ng(d)+p;case 7:return t+Ng(n)+r+Ng(o)+i+Ng(u)+a+Ng(s)+c+Ng(l)+f+Ng(d)+p+Ng(h)+v;case 8:return t+Ng(n)+r+Ng(o)+i+Ng(u)+a+Ng(s)+c+Ng(l)+f+Ng(d)+p+Ng(h)+v+Ng(g)+y;case 9:return t+Ng(n)+r+Ng(o)+i+Ng(u)+a+Ng(s)+c+Ng(l)+f+Ng(d)+p+Ng(h)+v+Ng(g)+y+Ng(m)+b;default:throw new Error("Does not support more than 9 expressions")}}function Ng(e){return null!=e?e.toString():""}var Sg=[],Rg={};
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Ag(e,t,n,r,o,i){e|=1;var u=mg(t),a=u.matchedQueries,s=u.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:u.matchedQueryIds,references:s,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?Cg(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||Jv},provider:null,text:null,query:null,ngContent:null}}function Vg(e,t,n,o,i,u,a,s,c,l,f,d){var p;void 0===a&&(a=[]),l||(l=Jv);var h=mg(n),v=h.matchedQueries,g=h.references,y=h.matchedQueryIds,m=null,b=null;u&&(m=(p=Object(r.f)(Mg(u),2))[0],b=p[1]),s=s||[];for(var _=new Array(s.length),w=0;w<s.length;w++){var C=Object(r.f)(s[w],3),x=C[0],O=C[1],I=C[2],E=Object(r.f)(Mg(O),2),D=E[0],k=E[1],M=void 0,T=void 0;switch(15&x){case 4:T=I;break;case 1:case 8:M=I}_[w]={flags:x,ns:D,name:k,nonMinifiedName:k,securityContext:M,suffix:T}}c=c||[];var j=new Array(c.length);for(w=0;w<c.length;w++){var P=Object(r.f)(c[w],2),N=P[0],S=P[1];j[w]={type:0,target:N,eventName:S,propName:null}}var R=(a=a||[]).map(function(e){var t=Object(r.f)(e,2),n=t[0],o=t[1],i=Object(r.f)(Mg(n),2);return[i[0],i[1],o]});return d=function(e){if(e&&e.id===tg){var t=null!=e.encapsulation&&e.encapsulation!==ee.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+og++:ng}return e&&e.id===ng&&(e=null),e||null}(d),f&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:v,matchedQueryIds:y,references:g,ngContentIndex:o,childCount:i,bindings:_,bindingFlags:Tg(_),outputs:j,element:{ns:m,name:b,attrs:R,template:null,componentProvider:null,componentView:f||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:l||Jv},provider:null,text:null,query:null,ngContent:null}}function Fg(e,t,n){var o,i=n.element,u=e.root.selectorOrNode,a=e.renderer;if(e.parent||!u){o=i.name?a.createElement(i.name,i.ns):a.createComment("");var s=_g(e,t,n);s&&a.appendChild(s,o)}else{var c=!!i.componentRendererType&&i.componentRendererType.encapsulation===ee.ShadowDom;o=a.selectRootElement(u,c)}if(i.attrs)for(var l=0;l<i.attrs.length;l++){var f=Object(r.f)(i.attrs[l],3),d=f[0],p=f[1],h=f[2];a.setAttribute(o,p,h,d)}return o}function Hg(e,t,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],u=Lg(e,n.nodeIndex,hg(i.target,i.eventName)),a=i.target,s=e;"component"===i.target&&(a=null,s=t);var c=s.renderer.listen(a||r,i.eventName,u);e.disposables[n.outputIndex+o]=c}}function Lg(e,t,n){return function(r){return lg(e,t,n,r)}}function Bg(e,t,n,r){if(!ug(e,t,n,r))return!1;var o=t.bindings[n],i=Uv(e,t.nodeIndex),u=i.renderElement,a=o.name;switch(15&o.flags){case 1:!function(e,t,n,r,o,i){var u=t.securityContext,a=u?e.root.sanitizer.sanitize(u,i):i;a=null!=a?a.toString():null;var s=e.renderer;null!=i?s.setAttribute(n,o,a,r):s.removeAttribute(n,o,r)}(e,o,u,o.ns,a,r);break;case 2:!function(e,t,n,r){var o=e.renderer;r?o.addClass(t,n):o.removeClass(t,n)}(e,u,a,r);break;case 4:!function(e,t,n,r,o){var i=e.root.sanitizer.sanitize(Ys.STYLE,o);if(null!=i){i=i.toString();var u=t.suffix;null!=u&&(i+=u)}else i=null;var a=e.renderer;null!=i?a.setStyle(n,r,i):a.removeStyle(n,r)}(e,o,u,a,r);break;case 8:!function(e,t,n,r,o){var i=t.securityContext,u=i?e.root.sanitizer.sanitize(i,o):o;e.renderer.setProperty(n,r,u)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(33554432&t.flags&&32&o.flags?i.componentView:e,o,u,a,r)}return!0}var Ug=new Object,zg=Xv(Fa),Qg=Xv(Aa),Zg=Xv(Ns);function qg(e,t,n,r){return n=$(n),{index:-1,deps:bg(r,Y(t)),flags:e,token:t,value:n}}function Kg(e){for(var t={},n=[],r=!1,o=0;o<e.length;o++){var i=e[o];i.token===ts&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=o,t[Xv(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function Wg(e,t,n){void 0===n&&(n=Fa.THROW_IF_NOT_FOUND);var r,o,i=Ut(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var u=t.tokenKey;switch(u){case zg:case Qg:case Zg:return e}var a=e._def.providersByKey[u],s=void 0;if(a){var c=e._providers[a.index];return void 0===c&&(c=e._providers[a.index]=Yg(e,a)),c===Ug?void 0:c}if((s=w(t.token))&&(r=e,null!=(o=s).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(r,o.providedIn)||"root"===o.providedIn&&r._def.isRoot))){var l=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:l,token:t.token},e._providers[l]=Ug,e._providers[l]=Yg(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Ut(i)}}function Yg(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var o=n.length;switch(o){case 0:return new t;case 1:return new t(Wg(e,n[0]));case 2:return new t(Wg(e,n[0]),Wg(e,n[1]));case 3:return new t(Wg(e,n[0]),Wg(e,n[1]),Wg(e,n[2]));default:for(var i=new Array(o),u=0;u<o;u++)i[u]=Wg(e,n[u]);return new(t.bind.apply(t,Object(r.g)([void 0],i)))}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var o=n.length;switch(o){case 0:return t();case 1:return t(Wg(e,n[0]));case 2:return t(Wg(e,n[0]),Wg(e,n[1]));case 3:return t(Wg(e,n[0]),Wg(e,n[1]),Wg(e,n[2]));default:for(var i=Array(o),u=0;u<o;u++)i[u]=Wg(e,n[u]);return t.apply(void 0,Object(r.g)(i))}}(e,t.value,t.deps);break;case 2048:n=Wg(e,t.deps[0]);break;case 256:n=t.value}return n===Ug||null==n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Ug:n}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function Gg(e,t,n,r){var o=t.viewContainer._embeddedViews;null==n&&(n=o.length),r.viewContainerParent=e,ey(o,n,r),function(e,t){var n=fg(t);if(!n||n===e||16&t.state)return;t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]);r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;var n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),Kv.dirtyParentQueries(r),$g(t,n>0?o[n-1]:null,r)}function Jg(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,ty(n,t),Kv.dirtyParentQueries(r),Xg(r),r}function $g(e,t,n){var r=t?pg(t,t.def.lastRenderRootNode):e.renderElement,o=n.renderer.parentNode(r),i=n.renderer.nextSibling(r);xg(n,2,o,i,void 0)}function Xg(e){xg(e,3,null,null,void 0)}function ey(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ty(e,t){t>=e.length-1?e.pop():e.splice(t,1)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var ny=new Object;function ry(e,t,n,r,o,i){return new iy(e,t,n,r,o,i)}function oy(e){return e.viewDefFactory}var iy=function(e){function t(t,n,r,o,i,u){var a=e.call(this)||this;return a.selector=t,a.componentType=n,a._inputs=o,a._outputs=i,a.ngContentSelectors=u,a.viewDefFactory=r,a}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var n in t){var r=t[n];e.push({propName:n,templateName:r})}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs){var n=this._outputs[t];e.push({propName:t,templateName:n})}return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var o=Cg(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,u=Kv.createRootView(e,t||[],n,o,r,ny),a=zv(u,i).instance;return n&&u.renderer.setAttribute(Uv(u,0).renderElement,"ng-version",tc.full),new uy(u,new ly(u),a)},t}(xs),uy=function(e){function t(t,n,r){var o=e.call(this)||this;return o._view=t,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=r,o}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new Bs(Uv(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new hy(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(Cs);function ay(e,t,n){return new sy(e,t,n)}var sy=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new Bs(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new hy(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=dg(e),e=e.parent;return e?new hy(e,t):new hy(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Jg(this._data,e);Kv.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new ly(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r},e.prototype.createComponent=function(e,t,n,r,o){var i=n||this.parentInjector;o||e instanceof Ps||(o=i.get(Ns));var u=e.create(i,r,void 0,o);return this.insert(u.hostView,t),u},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n=e,r=n._view;return Gg(this._view,this._data,t,r),n.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,o,i,u,a=this._embeddedViews.indexOf(e._view);return n=this._data,r=a,o=t,i=n.viewContainer._embeddedViews,u=i[r],ty(i,r),null==o&&(o=i.length),ey(i,o,u),Kv.dirtyParentQueries(u),Xg(u),$g(n,o>0?i[o-1]:null,u),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=Jg(this._data,e);t&&Kv.destroyView(t)},e.prototype.detach=function(e){var t=Jg(this._data,e);return t?new ly(t):null},e}();function cy(e){return new ly(e)}var ly=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return xg(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){sg(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Kv.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){Kv.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Kv.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,Xg(this._view),Kv.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}();function fy(e,t){return new dy(e,t)}var dy=function(e){function t(t,n){var r=e.call(this)||this;return r._parentView=t,r._def=n,r}return Object(r.c)(t,e),t.prototype.createEmbeddedView=function(e){return new ly(Kv.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new Bs(Uv(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(Zl);function py(e,t){return new hy(e,t)}var hy=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){void 0===t&&(t=Fa.THROW_IF_NOT_FOUND);var n=!!this.elDef&&0!=(33554432&this.elDef.flags);return Kv.resolveDep(this.view,this.elDef,n,{flags:0,token:e,tokenKey:Xv(e)},t)},e}();function vy(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Uv(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Bv(e,n.nodeIndex).renderText;if(20240&n.flags)return zv(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function gy(e){return new yy(e.renderer)}var yy=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=Object(r.f)(Mg(t),2),o=n[0],i=n[1],u=this.delegate.createElement(i,o);return e&&this.delegate.appendChild(e,u),u},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),o=0;o<t.length;o++)this.delegate.insertBefore(n,t[o],r)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var o=Object(r.f)(Mg(t),2),i=o[0],u=o[1];null!=n?this.delegate.setAttribute(e,u,n,i):this.delegate.removeAttribute(e,u,i)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}();function my(e,t,n,r){return new by(e,t,n,r)}var by=function(){function e(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var o=t.providers[r];4096&o.flags||void 0===n[r]&&(n[r]=Yg(e,o))}}(this)}return e.prototype.get=function(e,t,n){void 0===t&&(t=Fa.THROW_IF_NOT_FOUND),void 0===n&&(n=Nt.Default);var r=0;return n&Nt.SkipSelf?r|=1:n&Nt.Self&&(r|=4),Wg(this,{token:e,tokenKey:Xv(e),flags:r},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(Ts)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Y(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,o=0;o<n.providers.length;o++)if(131072&n.providers[o].flags){var i=e._providers[o];if(i&&i!==Ug){var u=i.ngOnDestroy;"function"!=typeof u||r.has(i)||(u.apply(i),r.add(i))}}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),_y=Xv(qs),wy=Xv(Gs),Cy=Xv(Bs),xy=Xv(Uh),Oy=Xv(Zl),Iy=Xv(Zh),Ey=Xv(Fa),Dy=Xv(Aa);
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function ky(e,t,n,o,i,u,a,s){var c=[];if(a)for(var l in a){var f=Object(r.f)(a[l],2),d=f[0],p=f[1];c[d]={flags:8,name:l,nonMinifiedName:p,ns:null,securityContext:null,suffix:null}}var h=[];if(s)for(var v in s)h.push({type:1,propName:v,target:null,eventName:s[v]});return jy(e,t|=16384,n,o,i,i,u,c,h)}function My(e,t,n){return jy(-1,e|=16,null,0,t,t,n)}function Ty(e,t,n,r,o){return jy(-1,e,t,0,n,r,o)}function jy(e,t,n,r,o,i,u,a,s){var c=mg(n),l=c.matchedQueries,f=c.references,d=c.matchedQueryIds;s||(s=[]),a||(a=[]),i=$(i);var p=bg(u,Y(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:d,references:f,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Tg(a),outputs:s,element:null,provider:{token:o,value:i,deps:p},text:null,query:null,ngContent:null}}function Py(e,t){return Ay(e,t)}function Ny(e,t){for(var n=e;n.parent&&!vg(n);)n=n.parent;return Vy(n.parent,dg(n),!0,t.provider.value,t.provider.deps)}function Sy(e,t){var n=(32768&t.flags)>0,r=Vy(e,t.parent,n,t.provider.value,t.provider.deps);if(t.outputs.length)for(var o=0;o<t.outputs.length;o++){var i=t.outputs[o],u=r[i.propName];if(!kp(u))throw new Error("@Output "+i.propName+" not initialized in '"+r.constructor.name+"'.");var a=u.subscribe(Ry(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+o]=a.unsubscribe.bind(a)}return r}function Ry(e,t,n){return function(r){return lg(e,t,n,r)}}function Ay(e,t){var n=(8192&t.flags)>0,o=t.provider;switch(201347067&t.flags){case 512:return Vy(e,t.parent,n,o.value,o.deps);case 1024:return function(e,t,n,o,i){var u=i.length;switch(u){case 0:return o();case 1:return o(Ly(e,t,n,i[0]));case 2:return o(Ly(e,t,n,i[0]),Ly(e,t,n,i[1]));case 3:return o(Ly(e,t,n,i[0]),Ly(e,t,n,i[1]),Ly(e,t,n,i[2]));default:for(var a=Array(u),s=0;s<u;s++)a[s]=Ly(e,t,n,i[s]);return o.apply(void 0,Object(r.g)(a))}}(e,t.parent,n,o.value,o.deps);case 2048:return Ly(e,t.parent,n,o.deps[0]);case 256:return o.value}}function Vy(e,t,n,o,i){var u=i.length;switch(u){case 0:return new o;case 1:return new o(Ly(e,t,n,i[0]));case 2:return new o(Ly(e,t,n,i[0]),Ly(e,t,n,i[1]));case 3:return new o(Ly(e,t,n,i[0]),Ly(e,t,n,i[1]),Ly(e,t,n,i[2]));default:for(var a=new Array(u),s=0;s<u;s++)a[s]=Ly(e,t,n,i[s]);return new(o.bind.apply(o,Object(r.g)([void 0],a)))}}var Fy,Hy={};function Ly(e,t,n,r,o){if(void 0===o&&(o=Fa.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=e;2&r.flags&&(o=null);var u=r.tokenKey;u===Iy&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var a=e;a;){if(t)switch(u){case _y:return gy(By(a,t,n));case wy:return By(a,t,n).renderer;case Cy:return new Bs(Uv(a,t.nodeIndex).renderElement);case xy:return Uv(a,t.nodeIndex).viewContainer;case Oy:if(t.element.template)return Uv(a,t.nodeIndex).template;break;case Iy:return cy(By(a,t,n));case Ey:case Dy:return py(a,t);default:var s=(n?t.element.allProviders:t.element.publicProviders)[u];if(s){var c=zv(a,s.nodeIndex);return c||(c={instance:Ay(a,s)},a.nodes[s.nodeIndex]=c),c.instance}}n=vg(a),t=dg(a),a=a.parent,4&r.flags&&(a=null)}var l=i.root.injector.get(r.token,Hy);return l!==Hy||o===Hy?l:i.root.ngModule.injector.get(r.token,o)}function By(e,t,n){var r;if(n)r=Uv(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!vg(r);)r=r.parent;return r}function Uy(e,t,n,r,o,i){if(32768&n.flags){var u=Uv(e,n.parent.nodeIndex).componentView;2&u.def.flags&&(u.state|=8)}var a=n.bindings[r].name;if(t.instance[a]=o,524288&n.flags){i=i||{};var s=kr.unwrap(e.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new Mr(s,o,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=o,i}function zy(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,o=0;o<n.length;o++){var i=n[o],u=i.parent;for(!u&&i.flags&t&&Zy(e,o,i.flags&t,r++),0==(i.childFlags&t)&&(o+=i.childCount);u&&1&u.flags&&o===u.nodeIndex+u.childCount;)u.directChildFlags&t&&(r=Qy(e,u,t,r)),u=u.parent}}function Qy(e,t,n,r){for(var o=t.nodeIndex+1;o<=t.nodeIndex+t.childCount;o++){var i=e.def.nodes[o];i.flags&n&&Zy(e,o,i.flags&n,r++),o+=i.childCount}return r}function Zy(e,t,n,r){var o=zv(e,t);if(o){var i=o.instance;i&&(Kv.setCurrentNode(e,t),1048576&n&&Lv(e,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&Lv(e,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function qy(e,t,n){var r=[];for(var o in n){var i=n[o];r.push({propName:o,bindingType:i})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:yg(t),bindings:r},ngContent:null}}function Ky(e){for(var t=e.def.nodeMatchedQueries;e.parent&&gg(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++){67108864&(i=e.def.nodes[o]).flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&Zv(e,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}}if(134217728&e.def.nodeFlags)for(o=0;o<e.def.nodes.length;o++){var i;134217728&(i=e.def.nodes[o]).flags&&536870912&i.flags&&Zv(e,o).setDirty(),o+=i.childCount}}function Wy(e,t){var n=Zv(e,t.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&t.flags){var i=t.parent.parent;o=Yy(e,i.nodeIndex,i.nodeIndex+i.childCount,t.query,[]),r=zv(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(o=Yy(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(o);for(var u=t.query.bindings,a=!1,s=0;s<u.length;s++){var c=u[s],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,a=!0}r[c.propName]=l}a&&n.notifyOnChanges()}}function Yy(e,t,n,r,o){for(var i=t;i<=n;i++){var u=e.def.nodes[i],a=u.matchedQueries[r.id];if(null!=a&&o.push(Gy(e,u,a)),1&u.flags&&u.element.template&&(u.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var s=Uv(e,i);if((u.childMatchedQueries&r.filterId)===r.filterId&&(Yy(e,i+1,i+u.childCount,r,o),i+=u.childCount),16777216&u.flags)for(var c=s.viewContainer._embeddedViews,l=0;l<c.length;l++){var f=c[l],d=fg(f);d&&d===s&&Yy(f,0,f.def.nodes.length-1,r,o)}var p=s.template._projectedViews;if(p)for(l=0;l<p.length;l++){var h=p[l];Yy(h,0,h.def.nodes.length-1,r,o)}}(u.childMatchedQueries&r.filterId)!==r.filterId&&(i+=u.childCount)}return o}function Gy(e,t,n){if(null!=n)switch(n){case 1:return Uv(e,t.nodeIndex).renderElement;case 0:return new Bs(Uv(e,t.nodeIndex).renderElement);case 2:return Uv(e,t.nodeIndex).template;case 3:return Uv(e,t.nodeIndex).viewContainer;case 4:return zv(e,t.nodeIndex).instance}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Jy(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function $y(e,t,n){var r=_g(e,t,n);r&&Ig(e,n.ngContent.index,1,r,null,void 0)}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function Xy(e,t){return nm(128,e,new Array(t+1))}function em(e,t){return nm(32,e,new Array(t))}function tm(e,t){for(var n=Object.keys(t),r=n.length,o=new Array(r),i=0;i<r;i++){var u=n[i];o[t[u]]=u}return nm(64,e,o)}function nm(e,t,n){for(var r=new Array(n.length),o=0;o<n.length;o++){var i=n[o];r[o]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Tg(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function rm(e,t,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function om(e,t,n){var r,o=e.renderer;r=o.createText(n.text.prefix);var i=_g(e,t,n);return i&&o.appendChild(i,r),{renderText:r}}function im(e,t){return(null!=e?e.toString():"")+t.suffix}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function um(e,t,n,r){for(var o=0,i=0,u=0,a=0,s=0,c=null,l=null,f=!1,d=!1,p=null,h=0;h<t.length;h++){var v=t[h];if(v.nodeIndex=h,v.parent=c,v.bindingIndex=o,v.outputIndex=i,v.renderParent=l,u|=v.flags,s|=v.matchedQueryIds,v.element){var g=v.element;g.publicProviders=c?c.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,f=!1,d=!1,v.element.template&&(s|=v.element.template.nodeMatchedQueries)}if(sm(c,v,t.length),o+=v.bindings.length,i+=v.outputs.length,!l&&3&v.flags&&(p=v),20224&v.flags){f||(f=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var y=0!=(8192&v.flags),m=0!=(32768&v.flags);!y||m?c.element.publicProviders[Xv(v.provider.token)]=v:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[Xv(v.provider.token)]=v),m&&(c.element.componentProvider=v)}if(c?(c.childFlags|=v.flags,c.directChildFlags|=v.flags,c.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(c.childMatchedQueries|=v.element.template.nodeMatchedQueries)):a|=v.flags,v.childCount>0)c=v,am(v)||(l=v);else for(;c&&h===c.nodeIndex+c.childCount;){var b=c.parent;b&&(b.childFlags|=c.childFlags,b.childMatchedQueries|=c.childMatchedQueries),l=(c=b)&&am(c)?c.renderParent:c}}return{factory:null,nodeFlags:u,rootNodeFlags:a,nodeMatchedQueries:s,flags:e,nodes:t,updateDirectives:n||Jv,updateRenderer:r||Jv,handleEvent:function(e,n,r,o){return t[n].element.handleEvent(e,r,o)},bindingCount:o,outputCount:i,lastRenderRootNode:p}}function am(e){return 0!=(1&e.flags)&&null===e.element.name}function sm(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var o=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=o&&t.nodeIndex+t.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function cm(e,t,n,r){var o=dm(e.root,e.renderer,e,t,n);return pm(o,e.component,r),hm(o),o}function lm(e,t,n){var r=dm(e,e.renderer,null,null,t);return pm(r,n,n),hm(r),r}function fm(e,t,n,r){var o,i=t.element.componentRendererType;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,dm(e.root,o,e,t.element.componentProvider,n)}function dm(e,t,n,r,o){var i=new Array(o.nodes.length),u=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(o.bindingCount),disposables:u,initIndex:-1}}function pm(e,t,n){e.component=t,e.context=n}function hm(e){var t;if(vg(e)){var n=e.parentNodeDef;t=Uv(e.parent,n.parent.nodeIndex).renderElement}for(var r=e.def,o=e.nodes,i=0;i<r.nodes.length;i++){var u=r.nodes[i];Kv.setCurrentNode(e,i);var a=void 0;switch(201347067&u.flags){case 1:var s=Fg(e,t,u),c=void 0;if(33554432&u.flags){var l=Cg(u.element.componentView);c=Kv.createComponentView(e,u,l,s)}Hg(e,c,u,s),a={renderElement:s,componentView:c,viewContainer:null,template:u.element.template?fy(e,u):void 0},16777216&u.flags&&(a.viewContainer=ay(e,u,a));break;case 2:a=om(e,t,u);break;case 512:case 1024:case 2048:case 256:if(!((a=o[i])||4096&u.flags))a={instance:Py(e,u)};break;case 16:a={instance:Ny(e,u)};break;case 16384:if(!(a=o[i]))a={instance:Sy(e,u)};if(32768&u.flags)pm(Uv(e,u.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Vh;break;case 8:$y(e,t,u),a=void 0}o[i]=a}Cm(e,Fy.CreateViewNodes),Em(e,201326592,268435456,0)}function vm(e){mm(e),Kv.updateDirectives(e,1),xm(e,Fy.CheckNoChanges),Kv.updateRenderer(e,1),Cm(e,Fy.CheckNoChanges),e.state&=-97}function gm(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Hv(e,0,256),mm(e),Kv.updateDirectives(e,0),xm(e,Fy.CheckAndUpdate),Em(e,67108864,536870912,0);var t=Hv(e,256,512);zy(e,2097152|(t?1048576:0)),Kv.updateRenderer(e,0),Cm(e,Fy.CheckAndUpdate),Em(e,134217728,536870912,0),zy(e,8388608|((t=Hv(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Hv(e,768,1024)}function ym(e,t,n,o,i,u,a,s,c,l,f,d,p){return 0===n?function(e,t,n,r,o,i,u,a,s,c,l,f){switch(201347067&t.flags){case 1:return function(e,t,n,r,o,i,u,a,s,c,l,f){var d=t.bindings.length,p=!1;return d>0&&Bg(e,t,0,n)&&(p=!0),d>1&&Bg(e,t,1,r)&&(p=!0),d>2&&Bg(e,t,2,o)&&(p=!0),d>3&&Bg(e,t,3,i)&&(p=!0),d>4&&Bg(e,t,4,u)&&(p=!0),d>5&&Bg(e,t,5,a)&&(p=!0),d>6&&Bg(e,t,6,s)&&(p=!0),d>7&&Bg(e,t,7,c)&&(p=!0),d>8&&Bg(e,t,8,l)&&(p=!0),d>9&&Bg(e,t,9,f)&&(p=!0),p}(e,t,n,r,o,i,u,a,s,c,l,f);case 2:return function(e,t,n,r,o,i,u,a,s,c,l,f){var d=!1,p=t.bindings,h=p.length;if(h>0&&ug(e,t,0,n)&&(d=!0),h>1&&ug(e,t,1,r)&&(d=!0),h>2&&ug(e,t,2,o)&&(d=!0),h>3&&ug(e,t,3,i)&&(d=!0),h>4&&ug(e,t,4,u)&&(d=!0),h>5&&ug(e,t,5,a)&&(d=!0),h>6&&ug(e,t,6,s)&&(d=!0),h>7&&ug(e,t,7,c)&&(d=!0),h>8&&ug(e,t,8,l)&&(d=!0),h>9&&ug(e,t,9,f)&&(d=!0),d){var v=t.text.prefix;h>0&&(v+=im(n,p[0])),h>1&&(v+=im(r,p[1])),h>2&&(v+=im(o,p[2])),h>3&&(v+=im(i,p[3])),h>4&&(v+=im(u,p[4])),h>5&&(v+=im(a,p[5])),h>6&&(v+=im(s,p[6])),h>7&&(v+=im(c,p[7])),h>8&&(v+=im(l,p[8])),h>9&&(v+=im(f,p[9]));var g=Bv(e,t.nodeIndex).renderText;e.renderer.setValue(g,v)}return d}(e,t,n,r,o,i,u,a,s,c,l,f);case 16384:return function(e,t,n,r,o,i,u,a,s,c,l,f){var d=zv(e,t.nodeIndex),p=d.instance,h=!1,v=void 0,g=t.bindings.length;return g>0&&ig(e,t,0,n)&&(h=!0,v=Uy(e,d,t,0,n,v)),g>1&&ig(e,t,1,r)&&(h=!0,v=Uy(e,d,t,1,r,v)),g>2&&ig(e,t,2,o)&&(h=!0,v=Uy(e,d,t,2,o,v)),g>3&&ig(e,t,3,i)&&(h=!0,v=Uy(e,d,t,3,i,v)),g>4&&ig(e,t,4,u)&&(h=!0,v=Uy(e,d,t,4,u,v)),g>5&&ig(e,t,5,a)&&(h=!0,v=Uy(e,d,t,5,a,v)),g>6&&ig(e,t,6,s)&&(h=!0,v=Uy(e,d,t,6,s,v)),g>7&&ig(e,t,7,c)&&(h=!0,v=Uy(e,d,t,7,c,v)),g>8&&ig(e,t,8,l)&&(h=!0,v=Uy(e,d,t,8,l,v)),g>9&&ig(e,t,9,f)&&(h=!0,v=Uy(e,d,t,9,f,v)),v&&p.ngOnChanges(v),65536&t.flags&&Lv(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),h}(e,t,n,r,o,i,u,a,s,c,l,f);case 32:case 64:case 128:return function(e,t,n,r,o,i,u,a,s,c,l,f){var d=t.bindings,p=!1,h=d.length;if(h>0&&ug(e,t,0,n)&&(p=!0),h>1&&ug(e,t,1,r)&&(p=!0),h>2&&ug(e,t,2,o)&&(p=!0),h>3&&ug(e,t,3,i)&&(p=!0),h>4&&ug(e,t,4,u)&&(p=!0),h>5&&ug(e,t,5,a)&&(p=!0),h>6&&ug(e,t,6,s)&&(p=!0),h>7&&ug(e,t,7,c)&&(p=!0),h>8&&ug(e,t,8,l)&&(p=!0),h>9&&ug(e,t,9,f)&&(p=!0),p){var v=Qv(e,t.nodeIndex),g=void 0;switch(201347067&t.flags){case 32:g=new Array(d.length),h>0&&(g[0]=n),h>1&&(g[1]=r),h>2&&(g[2]=o),h>3&&(g[3]=i),h>4&&(g[4]=u),h>5&&(g[5]=a),h>6&&(g[6]=s),h>7&&(g[7]=c),h>8&&(g[8]=l),h>9&&(g[9]=f);break;case 64:g={},h>0&&(g[d[0].name]=n),h>1&&(g[d[1].name]=r),h>2&&(g[d[2].name]=o),h>3&&(g[d[3].name]=i),h>4&&(g[d[4].name]=u),h>5&&(g[d[5].name]=a),h>6&&(g[d[6].name]=s),h>7&&(g[d[7].name]=c),h>8&&(g[d[8].name]=l),h>9&&(g[d[9].name]=f);break;case 128:var y=n;switch(h){case 1:g=y.transform(n);break;case 2:g=y.transform(r);break;case 3:g=y.transform(r,o);break;case 4:g=y.transform(r,o,i);break;case 5:g=y.transform(r,o,i,u);break;case 6:g=y.transform(r,o,i,u,a);break;case 7:g=y.transform(r,o,i,u,a,s);break;case 8:g=y.transform(r,o,i,u,a,s,c);break;case 9:g=y.transform(r,o,i,u,a,s,c,l);break;case 10:g=y.transform(r,o,i,u,a,s,c,l,f)}}v.value=g}return p}(e,t,n,r,o,i,u,a,s,c,l,f);default:throw"unreachable"}}(e,t,o,i,u,a,s,c,l,f,d,p):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,o=0;o<n.length;o++)Bg(e,t,o,n[o])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,o=!1,i=0;i<n.length;i++)ug(e,t,i,n[i])&&(o=!0);if(o){var u="";for(i=0;i<n.length;i++)u+=im(n[i],r[i]);u=t.text.prefix+u;var a=Bv(e,t.nodeIndex).renderText;e.renderer.setValue(a,u)}return o}(e,t,n);case 16384:return function(e,t,n){for(var r=zv(e,t.nodeIndex),o=r.instance,i=!1,u=void 0,a=0;a<n.length;a++)ig(e,t,a,n[a])&&(i=!0,u=Uy(e,r,t,a,n[a],u));return u&&o.ngOnChanges(u),65536&t.flags&&Lv(e,256,t.nodeIndex)&&o.ngOnInit(),262144&t.flags&&o.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var o=t.bindings,i=!1,u=0;u<n.length;u++)ug(e,t,u,n[u])&&(i=!0);if(i){var a=Qv(e,t.nodeIndex),s=void 0;switch(201347067&t.flags){case 32:s=n;break;case 64:for(s={},u=0;u<n.length;u++)s[o[u].name]=n[u];break;case 128:var c=n[0],l=n.slice(1);s=c.transform.apply(c,Object(r.g)(l))}a.value=s}return i}(e,t,n);default:throw"unreachable"}}(e,t,o)}function mm(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var o=Uv(e,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var u=o[i];u.state|=32,cg(u,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function bm(e,t,n,r,o,i,u,a,s,c,l,f,d){return 0===n?function(e,t,n,r,o,i,u,a,s,c,l,f){var d=t.bindings.length;d>0&&ag(e,t,0,n);d>1&&ag(e,t,1,r);d>2&&ag(e,t,2,o);d>3&&ag(e,t,3,i);d>4&&ag(e,t,4,u);d>5&&ag(e,t,5,a);d>6&&ag(e,t,6,s);d>7&&ag(e,t,7,c);d>8&&ag(e,t,8,l);d>9&&ag(e,t,9,f)}(e,t,r,o,i,u,a,s,c,l,f,d):function(e,t,n){for(var r=0;r<n.length;r++)ag(e,t,r,n[r])}(e,t,r),!1}function _m(e,t){if(Zv(e,t.nodeIndex).dirty)throw Wv(Kv.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function wm(e){if(!(128&e.state)){if(xm(e,Fy.Destroy),Cm(e,Fy.Destroy),zy(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=fg(e);if(t){var n=t.template._projectedViews;n&&(ty(n,n.indexOf(e)),Kv.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Uv(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Bv(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&Zv(e,n).destroy()}}(e),vg(e)&&e.renderer.destroy(),e.state|=128}}function Cm(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?Om(Uv(e,r).componentView,t):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function xm(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=Uv(e,r).viewContainer._embeddedViews,u=0;u<i.length;u++)Om(i[u],t);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function Om(e,t){var n=e.state;switch(t){case Fy.CheckNoChanges:0==(128&n)&&(12==(12&n)?vm(e):64&n&&Im(e,Fy.CheckNoChangesProjectedViews));break;case Fy.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?vm(e):64&n&&Im(e,t));break;case Fy.CheckAndUpdate:0==(128&n)&&(12==(12&n)?gm(e):64&n&&Im(e,Fy.CheckAndUpdateProjectedViews));break;case Fy.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?gm(e):64&n&&Im(e,t));break;case Fy.Destroy:wm(e);break;case Fy.CreateViewNodes:hm(e)}}function Im(e,t){xm(e,t),Cm(e,t)}function Em(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var o=e.def.nodes.length,i=0;i<o;i++){var u=e.def.nodes[i];if(u.flags&t&&u.flags&n)switch(Kv.setCurrentNode(e,u.nodeIndex),r){case 0:Wy(e,u);break;case 1:_m(e,u)}u.childFlags&t&&u.childFlags&n||(i+=u.childCount)}}
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */!function(e){e[e.CreateViewNodes=0]="CreateViewNodes",e[e.CheckNoChanges=1]="CheckNoChanges",e[e.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate=3]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",e[e.Destroy=5]="Destroy"}(Fy||(Fy={}));var Dm=!1;function km(){if(!Dm){Dm=!0;var e=fc()?{setCurrentNode:Jm,createRootView:Tm,createEmbeddedView:Pm,createComponentView:Nm,createNgModuleRef:Sm,overrideProvider:Um,overrideComponentView:zm,clearOverrides:Qm,checkAndUpdateView:Wm,checkNoChangesView:Ym,destroyView:Gm,createDebugContext:function(e,t){return new ib(e,t)},handleEvent:$m,updateDirectives:Xm,updateRenderer:eb}:{setCurrentNode:function(){},createRootView:Mm,createEmbeddedView:cm,createComponentView:fm,createNgModuleRef:my,overrideProvider:Jv,overrideComponentView:Jv,clearOverrides:Jv,checkAndUpdateView:gm,checkNoChangesView:vm,destroyView:wm,createDebugContext:function(e,t){return new ib(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?qm:Km,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?qm:Km,e)}};Kv.setCurrentNode=e.setCurrentNode,Kv.createRootView=e.createRootView,Kv.createEmbeddedView=e.createEmbeddedView,Kv.createComponentView=e.createComponentView,Kv.createNgModuleRef=e.createNgModuleRef,Kv.overrideProvider=e.overrideProvider,Kv.overrideComponentView=e.overrideComponentView,Kv.clearOverrides=e.clearOverrides,Kv.checkAndUpdateView=e.checkAndUpdateView,Kv.checkNoChangesView=e.checkNoChangesView,Kv.destroyView=e.destroyView,Kv.resolveDep=Ly,Kv.createDebugContext=e.createDebugContext,Kv.handleEvent=e.handleEvent,Kv.updateDirectives=e.updateDirectives,Kv.updateRenderer=e.updateRenderer,Kv.dirtyParentQueries=Ky}}function Mm(e,t,n,r,o,i){var u=o.injector.get(Ws);return lm(jm(e,o,u,t,n),r,i)}function Tm(e,t,n,r,o,i){var u=o.injector.get(Ws),a=jm(e,o,new cb(u),t,n),s=Zm(r);return ab(Rm.create,lm,null,[a,s,i])}function jm(e,t,n,r,o){var i=t.injector.get(Xs),u=t.injector.get(up),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:a,errorHandler:u}}function Pm(e,t,n,r){var o=Zm(n);return ab(Rm.create,cm,null,[e,t,o,r])}function Nm(e,t,n,r){var o=Bm.get(t.element.componentProvider.provider.token);return n=o||Zm(n),ab(Rm.create,fm,null,[e,t,n,r])}function Sm(e,t,n,r){return my(e,t,n,function(e){var t=function(e){var t=!1,n=!1;if(0===Hm.size)return{hasOverrides:t,hasDeprecatedOverrides:n};return e.providers.forEach(function(e){var r=Hm.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(function(e){Lm.forEach(function(r,o){w(o).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n}}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;if(!n)return e;return function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var o=Hm.get(n.token);o&&(n.flags=-3841&n.flags|o.flags,n.deps=bg(o.deps),n.value=o.value)}if(Lm.size>0){var i=new Set(e.modules);Lm.forEach(function(t,n){if(i.has(w(n).providedIn)){var o={token:n,flags:t.flags|(r?4096:0),deps:bg(t.deps),value:t.value,index:e.providers.length};e.providers.push(o),e.providersByKey[Xv(n)]=o}})}}(e=e.factory(function(){return Jv})),e}(r))}var Rm,Am,Vm,Fm,Hm=new Map,Lm=new Map,Bm=new Map;function Um(e){var t;Hm.set(e.token,e),"function"==typeof e.token&&(t=w(e.token))&&"function"==typeof t.providedIn&&Lm.set(e.token,e)}function zm(e,t){var n=Cg(oy(t)),r=Cg(n.nodes[0].element.componentView);Bm.set(e,r)}function Qm(){Hm.clear(),Lm.clear(),Bm.clear()}function Zm(e){if(0===Hm.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var o=e.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&Hm.has(o.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return Jv});for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=Hm.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=bg(i.deps),o.value=i.value)}}}}function qm(e,t,n,r,o,i,u,a,s,c,l,f,d){var p=e.def.nodes[t];return ym(e,p,n,r,o,i,u,a,s,c,l,f,d),224&p.flags?Qv(e,t).value:void 0}function Km(e,t,n,r,o,i,u,a,s,c,l,f,d){var p=e.def.nodes[t];return bm(e,p,n,r,o,i,u,a,s,c,l,f,d),224&p.flags?Qv(e,t).value:void 0}function Wm(e){return ab(Rm.detectChanges,gm,null,[e])}function Ym(e){return ab(Rm.checkNoChanges,vm,null,[e])}function Gm(e){return ab(Rm.destroy,wm,null,[e])}function Jm(e,t){Vm=e,Fm=t}function $m(e,t,n,r){return Jm(e,t),ab(Rm.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function Xm(e,t){if(128&e.state)throw Gv(Rm[Am]);return Jm(e,rb(e,0)),e.def.updateDirectives(function(e,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var u=e.def.nodes[n];0===t?tb(e,u,r,o):nb(e,u,r,o);16384&u.flags&&Jm(e,rb(e,n));return 224&u.flags?Qv(e,u.nodeIndex).value:void 0},e)}function eb(e,t){if(128&e.state)throw Gv(Rm[Am]);return Jm(e,ob(e,0)),e.def.updateRenderer(function(e,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var u=e.def.nodes[n];0===t?tb(e,u,r,o):nb(e,u,r,o);3&u.flags&&Jm(e,ob(e,n));return 224&u.flags?Qv(e,u.nodeIndex).value:void 0},e)}function tb(e,t,n,o){if(ym.apply(void 0,Object(r.g)([e,t,n],o))){var i=1===n?o[0]:o;if(16384&t.flags){for(var u={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],c=i[a];8&s.flags&&(u[Or(s.nonMinifiedName)]=Er(c))}var l=t.parent,f=Uv(e,l.nodeIndex).renderElement;if(l.element.name)for(var d in u){null!=(c=u[d])?e.renderer.setAttribute(f,d,c):e.renderer.removeAttribute(f,d)}else e.renderer.setValue(f,"bindings="+JSON.stringify(u,null,2))}}}function nb(e,t,n,o){bm.apply(void 0,Object(r.g)([e,t,n],o))}function rb(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function ob(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}!function(e){e[e.create=0]="create",e[e.detectChanges=1]="detectChanges",e[e.checkNoChanges=2]="checkNoChanges",e[e.destroy=3]="destroy",e[e.handleEvent=4]="handleEvent"}(Rm||(Rm={}));var ib=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,r=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=dg(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return Uv(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return py(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){ub(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&ub(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=function(e){for(;e&&!vg(e);)e=e.parent;if(e.parent)return Uv(e.parent,dg(e).nodeIndex);return null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?pg(this.view,this.nodeDef):pg(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,n,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];2&this.nodeDef.flags?(t=this.view.def,n=this.nodeDef.nodeIndex):(t=this.elView.def,n=this.elDef.nodeIndex);var u=function(e,t){for(var n=-1,r=0;r<=t;r++){var o=e.nodes[r];3&o.flags&&n++}return n}(t,n),a=-1;t.factory(function(){var t;return++a===u?(t=e.error).bind.apply(t,Object(r.g)([e],o)):Jv}),a<u&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,Object(r.g)(o)))},e}();function ub(e,t,n){for(var r in t.references)n[r]=Gy(e,t,t.references[r])}function ab(e,t,n,r){var o=Am,i=Vm,u=Fm;try{Am=e;var a=t.apply(n,r);return Vm=i,Fm=u,Am=o,a}catch(e){if(rp(e)||!Vm)throw e;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Yv(e,t),e}(e,sb())}}function sb(){return Vm?new ib(Vm,Fm):null}var cb=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new lb(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),lb=function(){function e(e){this.delegate=e,this.debugContextFactory=sb,this.data=this.delegate.data}return e.prototype.createDebugContext=function(e){return this.debugContextFactory(e)},e.prototype.destroyNode=function(e){!function(e){iv.delete(e.nativeNode)}(av(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var o=new $h(n,null,r);o.name=e,sv(o)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&sv(new Jh(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&sv(new Jh(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=av(e),r=av(t);n&&r&&n instanceof $h&&n.addChild(r),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var r=av(e),o=av(t),i=av(n);r&&o&&r instanceof $h&&r.insertBefore(i,o),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=av(e),r=av(t);n&&r&&n instanceof $h&&n.removeChild(r),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e,t){var n=this.delegate.selectRootElement(e,t),r=sb();return r&&sv(new $h(n,null,r)),n},e.prototype.setAttribute=function(e,t,n,r){var o=av(e);if(o&&o instanceof $h){var i=r?r+":"+t:t;o.attributes[i]=n}this.delegate.setAttribute(e,t,n,r)},e.prototype.removeAttribute=function(e,t,n){var r=av(e);if(r&&r instanceof $h){var o=n?n+":"+t:t;r.attributes[o]=null}this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=av(e);n&&n instanceof $h&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=av(e);n&&n instanceof $h&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,r){var o=av(e);o&&o instanceof $h&&(o.styles[t]=n),this.delegate.setStyle(e,t,n,r)},e.prototype.removeStyle=function(e,t,n){var r=av(e);r&&r instanceof $h&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var r=av(e);r&&r instanceof $h&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if("string"!=typeof e){var r=av(e);r&&r.listeners.push(new Gh(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}();
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function fb(e){return km(),Kv.overrideProvider(e)}function db(e,t){return km(),Kv.overrideComponentView(e,t)}function pb(){return km(),Kv.clearOverrides()}function hb(e,t,n){return new vb(e,t,n)}var vb=function(e){function t(t,n,r){var o=e.call(this)||this;return o.moduleType=t,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return Object(r.c)(t,e),t.prototype.create=function(e){km();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var o in e.providersByKey)r[o]=e.providersByKey[o];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Cg(this._ngModuleDefFactory));return Kv.createNgModuleRef(this.moduleType,e||Fa.NULL,this._bootstrapComponents,t)},t}(Ss);
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */}.call(this,n(16))},function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=14},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(12)),r(n(17))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u};Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),i=n(12),u=function(){function e(){}return e=r([o.NgModule({imports:[],declarations:[i.ChartComponent],exports:[i.ChartComponent]})],e)}();t.ChartModule=u},function(e,t,n){"use strict";var r=n(1);var o=n(0),i=n(3),u=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return o.c(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(i.a),a=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},s=n(6),c=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,s.a),t}};function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var f=l(),d=function(e){return function(t){for(var n=e[f]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},p=n(5),h=function(e){return function(t){var n=e[p.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},v=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function g(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var y=n(11),m=function(e){if(e instanceof r.a)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[p.a])return h(e);if(v(e))return a(e);if(g(e))return c(e);if(e&&"function"==typeof e[f])return d(e);var t=Object(y.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(i.a);var _=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new w(e,this.project,this.thisArg))},e}(),w=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return o.c(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.a);var C=n(2);function x(e,t){return t?new r.a(function(n){var r=new C.a,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}):new r.a(a(e))}function O(e,t){if(!t)return e instanceof r.a?e:new r.a(m(e));if(null!=e){if(function(e){return e&&"function"==typeof e[p.a]}(e))return function(e,t){return t?new r.a(function(n){var r=new C.a;return r.add(t.schedule(function(){var o=e[p.a]();r.add(o.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r}):new r.a(h(e))}(e,t);if(g(e))return function(e,t){return t?new r.a(function(n){var r=new C.a;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r}):new r.a(c(e))}(e,t);if(v(e))return x(e,t);if(function(e){return e&&"function"==typeof e[f]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return t?new r.a(function(n){var r,o=new C.a;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(t.schedule(function(){r=e[f](),o.add(t.schedule(function(){if(!n.closed){var e,t;try{var o=r.next();e=o.value,t=o.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}}))})),o}):new r.a(d(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function I(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(I(function(n,r){return O(e(n,r)).pipe(function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new _(e,t))}}(function(e,o){return t(n,e,r,o)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new E(e,n))})}var E=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new D(e,this.project,this.concurrent))},e}(),D=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o.c(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new u(this,void 0,void 0);this.destination.add(r),function(e,t,n,r,o){if(void 0===o&&(o=new u(e,n,r)),!o.closed)m(t)(o)}(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(b);function k(e){return e}function M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,o=Number.POSITIVE_INFINITY,i=null,u=e[e.length-1];return(n=u)&&"function"==typeof n.schedule?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(o=e.pop())):"number"==typeof u&&(o=e.pop()),null===i&&1===e.length&&e[0]instanceof r.a?e[0]:function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),I(k,e)}(o)(x(e,i))}n.d(t,"a",function(){return M})},function(e,t,n){"use strict";var r=n(0),o=n(10),i=n(1),u=n(3),a=n(2);function s(){return function(e){return e.lift(new c(e))}}var c=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new l(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.c(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(u.a),f=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.c(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new p(this.getSubject(),this))),e.closed?(this._connection=null,e=a.a.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return s()(this)},t}(i.a).prototype,d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:f._subscribe},_isComplete:{value:f._isComplete,writable:!0},getSubject:{value:f.getSubject},connect:{value:f.connect},refCount:{value:f.refCount}},p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.c(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.b);u.a;var h=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(e);return o.add(t.subscribe(r)),o},e}();function v(){return new o.a}function g(){return function(e){return s()((t=v,function(e){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof n)return e.lift(new h(r,n));var o=Object.create(e,d);return o.source=e,o.subjectFactory=r,o})(e));var t,n}}n.d(t,"a",function(){return g})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zeW1ib2wvb2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2hvc3RSZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YmplY3RTdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9DaGFydENvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvY29yZS9mZXNtNS9jb3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYW5ndWxhci9jb3JlL2Zlc201IGxhenkgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ2hhcnRNb2R1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvSW5uZXJTdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUb0l0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc1Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9zdWJzY3JpYmVUby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9PdXRlclN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbU9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL21lcmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9yZWZDb3VudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbXVsdGljYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9zaGFyZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJfX2V4dGVuZHMiLCJfX2Fzc2lnbiIsIl9fZGVjb3JhdGUiLCJfX3BhcmFtIiwiX19tZXRhZGF0YSIsIl9fdmFsdWVzIiwiX19yZWFkIiwiX19zcHJlYWQiLCJleHRlbmRTdGF0aWNzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsImFzc2lnbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJwYXJhbUluZGV4IiwiZGVjb3JhdG9yIiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwibWV0YWRhdGEiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwiZSIsImFyIiwicHVzaCIsImVycm9yIiwiY29uY2F0Iiwibm9vcCIsInBpcGVGcm9tQXJyYXkiLCJmbnMiLCJpbnB1dCIsInJlZHVjZSIsInByZXYiLCJmbiIsIk9ic2VydmFibGVfT2JzZXJ2YWJsZSIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfaXNTY2FsYXIiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwib2JzZXJ2YWJsZSIsInNvdXJjZSIsIm9ic2VydmVyT3JOZXh0IiwiY29tcGxldGUiLCJzaW5rIiwibmV4dE9yT2JzZXJ2ZXIiLCJTdWJzY3JpYmVyIiwicnhTdWJzY3JpYmVyIiwiT2JzZXJ2ZXIiLCJ0b1N1YnNjcmliZXIiLCJhZGQiLCJjb25maWciLCJ1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIiwic3luY0Vycm9yVGhyb3dhYmxlIiwiX3RyeVN1YnNjcmliZSIsInN5bmNFcnJvclRocm93biIsInN5bmNFcnJvclZhbHVlIiwiZXJyIiwib2JzZXJ2ZXIiLCJfYSIsImNsb3NlZF8xIiwiY2xvc2VkIiwiZGVzdGluYXRpb24iLCJpc1N0b3BwZWQiLCJjYW5SZXBvcnRFcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiX3RoaXMiLCJnZXRQcm9taXNlQ3RvciIsInJlc29sdmUiLCJyZWplY3QiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsInN1YnNjcmliZXIiLCJwaXBlIiwib3BlcmF0aW9ucyIsIl9pIiwidG9Qcm9taXNlIiwieCIsIlByb21pc2UiLCJFcnJvciIsImlzQXJyYXkiLCJVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCIsImVycm9ycyIsIm1lc3NhZ2UiLCJtYXAiLCJ0b1N0cmluZyIsImpvaW4iLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiU3Vic2NyaXB0aW9uX1N1YnNjcmlwdGlvbiIsIlN1YnNjcmlwdGlvbiIsIl9wYXJlbnQiLCJfcGFyZW50cyIsIl9zdWJzY3JpcHRpb25zIiwiX3Vuc3Vic2NyaWJlIiwiZW1wdHkiLCJoYXNFcnJvcnMiLCJpbmRleCIsImxlbiIsInJlbW92ZSIsImlzRnVuY3Rpb24iLCJmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMiLCJzdWIiLCJpc09iamVjdCIsInRlYXJkb3duIiwidG1wIiwiRU1QVFkiLCJfYWRkUGFyZW50Iiwic3Vic2NyaXB0aW9ucyIsInN1YnNjcmlwdGlvbkluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInBhcmVudCIsImVycnMiLCJ0c2xpYl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX3V0aWxfaXNGdW5jdGlvbl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fIiwiX09ic2VydmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfU3Vic2NyaXB0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlcl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fIiwiX2NvbmZpZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fIiwiX3V0aWxfaG9zdFJlcG9ydEVycm9yX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X18iLCJfc3VwZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsIlNhZmVTdWJzY3JpYmVyIiwiX25leHQiLCJfZXJyb3IiLCJfY29tcGxldGUiLCJfdW5zdWJzY3JpYmVBbmRSZWN5Y2xlIiwiX3BhcmVudFN1YnNjcmliZXIiLCJjb250ZXh0IiwiX2NvbnRleHQiLCJfX3RyeU9yU2V0RXJyb3IiLCJfX3RyeU9yVW5zdWIiLCJ3cmFwcGVkQ29tcGxldGUiLCJfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MiLCJ1bmRlZmluZWQiLCJzdGFjayIsImhvc3RSZXBvcnRFcnJvciIsInNldFRpbWVvdXQiLCJNYXRoIiwicmFuZG9tIiwiX2NvbmZpZ19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX3V0aWxfaG9zdFJlcG9ydEVycm9yX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsIlN1YmplY3RTdWJzY3JpcHRpb25fU3ViamVjdFN1YnNjcmlwdGlvbiIsIlN1YmplY3RTdWJzY3JpcHRpb24iLCJzdWJqZWN0IiwidHNsaWJfZXM2Iiwib2JzZXJ2ZXJzIiwic3Vic2NyaWJlckluZGV4IiwiU3ViamVjdF9TdWJqZWN0U3Vic2NyaWJlciIsIlN1YmplY3RfU3ViamVjdCIsIlN1YmplY3RTdWJzY3JpYmVyIiwiU3ViamVjdCIsImhhc0Vycm9yIiwidGhyb3duRXJyb3IiLCJTdWJqZWN0X0Fub255bW91c1N1YmplY3QiLCJjb3B5Iiwic2xpY2UiLCJhc09ic2VydmFibGUiLCJBbm9ueW1vdXNTdWJqZWN0IiwiY29yZV8xIiwiQ2hhcnRDb21wb25lbnQiLCJuZ09uSW5pdCIsImJhbmFhbiIsImxvZyIsIkNvbXBvbmVudCIsInNlbGVjdG9yIiwidGVtcGxhdGUiLCJzdHlsZXMiLCJnbG9iYWwiLCJBUFBMSUNBVElPTl9NT0RVTEVfUFJPVklERVJTIiwiX2l0ZXJhYmxlRGlmZmVyc0ZhY3RvcnkiLCJfa2V5VmFsdWVEaWZmZXJzRmFjdG9yeSIsIl9sb2NhbGVGYWN0b3J5IiwiX2FwcElkUmFuZG9tUHJvdmlkZXJGYWN0b3J5IiwiRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeSIsIkRlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkiLCJEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fIiwiRGVidWdOb2RlX19QUkVfUjNfXyIsImluamVjdEluamVjdG9yT25seSIsIlJlZmxlY3RpdmVJbmplY3Rvcl8iLCJSZWZsZWN0aXZlRGVwZW5kZW5jeSIsInJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzIiwiZ2V0TW9kdWxlRmFjdG9yeV9fUFJFX1IzX18iLCJ3dGZFbmFibGVkIiwiY3JlYXRlU2NvcGUiLCJkZXRlY3RXVEYiLCJlbmRUaW1lUmFuZ2UiLCJsZWF2ZSIsInN0YXJ0VGltZVJhbmdlIiwiaW5qZWN0QXR0cmlidXRlSW1wbCIsIk5HX0lOSkVDVEFCTEVfREVGIiwiZ2V0TFZpZXciLCJnZXRQcmV2aW91c09yUGFyZW50VE5vZGUiLCJuZXh0Q29udGV4dEltcGwiLCJCb3VuZFBsYXllckZhY3RvcnkiLCJsb2FkSW50ZXJuYWwiLCJjcmVhdGVFbGVtZW50UmVmIiwiY3JlYXRlVGVtcGxhdGVSZWYiLCJjcmVhdGVWaWV3UmVmIiwibWFrZVBhcmFtRGVjb3JhdG9yIiwibWFrZVByb3BEZWNvcmF0b3IiLCJnZXRDbG9zdXJlU2FmZVByb3BlcnR5IiwiX2RlZiIsIkRlYnVnQ29udGV4dCIsImNyZWF0ZVBsYXRmb3JtIiwiYXNzZXJ0UGxhdGZvcm0iLCJkZXN0cm95UGxhdGZvcm0iLCJnZXRQbGF0Zm9ybSIsIlBsYXRmb3JtUmVmIiwiQXBwbGljYXRpb25SZWYiLCJjcmVhdGVQbGF0Zm9ybUZhY3RvcnkiLCJOZ1Byb2JlVG9rZW4iLCJlbmFibGVQcm9kTW9kZSIsImlzRGV2TW9kZSIsIkFQUF9JRCIsIlBBQ0tBR0VfUk9PVF9VUkwiLCJQTEFURk9STV9JTklUSUFMSVpFUiIsIlBMQVRGT1JNX0lEIiwiQVBQX0JPT1RTVFJBUF9MSVNURU5FUiIsIkFQUF9JTklUSUFMSVpFUiIsIkFwcGxpY2F0aW9uSW5pdFN0YXR1cyIsIkRlYnVnRWxlbWVudCIsIkRlYnVnTm9kZSIsImFzTmF0aXZlRWxlbWVudHMiLCJnZXREZWJ1Z05vZGUiLCJUZXN0YWJpbGl0eSIsIlRlc3RhYmlsaXR5UmVnaXN0cnkiLCJzZXRUZXN0YWJpbGl0eUdldHRlciIsIlRSQU5TTEFUSU9OUyIsIlRSQU5TTEFUSU9OU19GT1JNQVQiLCJMT0NBTEVfSUQiLCJNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSIsIkFwcGxpY2F0aW9uTW9kdWxlIiwid3RmQ3JlYXRlU2NvcGUiLCJ3dGZMZWF2ZSIsInd0ZlN0YXJ0VGltZVJhbmdlIiwid3RmRW5kVGltZVJhbmdlIiwiVHlwZSIsIkV2ZW50RW1pdHRlciIsIkVycm9ySGFuZGxlciIsIlNhbml0aXplciIsIlNlY3VyaXR5Q29udGV4dCIsIkFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMiLCJBdHRyaWJ1dGUiLCJDb250ZW50Q2hpbGQiLCJDb250ZW50Q2hpbGRyZW4iLCJRdWVyeSIsIlZpZXdDaGlsZCIsIlZpZXdDaGlsZHJlbiIsIkRpcmVjdGl2ZSIsIkhvc3RCaW5kaW5nIiwiSG9zdExpc3RlbmVyIiwiSW5wdXQiLCJPdXRwdXQiLCJQaXBlIiwiQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSIsIk5PX0VSUk9SU19TQ0hFTUEiLCJOZ01vZHVsZSIsIlZpZXdFbmNhcHN1bGF0aW9uIiwiVmVyc2lvbiIsIlZFUlNJT04iLCJkZWZpbmVJbmplY3RhYmxlIiwiZGVmaW5lSW5qZWN0b3IiLCJmb3J3YXJkUmVmIiwicmVzb2x2ZUZvcndhcmRSZWYiLCJJbmplY3RhYmxlIiwiSU5KRUNUT1IkMSIsIkluamVjdG9yIiwiaW5qZWN0IiwiSW5qZWN0RmxhZ3MiLCJSZWZsZWN0aXZlSW5qZWN0b3IiLCJjcmVhdGVJbmplY3RvciIsIlJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkiLCJSZWZsZWN0aXZlS2V5IiwiSW5qZWN0aW9uVG9rZW4iLCJJbmplY3QiLCJPcHRpb25hbCIsIlNlbGYiLCJTa2lwU2VsZiIsIkhvc3QiLCJOZ1pvbmUiLCJOb29wTmdab25lIiwiUmVuZGVyQ29tcG9uZW50VHlwZSIsIlJlbmRlcmVyIiwiUmVuZGVyZXIyIiwiUmVuZGVyZXJGYWN0b3J5MiIsIlJlbmRlcmVyU3R5bGVGbGFnczIiLCJSb290UmVuZGVyZXIiLCJDT01QSUxFUl9PUFRJT05TIiwiQ29tcGlsZXIiLCJDb21waWxlckZhY3RvcnkiLCJNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzIiwiQ29tcG9uZW50RmFjdG9yeSIsIkNvbXBvbmVudFJlZiIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIkVsZW1lbnRSZWYiLCJOZ01vZHVsZUZhY3RvcnkiLCJOZ01vZHVsZVJlZiIsIk5nTW9kdWxlRmFjdG9yeUxvYWRlciIsImdldE1vZHVsZUZhY3RvcnkiLCJRdWVyeUxpc3QkMSIsIlN5c3RlbUpzTmdNb2R1bGVMb2FkZXIiLCJTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyQ29uZmlnIiwiVGVtcGxhdGVSZWYiLCJWaWV3Q29udGFpbmVyUmVmIiwiRW1iZWRkZWRWaWV3UmVmIiwiVmlld1JlZiQxIiwiQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJDaGFuZ2VEZXRlY3RvclJlZiIsIkRlZmF1bHRJdGVyYWJsZURpZmZlciIsIkl0ZXJhYmxlRGlmZmVycyIsIktleVZhbHVlRGlmZmVycyIsIlNpbXBsZUNoYW5nZSIsIldyYXBwZWRWYWx1ZSIsInBsYXRmb3JtQ29yZSIsIkFMTE9XX01VTFRJUExFX1BMQVRGT1JNUyIsIkFQUF9JRF9SQU5ET01fUFJPVklERVIiLCJkZWZhdWx0SXRlcmFibGVEaWZmZXJzIiwiZGVmYXVsdEtleVZhbHVlRGlmZmVycyIsImRldk1vZGVFcXVhbCIsImlzTGlzdExpa2VJdGVyYWJsZSIsIkNoYW5nZURldGVjdG9yU3RhdHVzIiwiaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJDb25zb2xlIiwiZ2V0SW5qZWN0YWJsZURlZiIsInNldEN1cnJlbnRJbmplY3RvciIsIkFQUF9ST09UIiwiaXZ5RW5hYmxlZCIsIkNvZGVnZW5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJyZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzIiwiUmVmbGVjdGlvbkNhcGFiaWxpdGllcyIsIlJlbmRlckRlYnVnSW5mbyIsIl9zYW5pdGl6ZUh0bWwiLCJfc2FuaXRpemVTdHlsZSIsIl9zYW5pdGl6ZVVybCIsIl9nbG9iYWwiLCJsb29zZUlkZW50aWNhbCIsInN0cmluZ2lmeSIsIm1ha2VEZWNvcmF0b3IiLCJpc09ic2VydmFibGUiLCJpc1Byb21pc2UiLCJjbGVhck92ZXJyaWRlcyIsImluaXRTZXJ2aWNlc0lmTmVlZGVkIiwib3ZlcnJpZGVDb21wb25lbnRWaWV3Iiwib3ZlcnJpZGVQcm92aWRlciIsIk5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IkMSIsImRlZmluZUJhc2UiLCJkZWZpbmVDb21wb25lbnQiLCJkZWZpbmVEaXJlY3RpdmUiLCJkZWZpbmVQaXBlIiwiZGVmaW5lTmdNb2R1bGUiLCJkZXRlY3RDaGFuZ2VzIiwicmVuZGVyQ29tcG9uZW50IiwiQ29tcG9uZW50RmFjdG9yeSQxIiwiQ29tcG9uZW50UmVmJDEiLCJkaXJlY3RpdmVJbmplY3QiLCJpbmplY3RBdHRyaWJ1dGUiLCJnZXRGYWN0b3J5T2YiLCJnZXRJbmhlcml0ZWRGYWN0b3J5IiwidGVtcGxhdGVSZWZFeHRyYWN0b3IiLCJQcm92aWRlcnNGZWF0dXJlIiwiSW5oZXJpdERlZmluaXRpb25GZWF0dXJlIiwiTmdPbkNoYW5nZXNGZWF0dXJlIiwiTGlmZWN5Y2xlSG9va3NGZWF0dXJlIiwiTmdNb2R1bGVSZWYkMSIsIm1hcmtEaXJ0eSIsIk5nTW9kdWxlRmFjdG9yeSQxIiwiTk9fQ0hBTkdFIiwiY29udGFpbmVyIiwibmV4dENvbnRleHQiLCJlbGVtZW50U3RhcnQiLCJuYW1lc3BhY2VIVE1MIiwibmFtZXNwYWNlTWF0aE1MIiwibmFtZXNwYWNlU1ZHIiwiZWxlbWVudCIsImxpc3RlbmVyIiwidGV4dCIsImVtYmVkZGVkVmlld1N0YXJ0IiwicXVlcnkiLCJyZWdpc3RlckNvbnRlbnRRdWVyeSIsInByb2plY3Rpb24iLCJpbnRlcnBvbGF0aW9uMSIsImludGVycG9sYXRpb24yIiwiaW50ZXJwb2xhdGlvbjMiLCJpbnRlcnBvbGF0aW9uNCIsImludGVycG9sYXRpb241IiwiaW50ZXJwb2xhdGlvbjYiLCJpbnRlcnBvbGF0aW9uNyIsImludGVycG9sYXRpb244IiwiaW50ZXJwb2xhdGlvblYiLCJwaXBlQmluZDEiLCJwaXBlQmluZDIiLCJwaXBlQmluZDMiLCJwaXBlQmluZDQiLCJwaXBlQmluZFYiLCJwdXJlRnVuY3Rpb24wIiwicHVyZUZ1bmN0aW9uMSIsInB1cmVGdW5jdGlvbjIiLCJwdXJlRnVuY3Rpb24zIiwicHVyZUZ1bmN0aW9uNCIsInB1cmVGdW5jdGlvbjUiLCJwdXJlRnVuY3Rpb242IiwicHVyZUZ1bmN0aW9uNyIsInB1cmVGdW5jdGlvbjgiLCJwdXJlRnVuY3Rpb25WIiwiZ2V0Q3VycmVudFZpZXciLCJnZXRIb3N0RWxlbWVudCIsInJlc3RvcmVWaWV3IiwiY29udGFpbmVyUmVmcmVzaFN0YXJ0IiwiY29udGFpbmVyUmVmcmVzaEVuZCIsInF1ZXJ5UmVmcmVzaCIsImxvYWRRdWVyeUxpc3QiLCJlbGVtZW50RW5kIiwiZWxlbWVudFByb3BlcnR5IiwiY29tcG9uZW50SG9zdFN5bnRoZXRpY1Byb3BlcnR5IiwicHJvamVjdGlvbkRlZiIsInJlZmVyZW5jZSIsImVuYWJsZUJpbmRpbmdzIiwiZGlzYWJsZUJpbmRpbmdzIiwiYWxsb2NIb3N0VmFycyIsImVsZW1lbnRBdHRyaWJ1dGUiLCJlbGVtZW50Q29udGFpbmVyU3RhcnQiLCJlbGVtZW50Q29udGFpbmVyRW5kIiwiZWxlbWVudFN0eWxpbmciLCJlbGVtZW50SG9zdEF0dHJzIiwiZWxlbWVudFN0eWxpbmdNYXAiLCJlbGVtZW50U3R5bGVQcm9wIiwiZWxlbWVudFN0eWxpbmdBcHBseSIsImVsZW1lbnRDbGFzc1Byb3AiLCJ0ZXh0QmluZGluZyIsImVtYmVkZGVkVmlld0VuZCIsInN0b3JlIiwibG9hZCIsIndoZW5SZW5kZXJlZCIsImkxOG4iLCJpMThuQXR0cmlidXRlcyIsImkxOG5FeHAiLCJpMThuU3RhcnQiLCJpMThuRW5kIiwiaTE4bkFwcGx5IiwiaTE4blBvc3Rwcm9jZXNzIiwic2V0Q2xhc3NNZXRhZGF0YSIsImNvbXBpbGVDb21wb25lbnQiLCJjb21waWxlRGlyZWN0aXZlIiwiY29tcGlsZU5nTW9kdWxlIiwiY29tcGlsZU5nTW9kdWxlRGVmcyIsInBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlIiwicmVzZXRDb21waWxlZENvbXBvbmVudHMiLCJjb21waWxlUGlwZSIsInNhbml0aXplSHRtbCIsInNhbml0aXplU3R5bGUiLCJkZWZhdWx0U3R5bGVTYW5pdGl6ZXIiLCJzYW5pdGl6ZVNjcmlwdCIsInNhbml0aXplVXJsIiwic2FuaXRpemVSZXNvdXJjZVVybCIsImJ5cGFzc1Nhbml0aXphdGlvblRydXN0SHRtbCIsImJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3R5bGUiLCJieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdCIsImJ5cGFzc1Nhbml0aXphdGlvblRydXN0VXJsIiwiYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RSZXNvdXJjZVVybCIsImdldExDb250ZXh0IiwiYmluZFBsYXllckZhY3RvcnkiLCJhZGRQbGF5ZXIiLCJnZXRQbGF5ZXJzIiwiY29tcGlsZU5nTW9kdWxlRmFjdG9yeV9fUE9TVF9SM19fIiwiU1dJVENIX0NPTVBJTEVfQ09NUE9ORU5UX19QT1NUX1IzX18iLCJTV0lUQ0hfQ09NUElMRV9ESVJFQ1RJVkVfX1BPU1RfUjNfXyIsIlNXSVRDSF9DT01QSUxFX1BJUEVfX1BPU1RfUjNfXyIsIlNXSVRDSF9DT01QSUxFX05HTU9EVUxFX19QT1NUX1IzX18iLCJnZXREZWJ1Z05vZGVfX1BPU1RfUjNfXyIsIlNXSVRDSF9DT01QSUxFX0lOSkVDVEFCTEVfX1BPU1RfUjNfXyIsIlNXSVRDSF9JVllfRU5BQkxFRF9fUE9TVF9SM19fIiwiU1dJVENIX0NIQU5HRV9ERVRFQ1RPUl9SRUZfRkFDVE9SWV9fUE9TVF9SM19fIiwiQ29tcGlsZXJfY29tcGlsZU1vZHVsZVN5bmNfX1BPU1RfUjNfXyIsIkNvbXBpbGVyX2NvbXBpbGVNb2R1bGVBc3luY19fUE9TVF9SM19fIiwiQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jX19QT1NUX1IzX18iLCJDb21waWxlcl9jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jX19QT1NUX1IzX18iLCJTV0lUQ0hfRUxFTUVOVF9SRUZfRkFDVE9SWV9fUE9TVF9SM19fIiwiU1dJVENIX1RFTVBMQVRFX1JFRl9GQUNUT1JZX19QT1NUX1IzX18iLCJTV0lUQ0hfVklFV19DT05UQUlORVJfUkVGX0ZBQ1RPUllfX1BPU1RfUjNfXyIsIlNXSVRDSF9SRU5ERVJFUjJfRkFDVE9SWV9fUE9TVF9SM19fIiwiZ2V0TW9kdWxlRmFjdG9yeV9fUE9TVF9SM19fIiwicHVibGlzaEdsb2JhbFV0aWwiLCJwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzIiwiU1dJVENIX0lOSkVDVE9SX0ZBQ1RPUllfX1BPU1RfUjNfXyIsInJlZ2lzdGVyTW9kdWxlRmFjdG9yeSIsIkVNUFRZX0FSUkFZJDQiLCJFTVBUWV9NQVAiLCJhbmNob3JEZWYiLCJjcmVhdGVDb21wb25lbnRGYWN0b3J5IiwiY3JlYXRlTmdNb2R1bGVGYWN0b3J5IiwiY3JlYXRlUmVuZGVyZXJUeXBlMiIsImRpcmVjdGl2ZURlZiIsImVsZW1lbnREZWYiLCJlbGVtZW50RXZlbnRGdWxsTmFtZSIsImdldENvbXBvbmVudFZpZXdEZWZpbml0aW9uRmFjdG9yeSIsImlubGluZUludGVycG9sYXRlIiwiaW50ZXJwb2xhdGUiLCJtb2R1bGVEZWYiLCJtb2R1bGVQcm92aWRlRGVmIiwibmdDb250ZW50RGVmIiwibm9kZVZhbHVlIiwicGlwZURlZiIsInByb3ZpZGVyRGVmIiwicHVyZUFycmF5RGVmIiwicHVyZU9iamVjdERlZiIsInB1cmVQaXBlRGVmIiwicXVlcnlEZWYiLCJ0ZXh0RGVmIiwidW53cmFwVmFsdWUkMSIsInZpZXdEZWYiLCJyeGpzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX18iLCJyeGpzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJyeGpzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJyeGpzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X18iLCJyeGpzX29wZXJhdG9yc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fIiwib2JqV2l0aFByb3BlcnR5VG9FeHRyYWN0IiwiZmlsbFByb3BlcnRpZXMiLCJOR19DT01QT05FTlRfREVGIiwibmdDb21wb25lbnREZWYiLCJOR19ESVJFQ1RJVkVfREVGIiwibmdEaXJlY3RpdmVEZWYiLCJuZ0luamVjdGFibGVEZWYiLCJOR19JTkpFQ1RPUl9ERUYiLCJuZ0luamVjdG9yRGVmIiwiTkdfUElQRV9ERUYiLCJuZ1BpcGVEZWYiLCJOR19NT0RVTEVfREVGIiwibmdNb2R1bGVEZWYiLCJOR19CQVNFX0RFRiIsIm5nQmFzZURlZiIsIk5HX0VMRU1FTlRfSUQiLCJfX05HX0VMRU1FTlRfSURfXyIsIm9wdHMiLCJwcm92aWRlZEluIiwiZmFjdG9yeSIsIm9wdGlvbnMiLCJwcm92aWRlcnMiLCJpbXBvcnRzIiwidHlwZSIsImdldEluamVjdG9yRGVmIiwiX2Rlc2MiLCJuZ01ldGFkYXRhTmFtZSIsIkFOTk9UQVRJT05TIiwiUEFSQU1FVEVSUyIsIlBST1BfTUVUQURBVEEiLCJwcm9wcyIsInBhcmVudENsYXNzIiwiYWRkaXRpb25hbFByb2Nlc3NpbmciLCJ0eXBlRm4iLCJtZXRhQ3RvciIsIm1ha2VNZXRhZGF0YUN0b3IiLCJEZWNvcmF0b3JGYWN0b3J5IiwiYXJncyIsImFubm90YXRpb25JbnN0YW5jZSIsImNscyIsImFubm90YXRpb25DbHMiLCJ2YWx1ZXMiLCJwcm9wTmFtZSIsIlBhcmFtRGVjb3JhdG9yRmFjdG9yeSIsIlBhcmFtRGVjb3JhdG9yIiwiYW5ub3RhdGlvbiIsInVudXNlZEtleSIsInBhcmFtZXRlcnMiLCJQcm9wRGVjb3JhdG9yRmFjdG9yeSIsImRlY29yYXRvckluc3RhbmNlIiwibWV0YSIsInVuc2hpZnQiLCJhdHRyaWJ1dGVOYW1lIiwiZGF0YSIsImZpcnN0IiwiaXNWaWV3UXVlcnkiLCJkZXNjZW5kYW50cyIsImNoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiRGVmYXVsdCIsIl9fd2luZG93Iiwid2luZG93IiwiX19zZWxmIiwic2VsZiIsIldvcmtlckdsb2JhbFNjb3BlIiwicHJvbWlzZSIsIl9zeW1ib2xJdGVyYXRvciIsImdldFN5bWJvbEl0ZXJhdG9yIiwiU3ltYm9sXzEiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIk1hcCIsInNjaGVkdWxlTWljcm9UYXNrIiwiWm9uZSIsInRoZW4iLCJjdXJyZW50IiwiYSIsImlzTmFOIiwidG9rZW4iLCJvdmVycmlkZGVuTmFtZSIsInJlcyIsIm5ld0xpbmVJbmRleCIsInN1YnN0cmluZyIsIl9fZm9yd2FyZF9yZWZfXyIsImZvcndhcmRSZWZGbiIsInJlc291cmNlUmVzb2x2ZXIiLCJ1cmxGZXRjaGVzIiwidXJsTWFwIiwiY2FjaGVkUmVzb3VyY2VSZXNvbHZlIiwidXJsIiwicmVzcCIsInNldCIsInVud3JhcFJlc3BvbnNlIiwiY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZVVybCIsInN0eWxlVXJscyIsInN0eWxlT2Zmc2V0Iiwic3R5bGVVcmwiLCJzdHlsZSIsImNsZWFyIiwiYWxsIiwibmV3Q291bnRlcnMiLCJTZXQiLCJjb21wb25lbnROZWVkc1Jlc29sdXRpb24iLCJyZXNwb25zZSIsIm5nRGV2TW9kZSIsImZpcnN0VGVtcGxhdGVQYXNzIiwidE5vZGUiLCJ0VmlldyIsInJlbmRlcmVyQ3JlYXRlVGV4dE5vZGUiLCJyZW5kZXJlclNldFRleHQiLCJyZW5kZXJlckNyZWF0ZUVsZW1lbnQiLCJyZW5kZXJlckFkZEV2ZW50TGlzdGVuZXIiLCJyZW5kZXJlclNldEF0dHJpYnV0ZSIsInJlbmRlcmVyUmVtb3ZlQXR0cmlidXRlIiwicmVuZGVyZXJTZXRQcm9wZXJ0eSIsInJlbmRlcmVyU2V0Q2xhc3NOYW1lIiwicmVuZGVyZXJBZGRDbGFzcyIsInJlbmRlcmVyUmVtb3ZlQ2xhc3MiLCJyZW5kZXJlclNldFN0eWxlIiwicmVuZGVyZXJSZW1vdmVTdHlsZSIsInJlbmRlcmVyRGVzdHJveSIsInJlbmRlcmVyRGVzdHJveU5vZGUiLCJyZW5kZXJlck1vdmVOb2RlIiwicmVuZGVyZXJSZW1vdmVOb2RlIiwicmVuZGVyZXJDcmVhdGVDb21tZW50IiwiRU1QVFlfT0JKIiwiRU1QVFlfQVJSQVkiLCJmcmVlemUiLCJfcmVuZGVyQ29tcENvdW50IiwiY29tcG9uZW50RGVmaW5pdGlvbiIsInR5cGVQcm90b3R5cGUiLCJkZWNsYXJlZElucHV0cyIsImRlZiIsInByb3ZpZGVyc1Jlc29sdmVyIiwiY29uc3RzIiwidmFycyIsImhvc3RCaW5kaW5ncyIsImNvbnRlbnRRdWVyaWVzIiwiY29udGVudFF1ZXJpZXNSZWZyZXNoIiwiYXR0cmlidXRlcyIsImlucHV0cyIsIm91dHB1dHMiLCJleHBvcnRBcyIsIm9uSW5pdCIsImRvQ2hlY2siLCJuZ0RvQ2hlY2siLCJhZnRlckNvbnRlbnRJbml0IiwibmdBZnRlckNvbnRlbnRJbml0IiwiYWZ0ZXJDb250ZW50Q2hlY2tlZCIsIm5nQWZ0ZXJDb250ZW50Q2hlY2tlZCIsImFmdGVyVmlld0luaXQiLCJuZ0FmdGVyVmlld0luaXQiLCJhZnRlclZpZXdDaGVja2VkIiwibmdBZnRlclZpZXdDaGVja2VkIiwib25EZXN0cm95IiwibmdPbkRlc3Ryb3kiLCJvblB1c2giLCJjaGFuZ2VEZXRlY3Rpb24iLCJPblB1c2giLCJkaXJlY3RpdmVEZWZzIiwicGlwZURlZnMiLCJzZWxlY3RvcnMiLCJ2aWV3UXVlcnkiLCJmZWF0dXJlcyIsImVuY2Fwc3VsYXRpb24iLCJFbXVsYXRlZCIsImlkIiwiXyIsImRpcmVjdGl2ZVR5cGVzIiwiZGlyZWN0aXZlcyIsImZlYXR1cmUiLCJwaXBlVHlwZXMiLCJwaXBlcyIsImludmVydE9iamVjdCIsImV4dHJhY3REaXJlY3RpdmVEZWYiLCJleHRyYWN0UGlwZURlZiIsImdldENvbXBvbmVudERlZiIsImdldERpcmVjdGl2ZURlZiIsImdldFBpcGVEZWYiLCJib290c3RyYXAiLCJkZWNsYXJhdGlvbnMiLCJ0cmFuc2l0aXZlQ29tcGlsZVNjb3BlcyIsIm9iaiIsInNlY29uZGFyeSIsIm5ld0xvb2t1cCIsIm1pbmlmaWVkS2V5IiwicHVibGljTmFtZSIsImRlY2xhcmVkTmFtZSIsImJhc2VEZWZpbml0aW9uIiwicHVyZSIsImdldE5nTW9kdWxlRGVmIiwidGhyb3dOb3RGb3VuZCIsImFzc2VydEVxdWFsIiwiYWN0dWFsIiwiZXhwZWN0ZWQiLCJtc2ciLCJ0aHJvd0Vycm9yIiwiYXNzZXJ0Tm90RXF1YWwiLCJhc3NlcnRMZXNzVGhhbiIsImFzc2VydEdyZWF0ZXJUaGFuIiwiYXNzZXJ0RGVmaW5lZCIsImFzc2VydENvbXBvbmVudFR5cGUiLCJhc3NlcnREb21Ob2RlIiwibm9kZSIsIk5vZGUiLCJhc3NlcnRQcmV2aW91c0lzUGFyZW50IiwiaXNQYXJlbnQiLCJhc3NlcnRIYXNQYXJlbnQiLCJhc3NlcnREYXRhSW5SYW5nZSIsImFyciIsIlRWSUVXIiwiRkxBR1MiLCJQQVJFTlQiLCJORVhUIiwiUVVFUklFUyIsIkhPU1QiLCJIT1NUX05PREUiLCJCSU5ESU5HX0lOREVYIiwiQ0xFQU5VUCIsIkNPTlRFWFQiLCJJTkpFQ1RPUiIsIlJFTkRFUkVSX0ZBQ1RPUlkiLCJSRU5ERVJFUiIsIlNBTklUSVpFUiIsIlRBSUwiLCJDT05UQUlORVJfSU5ERVgiLCJDT05URU5UX1FVRVJJRVMiLCJERUNMQVJBVElPTl9WSUVXIiwiSEVBREVSX09GRlNFVCIsIkFDVElWRV9JTkRFWCIsIlZJRVdTIiwiTkFUSVZFIiwiUkVOREVSX1BBUkVOVCIsIkxDT05UQUlORVJfTEVOR1RIIiwiTU9OS0VZX1BBVENIX0tFWV9OQU1FIiwiVE5PREUiLCJQQVJFTlRfSU5KRUNUT1IiLCJJTkpFQ1RPUl9CTE9PTV9QQVJFTlRfU0laRSIsIk5PX1BBUkVOVF9JTkpFQ1RPUiIsIk5vZGVJbmplY3RvckZhY3RvcnkiLCJpc1ZpZXdQcm92aWRlciIsImluamVjdEltcGxlbWVudGF0aW9uIiwicmVzb2x2aW5nIiwiY2FuU2VlVmlld1Byb3ZpZGVycyIsImluamVjdEltcGwiLCJGYWN0b3J5UHJvdG90eXBlIiwic3RyaW5naWZ5JDEiLCJ2aWV3IiwicmVhZEVsZW1lbnRWYWx1ZSIsImdldE5hdGl2ZUJ5SW5kZXgiLCJsVmlldyIsImdldE5hdGl2ZUJ5VE5vZGUiLCJob3N0VmlldyIsImdldFROb2RlIiwiZ2V0Q29tcG9uZW50Vmlld0J5SW5kZXgiLCJub2RlSW5kZXgiLCJzbG90VmFsdWUiLCJpc0NvbnRlbnRRdWVyeUhvc3QiLCJmbGFncyIsImlzQ29tcG9uZW50IiwiaXNDb21wb25lbnREZWYiLCJpc0xDb250YWluZXIiLCJpc1Jvb3RWaWV3IiwiZ2V0Um9vdFZpZXciLCJyZWFkUGF0Y2hlZExWaWV3IiwiZ2V0Um9vdENvbnRleHQiLCJ2aWV3T3JDb21wb25lbnQiLCJyb290VmlldyIsInJlYWRQYXRjaGVkRGF0YSIsImhhc1BhcmVudEluamVjdG9yIiwicGFyZW50TG9jYXRpb24iLCJnZXRQYXJlbnRJbmplY3RvckluZGV4IiwiZ2V0UGFyZW50SW5qZWN0b3JWaWV3T2Zmc2V0IiwiZ2V0UGFyZW50SW5qZWN0b3JWaWV3IiwibG9jYXRpb24iLCJzdGFydFZpZXciLCJ2aWV3T2Zmc2V0IiwicGFyZW50VmlldyIsIlIzUmVzb2x2ZWREZXBlbmRlbmN5VHlwZSIsImRlZmF1bHRTY2hlZHVsZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhZGRBbGxUb0FycmF5IiwiaXRlbXMiLCJmaW5kQ29tcG9uZW50VmlldyIsInJvb3RUTm9kZSIsImdldENvbXBpbGVyRmFjYWRlIiwiZ2xvYmFsTmciLCJuZyIsIsm1Y29tcGlsZXJGYWNhZGUiLCJfaW5qZWN0SW1wbGVtZW50YXRpb24iLCJlbGVtZW50RGVwdGhDb3VudCIsIl9jdXJyZW50SW5qZWN0b3IiLCJpbmplY3RvciIsImZvcm1lciIsInNldEluamVjdEltcGxlbWVudGF0aW9uIiwiaW1wbCIsInByZXZpb3VzIiwiaW5qZWN0Um9vdExpbXBNb2RlIiwibm90Rm91bmRWYWx1ZSIsImluamVjdGFibGVEZWYiLCJpbmplY3RBcmdzIiwidHlwZXMiLCJhcmciLCJqIiwiYXNzZXJ0Tm9kZVR5cGUiLCJ0eXBlTmFtZSIsImFzc2VydE5vZGVPZlBvc3NpYmxlVHlwZXMiLCJzb21lIiwicXVldWVJbml0SG9va3MiLCJpbml0SG9va3MiLCJjaGVja0hvb2tzIiwicXVldWVMaWZlY3ljbGVIb29rcyIsImRpcmVjdGl2ZVN0YXJ0IiwiZW5kIiwiZGlyZWN0aXZlRW5kIiwicXVldWVDb250ZW50SG9va3MiLCJxdWV1ZVZpZXdIb29rcyIsInF1ZXVlRGVzdHJveUhvb2tzIiwiY29udGVudEhvb2tzIiwiY29udGVudENoZWNrSG9va3MiLCJ2aWV3SG9va3MiLCJ2aWV3Q2hlY2tIb29rcyIsImRlc3Ryb3lIb29rcyIsImV4ZWN1dGVJbml0SG9va3MiLCJjdXJyZW50VmlldyIsImNoZWNrTm9DaGFuZ2VzTW9kZSIsImV4ZWN1dGVIb29rcyIsImFsbEhvb2tzIiwiaG9va3NUb0NhbGwiLCJjYWxsSG9va3MiLCJiaW5kaW5nc0VuYWJsZWQiLCJwcmV2aW91c09yUGFyZW50VE5vZGUiLCJjdXJyZW50RGlyZWN0aXZlRGVmIiwic2V0Q3VycmVudERpcmVjdGl2ZURlZiIsInZpZXdUb1Jlc3RvcmUiLCJjb250ZXh0TFZpZXciLCJzZXRQcmV2aW91c09yUGFyZW50VE5vZGUiLCJzZXRUTm9kZUFuZFZpZXdEYXRhIiwiZ2V0SXNQYXJlbnQiLCJzZXRJc1BhcmVudCIsImlzQ3JlYXRpb25Nb2RlIiwiZ2V0Q29udGV4dExWaWV3IiwiZ2V0Q2hlY2tOb0NoYW5nZXNNb2RlIiwic2V0Q2hlY2tOb0NoYW5nZXNNb2RlIiwiZ2V0Rmlyc3RUZW1wbGF0ZVBhc3MiLCJzZXRGaXJzdFRlbXBsYXRlUGFzcyIsImJpbmRpbmdSb290SW5kZXgiLCJnZXRCaW5kaW5nUm9vdCIsInNldEJpbmRpbmdSb290IiwiZW50ZXJWaWV3IiwibmV3VmlldyIsImhvc3RUTm9kZSIsIm9sZFZpZXciLCJiaW5kaW5nU3RhcnRJbmRleCIsImxldmVsIiwibmVzdGluZ0xldmVsIiwid2Fsa1VwVmlld3MiLCJsZWF2ZVZpZXciLCJpbmNsdWRlVmlld1Byb3ZpZGVycyIsInNldEluY2x1ZGVWaWV3UHJvdmlkZXJzIiwidiIsIm9sZFZhbHVlIiwiQkxPT01fTUFTSyIsIkJMT09NX1NJWkUiLCJuZXh0TmdFbGVtZW50SWQiLCJnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUiLCJleGlzdGluZ0luamVjdG9ySW5kZXgiLCJnZXRJbmplY3RvckluZGV4IiwiaW5qZWN0b3JJbmRleCIsImluc2VydEJsb29tIiwiYmx1ZXByaW50IiwicGFyZW50TG9jIiwiZ2V0UGFyZW50SW5qZWN0b3JMb2NhdGlvbiIsInBhcmVudEluZGV4IiwicGFyZW50TFZpZXciLCJwYXJlbnREYXRhIiwiZm9vdGVyIiwiZGlQdWJsaWNJbkluamVjdG9yIiwiY2hhckNvZGVBdCIsImJsb29tQml0IiwibWFzayIsImI3IiwiYjYiLCJiNSIsInREYXRhIiwiYmxvb21BZGQiLCJhdHRyTmFtZVRvSW5qZWN0IiwiYXR0cnMiLCJhdHRyTmFtZSIsImdldE9yQ3JlYXRlSW5qZWN0YWJsZSIsImJsb29tSGFzaCIsInRva2VuSWQiLCJibG9vbUhhc2hCaXRPckZhY3RvcnkiLCJzYXZlUHJldmlvdXNPclBhcmVudFROb2RlIiwic2F2ZUxWaWV3IiwicHJldmlvdXNUVmlldyIsImhvc3RURWxlbWVudE5vZGUiLCJzaG91bGRTZWFyY2hQYXJlbnQiLCJibG9vbUhhc1Rva2VuIiwiaW5zdGFuY2UiLCJzZWFyY2hUb2tlbnNPbkluamVjdG9yIiwiTk9UX0ZPVU5EIiwibW9kdWxlSW5qZWN0b3IiLCJjdXJyZW50VFZpZXciLCJpbmplY3RhYmxlSWR4IiwibG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlciIsImdldE5vZGVJbmplY3RhYmxlIiwiY2FuQWNjZXNzVmlld1Byb3ZpZGVycyIsImlzSG9zdFNwZWNpYWxDYXNlIiwibm9kZVByb3ZpZGVySW5kZXhlcyIsInByb3ZpZGVySW5kZXhlcyIsInRJbmplY3RhYmxlcyIsImluamVjdGFibGVzU3RhcnQiLCJkaXJlY3RpdmVzU3RhcnQiLCJjcHRWaWV3UHJvdmlkZXJzQ291bnQiLCJlbmRJbmRleCIsInByb3ZpZGVyVG9rZW5PckRlZiIsImRpckRlZiIsImxEYXRhIiwiZ2V0UHJvdG90eXBlT2YiLCJwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzIiwicHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiIsImluamVjdG9yVmlldyIsImlzRmlyc3RIb3N0VE5vZGUiLCJOb2RlSW5qZWN0b3IiLCJfdE5vZGUiLCJfbFZpZXciLCJ0eXBlQW55IiwibXBWYWx1ZSIsImZpbmRWaWFDb21wb25lbnQiLCJpc0RpcmVjdGl2ZUluc3RhbmNlIiwiZGlyZWN0aXZlSW5zdGFuY2UiLCJmaXJzdENoaWxkIiwiZGlyZWN0aXZlSW5kZXhTdGFydCIsImRpcmVjdGl2ZUluZGV4RW5kIiwidHJhdmVyc2VOZXh0RWxlbWVudCIsImZpbmRWaWFEaXJlY3RpdmUiLCJnZXREaXJlY3RpdmVzQXROb2RlSW5kZXgiLCJmaW5kVmlhTmF0aXZlRWxlbWVudCIsImV4aXN0aW5nQ3R4IiwibmF0aXZlIiwiY3JlYXRlTENvbnRleHQiLCJhdHRhY2hQYXRjaERhdGEiLCJyRWxlbWVudCIsInBhcmVudF8xIiwicGFyZW50Tm9kZSIsInBhcmVudENvbnRleHQiLCJsb2NhbFJlZnMiLCJnZXRDb21wb25lbnRWaWV3QnlJbnN0YW5jZSIsImNvbXBvbmVudEluc3RhbmNlIiwiY2hpbGQiLCJjb21wb25lbnRJbmRpY2VzIiwiY29tcG9uZW50cyIsImVsZW1lbnRDb21wb25lbnRJbmRleCIsImluY2x1ZGVDb21wb25lbnRzIiwiZGlyZWN0aXZlU3RhcnRJbmRleCIsImRpcmVjdGl2ZUVuZEluZGV4IiwiZ2V0Q29tcG9uZW50IiwibG9hZExDb250ZXh0RnJvbU5vZGUiLCJnZXRDb250ZXh0IiwiZ2V0Vmlld0NvbXBvbmVudCIsImxvYWRMQ29udGV4dCIsImdldFJvb3RDb250ZXh0JDEiLCJjb21wb25lbnRPclZpZXciLCJnZXRSb290VmlldyQxIiwiZ2V0Um9vdENvbXBvbmVudHMiLCJnZXRJbmplY3RvciIsImdldERpcmVjdGl2ZXMiLCJ0aHJvd09uTm90Rm91bmQiLCJnZXRMb2NhbFJlZnMiLCJsb2NhbE5hbWVzIiwicmVzdWx0IiwibG9jYWxSZWZOYW1lIiwiZGlyZWN0aXZlSW5kZXgiLCJkaXNjb3ZlckxvY2FsUmVmcyIsImRpcmVjdGl2ZSIsImlzQnJvd3NlckV2ZW50cyIsInVzZUNhcHR1cmUiLCJnZXRMaXN0ZW5lcnMiLCJsQ2xlYW51cCIsInRDbGVhbnVwIiwiY2xlYW51cCIsImxpc3RlbmVycyIsImZpcnN0UGFyYW0iLCJzZWNvbmRQYXJhbSIsIm5hbWVfMSIsImxpc3RlbmVyRWxlbWVudCIsImNhbGxiYWNrIiwidXNlQ2FwdHVyZU9ySW5keCIsInNvcnQiLCJzb3J0TGlzdGVuZXJzIiwibm9ybWFsaXplRGVidWdCaW5kaW5nTmFtZSIsInJlcGxhY2UiLCJDQU1FTF9DQVNFX1JFR0VYUCIsInRvTG93ZXJDYXNlIiwibm9ybWFsaXplRGVidWdCaW5kaW5nVmFsdWUiLCJpc0xpc3RMaWtlSXRlcmFibGVBIiwiaXNMaXN0TGlrZUl0ZXJhYmxlQiIsImNvbXBhcmF0b3IiLCJpdGVyYXRvcjEiLCJpdGVyYXRvcjIiLCJpdGVtMSIsIml0ZW0yIiwiYXJlSXRlcmFibGVzRXF1YWwiLCJ3cmFwcGVkIiwid3JhcCIsInVud3JhcCIsImlzV3JhcHBlZCIsInByZXZpb3VzVmFsdWUiLCJjdXJyZW50VmFsdWUiLCJmaXJzdENoYW5nZSIsImlzRmlyc3RDaGFuZ2UiLCJpc0pzT2JqZWN0IiwidGhyb3dNdWx0aXBsZUNvbXBvbmVudEVycm9yIiwidGFnTmFtZSIsInVwZGF0ZUJpbmRpbmciLCJiaW5kaW5nSW5kZXgiLCJnZXRCaW5kaW5nIiwiYmluZGluZ1VwZGF0ZWQiLCJjcmVhdGlvbk1vZGUiLCJjdXJyVmFsdWUiLCJ0aHJvd0Vycm9ySWZOb0NoYW5nZXNNb2RlIiwiYmluZGluZ1VwZGF0ZWQyIiwiZXhwMSIsImV4cDIiLCJkaWZmZXJlbnQiLCJiaW5kaW5nVXBkYXRlZDMiLCJleHAzIiwiYmluZGluZ1VwZGF0ZWQ0IiwiZXhwNCIsIlJlbmRlcmVyU3R5bGVGbGFnczMiLCJOR19QUk9KRUNUX0FTX0FUVFJfTkFNRSIsImlzUHJvY2VkdXJhbFJlbmRlcmVyIiwicmVuZGVyZXIiLCJkb21SZW5kZXJlckZhY3RvcnkzIiwiY3JlYXRlUmVuZGVyZXIiLCJob3N0RWxlbWVudCIsInJlbmRlcmVyVHlwZSIsImRvY3VtZW50IiwiZ2V0UGFyZW50TmF0aXZlIiwiZ2V0SG9zdE5hdGl2ZSIsImdldEZpcnN0UGFyZW50TmF0aXZlIiwiZ2V0TENvbnRhaW5lciIsImVtYmVkZGVkVmlldyIsImNvbnRhaW5lckhvc3RJbmRleCIsImdldENvbnRhaW5lclJlbmRlclBhcmVudCIsInRWaWV3Tm9kZSIsInByb2plY3Rpb25Ob2RlU3RhY2siLCJ3YWxrVE5vZGVUcmVlIiwidmlld1RvV2FsayIsImFjdGlvbiIsInJlbmRlclBhcmVudCIsImJlZm9yZU5vZGUiLCJwcm9qZWN0aW9uTm9kZUluZGV4IiwibmV4dFROb2RlIiwiZXhlY3V0ZU5vZGVBY3Rpb24iLCJub2RlT3JDb250YWluZXIiLCJsQ29udGFpbmVyIiwiY29tcG9uZW50VmlldyIsImhlYWQiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsImRlc3Ryb3lOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVUZXh0IiwiYWRkUmVtb3ZlVmlld0Zyb21Db250YWluZXIiLCJpbnNlcnRNb2RlIiwiaW5zZXJ0VmlldyIsImNvbnRhaW5lckluZGV4Iiwidmlld3MiLCJkZXRhY2hWaWV3IiwicmVtb3ZlSW5kZXgiLCJkZXRhY2hlZCIsInZpZXdUb0RldGFjaCIsInJlbW92ZVZpZXciLCJjb250YWluZXJIb3N0IiwiZGVzdHJveUxWaWV3IiwiZ2V0TFZpZXdDaGlsZCIsImNoaWxkSW5kZXgiLCJjbGVhblVwVmlldyIsInZpZXdPckNvbnRhaW5lciIsImdldFBhcmVudFN0YXRlIiwiZGVzdHJveVZpZXdUcmVlIiwic3RhdGUiLCJleGVjdXRlT25EZXN0cm95cyIsInBpcGVEZXN0cm95SG9va3MiLCJpZHgiLCJ1c2VDYXB0dXJlT3JTdWJJZHgiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xlYW51cEZuIiwicmVtb3ZlTGlzdGVuZXJzIiwiZGVzdHJveSIsImdldFJlbmRlclBhcmVudCIsImNhbkluc2VydE5hdGl2ZU5vZGUiLCJuYXRpdmVQYXJlbnROb2RlIiwidE5vZGVQYXJlbnQiLCJnZXRIaWdoZXN0RWxlbWVudENvbnRhaW5lciIsImN1cnJlbnROb2RlIiwiY2FuSW5zZXJ0TmF0aXZlQ2hpbGRPZkVsZW1lbnQiLCJuYXRpdmVJbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImNoaWxkRWwiLCJjaGlsZFROb2RlIiwicGFyZW50RWwiLCJwYXJlbnRUTm9kZSIsImdldEJlZm9yZU5vZGVGb3JWaWV3IiwibmdDb250YWluZXIiLCJjb250YWluZXJOYXRpdmUiLCJ2aWV3VE5vZGUiLCJwYXJlbnROYXRpdmUiLCJhcHBlbmRQcm9qZWN0ZWROb2RlIiwicHJvamVjdGVkVE5vZGUiLCJ0UHJvamVjdGlvbk5vZGUiLCJwcm9qZWN0aW9uVmlldyIsIm5nQ29udGFpbmVyQ2hpbGRUTm9kZSIsIk5HX1RFTVBMQVRFX1NFTEVDVE9SIiwiaGFzVGFnQW5kVHlwZU1hdGNoIiwiY3VycmVudFNlbGVjdG9yIiwiaXNQcm9qZWN0aW9uTW9kZSIsImlzTm9kZU1hdGNoaW5nU2VsZWN0b3IiLCJub2RlQ2xhc3NBdHRyVmFsIiwiY3NzQ2xhc3NUb01hdGNoIiwibm9kZUNsYXNzZXNMZW4iLCJtYXRjaEluZGV4IiwibWF0Y2hFbmRJZHgiLCJub2RlQXR0cnMiLCJzZWxlY3RPbmx5TWFya2VySWR4Iiwic2tpcFRvTmV4dFNlbGVjdG9yIiwiaXNQb3NpdGl2ZSIsImF0dHJJbmRleEluTm9kZSIsImZpbmRBdHRySW5kZXhJbk5vZGUiLCJzZWxlY3RvckF0dHJWYWx1ZSIsIm5vZGVBdHRyVmFsdWUiLCJtYXliZUF0dHJOYW1lIiwic2VsZWN0T25seU1vZGUiLCJpc05vZGVNYXRjaGluZ1NlbGVjdG9yTGlzdCIsIm1hdGNoaW5nU2VsZWN0b3JJbmRleCIsInRleHRTZWxlY3RvcnMiLCJuZ1Byb2plY3RBc0F0dHJWYWwiLCJuZ1Byb2plY3RBc0F0dHJJZHgiLCJnZXRQcm9qZWN0QXNBdHRyVmFsdWUiLCJmYWN0b3J5Rm4iLCJDb3JlUGxheWVySGFuZGxlciIsIl9wbGF5ZXJzIiwiZmx1c2hQbGF5ZXJzIiwicGxheWVyIiwicGxheSIsInF1ZXVlUGxheWVyIiwiQU5JTUFUSU9OX1BST1BfUFJFRklYIiwiY3JlYXRlRW1wdHlTdHlsaW5nQ29udGV4dCIsInNhbml0aXplciIsImluaXRpYWxTdHlsZXMiLCJpbml0aWFsQ2xhc3NlcyIsImdldFN0eWxpbmdDb250ZXh0Iiwidmlld0RhdGEiLCJzdG9yYWdlSW5kZXgiLCJ3cmFwcGVyIiwic3R5bGluZ1RlbXBsYXRlIiwiaXNBbmltYXRpb25Qcm9wIiwiYWRkUGxheWVySW50ZXJuYWwiLCJwbGF5ZXJDb250ZXh0Iiwicm9vdENvbnRleHQiLCJwbGF5ZXJDb250ZXh0SW5kZXgiLCJyZWYiLCJhZGRFdmVudExpc3RlbmVyIiwibm9uRmFjdG9yeVBsYXllckluZGV4IiwicGxheWVySGFuZGxlciIsImdldFBsYXllckNvbnRleHQiLCJzdHlsaW5nQ29udGV4dCIsImFsbG9jUGxheWVyQ29udGV4dCIsInRocm93SW52YWxpZFJlZkVycm9yIiwiaGFzQ2xhc3NJbnB1dCIsImluaXRpYWxpemVTdGF0aWNDb250ZXh0IiwiYXR0ciIsInBhdGNoSW5pdGlhbFN0eWxpbmdWYWx1ZSIsImluaXRpYWxTdHlsaW5nIiwicHJvcCIsImV4aXN0aW5nVmFsdWUiLCJyZW5kZXJJbml0aWFsU3R5bGluZ1ZhbHVlcyIsImluaXRpYWxTdHlsaW5nVmFsdWVzIiwiaXNFbnRyeUNsYXNzQmFzZWQiLCJzZXRDbGFzcyIsInNldFN0eWxlIiwidXBkYXRlQ29udGV4dFdpdGhCaW5kaW5ncyIsImRpcmVjdGl2ZVJlZiIsImNsYXNzQmluZGluZ05hbWVzIiwic3R5bGVCaW5kaW5nTmFtZXMiLCJzdHlsZVNhbml0aXplciIsIm9ubHlQcm9jZXNzU2luZ2xlQ2xhc3NlcyIsImRpcmVjdGl2ZVJlZnMiLCJuZXh0T2Zmc2V0SW5zZXJ0aW9uSW5kZXgiLCJkZXRlY3RlZEluZGV4IiwiZ2V0RGlyZWN0aXZlUmVnaXN0cnlWYWx1ZXNJbmRleE9mIiwic2luZ2xlUHJvcFN0YXJ0UG9zaXRpb24iLCJzaW5nbGVQcm9wUG9zaXRpb25JbmRleCIsInN0eWxlU2FuaXRpemVySW5kZXgiLCJmaW5kT3JQYXRjaERpcmVjdGl2ZUludG9SZWdpc3RyeSIsInNpbmdsZVByb3BPZmZzZXRWYWx1ZXMiLCJ0b3RhbEN1cnJlbnRDbGFzc0JpbmRpbmdzIiwidG90YWxDdXJyZW50U3R5bGVCaW5kaW5ncyIsInN0eWxlc09mZnNldCIsInNpbmdsZUNsYXNzZXNTdGFydEluZGV4IiwibXVsdGlTdHlsZXNTdGFydEluZGV4IiwibXVsdGlDbGFzc2VzU3RhcnRJbmRleCIsImN1cnJlbnRTaW5nbGVQcm9wc0xlbmd0aCIsImluc2VydGlvbk9mZnNldCIsImZpbHRlcmVkU3R5bGVCaW5kaW5nTmFtZXMiLCJpXzEiLCJzaW5nbGVQcm9wSW5kZXgiLCJnZXRNYXRjaGluZ0JpbmRpbmdJbmRleCIsImZpbHRlcmVkQ2xhc3NCaW5kaW5nTmFtZXMiLCJpXzIiLCJuYW1lXzIiLCJ0b3RhbFN0eWxlcyIsInRvdGFsQ2xhc3NlcyIsInN0YXJ0IiwidG90YWxOZXdFbnRyaWVzIiwiaV8zIiwiaXNNdWx0aUJhc2VkIiwiaXNDbGFzc0Jhc2VkIiwiZmxhZyIsImdldFBvaW50ZXJzIiwic3RhdGljSW5kZXgiLCJnZXRJbml0aWFsSW5kZXgiLCJzaW5nbGVPck11bHRpSW5kZXgiLCJnZXRNdWx0aU9yU2luZ2xlSW5kZXgiLCJzZXRGbGFnIiwicG9pbnRlcnMiLCJpXzQiLCJpXzUiLCJpXzYiLCJlbnRyeUlzQ2xhc3NCYXNlZCIsImFkanVzdGVkSW5kZXgiLCJtdWx0aUluZGV4Iiwic2luZ2xlSW5kZXgiLCJpbml0aWFsVmFsdWVzVG9Mb29rdXAiLCJpbmRleEZvckluaXRpYWwiLCJnZXRJbml0aWFsU3R5bGluZ1ZhbHVlc0luZGV4T2YiLCJpbml0aWFsRmxhZyIsInByZXBhcmVJbml0aWFsRmxhZyIsInNldFByb3AiLCJzZXRWYWx1ZSIsInNldFBsYXllckJ1aWxkZXJJbmRleCIsImJpbmRpbmdOYW1lIiwiZ2V0UHJvcCIsIl91cGRhdGVTaW5nbGVTdHlsaW5nVmFsdWUiLCJvZmZzZXQiLCJnZXREaXJlY3RpdmVJbmRleEZyb21SZWdpc3RyeSIsInNpbmdsZVByb3BPZmZzZXRSZWdpc3RyeUluZGV4Iiwib2Zmc2V0cyIsImluZGV4Rm9yT2Zmc2V0IiwiZ2V0U2luZ2xlUHJvcEluZGV4VmFsdWUiLCJnZXRWYWx1ZSIsImN1cnJGbGFnIiwiY3VyckRpcmVjdGl2ZSIsImdldERpcmVjdGl2ZUluZGV4RnJvbUVudHJ5IiwiaGFzVmFsdWVDaGFuZ2VkIiwibmV3VmFsdWUiLCJjdXJyZW50RGlyZWN0aXZlT3duZXIiLCJuZXdEaXJlY3RpdmVPd25lciIsImFsbG93VmFsdWVDaGFuZ2UiLCJpc0NsYXNzQmFzZWRfMSIsInBsYXllckJ1aWxkZXIiLCJDbGFzc0FuZFN0eWxlUGxheWVyQnVpbGRlciIsInZhbHVlXzEiLCJjdXJyUGxheWVySW5kZXgiLCJnZXRQbGF5ZXJCdWlsZGVySW5kZXgiLCJwbGF5ZXJCdWlsZGVyc0FyZURpcnR5IiwicGxheWVyQnVpbGRlckluZGV4IiwiaGFzUGxheWVyQnVpbGRlckNoYW5nZWQiLCJuZXdJbmRleCIsInNldFBsYXllckJ1aWxkZXIiLCJnZXRTdHlsZVNhbml0aXplciIsInNhbml0aXplWWVzIiwic2V0U2FuaXRpemVGbGFnIiwiaW5kZXhGb3JNdWx0aSIsInZhbHVlRm9yTXVsdGkiLCJtdWx0aURpcnR5Iiwic2luZ2xlRGlydHkiLCJ2YWx1ZUV4aXN0cyIsInNldERpcnR5Iiwic2V0RGlyZWN0aXZlRGlydHkiLCJzZXRDb250ZXh0RGlydHkiLCJzZXRDb250ZXh0UGxheWVyc0RpcnR5IiwicmVuZGVyU3R5bGluZyIsInJvb3RPclZpZXciLCJpc0ZpcnN0UmVuZGVyIiwiY2xhc3Nlc1N0b3JlIiwic3R5bGVzU3RvcmUiLCJ0b3RhbFBsYXllcnNRdWV1ZWQiLCJ0YXJnZXREaXJlY3RpdmVJbmRleCIsImlzRGlydHkiLCJpc0NvbnRleHREaXJ0eSIsImlzRGlyZWN0aXZlRGlydHkiLCJmbHVzaFBsYXllckJ1aWxkZXJzIiwibXVsdGlTdGFydEluZGV4IiwiZ2V0TXVsdGlTdGFydEluZGV4Iiwib25seVNpbmdsZUNsYXNzZXMiLCJsaW1pdFRvU2luZ2xlQ2xhc3NlcyIsInN0aWxsRGlydHkiLCJnZXRQbGF5ZXJCdWlsZGVyIiwicmVhZEluaXRpYWxWYWx1ZSIsInZhbHVlVG9BcHBseSIsImdldEluaXRpYWxWYWx1ZSIsInBsYXllcnNTdGFydEluZGV4IiwiYnVpbGRlciIsInBsYXllckluc2VydGlvbkluZGV4Iiwib2xkUGxheWVyIiwiYnVpbGRQbGF5ZXIiLCJEYXNoQ2FzZSIsInNldFByb3BlcnR5IiwicmVtb3ZlU3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsImNsYXNzTmFtZSIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJpc0RpcnR5WWVzIiwiaXNDbGFzc0Jhc2VkVmFsdWUiLCJpc1Nhbml0aXphYmxlIiwiY29uZmlnRmxhZyIsImR5bmFtaWNJbmRleCIsImluc2VydGlvbkluZGV4IiwicGxheWVySW5kZXgiLCJkaXJlY3RpdmVPd25lclBvaW50ZXJzIiwiZmluZEVudHJ5UG9zaXRpb25CeVByb3AiLCJzdGFydEluZGV4Iiwic3dhcE11bHRpQ29udGV4dEVudHJpZXMiLCJpbmRleEEiLCJpbmRleEIiLCJ0bXBWYWx1ZSIsInRtcFByb3AiLCJ0bXBGbGFnIiwidG1wUGxheWVyQnVpbGRlckluZGV4IiwiZmxhZ0EiLCJmbGFnQiIsInNpbmdsZUluZGV4QSIsIl9mbGFnIiwic2luZ2xlSW5kZXhCIiwiaW5zZXJ0TmV3TXVsdGlQcm9wZXJ0eSIsImNsYXNzQmFzZWQiLCJkb1NoaWZ0IiwiaW5kZXhTdGFydFBvc2l0aW9uIiwiaW5pdGlhbEluZGV4Rm9yU2luZ2xlIiwidXBkYXRlU2luZ2xlUG9pbnRlclZhbHVlcyIsImluaXRpYWxJbmRleCIsIl9lbGVtZW50IiwiX3R5cGUiLCJfdmFsdWVzIiwiX2RpcnR5IiwiX2ZhY3RvcnkiLCJjdXJyZW50UGxheWVyIiwia2V5VmFsdWVzIiwiZGlycyIsImRpcnR5WWVzIiwiZ2V0SW5pdGlhbENsYXNzTmFtZVZhbHVlIiwiaW5pdGlhbENsYXNzVmFsdWVzIiwiX0NMRUFOX1BST01JU0UiLCJyZWZyZXNoRGVzY2VuZGFudFZpZXdzIiwiY29udGFpbmVyXzEiLCJkeW5hbWljVmlld0RhdGEiLCJyZW5kZXJFbWJlZGRlZFRlbXBsYXRlIiwicmVmcmVzaER5bmFtaWNFbWJlZGRlZFZpZXdzIiwiZGlyZWN0aXZlRGVmSWR4IiwicmVmcmVzaENvbnRlbnRRdWVyaWVzIiwiZXhwYW5kb0luc3RydWN0aW9ucyIsImV4cGFuZG9TdGFydEluZGV4IiwiY3VycmVudERpcmVjdGl2ZUluZGV4IiwiY3VycmVudEVsZW1lbnRJbmRleCIsImluc3RydWN0aW9uIiwicHJvdmlkZXJDb3VudCIsInNldEhvc3RCaW5kaW5ncyIsImNvbXBvbmVudFJlZnJlc2giLCJyZWZyZXNoQ2hpbGRDb21wb25lbnRzIiwiY3JlYXRlTFZpZXciLCJyZW5kZXJlckZhY3RvcnkiLCJjcmVhdGVOb2RlQXRJbmRleCIsImNyZWF0ZVROb2RlIiwiY3JlYXRlVmlld05vZGUiLCJhbGxvY0V4cGFuZG8iLCJ2aWV3VG9SZW5kZXIiLCJfaXNQYXJlbnQiLCJfcHJldmlvdXNPclBhcmVudFROb2RlIiwidGlja1Jvb3RDb250ZXh0IiwiZ2V0UmVuZGVyRmxhZ3MiLCJyZW5kZXJDb21wb25lbnRPclRlbXBsYXRlIiwidGVtcGxhdGVGbiIsIm5vcm1hbEV4ZWN1dGlvblBhdGgiLCJiZWdpbiIsIl9jdXJyZW50TmFtZXNwYWNlIiwiY3JlYXRlQ29tbWVudCIsImNyZWF0ZURpcmVjdGl2ZXNBbmRMb2NhbHMiLCJjdXJyZW50UXVlcmllcyIsImFkZE5vZGUiLCJlbGVtZW50Q3JlYXRlIiwiaGFzU3R5bGluZyIsInNldFVwQXR0cmlidXRlcyIsImlucHV0RGF0YSIsImluaXRpYWxpemVUTm9kZUlucHV0cyIsIm92ZXJyaWRkZW5SZW5kZXJlciIsInJlbmRlcmVyVG9Vc2UiLCJjcmVhdGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwibG9jYWxSZWZFeHRyYWN0b3IiLCJleHBvcnRzTWFwIiwiIiwiaW5pdE5vZGVGbGFncyIsImdlbmVyYXRlRXhwYW5kb0luc3RydWN0aW9uQmxvY2siLCJiYXNlUmVzb2x2ZURpcmVjdGl2ZSIsInNhdmVOYW1lVG9FeHBvcnRNYXAiLCJjYWNoZU1hdGNoaW5nTG9jYWxOYW1lcyIsInJlc29sdmVEaXJlY3RpdmVzIiwicmVnaXN0cnkiLCJkaXJlY3RpdmVSZWdpc3RyeSIsIm1hdGNoZXMiLCJmaW5kRGlyZWN0aXZlTWF0Y2hlcyIsImFkZENvbXBvbmVudExvZ2ljIiwicG9zdFByb2Nlc3NEaXJlY3RpdmUiLCJpbnN0YW50aWF0ZUFsbERpcmVjdGl2ZXMiLCJleHBhbmRvIiwicHJldmlvdXNFeHBhbmRvTGVuZ3RoIiwiaW52b2tlRGlyZWN0aXZlc0hvc3RCaW5kaW5ncyIsImxvY2FsSW5kZXgiLCJzYXZlUmVzb2x2ZWRMb2NhbHNJbkRhdGEiLCJnZXRPckNyZWF0ZVRWaWV3IiwibmdQcml2YXRlRGF0YSIsImNyZWF0ZVRWaWV3Iiwidmlld0luZGV4IiwiaW5pdGlhbFZpZXdMZW5ndGgiLCJmaWxsIiwiY3JlYXRlVmlld0JsdWVwcmludCIsInBpcGVSZWdpc3RyeSIsImlzUHJvYyIsIm5hbWVzcGFjZVVSSSIsImF0dHJOYW1lXzEiLCJhdHRyVmFsIiwic2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlTlMiLCJjcmVhdGVFcnJvciIsImxvY2F0ZUhvc3RFbGVtZW50IiwiZWxlbWVudE9yU2VsZWN0b3IiLCJkZWZhdWx0UmVuZGVyZXIiLCJyTm9kZSIsInNlbGVjdFJvb3RFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImV2ZW50TmFtZSIsImxpc3RlbmVyRm4iLCJsQ2xlYW51cEluZGV4IiwiZ2V0Q2xlYW51cCIsImxpc3RlbiIsIndyYXBwZWRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJ3cmFwTGlzdGVuZXJXaXRoUHJldmVudERlZmF1bHQiLCJnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyIsInByb3BzTGVuZ3RoIiwic2V0SW5wdXRzRm9yUHJvcGVydHkiLCJlbGVtZW50XzEiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdHJWYWx1ZSIsIm5hdGl2ZU9ubHkiLCJlbGVtZW50UHJvcGVydHlJbnRlcm5hbCIsImxvYWRDb21wb25lbnRSZW5kZXJlciIsImxvYWRSZW5kZXJlckZuIiwiZGF0YVZhbHVlIiwiY2hpbGRDb21wb25lbnRMVmlldyIsIm1hcmtEaXJ0eUlmT25QdXNoIiwiZGVidWdWYWx1ZSIsIkpTT04iLCJ0ZXh0Q29udGVudCIsInNldE5nUmVmbGVjdFByb3BlcnRpZXMiLCJ0Vmlld3MiLCJ0UGFyZW50IiwiaW5pdGlhbElucHV0cyIsImRpcmVjdGlvbiIsInByb3BTdG9yZSIsImlzSW5wdXQiLCJkZWZzIiwicHJvcGVydHlBbGlhc01hcCIsImludGVybmFsTmFtZSIsInBhdGNoQ29udGV4dFdpdGhTdGF0aWNBdHRycyIsInNjaGVkdWxlVGljayIsInN0eWxlSW5kZXgiLCJzdWZmaXgiLCJ2YWx1ZVRvQWRkIiwiY2xhc3NJbmRleCIsIm9uT3JPZmZDbGFzc1ZhbHVlIiwiY2xhc3NlcyIsImhhY2tJbXBsZW1lbnRhdGlvbk9mRWxlbWVudFN0eWxpbmdNYXAiLCJjbGFzc0lucHV0VmFsIiwiY2xhc3Nlc0lucHV0Iiwic3R5bGVzSW5wdXQiLCJjbGFzc2VzUGxheWVyQnVpbGRlciIsInN0eWxlc1BsYXllckJ1aWxkZXIiLCJjbGFzc2VzVmFsdWUiLCJzdHlsZXNWYWx1ZSIsImlnbm9yZUFsbENsYXNzVXBkYXRlcyIsImlnbm9yZUFsbFN0eWxlVXBkYXRlcyIsImNsYXNzTmFtZXMiLCJhcHBseUFsbENsYXNzZXMiLCJjbGFzc2VzUGxheWVyQnVpbGRlckluZGV4Iiwic3R5bGVzUGxheWVyQnVpbGRlckluZGV4Iiwic3BsaXQiLCJzdHlsZVByb3BzIiwiY2xhc3Nlc1N0YXJ0SW5kZXgiLCJkaXJ0eSIsImN0eEluZGV4IiwicHJvcEluZGV4IiwicHJvcExpbWl0IiwiYWRqdXN0ZWRQcm9wSW5kZXgiLCJuZXdQcm9wIiwiaW5pdGlhbFZhbHVlIiwiaW5kZXhPZkVudHJ5IiwidmFsdWVUb0NvbXBhcmUiLCJmbGFnVG9Db21wYXJlIiwiY3R4SW5kZXhfMSIsInVwZGF0ZVN0eWxpbmdNYXAiLCJ0ZXh0TmF0aXZlIiwiZWxlbWVudF8yIiwiZGlyZWN0aXZlQ291bnQiLCJlbGVtZW50SW5kZXgiLCJwcm92aWRlclN0YXJ0SW5kZXgiLCJwb3N0UHJvY2Vzc0Jhc2VEaXJlY3RpdmUiLCJpbml0aWFsSW5wdXREYXRhIiwibWluaWZpZWRJbnB1dE5hbWUiLCJhdHRyVmFsdWUiLCJpbnB1dHNUb1N0b3JlIiwiZ2VuZXJhdGVJbml0aWFsSW5wdXRzIiwic2V0SW5wdXRzRnJvbUF0dHJzIiwicXVldWVDb21wb25lbnRJbmRleEZvckNoZWNrIiwibnVtYmVyT2ZEaXJlY3RpdmVzIiwiZGlyZWN0aXZlRmFjdG9yeSIsIm5vZGVJbmplY3RvckZhY3RvcnkiLCJhZGRUb1ZpZXdUcmVlIiwiY3JlYXRlTENvbnRhaW5lciIsImhvc3ROYXRpdmUiLCJpc0ZvclZpZXdDb250YWluZXJSZWYiLCJjb250YWluZXJJbnRlcm5hbCIsImNvbW1lbnQiLCJuZXh0SW5kZXgiLCJ2aWV3QmxvY2tJZCIsImNvbnRhaW5lclROb2RlIiwidENvbnRhaW5lck5vZGUiLCJzdGFydElkeCIsInZpZXdBdFBvc2l0aW9uSWQiLCJzY2FuRm9yVmlldyIsImNvbnRhaW5lclRWaWV3cyIsImdldE9yQ3JlYXRlRW1iZWRkZWRUVmlldyIsImNyZWF0ZVZpZXciLCJ2aWV3SG9zdCIsImFkanVzdGVkRWxlbWVudEluZGV4IiwiY29tcG9uZW50VFZpZXciLCJzeW5jVmlld1dpdGhCbHVlcHJpbnQiLCJjaGVja1ZpZXciLCJjb21wb25lbnROb2RlIiwibm9PZk5vZGVCdWNrZXRzIiwicERhdGEiLCJ0YWlscyIsImNvbXBvbmVudENoaWxkIiwiYnVja2V0SW5kZXgiLCJuZXh0Tm9kZSIsInByb2plY3Rpb25Ob2RlU3RhY2skMSIsInNlbGVjdG9ySW5kZXgiLCJub2RlVG9Qcm9qZWN0IiwicHJvamVjdGVkVmlldyIsImN1cnJlbnRDb21wb25lbnRWaWV3IiwiZmlyc3RQcm9qZWN0ZWROb2RlIiwiYWRqdXN0ZWRIb3N0SW5kZXgiLCJtYXJrVmlld0RpcnR5IiwicmVzXzEiLCJub3RoaW5nU2NoZWR1bGVkIiwiY2xlYW4iLCJzY2hlZHVsZXIiLCJyb290Q29tcG9uZW50IiwiZGV0ZWN0Q2hhbmdlc0ludGVybmFsIiwiZGV0ZWN0Q2hhbmdlc0luUm9vdFZpZXciLCJob3N0VFZpZXciLCJjcmVhdGVWaWV3UXVlcnkiLCJ1cGRhdGVWaWV3UXVlcnkiLCJjb3VudCIsImhvc3RWYXJzIiwicXVldWVIb3N0QmluZGluZ0ZvckNoZWNrIiwidG90YWxIb3N0VmFycyIsInByZWZpbGxIb3N0VmFycyIsImNvbnRlbnQiLCJwcmVmaXgiLCJ2MCIsImkwIiwidjEiLCJpMSIsInYyIiwiaTIiLCJ2MyIsImkzIiwidjQiLCJpNCIsInY1IiwiaTUiLCJ2NiIsImk2IiwidjciLCJxdWVyeUxpc3RJZHgiLCJxdWVyeUxpc3QiLCJzYXZlZENvbnRlbnRRdWVyaWVzTGVuZ3RoIiwidFZpZXdDb250ZW50UXVlcmllcyIsIkNMRUFOX1BST01JU0UiLCJnZXRUVmlld0NsZWFudXAiLCJlbGVtZW50JCQxIiwiZ2V0T3JDcmVhdGVQbGF5ZXJDb250ZXh0IiwicGxheWVycyIsIm5vbkZhY3RvcnlQbGF5ZXJzU3RhcnQiLCJnZXRQbGF5ZXJzSW50ZXJuYWwiLCJHTE9CQUxfUFVCTElTSF9FWFBBTkRPX0tFWSIsIl9wdWJsaXNoZWQiLCJ3IiwiY29tcG9uZW50VHlwZSIsImNvbXBvbmVudERlZiIsImNvbXBvbmVudFRhZyIsImhvc3RSTm9kZSIsImhvc3QiLCJyb290RmxhZ3MiLCJjcmVhdGVSb290Q29udGV4dCIsImNyZWF0ZVJvb3RDb21wb25lbnQiLCJjcmVhdGVSb290Q29tcG9uZW50VmlldyIsImhvc3RGZWF0dXJlcyIsImluc3RhbnRpYXRlUm9vdENvbXBvbmVudCIsInJvb3RUVmlldyIsImRpckluZGV4IiwiZ2V0Um9vdENvbnRleHQkMiIsImlzQ29tcG9uZW50RGVmJDEiLCJkZWZpbml0aW9uIiwic3VwZXJUeXBlIiwiX2xvb3BfMSIsImVfMSIsInN1cGVyRGVmIiwiYmFzZURlZiIsIndyaXRlYWJsZURlZiIsIm1heWJlVW53cmFwRW1wdHkiLCJwcmV2SG9zdEJpbmRpbmdzXzEiLCJzdXBlckhvc3RCaW5kaW5nc18xIiwicmYiLCJjdHgiLCJwcmV2Vmlld1F1ZXJ5XzEiLCJzdXBlclZpZXdRdWVyeV8xIiwicHJldkNvbnRlbnRRdWVyaWVzXzEiLCJzdXBlckNvbnRlbnRRdWVyaWVzXzEiLCJwcmV2Q29udGVudFF1ZXJpZXNSZWZyZXNoXzEiLCJzdXBlckNvbnRlbnRRdWVyaWVzUmVmcmVzaF8xIiwicXVlcnlJbmRleCIsImZlYXR1cmVzXzEiLCJmZWF0dXJlc18xXzEiLCJuZ0luaGVyaXQiLCJlXzFfMSIsInJldHVybiIsInN1cGVyUHJvdG90eXBlIiwiUFJJVkFURV9QUkVGSVgiLCJwdWJsaWNUb0RlY2xhcmVkSW5wdXRzIiwicHVibGljVG9NaW5pZmllZElucHV0cyIsInByb3RvIiwiZGVjbGFyZWRLZXlfMSIsInByaXZhdGVNaW5LZXlfMSIsIm9yaWdpbmFsUHJvcGVydHkiLCJjaGVja1Byb3RvIiwic2V0dGVyXzEiLCJzaW1wbGVDaGFuZ2VzIiwid3JpdGFibGUiLCJjdXJyZW50Q2hhbmdlIiwiY29uZmlndXJhYmxlIiwib25DaGFuZ2VzV3JhcHBlciIsImRlbGVnYXRlSG9vayIsIm5nT25DaGFuZ2VzIiwiU09VUkNFIiwiX1RIUk9XX0lGX05PVF9GT1VORCIsIlRIUk9XX0lGX05PVF9GT1VORCIsIk51bGxJbmplY3RvciIsIlN0YXRpY0luamVjdG9yIiwiTlVMTCIsIlNXSVRDSF9JTkpFQ1RPUl9GQUNUT1JZIiwiSURFTlQiLCJDSVJDVUxBUiIsIk1VTFRJX1BST1ZJREVSX0ZOIiwiVVNFX1ZBTFVFIiwicHJvdmlkZSIsIlN0cmluZyIsInVzZVZhbHVlIiwiTkdfVEVNUF9UT0tFTl9QQVRIIiwiTlVMTF9JTkpFQ1RPUiQxIiwiTkVXX0xJTkUiLCJOT19ORVdfTElORSIsInJlY29yZHMiLCJfcmVjb3JkcyIsImRlcHMiLCJ1c2VOZXciLCJyZWN1cnNpdmVseVByb2Nlc3NQcm92aWRlcnMiLCJwcm92aWRlciIsInN0YXRpY0Vycm9yIiwicmVzb2x2ZWRQcm92aWRlciIsInByb3ZpZGVyRGVwcyIsImFubm90YXRpb25zIiwidXNlRXhpc3RpbmciLCJjb21wdXRlRGVwcyIsInVzZUZhY3RvcnkiLCJ1c2VDbGFzcyIsInJlc29sdmVQcm92aWRlciIsIm11bHRpIiwibXVsdGlQcm92aWRlciIsIm11bHRpUHJvdmlkZXJNaXhFcnJvciIsInJlY29yZCIsInRyeVJlc29sdmVUb2tlbiIsInRva2VuUGF0aCIsImZvcm1hdEVycm9yIiwidG9rZW5zIiwiZGVwUmVjb3JkcyIsImRlcFJlY29yZCIsImNoaWxkUmVjb3JkIiwicmVzb2x2ZVRva2VuIiwiY2hhckF0Iiwic3Vic3RyIiwicGFydHMiLCJOT1RfWUVUIiwiQ0lSQ1VMQVIkMSIsIkVNUFRZX0FSUkFZJDEiLCJOVUxMX0lOSkVDVE9SJDIiLCJnZXROdWxsSW5qZWN0b3IiLCJkZWZUeXBlIiwiYWRkaXRpb25hbFByb3ZpZGVycyIsIlIzSW5qZWN0b3IiLCJpbmplY3RvckRlZlR5cGVzIiwiZGVzdHJveWVkIiwiZGVkdXBTdGFjayIsImRlZXBGb3JFYWNoIiwiaW5qZWN0b3JEZWYiLCJwcm9jZXNzSW5qZWN0b3JUeXBlIiwicHJvY2Vzc1Byb3ZpZGVyIiwibWFrZVJlY29yZCIsImlzUm9vdEluamVjdG9yIiwiaGFzIiwiYXNzZXJ0Tm90RGVzdHJveWVkIiwic2VydmljZSIsInByZXZpb3VzSW5qZWN0b3IiLCJpbmplY3RhYmxlRGVmSW5TY29wZSIsImluamVjdGFibGVEZWZPckluamVjdG9yRGVmRmFjdG9yeSIsImh5ZHJhdGUiLCJkZWZPcldyYXBwZWREZWYiLCJwYXJlbnRzIiwibmdNb2R1bGUiLCJkZWZOYW1lIiwiaXNEdXBsaWNhdGUiLCJpbXBvcnRlZCIsInBvcCIsImRlZlByb3ZpZGVycyIsImluamVjdG9yVHlwZV8xIiwibmdNb2R1bGVUeXBlIiwiaXNUeXBlUHJvdmlkZXIiLCJwcm92aWRlclRvRmFjdG9yeSIsImlzVmFsdWVQcm92aWRlciIsInByb3ZpZGVyVG9SZWNvcmQiLCJleGlzdGluZyIsIm11bHRpUmVjb3JkXzEiLCJGdW5jdGlvbiIsInBhcmFtTGVuZ3RoIiwiaXNGYWN0b3J5UHJvdmlkZXIiLCJjbGFzc1JlZl8xIiwibmdNb2R1bGVEZXRhaWwiLCJoYXNEZXBzIiwicmVzb2x2ZVByb3ZpZGVyJDEiLCJsSW5qZWN0YWJsZXNCbHVlcHJpbnQiLCJpc0NvbXBvbmVudCQkMSIsInByb3ZpZGVyRmFjdG9yeSIsImJlZ2luSW5kZXgiLCJleGlzdGluZ0ZhY3RvcnlJbmRleCIsImV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4IiwiZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4IiwiZG9lc1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCIsImRvZXNWaWV3UHJvdmlkZXJzRmFjdG9yeUV4aXN0IiwiZiIsImNvbXBvbmVudFByb3ZpZGVycyIsIm11bHRpRmFjdG9yeUFkZCIsIm11bHRpRmFjdG9yeSIsIm11bHRpVmlld1Byb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlciIsIm11bHRpUHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyIiwiaXNDb21wb25lbnRQcm92aWRlciIsIml0ZW0iLCJtdWx0aVJlc29sdmUiLCJmYWN0b3JpZXMiLCJjb21wb25lbnRDb3VudCIsIm11bHRpUHJvdmlkZXJzIiwidmlld1Byb3ZpZGVycyIsIm5vQ29tcG9uZW50RmFjdG9yeUVycm9yIiwiRVJST1JfQ09NUE9ORU5UIiwiUjNFbGVtZW50UmVmIiwiUjNUZW1wbGF0ZVJlZiIsIlIzVmlld0NvbnRhaW5lclJlZiIsIl9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwicmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkiLCJfbmdNb2R1bGUiLCJfZmFjdG9yaWVzIiwiQ29tcG9uZW50RmFjdG9yeUJvdW5kVG9Nb2R1bGUiLCJuZ0NvbnRlbnRTZWxlY3RvcnMiLCJwcm9qZWN0YWJsZU5vZGVzIiwicm9vdFNlbGVjdG9yT3JOb2RlIiwiVmlld1JlZiIsIl9jb21wb25lbnRJbmRleCIsIl9hcHBSZWYiLCJfdmlld0NvbnRhaW5lclJlZiIsIl90Vmlld05vZGUiLCJjb2xsZWN0TmF0aXZlTm9kZXMiLCJ0Tm9kZUNoaWxkIiwiX2xvb2tVcENvbnRleHQiLCJkZXRhY2giLCJtYXJrRm9yQ2hlY2siLCJyZWF0dGFjaCIsImNoZWNrTm9DaGFuZ2VzIiwiYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmIiwidmNSZWYiLCJkZXRhY2hGcm9tQXBwUmVmIiwiYXR0YWNoVG9BcHBSZWYiLCJhcHBSZWYiLCJSb290Vmlld1JlZiIsIl92aWV3IiwiY2hlY2tOb0NoYW5nZXNJblJvb3RWaWV3IiwiRWxlbWVudFJlZlRva2VuIiwiRWxlbWVudFJlZl8iLCJUZW1wbGF0ZVJlZlRva2VuIiwiVGVtcGxhdGVSZWZfIiwiX2RlY2xhcmF0aW9uUGFyZW50VmlldyIsImVsZW1lbnRSZWYiLCJfdFZpZXciLCJfcmVuZGVyZXIiLCJfcXVlcmllcyIsIl9pbmplY3RvckluZGV4IiwiY3JlYXRlRW1iZWRkZWRWaWV3IiwiY29udGFpbmVyJCQxIiwiZGVjbGFyYXRpb25WaWV3IiwicXVlcmllcyIsImNyZWF0ZUVtYmVkZGVkVmlld0FuZE5vZGUiLCJ2aWV3UmVmIiwiaG9zdENvbnRhaW5lciIsImNvbXBvbmVudEluZGV4IiwiaG9zdENvbXBvbmVudFZpZXciLCJuYXRpdmVFbGVtZW50IiwiU1dJVENIX0VMRU1FTlRfUkVGX0ZBQ1RPUlkiLCJzbG90Q291bnQiLCJhbmltYXRpb25zIiwiU1dJVENIX1JFTkRFUkVSMl9GQUNUT1JZIiwiZ2V0T3JDcmVhdGVSZW5kZXJlcjIiLCJmdWxsIiwibWFqb3IiLCJtaW5vciIsInBhdGNoIiwiQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEiLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkJDEiLCJ0b1JlZkFycmF5IiwiYXJyYXkiLCJub25NaW5pZmllZCIsIm1pbmlmaWVkIiwidGVtcGxhdGVOYW1lIiwiUk9PVF9DT05URVhUIiwiU0NIRURVTEVSIiwiTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiIsIkNvbXBvbmVudEZhY3RvcnkkJDEiLCJpc0ludGVybmFsUm9vdFZpZXciLCJyb290Vmlld0luamVjdG9yIiwiY3JlYXRlQ2hhaW5lZEluamVjdG9yIiwidEVsZW1lbnROb2RlIiwicm9vdExWaWV3Iiwib2xkTFZpZXciLCJwcm9qZWN0aW9uJCQxIiwibm9kZUxpc3QiLCJmaXJzdFROb2RlIiwicHJldmlvdXNUTm9kZSIsImNvbXBvbmVudFJlZiIsIkNvbXBvbmVudFJlZiQkMSIsIl9yb290TFZpZXciLCJkZXN0cm95Q2JzIiwiY2hhbmdlRGV0ZWN0b3JSZWYiLCJfZGV2TW9kZSIsIl9ydW5Nb2RlTG9ja2VkIiwiSW5lcnRCb2R5SGVscGVyIiwiZGVmYXVsdERvYyIsImluZXJ0RG9jdW1lbnQiLCJpbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUhUTUxEb2N1bWVudCIsImluZXJ0Qm9keUVsZW1lbnQiLCJib2R5IiwiaW5lcnRIdG1sIiwiaW5uZXJIVE1MIiwiRE9NUGFyc2VyIiwiaXNET01QYXJzZXJBdmFpbGFibGUiLCJnZXRJbmVydEJvZHlFbGVtZW50IiwiZ2V0SW5lcnRCb2R5RWxlbWVudF9ET01QYXJzZXIiLCJnZXRJbmVydEJvZHlFbGVtZW50X0luZXJ0RG9jdW1lbnQiLCJnZXRJbmVydEJvZHlFbGVtZW50X1hIUiIsImh0bWwiLCJlbmNvZGVVUkkiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlVHlwZSIsIm9wZW4iLCJzZW5kIiwicGFyc2VGcm9tU3RyaW5nIiwidGVtcGxhdGVFbCIsImRvY3VtZW50TW9kZSIsInN0cmlwQ3VzdG9tTnNBdHRycyIsImVsIiwiZWxBdHRycyIsImNoaWxkTm9kZSIsIm5vZGVUeXBlIiwiRUxFTUVOVF9OT0RFIiwibmV4dFNpYmxpbmciLCJTQUZFX1VSTF9QQVRURVJOIiwiREFUQV9VUkxfUEFUVEVSTiIsIm1hdGNoIiwic2FuaXRpemVTcmNzZXQiLCJzcmNzZXQiLCJ0cmltIiwidGFnU2V0IiwidGFncyIsIl9iIiwiX2MiLCJtZXJnZSQxIiwiZV8yIiwic2V0cyIsInNldHNfMSIsInNldHNfMV8xIiwiZV8yXzEiLCJpbmVydEJvZHlIZWxwZXIiLCJWT0lEX0VMRU1FTlRTIiwiT1BUSU9OQUxfRU5EX1RBR19CTE9DS19FTEVNRU5UUyIsIk9QVElPTkFMX0VORF9UQUdfSU5MSU5FX0VMRU1FTlRTIiwiT1BUSU9OQUxfRU5EX1RBR19FTEVNRU5UUyIsIkJMT0NLX0VMRU1FTlRTIiwiSU5MSU5FX0VMRU1FTlRTIiwiVkFMSURfRUxFTUVOVFMiLCJVUklfQVRUUlMiLCJTUkNTRVRfQVRUUlMiLCJIVE1MX0FUVFJTIiwiVkFMSURfQVRUUlMiLCJTYW5pdGl6aW5nSHRtbFNlcmlhbGl6ZXIiLCJzYW5pdGl6ZWRTb21ldGhpbmciLCJidWYiLCJzYW5pdGl6ZUNoaWxkcmVuIiwiZWxlbWVudFZhbGlkIiwic3RhcnRFbGVtZW50IiwiVEVYVF9OT0RFIiwiY2hhcnMiLCJlbmRFbGVtZW50IiwiY2hlY2tDbG9iYmVyZWRFbGVtZW50Iiwibm9kZU5hbWUiLCJlbEF0dHIiLCJsb3dlciIsImVuY29kZUVudGl0aWVzIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkiLCJvdXRlckhUTUwiLCJTVVJST0dBVEVfUEFJUl9SRUdFWFAiLCJOT05fQUxQSEFOVU1FUklDX1JFR0VYUCIsInVuc2FmZUh0bWxJbnB1dCIsInVuc2FmZUh0bWwiLCJtWFNTQXR0ZW1wdHMiLCJwYXJzZWRIdG1sIiwic2FmZUh0bWwiLCJnZXRUZW1wbGF0ZUNvbnRlbnQiLCJpc1RlbXBsYXRlRWxlbWVudCIsIkVMRU1FTlRfTUFSS0VSIiwibWFya2VyIiwiQ09NTUVOVF9NQVJLRVIiLCJNQVJLRVIiLCJJQ1VfQkxPQ0tfUkVHRVgiLCJTVUJURU1QTEFURV9SRUdFWFAiLCJQSF9SRUdFWFAiLCJCSU5ESU5HX1JFR0VYUCIsIklDVV9SRUdFWFAiLCJQUF9QTEFDRUhPTERFUlMiLCJQUF9JQ1VfVkFSUyIsIlBQX0lDVVMiLCJleHRyYWN0UGFydHMiLCJwYXR0ZXJuIiwicHJldlBvcyIsImJyYWNlU3RhY2siLCJyZXN1bHRzIiwiYnJhY2VzIiwibGFzdEluZGV4IiwiZXhlYyIsInBvcyIsImJsb2NrIiwidGVzdCIsInBhcnNlSUNVQmxvY2siLCJzdWJzdHJpbmdfMSIsImNhc2VzIiwiaWN1VHlwZSIsIm1haW5CaW5kaW5nIiwic3RyIiwiYmluZGluZyIsInBhcnNlSW50IiwiYmxvY2tzIiwicmVtb3ZlSW5uZXJUZW1wbGF0ZVRyYW5zbGF0aW9uIiwidGFnTWF0Y2hlZCIsImluVGVtcGxhdGUiLCJnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzIiwiZGVzdGluYXRpb25Ob2RlIiwic2FuaXRpemVGbiIsInVwZGF0ZU9wQ29kZXMiLCJ0ZXh0UGFydHMiLCJ0ZXh0VmFsdWUiLCJ0b01hc2tCaXQiLCJnZXRCaW5kaW5nTWFzayIsImljdUV4cHJlc3Npb24iLCJ2YWx1ZUFyciIsImkxOG5JbmRleFN0YWNrIiwiaTE4bkluZGV4U3RhY2tQb2ludGVyIiwibWluIiwicGFyZW50SW5kZXhTdGFjayIsInN1YlRlbXBsYXRlSW5kZXgiLCJwYXJlbnRJbmRleFBvaW50ZXIiLCJjcmVhdGVPcENvZGVzIiwiaWN1RXhwcmVzc2lvbnMiLCJtc2dQYXJ0cyIsInNlYXJjaCIsIlJlZ0V4cCIsImdldFRyYW5zbGF0aW9uRm9yVGVtcGxhdGUiLCJwaEluZGV4IiwiaWN1Tm9kZUluZGV4IiwiaWN1U3RhcnQiLCJ0SWN1SW5kZXgiLCJoYXNCaW5kaW5nIiwidEkxOG4iLCJ1cGRhdGUiLCJpY3VzIiwiaTE4blN0YXJ0Rmlyc3RQYXNzIiwiYXBwZW5kSTE4bk5vZGUiLCJyZXBsYWNlbWVudHMiLCJfbWF0Y2giLCJzaGlmdCIsIl9pZHgiLCJsaXN0Iiwicm9vdEluZGV4IiwidmlzaXRlZFBsYWNlaG9sZGVycyIsInJlYWRDcmVhdGVPcENvZGVzIiwicmVtb3ZlTm9kZSIsImkxOG5FbmRGaXJzdFBhc3MiLCJjdXJyZW50VE5vZGUiLCJvcENvZGUiLCJ0ZXh0Uk5vZGUiLCJkZXN0aW5hdGlvbk5vZGVJbmRleCIsImRlc3RpbmF0aW9uVE5vZGUiLCJjb21tZW50VmFsdWUiLCJjb21tZW50Uk5vZGUiLCJhY3RpdmVDYXNlSW5kZXgiLCJ0YWdOYW1lVmFsdWUiLCJlbGVtZW50Uk5vZGUiLCJyZW1vdmVkUGhUTm9kZSIsInByZXZpb3VzRWxlbWVudEluZGV4IiwiaTE4bkF0dHJpYnV0ZXNGaXJzdFBhc3MiLCJQbHVyYWwiLCJjaGFuZ2VNYXNrIiwic2hpZnRzQ291bnRlciIsImV4cHJlc3Npb24iLCJyZWFkVXBkYXRlT3BDb2RlcyIsImJpbmRpbmdzU3RhcnRJbmRleCIsImJ5cGFzc0NoZWNrQml0IiwiY2FzZUNyZWF0ZWQiLCJjaGVja0JpdCIsInNraXBDb2RlcyIsInRJY3UiLCJpY3VUTm9kZSIsInJlbW92ZUNvZGVzIiwiayIsInJlbW92ZU9wQ29kZSIsImFjdGl2ZUluZGV4IiwiY2FzZUluZGV4IiwiZ2V0Q2FzZUluZGV4IiwiZ2V0UGx1cmFsQ2F0ZWdvcnkiLCJsb2NhbGUiLCJuTGlrZSIsIm5EZWNpbWFsIiwiZmxvb3IiLCJhYnMiLCJPbmUiLCJPdGhlciIsIlplcm8iLCJUd28iLCJGZXciLCJNYW55IiwiZ2V0UGx1cmFsQ2FzZSIsImJpbmRpbmdWYWx1ZSIsInJlc29sdmVkQ2FzZSIsInRJY3VzIiwiY3JlYXRlQ29kZXMiLCJ1cGRhdGVDb2RlcyIsImNoaWxkSWN1cyIsIm5lc3RlZEljdXMiLCJpY3VJbmRleCIsImljdUNhc2UiLCJwYXJzZUljdUNhc2UiLCJ3b3JzdENhc2VTaXplIiwibWF4Iiwib3BDb2RlcyIsInBhcnNlTm9kZXMiLCJuZXN0ZWRJY3VzVG9DcmVhdGUiLCJsb3dlckF0dHJOYW1lIiwiaGFzQmluZGluZ18xIiwiQ09NTUVOVF9OT0RFIiwiTkVTVEVEX0lDVSIsIm5lc3RlZEljdUluZGV4IiwibmV3TG9jYWwiLCJuZXN0ZWRJY3UiLCJuZXN0ZWRJY3VOb2RlSW5kZXgiLCJuZXN0VEljdUluZGV4IiwiQ09NUE9ORU5UX0ZBQ1RPUllfUkVTT0xWRVIiLCJOZ01vZHVsZVJlZiQkMSIsIl9ib290c3RyYXBDb21wb25lbnRzIiwiX3IzSW5qZWN0b3IiLCJpbmplY3RGbGFncyIsIk5nTW9kdWxlRmFjdG9yeSQkMSIsIm1vZHVsZVR5cGUiLCJwYXJlbnRJbmplY3RvciIsImN0b3JQYXJhbWV0ZXJzIiwicHJvcERlY29yYXRvcnMiLCJjbGF6eiIsInNsb3RPZmZzZXQiLCJwdXJlRm4iLCJ0aGlzQXJnIiwiZXhwIiwiZXhwNSIsImV4cDYiLCJleHA3IiwiZXhwOCIsImV4cHMiLCJwaXBlTmFtZSIsImdldFBpcGVEZWYkMSIsInBpcGVJbnN0YW5jZSIsInVud3JhcFZhbHVlIiwiaXNQdXJlIiwidHJhbnNmb3JtIiwiaXNBc3luYyIsIl9faXNBc3luYyIsImVtaXQiLCJnZW5lcmF0b3JPck5leHQiLCJzY2hlZHVsZXJGbiIsImVycm9yRm4iLCJjb21wbGV0ZUZuIiwiU1dJVENIX1RFTVBMQVRFX1JFRl9GQUNUT1JZIiwiTFF1ZXJpZXNfIiwic2hhbGxvdyIsImRlZXAiLCJ0cmFjayIsInByZWRpY2F0ZSIsImRlc2NlbmQiLCJyZWFkIiwiY3JlYXRlUXVlcnkiLCJjbG9uZSIsInNoYWxsb3dSZXN1bHRzIiwiY29weVF1ZXJpZXNUb0NvbnRhaW5lciIsImRlZXBSZXN1bHRzIiwiY29weVF1ZXJpZXNUb1ZpZXciLCJpbnNlcnRWaWV3JDEiLCJpc1Jvb3ROb2RlT2ZRdWVyeSIsInJlbW92ZVZpZXckMSIsImNvbnRhaW5lclZhbHVlcyIsInZpZXdWYWx1ZXNJZHgiLCJyZW1vdmVkIiwiZ2V0SWR4T2ZNYXRjaGluZ1NlbGVjdG9yIiwicXVlcnlCeVJlYWRUb2tlbiIsIm1hdGNoaW5nSWR4IiwicXVlcnlCeVRlbXBsYXRlUmVmIiwidGVtcGxhdGVSZWZUb2tlbiIsInRlbXBsYXRlUmVmUmVzdWx0IiwicXVlcnlSZWFkIiwicXVlcnlCeVROb2RlVHlwZSIsImFkZE1hdGNoIiwibWF0Y2hpbmdWYWx1ZSIsImNyZWF0ZVByZWRpY2F0ZSIsIl92YWx1ZXNUcmVlIiwiUXVlcnlMaXN0IiwiUXVlcnlMaXN0XyIsImNoYW5nZXMiLCJmaWx0ZXIiLCJmaW5kIiwiaW5pdCIsInRvQXJyYXkiLCJyZXNldCIsImZsYXR0ZW4iLCJub3RpZnlPbkNoYW5nZXMiLCJtZW1vcnlJbmRleCIsIlF1ZXJ5VHlwZSIsInN0b3JlQ2xlYW51cFdpdGhDb250ZXh0IiwicXVlcnlMaXN0SW1wbCIsIkJSQU5EIiwiYWxsb3dTYW5pdGl6YXRpb25CeXBhc3MiLCJ0cnVzdGVkSHRtbCIsImJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3RyaW5nIiwidHJ1c3RlZFN0eWxlIiwidHJ1c3RlZFNjcmlwdCIsInRydXN0ZWRVcmwiLCJ0cnVzdGVkUmVzb3VyY2VVcmwiLCJ0cnVzdGVkU3RyaW5nIiwidHJ1c3RlZCIsIlNBRkVfU1RZTEVfVkFMVUUiLCJVUkxfUkUiLCJ1cmxNYXRjaCIsIm91dHNpZGVTaW5nbGUiLCJvdXRzaWRlRG91YmxlIiwiaGFzQmFsYW5jZWRRdW90ZXMiLCJnZXRTYW5pdGl6ZXIiLCJzYW5pdGl6ZSIsIkhUTUwiLCJ1bnNhZmVTdHlsZSIsIlNUWUxFIiwidW5zYWZlVXJsIiwiVVJMIiwidW5zYWZlUmVzb3VyY2VVcmwiLCJSRVNPVVJDRV9VUkwiLCJ1bnNhZmVTY3JpcHQiLCJTQ1JJUFQiLCJhbmd1bGFyQ29yZUVudiIsIsm1ZGVmaW5lQmFzZSIsIsm1ZGVmaW5lQ29tcG9uZW50IiwiybVkZWZpbmVEaXJlY3RpdmUiLCLJtWRlZmluZU5nTW9kdWxlIiwiybVkZWZpbmVQaXBlIiwiybVkaXJlY3RpdmVJbmplY3QiLCLJtWdldEZhY3RvcnlPZiIsIsm1Z2V0SW5oZXJpdGVkRmFjdG9yeSIsIsm1aW5qZWN0QXR0cmlidXRlIiwiybV0ZW1wbGF0ZVJlZkV4dHJhY3RvciIsIsm1TmdPbkNoYW5nZXNGZWF0dXJlIiwiybVQcm92aWRlcnNGZWF0dXJlIiwiybVJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUiLCLJtWVsZW1lbnRBdHRyaWJ1dGUiLCLJtWJpbmQiLCLJtWNvbnRhaW5lciIsIsm1bmV4dENvbnRleHQiLCLJtWNvbnRhaW5lclJlZnJlc2hTdGFydCIsIsm1Y29udGFpbmVyUmVmcmVzaEVuZCIsIsm1bG9hZFF1ZXJ5TGlzdCIsIsm1bmFtZXNwYWNlSFRNTCIsIsm1bmFtZXNwYWNlTWF0aE1MIiwiybVuYW1lc3BhY2VTVkciLCLJtWVuYWJsZUJpbmRpbmdzIiwiybVkaXNhYmxlQmluZGluZ3MiLCLJtWFsbG9jSG9zdFZhcnMiLCLJtWVsZW1lbnRTdGFydCIsIsm1ZWxlbWVudEVuZCIsIsm1ZWxlbWVudCIsIsm1ZWxlbWVudENvbnRhaW5lclN0YXJ0IiwiybVlbGVtZW50Q29udGFpbmVyRW5kIiwiybVwdXJlRnVuY3Rpb24wIiwiybVwdXJlRnVuY3Rpb24xIiwiybVwdXJlRnVuY3Rpb24yIiwiybVwdXJlRnVuY3Rpb24zIiwiybVwdXJlRnVuY3Rpb240IiwiybVwdXJlRnVuY3Rpb241IiwiybVwdXJlRnVuY3Rpb242IiwiybVwdXJlRnVuY3Rpb243IiwiybVwdXJlRnVuY3Rpb244IiwiybVwdXJlRnVuY3Rpb25WIiwiybVnZXRDdXJyZW50VmlldyIsIsm1cmVzdG9yZVZpZXciLCLJtWludGVycG9sYXRpb24xIiwiybVpbnRlcnBvbGF0aW9uMiIsIsm1aW50ZXJwb2xhdGlvbjMiLCLJtWludGVycG9sYXRpb240IiwiybVpbnRlcnBvbGF0aW9uNSIsIsm1aW50ZXJwb2xhdGlvbjYiLCLJtWludGVycG9sYXRpb243IiwiybVpbnRlcnBvbGF0aW9uOCIsIsm1aW50ZXJwb2xhdGlvblYiLCLJtWVsZW1lbnRDbGFzc1Byb3AiLCLJtWxpc3RlbmVyIiwiybVsb2FkIiwiybVwcm9qZWN0aW9uIiwiybVlbGVtZW50UHJvcGVydHkiLCLJtWNvbXBvbmVudEhvc3RTeW50aGV0aWNQcm9wZXJ0eSIsIsm1cGlwZUJpbmQxIiwiybVwaXBlQmluZDIiLCLJtXBpcGVCaW5kMyIsIsm1cGlwZUJpbmQ0IiwiybVwaXBlQmluZFYiLCLJtXByb2plY3Rpb25EZWYiLCLJtXBpcGUiLCLJtXF1ZXJ5IiwiybVxdWVyeVJlZnJlc2giLCLJtXJlZ2lzdGVyQ29udGVudFF1ZXJ5IiwiybVyZWZlcmVuY2UiLCLJtWVsZW1lbnRTdHlsaW5nIiwiybVlbGVtZW50SG9zdEF0dHJzIiwiybVlbGVtZW50U3R5bGluZ01hcCIsIsm1ZWxlbWVudFN0eWxlUHJvcCIsIsm1ZWxlbWVudFN0eWxpbmdBcHBseSIsIsm1dGVtcGxhdGUiLCLJtXRleHQiLCLJtXRleHRCaW5kaW5nIiwiybVlbWJlZGRlZFZpZXdTdGFydCIsIsm1ZW1iZWRkZWRWaWV3RW5kIiwiybVpMThuIiwiybVpMThuQXR0cmlidXRlcyIsIsm1aTE4bkV4cCIsIsm1aTE4blN0YXJ0IiwiybVpMThuRW5kIiwiybVpMThuQXBwbHkiLCLJtWkxOG5Qb3N0cHJvY2VzcyIsIsm1c2FuaXRpemVIdG1sIiwiybVzYW5pdGl6ZVN0eWxlIiwiybVkZWZhdWx0U3R5bGVTYW5pdGl6ZXIiLCLJtXNhbml0aXplUmVzb3VyY2VVcmwiLCLJtXNhbml0aXplU2NyaXB0IiwiybVzYW5pdGl6ZVVybCIsImFzc2VydE5vdEV4aXN0aW5nIiwibm9Nb2R1bGVFcnJvciIsImlzVHlwZSIsIkRFTEVHQVRFX0NUT1IiLCJJTkhFUklURURfQ0xBU1MiLCJJTkhFUklURURfQ0xBU1NfV0lUSF9DVE9SIiwicmVmbGVjdCIsIl9yZWZsZWN0IiwiaXNSZWZsZWN0aW9uRW5hYmxlZCIsIl96aXBUeXBlc0FuZEFubm90YXRpb25zIiwicGFyYW1UeXBlcyIsInBhcmFtQW5ub3RhdGlvbnMiLCJfb3duUGFyYW1ldGVycyIsInBhcmVudEN0b3IiLCJ0eXBlU3RyIiwidHNpY2tsZUN0b3JQYXJhbXMiLCJwYXJhbVR5cGVzXzEiLCJjdG9yUGFyYW0iLCJwYXJhbUFubm90YXRpb25zXzEiLCJjb252ZXJ0VHNpY2tsZURlY29yYXRvckludG9NZXRhZGF0YSIsImdldE93bk1ldGFkYXRhIiwiZ2V0UGFyZW50Q3RvciIsIl9vd25Bbm5vdGF0aW9ucyIsInR5cGVPckZ1bmMiLCJvd25Bbm5vdGF0aW9ucyIsIl9vd25Qcm9wTWV0YWRhdGEiLCJwcm9wTWV0YWRhdGEiLCJwcm9wRGVjb3JhdG9yc18xIiwicHJvcE1ldGFkYXRhXzEiLCJwYXJlbnRQcm9wTWV0YWRhdGFfMSIsIm93blByb3BNZXRhZGF0YSIsImhhc0xpZmVjeWNsZUhvb2siLCJsY1Byb3BlcnR5IiwiZ3VhcmRzIiwic2V0dGVyIiwibWV0aG9kIiwiaW1wb3J0VXJpIiwicmVzb3VyY2VVcmkiLCJyZXNvbHZlSWRlbnRpZmllciIsIm1vZHVsZVVybCIsIm1lbWJlcnMiLCJydW50aW1lIiwicmVzb2x2ZUVudW0iLCJlbnVtSWRlbnRpZmllciIsImRlY29yYXRvckludm9jYXRpb25zIiwiZGVjb3JhdG9ySW52b2NhdGlvbiIsImFubm90YXRpb25BcmdzIiwiY3RvciIsInBhcmVudFByb3RvIiwiZ2V0UmVmbGVjdCIsInJlZmxlY3REZXBlbmRlbmNpZXMiLCJjb252ZXJ0RGVwZW5kZW5jaWVzIiwiY29tcGlsZXIiLCJkZXAiLCJvcHRpb25hbCIsInJlc29sdmVkIiwiVG9rZW4iLCJza2lwU2VsZiIsInNldFRva2VuQW5kUmVzb2x2ZWRUeXBlIiwicGFyYW0iLCJyZWZsZWN0RGVwZW5kZW5jeSIsIkVNUFRZX0FSUkFZJDIiLCJtb2R1bGVRdWV1ZSIsImZsdXNoaW5nTW9kdWxlUXVldWUiLCJpc1Jlc29sdmVkRGVjbGFyYXRpb24iLCJkZWNsYXJhdGlvbiIsImV2ZXJ5IiwiZW5xdWV1ZU1vZHVsZUZvckRlbGF5ZWRTY29waW5nIiwiZmxhdHRlbiQxIiwiZXhwYW5kTW9kdWxlV2l0aFByb3ZpZGVycyIsImVtaXRJbmxpbmUiLCJ2ZXJpZnlTZW1hbnRpY3NPZk5nTW9kdWxlRGVmIiwiY29tcGlsZUluamVjdG9yIiwidmVyaWZpZWROZ01vZHVsZSIsImNvbWJpbmVkRGVjbGFyYXRpb25zIiwiY29tcHV0ZUNvbWJpbmVkRXhwb3J0cyIsImtpbmQiLCJsYXN0SW5kZXhPZiIsImV4aXN0aW5nTW9kdWxlIiwib3duZXJOZ01vZHVsZSIsImdldEFubm90YXRpb24iLCJlbnRyeUNvbXBvbmVudHMiLCJ2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlIiwidW53cmFwTW9kdWxlV2l0aFByb3ZpZGVyc0ltcG9ydHMiLCJ0eXBlT3JXaXRoUHJvdmlkZXJzIiwiY29sbGVjdCIsIl9fYW5ub3RhdGlvbnNfXyIsInJlYWRBbm5vdGF0aW9uIiwic2V0U2NvcGVPbkRlY2xhcmVkQ29tcG9uZW50cyIsInRyYW5zaXRpdmVTY29wZXMiLCJ0cmFuc2l0aXZlU2NvcGVzRm9yIiwibmdTZWxlY3RvclNjb3BlIiwiZnJvbSIsImNvbXBpbGF0aW9uIiwiZGlyIiwiaXNOZ01vZHVsZSIsInNjb3BlcyIsImV4cG9ydGVkIiwiZGVjbGFyZWQiLCJpbXBvcnRlZFR5cGVkIiwiaW1wb3J0ZWRTY29wZSIsImVudHJ5IiwiZXhwb3J0ZWRUeXBlZCIsImV4cG9ydGVkU2NvcGUiLCJtYXBGbiIsIm91dCIsImlzTW9kdWxlV2l0aFByb3ZpZGVycyIsIm1heWJlUXVldWVSZXNvbHV0aW9uT2ZDb21wb25lbnRSZXNvdXJjZXMiLCJkaXJlY3RpdmVNZXRhZGF0YSIsInByZXNlcnZlV2hpdGVzcGFjZXMiLCJ2aWV3UXVlcmllcyIsImV4dHJhY3RRdWVyaWVzTWV0YWRhdGEiLCJpbnRlcnBvbGF0aW9uIiwiZmx1c2hNb2R1bGVTY29waW5nUXVldWVBc011Y2hBc1Bvc3NpYmxlIiwiZmFjYWRlIiwiZXh0ZW5kc0RpcmVjdGx5RnJvbU9iamVjdCIsInR5cGVBcmd1bWVudENvdW50IiwiaXNDb250ZW50UXVlcnkiLCJsaWZlY3ljbGUiLCJ1c2VzT25DaGFuZ2VzIiwidHlwZVNvdXJjZVNwYW4iLCJ1c2VzSW5oZXJpdGFuY2UiLCJpc1F1ZXJ5QW5uIiwicXVlcmllc01ldGEiLCJmaWVsZCIsImFubiIsInByb3BlcnR5TmFtZSIsInBpZWNlIiwiY29udmVydFRvUjNRdWVyeU1ldGFkYXRhIiwiU1dJVENIX0NPTVBJTEVfRElSRUNUSVZFIiwiU1dJVENIX0NPTVBJTEVfQ09NUE9ORU5UIiwiU1dJVENIX0NPTVBJTEVfUElQRSIsInVwZGF0ZUJhc2VEZWZGcm9tSU9Qcm9wIiwiaW5oZXJpdGVkQmFzZURlZiIsImluaXRpYWxpemVCYXNlRGVmIiwiYmluZGluZ1Byb3BlcnR5TmFtZSIsImhvc3RQcm9wZXJ0eU5hbWUiLCJVU0VfVkFMVUUkMSIsIkVNUFRZX0FSUkFZJDMiLCJjb252ZXJ0SW5qZWN0YWJsZVByb3ZpZGVyVG9GYWN0b3J5IiwiZGVwc18xIiwicmVmbGVjdGlvbkNhcGFiaWxpdGllcyIsInZhbHVlUHJvdmlkZXJfMSIsImV4aXN0aW5nUHJvdmlkZXJfMSIsImZhY3RvcnlQcm92aWRlcl8xIiwiY2xhc3NQcm92aWRlcl8xIiwiZGVwc18yIiwiZGVwc18zIiwiU1dJVENIX0NPTVBJTEVfTkdNT0RVTEUiLCJVU0VfVkFMVUUkMiIsImlzVXNlQ2xhc3NQcm92aWRlciIsImlzVXNlVmFsdWVQcm92aWRlciIsImlzVXNlRmFjdG9yeVByb3ZpZGVyIiwiaXNVc2VFeGlzdGluZ1Byb3ZpZGVyIiwiU1dJVENIX0NPTVBJTEVfSU5KRUNUQUJMRSIsInNyY01ldGEiLCJoYXNBUHJvdmlkZXIiLCJjb21waWxlck1ldGEiLCJjdG9yRGVwcyIsInVzZXJEZXBzIiwiY29tcGlsZUluamVjdGFibGUiLCJpbmplY3RhYmxlVHlwZSIsIkVSUk9SX0RFQlVHX0NPTlRFWFQiLCJFUlJPUl9PUklHSU5BTF9FUlJPUiIsIkVSUk9SX0xPR0dFUiIsImdldERlYnVnQ29udGV4dCIsImdldE9yaWdpbmFsRXJyb3IiLCJkZWZhdWx0RXJyb3JMb2dnZXIiLCJfY29uc29sZSIsImhhbmRsZUVycm9yIiwib3JpZ2luYWxFcnJvciIsIl9maW5kT3JpZ2luYWxFcnJvciIsIl9maW5kQ29udGV4dCIsImVycm9yTG9nZ2VyIiwiZ2V0RXJyb3JMb2dnZXIiLCJjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoIiwiZmluZEZpcnN0Q2xvc2VkQ3ljbGUiLCJyZXZlcnNlIiwiaW5qZWN0aW9uRXJyb3IiLCJjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlIiwiZXJyTXNnIiwid3JhcHBlZEVycm9yIiwiYWRkS2V5IiwiaW5qZWN0b3JzIiwibm9Bbm5vdGF0aW9uRXJyb3IiLCJwYXJhbXMiLCJzaWduYXR1cmUiLCJpaSIsInBhcmFtZXRlciIsImRpc3BsYXlOYW1lIiwiX2dsb2JhbEtleVJlZ2lzdHJ5IiwibnVtYmVyT2ZLZXlzIiwiS2V5UmVnaXN0cnkiLCJfYWxsS2V5cyIsIm5ld0tleSIsInNpemUiLCJyZWZsZWN0b3IiLCJSZWZsZWN0b3IiLCJ1cGRhdGVDYXBhYmlsaXRpZXMiLCJjYXBzIiwiaWRlbnRpZmllciIsInZpc2liaWxpdHkiLCJmcm9tS2V5IiwiX0VNUFRZX0xJU1QiLCJSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8iLCJyZXNvbHZlZEZhY3RvcmllcyIsInJlc29sdmVkRmFjdG9yeSIsImRlcGVuZGVuY2llcyIsInJlc29sdmVSZWZsZWN0aXZlRmFjdG9yeSIsInJlc29sdmVkRGVwcyIsIl9kZXBlbmRlbmNpZXNGb3IiLCJhbGlhc0luc3RhbmNlIiwicGFyYW1zXzEiLCJfZXh0cmFjdFRva2VuIiwiY29uc3RydWN0RGVwZW5kZW5jaWVzIiwicmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlciIsInJlc29sdmVkUHJvdmlkZXJNYXAiLCJub3JtYWxpemVkUHJvdmlkZXJzTWFwIiwibWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMiLCJfbm9ybWFsaXplUHJvdmlkZXJzIiwiX2NyZWF0ZURlcGVuZGVuY3kiLCJwYXJhbU1ldGFkYXRhIiwiVU5ERUZJTkVEIiwicmVzb2x2ZUFuZENyZWF0ZSIsIlJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVycyIsImZyb21SZXNvbHZlZFByb3ZpZGVycyIsIl9wcm92aWRlcnMiLCJfY29uc3RydWN0aW9uQ291bnRlciIsImtleUlkcyIsIm9ianMiLCJfZ2V0QnlLZXkiLCJyZXNvbHZlQW5kQ3JlYXRlQ2hpbGQiLCJjcmVhdGVDaGlsZEZyb21SZXNvbHZlZCIsImluaiIsInJlc29sdmVBbmRJbnN0YW50aWF0ZSIsImluc3RhbnRpYXRlUmVzb2x2ZWQiLCJfaW5zdGFudGlhdGVQcm92aWRlciIsImdldFByb3ZpZGVyQXRJbmRleCIsIm91dE9mQm91bmRzRXJyb3IiLCJfbmV3IiwiX2dldE1heE51bWJlck9mT2JqZWN0cyIsIl9pbnN0YW50aWF0ZSIsIlJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkkJDEiLCJvcmlnaW5hbEV4Y2VwdGlvbiIsIl9nZXRCeVJlZmxlY3RpdmVEZXBlbmRlbmN5IiwiSU5KRUNUT1JfS0VZIiwiX2dldEJ5S2V5U2VsZiIsIl9nZXRCeUtleURlZmF1bHQiLCJfZ2V0T2JqQnlLZXlJZCIsImtleUlkIiwiX3Rocm93T3JOdWxsIiwibm9Qcm92aWRlckVycm9yIiwiaW5qXyIsIl9tYXBQcm92aWRlcnMiLCJhcHBJbml0cyIsImluaXRpYWxpemVkIiwiZG9uZVByb21pc2UiLCJyZWoiLCJydW5Jbml0aWFsaXplcnMiLCJhc3luY0luaXRQcm9taXNlcyIsImluaXRSZXN1bHQiLCJjYXRjaCIsIl9yYW5kb21DaGFyIiwiZnJvbUNoYXJDb2RlIiwibmdNb2R1bGVGYWN0b3J5IiwiY29tcG9uZW50RmFjdG9yaWVzIiwiX3Rocm93RXJyb3IiLCJ0cmFjZSIsImV2ZW50cyIsIkNvbXBpbGVyX2NvbXBpbGVNb2R1bGVTeW5jIiwiQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFzeW5jIiwiQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jIiwiQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyIsImNvbXBpbGVNb2R1bGVTeW5jIiwiY29tcGlsZU1vZHVsZUFzeW5jIiwiY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jIiwiY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYyIsImNsZWFyQ2FjaGUiLCJjbGVhckNhY2hlRm9yIiwiZ2V0TW9kdWxlSWQiLCJ3dGYiLCJzY29wZSIsImxlYXZlU2NvcGUiLCJyYW5nZVR5cGUiLCJiZWdpblRpbWVSYW5nZSIsInJhbmdlIiwibm9vcFNjb3BlIiwiYXJnMCIsImFyZzEiLCJlbmFibGVMb25nU3RhY2tUcmFjZSIsImhhc1BlbmRpbmdNaWNyb3Rhc2tzIiwiaGFzUGVuZGluZ01hY3JvdGFza3MiLCJpc1N0YWJsZSIsIm9uVW5zdGFibGUiLCJvbk1pY3JvdGFza0VtcHR5Iiwib25TdGFibGUiLCJvbkVycm9yIiwiYXNzZXJ0Wm9uZVBhdGNoZWQiLCJ6b25lIiwiX25lc3RpbmciLCJfb3V0ZXIiLCJfaW5uZXIiLCJmb3JrIiwicHJvcGVydGllcyIsImlzQW5ndWxhclpvbmUiLCJvbkludm9rZVRhc2siLCJkZWxlZ2F0ZSIsInRhc2siLCJhcHBseVRoaXMiLCJhcHBseUFyZ3MiLCJvbkVudGVyIiwiaW52b2tlVGFzayIsIm9uTGVhdmUiLCJvbkludm9rZSIsImludm9rZSIsIm9uSGFzVGFzayIsImhhc1Rhc2tTdGF0ZSIsImhhc1Rhc2siLCJjaGFuZ2UiLCJtaWNyb1Rhc2siLCJjaGVja1N0YWJsZSIsIm1hY3JvVGFzayIsIm9uSGFuZGxlRXJyb3IiLCJydW5PdXRzaWRlQW5ndWxhciIsImlzSW5Bbmd1bGFyWm9uZSIsImFzc2VydEluQW5ndWxhclpvbmUiLCJhc3NlcnROb3RJbkFuZ3VsYXJab25lIiwicnVuIiwicnVuVGFzayIsInNjaGVkdWxlRXZlbnRUYXNrIiwiRU1QVFlfUEFZTE9BRCIsIm5vb3AkMSIsImNhbmNlbFRhc2siLCJydW5HdWFyZGVkIiwiX25nWm9uZSIsIl9wZW5kaW5nQ291bnQiLCJfaXNab25lU3RhYmxlIiwiX2RpZFdvcmsiLCJfY2FsbGJhY2tzIiwidGFza1RyYWNraW5nWm9uZSIsIl93YXRjaEFuZ3VsYXJFdmVudHMiLCJfcnVuQ2FsbGJhY2tzSWZSZWFkeSIsImluY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCIsImRlY3JlYXNlUGVuZGluZ1JlcXVlc3RDb3VudCIsImNiIiwiY2xlYXJUaW1lb3V0IiwidGltZW91dElkIiwiZG9uZUNiIiwicGVuZGluZ18xIiwiZ2V0UGVuZGluZ1Rhc2tzIiwidXBkYXRlQ2IiLCJtYWNyb1Rhc2tzIiwiY3JlYXRpb25Mb2NhdGlvbiIsImFkZENhbGxiYWNrIiwidGltZW91dCIsIndoZW5TdGFibGUiLCJnZXRQZW5kaW5nUmVxdWVzdENvdW50IiwiZmluZFByb3ZpZGVycyIsInVzaW5nIiwiZXhhY3RNYXRjaCIsIl9hcHBsaWNhdGlvbnMiLCJfdGVzdGFiaWxpdHlHZXR0ZXIiLCJhZGRUb1dpbmRvdyIsInJlZ2lzdGVyQXBwbGljYXRpb24iLCJ0ZXN0YWJpbGl0eSIsInVucmVnaXN0ZXJBcHBsaWNhdGlvbiIsImRlbGV0ZSIsInVucmVnaXN0ZXJBbGxBcHBsaWNhdGlvbnMiLCJnZXRUZXN0YWJpbGl0eSIsImVsZW0iLCJnZXRBbGxUZXN0YWJpbGl0aWVzIiwiZ2V0QWxsUm9vdEVsZW1lbnRzIiwiZmluZFRlc3RhYmlsaXR5SW5UcmVlIiwiZmluZEluQW5jZXN0b3JzIiwiX3BsYXRmb3JtIiwiX05vb3BHZXRUZXN0YWJpbGl0eSIsImNvbXBpbGVOZ01vZHVsZUZhY3RvcnkiLCJjcmVhdGVDb21waWxlciIsImluaXRzIiwicGFyZW50UGxhdGZvcm1GYWN0b3J5IiwiZXh0cmFQcm92aWRlcnMiLCJwbGF0Zm9ybSIsImluamVjdGVkUHJvdmlkZXJzIiwicmVxdWlyZWRUb2tlbiIsIl9pbmplY3RvciIsIl9tb2R1bGVzIiwiX2Rlc3Ryb3lMaXN0ZW5lcnMiLCJfZGVzdHJveWVkIiwiYm9vdHN0cmFwTW9kdWxlRmFjdG9yeSIsIm1vZHVsZUZhY3RvcnkiLCJuZ1pvbmUiLCJuZ1pvbmVPcHRpb24iLCJnZXROZ1pvbmUiLCJuZ1pvbmVJbmplY3RvciIsIm1vZHVsZVJlZiIsImV4Y2VwdGlvbkhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJfY2FsbEFuZFJlcG9ydFRvRXJyb3JIYW5kbGVyIiwiaW5pdFN0YXR1cyIsIl9tb2R1bGVEb0Jvb3RzdHJhcCIsImJvb3RzdHJhcE1vZHVsZSIsImNvbXBpbGVyT3B0aW9ucyIsIm9wdGlvbnNSZWR1Y2VyIiwibmdEb0Jvb3RzdHJhcCIsImRzdCIsIl96b25lIiwiX2V4Y2VwdGlvbkhhbmRsZXIiLCJfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwiX2luaXRTdGF0dXMiLCJfYm9vdHN0cmFwTGlzdGVuZXJzIiwiX3ZpZXdzIiwiX3J1bm5pbmdUaWNrIiwiX2VuZm9yY2VOb05ld0NoYW5nZXMiLCJfc3RhYmxlIiwiY29tcG9uZW50VHlwZXMiLCJ0aWNrIiwiaXNDdXJyZW50bHlTdGFibGUiLCJzdGFibGVTdWIiLCJ1bnN0YWJsZVN1YiIsIkFwcGxpY2F0aW9uUmVmXzEiLCJjb21wb25lbnRPckZhY3RvcnkiLCJjb21wb25lbnRGYWN0b3J5Iiwic2VsZWN0b3JPck5vZGUiLCJjb21wUmVmIiwiX3VubG9hZENvbXBvbmVudCIsIl9sb2FkQ29tcG9uZW50IiwiX3RpY2tTY29wZSIsImF0dGFjaFZpZXciLCJfcmVzdWx0cyIsImZsYXR0ZW4kMiIsImZsYXQiLCJmbGF0SXRlbSIsImxhc3QiLCJERUZBVUxUX0NPTkZJRyIsImZhY3RvcnlQYXRoUHJlZml4IiwiZmFjdG9yeVBhdGhTdWZmaXgiLCJfY29tcGlsZXIiLCJfY29uZmlnIiwicGF0aCIsImxvYWRGYWN0b3J5IiwibG9hZEFuZENvbXBpbGUiLCJleHBvcnROYW1lIiwiY2hlY2tOb3RFbXB0eSIsImZhY3RvcnlDbGFzc1N1ZmZpeCIsIm1vZHVsZVBhdGgiLCJTV0lUQ0hfVklFV19DT05UQUlORVJfUkVGX0ZBQ1RPUlkiLCJWaWV3Q29udGFpbmVyUmVmVG9rZW4iLCJWaWV3Q29udGFpbmVyUmVmXyIsIl9sQ29udGFpbmVyIiwiX2hvc3RUTm9kZSIsIl9ob3N0VmlldyIsIl92aWV3UmVmcyIsInN0YXJ0VE5vZGUiLCJwYXJlbnRUTm9kZV8xIiwiZ2V0UGFyZW50SW5qZWN0b3JUTm9kZSIsInRlbXBsYXRlUmVmIiwiYWRqdXN0ZWRJZHgiLCJfYWRqdXN0SW5kZXgiLCJjcmVhdGVDb21wb25lbnQiLCJuZ01vZHVsZVJlZiIsImNvbnRleHRJbmplY3RvciIsImluc2VydCIsIm1vdmUiLCJ3YXNEZXRhY2hlZCIsImNvbW1lbnROb2RlIiwicGFyZW50T2ZIb3N0TmF0aXZlIiwibmF0aXZlTmV4dFNpYmxpbmciLCJjcmVhdGVDb250YWluZXJSZWYiLCJTV0lUQ0hfQ0hBTkdFX0RFVEVDVE9SX1JFRl9GQUNUT1JZIiwiRXZlbnRMaXN0ZW5lciIsIm5hdGl2ZU5vZGUiLCJfZGVidWdDb250ZXh0IiwiYWRkQ2hpbGQiLCJyZWZlcmVuY2VzIiwicHJvdmlkZXJUb2tlbnMiLCJjaGlsZE5vZGVzIiwiaW5zZXJ0Q2hpbGRyZW5BZnRlciIsIm5ld0NoaWxkcmVuIiwic2libGluZ0luZGV4IiwicmVmQ2hpbGQiLCJuZXdDaGlsZCIsInJlZkluZGV4IiwicXVlcnlBbGwiLCJfcXVlcnlFbGVtZW50Q2hpbGRyZW4iLCJxdWVyeUFsbE5vZGVzIiwiX3F1ZXJ5Tm9kZUNoaWxkcmVuIiwidHJpZ2dlckV2ZW50SGFuZGxlciIsImV2ZW50T2JqIiwiZGVidWdFbHMiLCJEZWJ1Z05vZGVfX1BPU1RfUjNfXyIsIkRlYnVnRWxlbWVudF9fUE9TVF9SM19fIiwiZ2V0SW5qZWN0aW9uVG9rZW5zIiwiZUF0dHJzIiwibENvbnRleHQiLCJsTm9kZSIsImVDbGFzc2VzIiwiY2xhc3NMaXN0Iiwic3R5bGVOYW1lIiwiZVN0eWxlcyIsImdldFByb3BlcnR5VmFsdWUiLCJjaGlsZHJlbiIsIl9xdWVyeU5vZGVDaGlsZHJlblIzIiwiZWxlbWVudHNPbmx5IiwiX25hdGl2ZU5vZGVUb0RlYnVnTm9kZSIsImluZGV4RGVidWdOb2RlIiwic3VwcG9ydHMiLCJ0cmFja0J5Rm4iLCJ0cmFja0J5SWRlbnRpdHkiLCJfbGlua2VkUmVjb3JkcyIsIl91bmxpbmtlZFJlY29yZHMiLCJfcHJldmlvdXNJdEhlYWQiLCJfaXRIZWFkIiwiX2l0VGFpbCIsIl9hZGRpdGlvbnNIZWFkIiwiX2FkZGl0aW9uc1RhaWwiLCJfbW92ZXNIZWFkIiwiX21vdmVzVGFpbCIsIl9yZW1vdmFsc0hlYWQiLCJfcmVtb3ZhbHNUYWlsIiwiX2lkZW50aXR5Q2hhbmdlc0hlYWQiLCJfaWRlbnRpdHlDaGFuZ2VzVGFpbCIsIl90cmFja0J5Rm4iLCJmb3JFYWNoSXRlbSIsImZvckVhY2hPcGVyYXRpb24iLCJuZXh0SXQiLCJuZXh0UmVtb3ZlIiwiYWRkUmVtb3ZlT2Zmc2V0IiwibW92ZU9mZnNldHMiLCJjdXJyZW50SW5kZXgiLCJnZXRQcmV2aW91c0luZGV4IiwiYWRqUHJldmlvdXNJbmRleCIsIl9uZXh0UmVtb3ZlZCIsInByZXZpb3VzSW5kZXgiLCJsb2NhbE1vdmVQcmV2aW91c0luZGV4IiwibG9jYWxDdXJyZW50SW5kZXgiLCJmb3JFYWNoUHJldmlvdXNJdGVtIiwiX25leHRQcmV2aW91cyIsImZvckVhY2hBZGRlZEl0ZW0iLCJfbmV4dEFkZGVkIiwiZm9yRWFjaE1vdmVkSXRlbSIsIl9uZXh0TW92ZWQiLCJmb3JFYWNoUmVtb3ZlZEl0ZW0iLCJmb3JFYWNoSWRlbnRpdHlDaGFuZ2UiLCJfbmV4dElkZW50aXR5Q2hhbmdlIiwiZGlmZiIsImNvbGxlY3Rpb24iLCJjaGVjayIsIl9yZXNldCIsIml0ZW1UcmFja0J5IiwibWF5QmVEaXJ0eSIsImluZGV4XzEiLCJ0cmFja0J5SWQiLCJfdmVyaWZ5UmVpbnNlcnRpb24iLCJfYWRkSWRlbnRpdHlDaGFuZ2UiLCJfbWlzbWF0Y2giLCJpdGVyYXRlTGlzdExpa2UiLCJfdHJ1bmNhdGUiLCJuZXh0UmVjb3JkIiwicHJldmlvdXNSZWNvcmQiLCJfcHJldiIsIl9yZW1vdmUiLCJfbW92ZUFmdGVyIiwiX3JlaW5zZXJ0QWZ0ZXIiLCJfYWRkQWZ0ZXIiLCJJdGVyYWJsZUNoYW5nZVJlY29yZF8iLCJyZWluc2VydFJlY29yZCIsIl9hZGRUb01vdmVzIiwiX2FkZFRvUmVtb3ZhbHMiLCJfdW5saW5rIiwicHJldlJlY29yZCIsIl9wcmV2UmVtb3ZlZCIsIl9pbnNlcnRBZnRlciIsIl9EdXBsaWNhdGVNYXAiLCJwdXQiLCJ0b0luZGV4IiwiX3ByZXZEdXAiLCJfbmV4dER1cCIsIl9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdCIsIl9oZWFkIiwiX3RhaWwiLCJhdE9yQWZ0ZXJJbmRleCIsImR1cGxpY2F0ZXMiLCJyZWNvcmRMaXN0IiwibW92ZU9mZnNldCIsIkRlZmF1bHRLZXlWYWx1ZURpZmZlciIsIl9tYXBIZWFkIiwiX2FwcGVuZEFmdGVyIiwiX3ByZXZpb3VzTWFwSGVhZCIsIl9jaGFuZ2VzSGVhZCIsIl9jaGFuZ2VzVGFpbCIsImZvckVhY2hDaGFuZ2VkSXRlbSIsIl9uZXh0Q2hhbmdlZCIsIl9mb3JFYWNoIiwiX21heWJlQWRkVG9DaGFuZ2VzIiwiX2dldE9yQ3JlYXRlUmVjb3JkRm9yS2V5IiwiX2luc2VydEJlZm9yZU9yQXBwZW5kIiwiYmVmb3JlIiwicmVjb3JkXzEiLCJLZXlWYWx1ZUNoYW5nZVJlY29yZF8iLCJfYWRkVG9BZGRpdGlvbnMiLCJfYWRkVG9DaGFuZ2VzIiwiY29waWVkIiwiZXh0ZW5kIiwiaXRlcmFibGUiLCJrdiIsImtleVZhbERpZmYiLCJpdGVyYWJsZURpZmYiLCJzaGlmdEluaXRTdGF0ZSIsInByaW9ySW5pdFN0YXRlIiwibmV3SW5pdFN0YXRlIiwiaW5pdFN0YXRlIiwiaW5pdEluZGV4Iiwic2hvdWxkQ2FsbExpZmVjeWNsZUluaXRIb29rIiwiYXNUZXh0RGF0YSIsIm5vZGVzIiwiYXNFbGVtZW50RGF0YSIsImFzUHJvdmlkZXJEYXRhIiwiYXNQdXJlRXhwcmVzc2lvbkRhdGEiLCJhc1F1ZXJ5TGlzdCIsIlNlcnZpY2VzIiwic2V0Q3VycmVudE5vZGUiLCJjcmVhdGVSb290VmlldyIsImNyZWF0ZUNvbXBvbmVudFZpZXciLCJjcmVhdGVOZ01vZHVsZVJlZiIsImNoZWNrQW5kVXBkYXRlVmlldyIsImNoZWNrTm9DaGFuZ2VzVmlldyIsImRlc3Ryb3lWaWV3IiwicmVzb2x2ZURlcCIsImNyZWF0ZURlYnVnQ29udGV4dCIsImhhbmRsZUV2ZW50IiwidXBkYXRlRGlyZWN0aXZlcyIsInVwZGF0ZVJlbmRlcmVyIiwiZGlydHlQYXJlbnRRdWVyaWVzIiwiZXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFcnJvciIsImlzRmlyc3RDaGVjayIsIl9hZGREZWJ1Z0NvbnRleHQiLCJ2aWV3RGVidWdFcnJvciIsImxvZ0Vycm9yIiwidmlld0Rlc3Ryb3llZEVycm9yIiwiTk9PUCIsIl90b2tlbktleUNhY2hlIiwidG9rZW5LZXkiLCJub2RlSWR4IiwiYmluZGluZ0lkeCIsImdsb2JhbEJpbmRpbmdJZHgiLCJvbGRWYWx1ZXMiLCJVTkRFRklORURfUkVOREVSRVJfVFlQRV9JRCIsIkVNUFRZX1JFTkRFUkVSX1RZUEVfSUQiLCJfcmVuZGVyQ29tcENvdW50JDEiLCJjaGVja0JpbmRpbmciLCJjaGVja0FuZFVwZGF0ZUJpbmRpbmciLCJjaGVja0JpbmRpbmdOb0NoYW5nZXMiLCJiaW5kaW5ncyIsIm1hcmtQYXJlbnRWaWV3c0ZvckNoZWNrIiwiY3VyclZpZXciLCJ2aWV3Q29udGFpbmVyUGFyZW50IiwibWFya1BhcmVudFZpZXdzRm9yQ2hlY2tQcm9qZWN0ZWRWaWV3cyIsImVuZFZpZXciLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnQiLCJyb290IiwiZGVjbGFyZWRWaWV3Q29udGFpbmVyIiwicGFyZW50Tm9kZURlZiIsInZpZXdQYXJlbnRFbCIsInJlbmRlck5vZGUiLCJyZW5kZXJFbGVtZW50IiwicmVuZGVyVGV4dCIsImlzQ29tcG9uZW50VmlldyIsImlzRW1iZWRkZWRWaWV3IiwiZmlsdGVyUXVlcnlJZCIsInF1ZXJ5SWQiLCJzcGxpdE1hdGNoZWRRdWVyaWVzRHNsIiwibWF0Y2hlZFF1ZXJpZXNEc2wiLCJtYXRjaGVkUXVlcmllcyIsIm1hdGNoZWRRdWVyeUlkcyIsInZhbHVlVHlwZSIsInNwbGl0RGVwc0RzbCIsInNvdXJjZU5hbWUiLCJnZXRQYXJlbnRSZW5kZXJFbGVtZW50IiwicmVuZGVySG9zdCIsImNvbXBvbmVudFJlbmRlcmVyVHlwZSIsIk5hdGl2ZSIsIkRFRklOSVRJT05fQ0FDSEUiLCJXZWFrTWFwIiwicmVzb2x2ZURlZmluaXRpb24iLCJ2aXNpdFJvb3RSZW5kZXJOb2RlcyIsImxhc3RSZW5kZXJSb290Tm9kZSIsInZpc2l0U2libGluZ1JlbmRlck5vZGVzIiwibm9kZURlZiIsInZpc2l0UmVuZGVyTm9kZSIsImNoaWxkQ291bnQiLCJ2aXNpdFByb2plY3RlZFJlbmRlck5vZGVzIiwibmdDb250ZW50SW5kZXgiLCJjb21wVmlldyIsImhvc3RFbERlZiIsInByb2plY3RlZE5vZGVzIiwiZXhlY1JlbmRlck5vZGVBY3Rpb24iLCJuZ0NvbnRlbnQiLCJybiIsImJpbmRpbmdGbGFncyIsImVtYmVkZGVkVmlld3MiLCJ2aWV3Q29udGFpbmVyIiwiX2VtYmVkZGVkVmlld3MiLCJOU19QUkVGSVhfUkUiLCJzcGxpdE5hbWVzcGFjZSIsImNhbGNCaW5kaW5nRmxhZ3MiLCJ2YWx1ZUNvdW50IiwiY29uc3RBbmRJbnRlcnAiLCJfdG9TdHJpbmdXaXRoTnVsbCIsImMwIiwiYTEiLCJjMSIsImEyIiwiYzIiLCJhMyIsImMzIiwiYTQiLCJjNCIsImE1IiwiYzUiLCJhNiIsImM2IiwiYTciLCJjNyIsImE4IiwiYzgiLCJhOSIsImM5IiwidGVtcGxhdGVGYWN0b3J5Iiwib3V0cHV0SW5kZXgiLCJjaGVja0luZGV4IiwiY2hpbGRGbGFncyIsImRpcmVjdENoaWxkRmxhZ3MiLCJjaGlsZE1hdGNoZWRRdWVyaWVzIiwiY29tcG9uZW50UHJvdmlkZXIiLCJwdWJsaWNQcm92aWRlcnMiLCJhbGxQcm92aWRlcnMiLCJuYW1lc3BhY2VBbmROYW1lIiwiZml4ZWRBdHRycyIsImJpbmRpbmdEZWZzIiwibmFtZXNwYWNlQW5kTmFtZV8xIiwic3VmZml4T3JTZWN1cml0eUNvbnRleHQiLCJfZCIsIm5zXzEiLCJzZWN1cml0eUNvbnRleHQiLCJub25NaW5pZmllZE5hbWUiLCJvdXRwdXREZWZzIiwiX2UiLCJpc0ZpbGxlZCIsIk5vbmUiLCJyZXNvbHZlUmVuZGVyZXJUeXBlMiIsImVsRGVmIiwicHJlc2VydmVDb250ZW50IiwiU2hhZG93RG9tIiwibGlzdGVuVG9FbGVtZW50T3V0cHV0cyIsIm91dHB1dCIsImhhbmRsZUV2ZW50Q2xvc3VyZSIsInJlbmRlckV2ZW50SGFuZGxlckNsb3N1cmUiLCJsaXN0ZW5UYXJnZXQiLCJsaXN0ZW5lclZpZXciLCJkaXNwb3NhYmxlIiwiZGlzcG9zYWJsZXMiLCJjaGVja0FuZFVwZGF0ZUVsZW1lbnRWYWx1ZSIsImVsRGF0YSIsInJlbmRlck5vZGUkJDEiLCJyZW5kZXJWYWx1ZSIsInNldEVsZW1lbnRBdHRyaWJ1dGUiLCJzZXRFbGVtZW50Q2xhc3MiLCJ1bml0Iiwic2V0RWxlbWVudFN0eWxlIiwic2V0RWxlbWVudFByb3BlcnR5IiwiVU5ERUZJTkVEX1ZBTFVFIiwiSW5qZWN0b3JSZWZUb2tlbktleSIsIklOSkVDVE9SUmVmVG9rZW5LZXkiLCJOZ01vZHVsZVJlZlRva2VuS2V5IiwicHJvdmlkZXJzQnlLZXkiLCJpc1Jvb3QiLCJyZXNvbHZlTmdNb2R1bGVEZXAiLCJkZXBEZWYiLCJ0b2tlbktleV8xIiwicHJvdmlkZXJJbnN0YW5jZSIsIl9jcmVhdGVQcm92aWRlckluc3RhbmNlIiwibW9kdWxlVHJhbnNpdGl2ZWx5UHJlc2VudCIsImluamVjdGFibGUiLCJkZXBWYWx1ZXMiLCJfY3JlYXRlQ2xhc3MiLCJfY2FsbEZhY3RvcnkiLCJhdHRhY2hFbWJlZGRlZFZpZXciLCJlbGVtZW50RGF0YSIsImFkZFRvQXJyYXkiLCJ2Y0VsZW1lbnREYXRhIiwiZHZjRWxlbWVudERhdGEiLCJwcm9qZWN0ZWRWaWV3cyIsIl9wcm9qZWN0ZWRWaWV3cyIsIm5vZGVGbGFncyIsIm1hcmtOb2RlQXNQcm9qZWN0ZWRUZW1wbGF0ZSIsImF0dGFjaFByb2plY3RlZFZpZXciLCJyZW5kZXJBdHRhY2hFbWJlZGRlZFZpZXciLCJkZXRhY2hFbWJlZGRlZFZpZXciLCJyZW1vdmVGcm9tQXJyYXkiLCJyZW5kZXJEZXRhY2hWaWV3IiwicHJldlZpZXciLCJwcmV2UmVuZGVyTm9kZSIsIkVNUFRZX0NPTlRFWFQiLCJ2aWV3RGVmRmFjdG9yeSIsIkNvbXBvbmVudEZhY3RvcnlfIiwiX2lucHV0cyIsIl9vdXRwdXRzIiwiaW5wdXRzQXJyIiwib3V0cHV0c0FyciIsImNvbXBvbmVudE5vZGVJbmRleCIsIkNvbXBvbmVudFJlZl8iLCJWaWV3UmVmXyIsIl92aWV3UmVmIiwiX2NvbXBvbmVudCIsIl9lbERlZiIsIkluamVjdG9yXyIsImNyZWF0ZVZpZXdDb250YWluZXJEYXRhIiwiX2RhdGEiLCJ2aWV3UmVmXyIsIm9sZFZpZXdJbmRleCIsIm5ld1ZpZXdJbmRleCIsImNyZWF0ZUNoYW5nZURldGVjdG9yUmVmIiwicmVuZGVyTm9kZXMiLCJmcyIsImNyZWF0ZVRlbXBsYXRlRGF0YSIsIl9wYXJlbnRWaWV3IiwiY3JlYXRlSW5qZWN0b3IkMSIsImFsbG93UHJpdmF0ZVNlcnZpY2VzIiwiY3JlYXRlUmVuZGVyZXJWMSIsIlJlbmRlcmVyQWRhcHRlciIsImNyZWF0ZVZpZXdSb290IiwiY3JlYXRlVGVtcGxhdGVBbmNob3IiLCJwYXJlbnRFbGVtZW50IiwicHJvamVjdE5vZGVzIiwiYXR0YWNoVmlld0FmdGVyIiwidmlld1Jvb3ROb2RlcyIsInZpZXdBbGxOb2RlcyIsImxpc3Rlbkdsb2JhbCIsInByb3BlcnR5VmFsdWUiLCJhdHRyaWJ1dGVWYWx1ZSIsInNldEJpbmRpbmdEZWJ1Z0luZm8iLCJpc0FkZCIsInN0eWxlVmFsdWUiLCJpbnZva2VFbGVtZW50TWV0aG9kIiwibWV0aG9kTmFtZSIsInNldFRleHQiLCJhbmltYXRlIiwiYm9vdHN0cmFwQ29tcG9uZW50cyIsIk5nTW9kdWxlUmVmXyIsIl9tb2R1bGVUeXBlIiwicHJvdkRlZiIsImluaXROZ01vZHVsZSIsImxpZmVjeWNsZXMiLCJjYWxsTmdNb2R1bGVMaWZlY3ljbGUiLCJSZW5kZXJlclYxVG9rZW5LZXkiLCJSZW5kZXJlcjJUb2tlbktleSIsIkVsZW1lbnRSZWZUb2tlbktleSIsIlZpZXdDb250YWluZXJSZWZUb2tlbktleSIsIlRlbXBsYXRlUmVmVG9rZW5LZXkiLCJDaGFuZ2VEZXRlY3RvclJlZlRva2VuS2V5IiwiSW5qZWN0b3JSZWZUb2tlbktleSQxIiwiSU5KRUNUT1JSZWZUb2tlbktleSQxIiwiZGVwRGVmcyIsImNyZWF0ZVByb3ZpZGVySW5zdGFuY2UiLCJfY3JlYXRlUHJvdmlkZXJJbnN0YW5jZSQxIiwiY3JlYXRlUGlwZUluc3RhbmNlIiwiY3JlYXRlQ2xhc3MiLCJjcmVhdGVEaXJlY3RpdmVJbnN0YW5jZSIsIm91dHB1dE9ic2VydmFibGUiLCJldmVudEhhbmRsZXJDbG9zdXJlIiwiY2FsbEZhY3RvcnkiLCJWaWV3QWN0aW9uIiwidG9rZW5LZXkkJDEiLCJzZWFyY2hWaWV3IiwiZmluZENvbXBWaWV3IiwicHJvdmlkZXJEZWZfMSIsInByb3ZpZGVyRGF0YSIsInVwZGF0ZVByb3AiLCJjYWxsTGlmZWN5Y2xlSG9va3NDaGlsZHJlbkZpcnN0IiwiY2FsbFByb3ZpZGVyTGlmZWN5Y2xlcyIsImNhbGxFbGVtZW50UHJvdmlkZXJzTGlmZWN5Y2xlcyIsImJpbmRpbmdUeXBlIiwiZmlsdGVySWQiLCJxdWVyeUlkcyIsIm5vZGVNYXRjaGVkUXVlcmllcyIsInRwbERlZiIsImNoZWNrQW5kVXBkYXRlUXVlcnkiLCJuZXdWYWx1ZXMiLCJjYWxjUXVlcnlWYWx1ZXMiLCJub3RpZnkiLCJib3VuZFZhbHVlIiwiZ2V0UXVlcnlWYWx1ZSIsImR2YyIsInF1ZXJ5VmFsdWVUeXBlIiwiYXBwZW5kTmdDb250ZW50IiwiYXJnQ291bnQiLCJfcHVyZUV4cHJlc3Npb25EZWYiLCJwcm9wVG9JbmRleCIsIm5iS2V5cyIsInByb3BlcnR5TmFtZXMiLCJzdGF0aWNUZXh0IiwiX2FkZEludGVycG9sYXRpb25QYXJ0Iiwidmlld0JpbmRpbmdDb3VudCIsInZpZXdEaXNwb3NhYmxlQ291bnQiLCJ2aWV3Tm9kZUZsYWdzIiwidmlld1Jvb3ROb2RlRmxhZ3MiLCJ2aWV3TWF0Y2hlZFF1ZXJpZXMiLCJjdXJyZW50UGFyZW50IiwiY3VycmVudFJlbmRlclBhcmVudCIsImN1cnJlbnRFbGVtZW50SGFzUHVibGljUHJvdmlkZXJzIiwiY3VycmVudEVsZW1lbnRIYXNQcml2YXRlUHJvdmlkZXJzIiwidmFsaWRhdGVOb2RlIiwiaXNQcml2YXRlU2VydmljZSIsImlzTmdDb250YWluZXIiLCJuZXdQYXJlbnQiLCJyb290Tm9kZUZsYWdzIiwiYmluZGluZ0NvdW50Iiwib3V0cHV0Q291bnQiLCJub2RlQ291bnQiLCJwYXJlbnRFbmQiLCJhbmNob3JEZWYkJDEiLCJpbml0VmlldyIsImNyZWF0ZVZpZXdOb2RlcyIsImNvbXBSZW5kZXJlciIsImhvc3REZWYiLCJub2RlRGF0YSIsImNvbXBWaWV3RGVmIiwiZXhlY0NvbXBvbmVudFZpZXdzQWN0aW9uIiwiQ3JlYXRlVmlld05vZGVzIiwiZXhlY1F1ZXJpZXNBY3Rpb24iLCJtYXJrUHJvamVjdGVkVmlld3NGb3JDaGVjayIsImV4ZWNFbWJlZGRlZFZpZXdzQWN0aW9uIiwiQ2hlY2tOb0NoYW5nZXMiLCJDaGVja0FuZFVwZGF0ZSIsImNhbGxJbml0IiwiY2hlY2tBbmRVcGRhdGVOb2RlIiwiYXJnU3R5bGUiLCJ2OCIsInY5IiwiYmluZExlbiIsImNoYW5nZWQiLCJjaGVja0FuZFVwZGF0ZUVsZW1lbnRJbmxpbmUiLCJjaGVja0FuZFVwZGF0ZVRleHRJbmxpbmUiLCJjaGVja0FuZFVwZGF0ZURpcmVjdGl2ZUlubGluZSIsImNoZWNrQW5kVXBkYXRlUHVyZUV4cHJlc3Npb25JbmxpbmUiLCJjaGVja0FuZFVwZGF0ZU5vZGVJbmxpbmUiLCJjaGVja0FuZFVwZGF0ZUVsZW1lbnREeW5hbWljIiwiY2hlY2tBbmRVcGRhdGVUZXh0RHluYW1pYyIsImNoZWNrQW5kVXBkYXRlRGlyZWN0aXZlRHluYW1pYyIsImNoZWNrQW5kVXBkYXRlUHVyZUV4cHJlc3Npb25EeW5hbWljIiwiY2hlY2tBbmRVcGRhdGVOb2RlRHluYW1pYyIsImNoZWNrTm9DaGFuZ2VzTm9kZSIsImNoZWNrTm9DaGFuZ2VzTm9kZUlubGluZSIsImNoZWNrTm9DaGFuZ2VzTm9kZUR5bmFtaWMiLCJjaGVja05vQ2hhbmdlc1F1ZXJ5IiwiRGVzdHJveSIsImRldGFjaFByb2plY3RlZFZpZXciLCJkZXN0cm95Vmlld05vZGVzIiwiY2FsbFZpZXdBY3Rpb24iLCJ2aWV3U3RhdGUiLCJleGVjUHJvamVjdGVkVmlld3NBY3Rpb24iLCJDaGVja05vQ2hhbmdlc1Byb2plY3RlZFZpZXdzIiwiQ2hlY2tBbmRVcGRhdGVQcm9qZWN0ZWRWaWV3cyIsInF1ZXJ5RmxhZ3MiLCJzdGF0aWNEeW5hbWljUXVlcnlGbGFnIiwiY2hlY2tUeXBlIiwic2VydmljZXMiLCJkZWJ1Z1NldEN1cnJlbnROb2RlIiwiZGVidWdDcmVhdGVSb290VmlldyIsImRlYnVnQ3JlYXRlRW1iZWRkZWRWaWV3IiwiZGVidWdDcmVhdGVDb21wb25lbnRWaWV3IiwiZGVidWdDcmVhdGVOZ01vZHVsZVJlZiIsImRlYnVnT3ZlcnJpZGVQcm92aWRlciIsImRlYnVnT3ZlcnJpZGVDb21wb25lbnRWaWV3IiwiZGVidWdDbGVhck92ZXJyaWRlcyIsImRlYnVnQ2hlY2tBbmRVcGRhdGVWaWV3IiwiZGVidWdDaGVja05vQ2hhbmdlc1ZpZXciLCJkZWJ1Z0Rlc3Ryb3lWaWV3IiwiRGVidWdDb250ZXh0XyIsImRlYnVnSGFuZGxlRXZlbnQiLCJkZWJ1Z1VwZGF0ZURpcmVjdGl2ZXMiLCJkZWJ1Z1VwZGF0ZVJlbmRlcmVyIiwiY3JlYXRlUHJvZFJvb3RWaWV3IiwicHJvZENoZWNrQW5kVXBkYXRlTm9kZSIsInByb2RDaGVja05vQ2hhbmdlc05vZGUiLCJlbEluamVjdG9yIiwiY3JlYXRlUm9vdERhdGEiLCJEZWJ1Z1JlbmRlcmVyRmFjdG9yeTIiLCJkZWZXaXRoT3ZlcnJpZGUiLCJhcHBseVByb3ZpZGVyT3ZlcnJpZGVzVG9WaWV3IiwiY2FsbFdpdGhEZWJ1Z0NvbnRleHQiLCJEZWJ1Z0FjdGlvbiIsInZpZXdEZWYkJDEiLCJ2aWV3RGVmT3ZlcnJpZGVzIiwiaGFzT3ZlcnJpZGVzIiwiaGFzRGVwcmVjYXRlZE92ZXJyaWRlcyIsInByb3ZpZGVyT3ZlcnJpZGVzIiwib3ZlcnJpZGUiLCJkZXByZWNhdGVkQmVoYXZpb3IiLCJwcm92aWRlck92ZXJyaWRlc1dpdGhTY29wZSIsImNhbGNIYXNPdmVycmlkZXMiLCJtb2R1bGVTZXRfMSIsImFwcGx5UHJvdmlkZXJPdmVycmlkZXMiLCJhcHBseVByb3ZpZGVyT3ZlcnJpZGVzVG9OZ01vZHVsZSIsIl9jdXJyZW50QWN0aW9uIiwiX2N1cnJlbnRWaWV3IiwiX2N1cnJlbnROb2RlSW5kZXgiLCJjb21wIiwiY29tcEZhY3RvcnkiLCJob3N0Vmlld0RlZiIsImVsZW1lbnRJbmRpY2VzV2l0aE92ZXJ3cml0dGVuUHJvdmlkZXJzIiwiZWxJbmRpY2VzV2l0aE92ZXJ3cml0dGVuUHJvdmlkZXJzIiwibGFzdEVsZW1lbnREZWYiLCJmaW5kRWxlbWVudEluZGljZXNXaXRoT3ZlcndyaXR0ZW5Qcm92aWRlcnMiLCJhcHBseVByb3ZpZGVyT3ZlcnJpZGVzVG9FbGVtZW50IiwiZWxJbmRleCIsIm5leHREaXJlY3RpdmVXaXRoQmluZGluZyIsImRlYnVnQ2hlY2tBbmRVcGRhdGVOb2RlIiwiZGVidWdDaGVja05vQ2hhbmdlc05vZGUiLCJuZXh0UmVuZGVyTm9kZVdpdGhCaW5kaW5nIiwiZ2l2ZW5WYWx1ZXMiLCJiaW5kaW5nVmFsdWVzIiwiZWxWaWV3IiwiZWxPckNvbXBWaWV3IiwiY2hpbGREZWYiLCJjb2xsZWN0UmVmZXJlbmNlcyIsImZpbmRIb3N0RWxlbWVudCIsImxvZ1ZpZXdEZWYiLCJsb2dOb2RlSW5kZXgiLCJyZW5kZXJOb2RlSW5kZXgiLCJnZXRSZW5kZXJOb2RlSW5kZXgiLCJjdXJyUmVuZGVyTm9kZUluZGV4IiwicmVmTmFtZSIsIm9sZEFjdGlvbiIsIm9sZE5vZGVJbmRleCIsInZpZXdXcmFwcGVkRGVidWdFcnJvciIsImdldEN1cnJlbnREZWJ1Z0NvbnRleHQiLCJyZW5kZXJEYXRhIiwiRGVidWdSZW5kZXJlcjIiLCJ3aGVuUmVuZGVyaW5nRG9uZSIsImRlYnVnQ29udGV4dEZhY3RvcnkiLCJyZW1vdmVEZWJ1Z05vZGVGcm9tSW5kZXgiLCJuYW1lc3BhY2UiLCJkZWJ1Z0N0eCIsImRlYnVnRWwiLCJkZWJ1Z0NoaWxkRWwiLCJkZWJ1Z1JlZkVsIiwib2xkQ2hpbGQiLCJmdWxsTmFtZSIsImRlZkZhY3RvcnkiLCJOZ01vZHVsZUZhY3RvcnlfIiwiX25nTW9kdWxlRGVmRmFjdG9yeSIsImNsb25lTmdNb2R1bGVEZWZpbml0aW9uIiwid2VicGFja0VtcHR5QXN5bmNDb250ZXh0IiwicmVxIiwiY29kZSIsIl9fZXhwb3J0IiwiZyIsIkNoYXJ0Q29tcG9uZW50XzEiLCJDaGFydE1vZHVsZSIsIklubmVyU3Vic2NyaWJlcl9Jbm5lclN1YnNjcmliZXIiLCJJbm5lclN1YnNjcmliZXIiLCJvdXRlclZhbHVlIiwib3V0ZXJJbmRleCIsIm5vdGlmeU5leHQiLCJub3RpZnlFcnJvciIsIm5vdGlmeUNvbXBsZXRlIiwic3Vic2NyaWJlVG9BcnJheSIsInN1YnNjcmliZVRvUHJvbWlzZSIsIml0ZXJhdG9yX2l0ZXJhdG9yIiwic3Vic2NyaWJlVG9JdGVyYWJsZSIsInN1YnNjcmliZVRvT2JzZXJ2YWJsZSIsIm9icyIsInN5bWJvbF9vYnNlcnZhYmxlIiwiVHlwZUVycm9yIiwiaXNBcnJheUxpa2UiLCJzdWJzY3JpYmVUbyIsIk91dGVyU3Vic2NyaWJlcl9PdXRlclN1YnNjcmliZXIiLCJPdXRlclN1YnNjcmliZXIiLCJpbm5lclZhbHVlIiwiaW5uZXJJbmRleCIsImlubmVyU3ViIiwiTWFwT3BlcmF0b3IiLCJwcm9qZWN0IiwibWFwX01hcFN1YnNjcmliZXIiLCJNYXBTdWJzY3JpYmVyIiwiZnJvbUFycmF5Iiwic2NoZWR1bGUiLCJpc0ludGVyb3BPYnNlcnZhYmxlIiwiZnJvbU9ic2VydmFibGUiLCJmcm9tUHJvbWlzZSIsImlzSXRlcmFibGUiLCJmcm9tSXRlcmFibGUiLCJtZXJnZU1hcCIsInJlc3VsdFNlbGVjdG9yIiwiY29uY3VycmVudCIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwiTWVyZ2VNYXBPcGVyYXRvciIsIm1lcmdlTWFwX01lcmdlTWFwU3Vic2NyaWJlciIsIk1lcmdlTWFwU3Vic2NyaWJlciIsImhhc0NvbXBsZXRlZCIsImJ1ZmZlciIsImFjdGl2ZSIsIl90cnlOZXh0IiwiX2lubmVyU3ViIiwiaXNoIiwiaW5uZXJTdWJzY3JpYmVyIiwib3V0ZXJTdWJzY3JpYmVyIiwic3Vic2NyaWJlVG9SZXN1bHQiLCJpZGVudGl0eSIsIm1lcmdlIiwib2JzZXJ2YWJsZXMiLCJtZXJnZUFsbCIsInJlZkNvdW50IiwiUmVmQ291bnRPcGVyYXRvciIsImNvbm5lY3RhYmxlIiwiX3JlZkNvdW50IiwicmVmQ291bnRlciIsInJlZkNvdW50X1JlZkNvdW50U3Vic2NyaWJlciIsImNvbm5lY3Rpb24iLCJjb25uZWN0IiwiUmVmQ291bnRTdWJzY3JpYmVyIiwic2hhcmVkQ29ubmVjdGlvbiIsIl9jb25uZWN0aW9uIiwiY29ubmVjdGFibGVQcm90byIsIkNvbm5lY3RhYmxlT2JzZXJ2YWJsZSIsInN1YmplY3RGYWN0b3J5IiwiX2lzQ29tcGxldGUiLCJnZXRTdWJqZWN0IiwiX3N1YmplY3QiLCJDb25uZWN0YWJsZU9ic2VydmFibGVfQ29ubmVjdGFibGVTdWJzY3JpYmVyIiwiY29ubmVjdGFibGVPYnNlcnZhYmxlRGVzY3JpcHRvciIsIkNvbm5lY3RhYmxlU3Vic2NyaWJlciIsIk11bHRpY2FzdE9wZXJhdG9yIiwic2hhcmVTdWJqZWN0RmFjdG9yeSIsInNoYXJlIiwic3ViamVjdE9yU3ViamVjdEZhY3RvcnkiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQs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QyxJQUNBLFdBQWU3dUcsRUFBQSxFQUVSLFNBQUE4dUcsSUFDUCxnQkFBQWoyRyxHQUE4QixPQUFRMjBHLEtETi9CdUIsRUNNbURGLEVETDFELFNBQUFoMkcsR0FDQSxJQUFBdzFHLEVBU0EsR0FQQUEsRUFEQSxtQkFBQVUsRUFDQUEsRUFHQSxXQUNBLE9BQUFBLEdBR0EsbUJBQUFqdUcsRUFDQSxPQUFBakksRUFBQUgsS0FBQSxJQUFBazJHLEVBQUFQLEVBQUF2dEcsSUFFQSxJQUFBNHNHLEVBQUExNUcsT0FBQVksT0FBQWlFLEVBQWdENjFHLEdBR2hELE9BRkFoQixFQUFBNzBHLFNBQ0E2MEcsRUFBQVcsaUJBQ0FYLElDWDBENzBHLElETm5ELElBQUFrMkcsRUFBQWp1RyxHQ0ZQNU4sRUFBQVUsRUFBQTBCLEVBQUEsc0JBQUF3NUciLCJmaWxlIjoiYnVpbGQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTUpO1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX25vb3AgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vbm9vcCc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoIWZucykge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9pbnRlcm5hbF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbnZhciBPYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuX2lzU2NhbGFyID0gZmFsc2U7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIG9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcjtcbiAgICAgICAgdmFyIHNpbmsgPSB0b1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgICAgICAgc2luay5hZGQob3BlcmF0b3IuY2FsbChzaW5rLCB0aGlzLnNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2luay5hZGQodGhpcy5zb3VyY2UgfHwgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmICFzaW5rLnN5bmNFcnJvclRocm93YWJsZSkgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZShzaW5rKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHNpbmspKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IHNpbmsuc3luY0Vycm9yVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5rO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhblJlcG9ydEVycm9yKHNpbmspKSB7XG4gICAgICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZWplY3QsIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlW1N5bWJvbF9vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgb3BlcmF0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiB2YWx1ZSA9IHg7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHByb21pc2VDdG9yID0gY29uZmlnLlByb21pc2UgfHwgUHJvbWlzZTtcbiAgICB9XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIFByb21pc2UgaW1wbCBmb3VuZCcpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZUN0b3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfU3Vic2NyaWJlcixfc3ltYm9sX3J4U3Vic2NyaWJlcixfT2JzZXJ2ZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4uL09ic2VydmVyJztcbmV4cG9ydCBmdW5jdGlvbiB0b1N1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgIGlmIChuZXh0T3JPYnNlcnZlcikge1xuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFuZXh0T3JPYnNlcnZlciAmJiAhZXJyb3IgJiYgIWNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihlbXB0eU9ic2VydmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY2FuUmVwb3J0RXJyb3Iob2JzZXJ2ZXIpIHtcbiAgICB3aGlsZSAob2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIF9hID0gb2JzZXJ2ZXIsIGNsb3NlZF8xID0gX2EuY2xvc2VkLCBkZXN0aW5hdGlvbiA9IF9hLmRlc3RpbmF0aW9uLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQ7XG4gICAgICAgIGlmIChjbG9zZWRfMSB8fCBpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gZGVzdGluYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW5SZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmZ1bmN0aW9uIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsKGVycm9ycykge1xuICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzID9cbiAgICAgICAgZXJyb3JzLmxlbmd0aCArIFwiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIgKyBlcnJvcnMubWFwKGZ1bmN0aW9uIChlcnIsIGkpIHsgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgZXJyLnRvU3RyaW5nKCk7IH0pLmpvaW4oJ1xcbiAgJykgOiAnJztcbiAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5VbnN1YnNjcmlwdGlvbkVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNBcnJheSxfdXRpbF9pc09iamVjdCxfdXRpbF9pc0Z1bmN0aW9uLF91dGlsX1Vuc3Vic2NyaXB0aW9uRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xudmFyIFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICBpZiAodW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlID0gdW5zdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhhc0Vycm9ycyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50ID0gX2EuX3BhcmVudCwgX3BhcmVudHMgPSBfYS5fcGFyZW50cywgX3Vuc3Vic2NyaWJlID0gX2EuX3Vuc3Vic2NyaWJlLCBfc3Vic2NyaXB0aW9ucyA9IF9hLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgIHZhciBsZW4gPSBfcGFyZW50cyA/IF9wYXJlbnRzLmxlbmd0aCA6IDA7XG4gICAgICAgIHdoaWxlIChfcGFyZW50KSB7XG4gICAgICAgICAgICBfcGFyZW50LnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIF9wYXJlbnQgPSArK2luZGV4IDwgbGVuICYmIF9wYXJlbnRzW2luZGV4XSB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKF91bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3Vuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpIDogW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KF9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIGxlbiA9IF9zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9ycyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMuY29uY2F0KGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlLmVycm9ycykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0Vycm9ycykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRlYXJkb3duO1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGVhcmRvd24pO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSB0aGlzIHx8IHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIShzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGlmICghdGVhcmRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnJlY29nbml6ZWQgdGVhcmRvd24gJyArIHRlYXJkb3duICsgJyBhZGRlZCB0byBTdWJzY3JpcHRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbi5fYWRkUGFyZW50KHRoaXMpKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaChzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtzdWJzY3JpcHRpb25dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbkluZGV4ID0gc3Vic2NyaXB0aW9ucy5pbmRleE9mKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2Uoc3Vic2NyaXB0aW9uSW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9hZGRQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzO1xuICAgICAgICBpZiAoX3BhcmVudCA9PT0gcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFfcGFyZW50cykge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50cyA9IFtwYXJlbnRdO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudHMuaW5kZXhPZihwYXJlbnQpID09PSAtMSkge1xuICAgICAgICAgICAgX3BhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSA/IGVyci5lcnJvcnMgOiBlcnIpOyB9LCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX2lzRnVuY3Rpb24sX09ic2VydmVyLF9TdWJzY3JpcHRpb24sX2ludGVybmFsX3N5bWJvbF9yeFN1YnNjcmliZXIsX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbnZhciBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25Pck5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBlbXB0eU9ic2VydmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbk9yTmV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uT3JOZXh0IGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZGVzdGluYXRpb25Pck5leHQuc3luY0Vycm9yVGhyb3dhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbk9yTmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uT3JOZXh0LmFkZChfdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBuZXcgU2FmZVN1YnNjcmliZXIoX3RoaXMsIGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGVbcnhTdWJzY3JpYmVyU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgc3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZUFuZFJlY3ljbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnQgPSBfYS5fcGFyZW50LCBfcGFyZW50cyA9IF9hLl9wYXJlbnRzO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLl9wYXJlbnRzID0gX3BhcmVudHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3Vic2NyaWJlciB9O1xudmFyIFNhZmVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNhZmVTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKF9wYXJlbnRTdWJzY3JpYmVyLCBvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB2YXIgY29udGV4dCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvYnNlcnZlck9yTmV4dCkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0Lm5leHQ7XG4gICAgICAgICAgICBlcnJvciA9IG9ic2VydmVyT3JOZXh0LmVycm9yO1xuICAgICAgICAgICAgY29tcGxldGUgPSBvYnNlcnZlck9yTmV4dC5jb21wbGV0ZTtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlck9yTmV4dCAhPT0gZW1wdHlPYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBPYmplY3QuY3JlYXRlKG9ic2VydmVyT3JOZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250ZXh0LnVuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGQoY29udGV4dC51bnN1YnNjcmliZS5iaW5kKGNvbnRleHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGV4dC51bnN1YnNjcmliZSA9IF90aGlzLnVuc3Vic2NyaWJlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgX3RoaXMuX25leHQgPSBuZXh0O1xuICAgICAgICBfdGhpcy5fZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gY29tcGxldGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCAmJiB0aGlzLl9uZXh0KSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX25leHQsIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgdmFyIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgPSBjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fY29tcGxldGUuY2FsbChfdGhpcy5fY29udGV4dCk7IH07XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyB8fCAhX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclVuc3ViID0gZnVuY3Rpb24gKGZuLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3IgPSBmdW5jdGlvbiAocGFyZW50LCBmbiwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgY2FsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IGZhbHNlO1xuZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHNldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gLypAX19QVVJFX18qLyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS53YXJuKCdERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXFxuJyArIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS5sb2coJ1J4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMnKTtcbiAgICAgICAgfVxuICAgICAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCkge1xuICAgICAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciBvYnNlcnZhYmxlID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCAnQEBvYnNlcnZhYmxlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9zdFJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciByeFN1YnNjcmliZXIgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nXG4gICAgPyAvKkBfX1BVUkVfXyovIFN5bWJvbCgncnhTdWJzY3JpYmVyJylcbiAgICA6ICdAQHJ4U3Vic2NyaWJlcl8nICsgLypAX19QVVJFX18qLyBNYXRoLnJhbmRvbSgpO1xuZXhwb3J0IHZhciAkJHJ4U3Vic2NyaWJlciA9IHJ4U3Vic2NyaWJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ4U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIGVtcHR5ID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNGdW5jdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmZ1bmN0aW9uIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCgpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICB0aGlzLm5hbWUgPSAnT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuICAgIHJldHVybiB0aGlzO1xufVxuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuZXhwb3J0IHZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG52YXIgU3ViamVjdFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJqZWN0U3Vic2NyaXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpcHRpb24oc3ViamVjdCwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdWJqZWN0ID0gc3ViamVjdDtcbiAgICAgICAgX3RoaXMuc3Vic2NyaWJlciA9IHN1YnNjcmliZXI7XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3RTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gdGhpcy5zdWJqZWN0O1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gc3ViamVjdC5vYnNlcnZlcnM7XG4gICAgICAgIHRoaXMuc3ViamVjdCA9IG51bGw7XG4gICAgICAgIGlmICghb2JzZXJ2ZXJzIHx8IG9ic2VydmVycy5sZW5ndGggPT09IDAgfHwgc3ViamVjdC5pc1N0b3BwZWQgfHwgc3ViamVjdC5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaWJlckluZGV4ID0gb2JzZXJ2ZXJzLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmliZXJJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2Uoc3Vic2NyaWJlckluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpcHRpb247XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ViamVjdFN1YnNjcmlwdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX09ic2VydmFibGUsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfdXRpbF9PYmplY3RVbnN1YnNjcmliZWRFcnJvcixfU3ViamVjdFN1YnNjcmlwdGlvbixfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmltcG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YmplY3RTdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xudmFyIFN1YmplY3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdWJqZWN0U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU3ViamVjdFN1YnNjcmliZXIgfTtcbnZhciBTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3QucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmliZXIodGhpcyk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgICAgIHN1YmplY3Qub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvcHlbaV0ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB0aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb3B5W2ldLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBudWxsO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmlwdGlvbih0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuYXNPYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBTdWJqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0O1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgeyBTdWJqZWN0IH07XG52YXIgQW5vbnltb3VzU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBbm9ueW1vdXNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24ubmV4dCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24uZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFub255bW91c1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEFub255bW91c1N1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCJAYW5ndWxhci9jb3JlXCIpO1xyXG52YXIgQ2hhcnRDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDaGFydENvbXBvbmVudCgpIHtcclxuICAgIH1cclxuICAgIENoYXJ0Q29tcG9uZW50LnByb3RvdHlwZS5uZ09uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIH07XHJcbiAgICBDaGFydENvbXBvbmVudC5wcm90b3R5cGUuYmFuYWFuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdiYW5hYW4nKTtcclxuICAgIH07XHJcbiAgICBDaGFydENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xyXG4gICAgICAgIGNvcmVfMS5Db21wb25lbnQoe1xyXG4gICAgICAgICAgICBzZWxlY3RvcjogJ2VubC1leGFtcGxlLW5nNi1saWInLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPHA+XFxuICAgICAgZXhhbXBsZS1uZzYtbGliIHdvcmtzIVxcbiAgICA8L3A+XFxuICBcIixcclxuICAgICAgICAgICAgc3R5bGVzOiBbXVxyXG4gICAgICAgIH0pXHJcbiAgICBdLCBDaGFydENvbXBvbmVudCk7XHJcbiAgICByZXR1cm4gQ2hhcnRDb21wb25lbnQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQ2hhcnRDb21wb25lbnQgPSBDaGFydENvbXBvbmVudDtcclxuIiwiLyoqXG4gKiBAbGljZW5zZSBBbmd1bGFyIHY3LjIuNFxuICogKGMpIDIwMTAtMjAxOSBHb29nbGUgTExDLiBodHRwczovL2FuZ3VsYXIuaW8vXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuXG5pbXBvcnQgeyBfX3NwcmVhZCwgX19hc3NpZ24sIF9fdmFsdWVzLCBfX2V4dGVuZHMsIF9fZGVjb3JhdGUsIF9fcGFyYW0sIF9fbWV0YWRhdGEsIF9fcmVhZCB9IGZyb20gJ3RzbGliJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiwgU3ViamVjdCwgT2JzZXJ2YWJsZSwgbWVyZ2UgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHNoYXJlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KG9ialdpdGhQcm9wZXJ0eVRvRXh0cmFjdCkge1xuICAgIGZvciAodmFyIGtleSBpbiBvYmpXaXRoUHJvcGVydHlUb0V4dHJhY3QpIHtcbiAgICAgICAgaWYgKG9ialdpdGhQcm9wZXJ0eVRvRXh0cmFjdFtrZXldID09PSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IEVycm9yKCdDb3VsZCBub3QgZmluZCByZW5hbWVkIHByb3BlcnR5IG9uIHRhcmdldCBvYmplY3QuJyk7XG59XG4vKipcbiAqIFNldHMgcHJvcGVydGllcyBvbiBhIHRhcmdldCBvYmplY3QgZnJvbSBhIHNvdXJjZSBvYmplY3QsIGJ1dCBvbmx5IGlmXG4gKiB0aGUgcHJvcGVydHkgZG9lc24ndCBhbHJlYWR5IGV4aXN0IG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IHRvIHNldCBwcm9wZXJ0aWVzIG9uXG4gKiBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2YgdGhlIHByb3BlcnR5IGtleXMgYW5kIHZhbHVlcyB0byBzZXRcbiAqL1xuZnVuY3Rpb24gZmlsbFByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBOR19DT01QT05FTlRfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IG5nQ29tcG9uZW50RGVmOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xudmFyIE5HX0RJUkVDVElWRV9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgbmdEaXJlY3RpdmVEZWY6IGdldENsb3N1cmVTYWZlUHJvcGVydHkgfSk7XG52YXIgTkdfSU5KRUNUQUJMRV9ERUYgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgbmdJbmplY3RhYmxlRGVmOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xudmFyIE5HX0lOSkVDVE9SX0RFRiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHkoeyBuZ0luamVjdG9yRGVmOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xudmFyIE5HX1BJUEVfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IG5nUGlwZURlZjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbnZhciBOR19NT0RVTEVfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IG5nTW9kdWxlRGVmOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xudmFyIE5HX0JBU0VfREVGID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IG5nQmFzZURlZjogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbi8qKlxuICogSWYgYSBkaXJlY3RpdmUgaXMgZGlQdWJsaWMsIGJsb29tQWRkIHNldHMgYSBwcm9wZXJ0eSBvbiB0aGUgdHlwZSB3aXRoIHRoaXMgY29uc3RhbnQgYXNcbiAqIHRoZSBrZXkgYW5kIHRoZSBkaXJlY3RpdmUncyB1bmlxdWUgSUQgYXMgdGhlIHZhbHVlLiBUaGlzIGFsbG93cyB1cyB0byBtYXAgZGlyZWN0aXZlcyB0byB0aGVpclxuICogYmxvb20gZmlsdGVyIGJpdCBmb3IgREkuXG4gKi9cbnZhciBOR19FTEVNRU5UX0lEID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IF9fTkdfRUxFTUVOVF9JRF9fOiBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IH0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbnN0cnVjdCBhbiBgSW5qZWN0YWJsZURlZmAgd2hpY2ggZGVmaW5lcyBob3cgYSB0b2tlbiB3aWxsIGJlIGNvbnN0cnVjdGVkIGJ5IHRoZSBESSBzeXN0ZW0sIGFuZFxuICogaW4gd2hpY2ggaW5qZWN0b3JzIChpZiBhbnkpIGl0IHdpbGwgYmUgYXZhaWxhYmxlLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGFzc2lnbmVkIHRvIGEgc3RhdGljIGBuZ0luamVjdGFibGVEZWZgIGZpZWxkIG9uIGEgdHlwZSwgd2hpY2ggd2lsbCB0aGVuIGJlIGFuXG4gKiBgSW5qZWN0YWJsZVR5cGVgLlxuICpcbiAqIE9wdGlvbnM6XG4gKiAqIGBwcm92aWRlZEluYCBkZXRlcm1pbmVzIHdoaWNoIGluamVjdG9ycyB3aWxsIGluY2x1ZGUgdGhlIGluamVjdGFibGUsIGJ5IGVpdGhlciBhc3NvY2lhdGluZyBpdFxuICogICB3aXRoIGFuIGBATmdNb2R1bGVgIG9yIG90aGVyIGBJbmplY3RvclR5cGVgLCBvciBieSBzcGVjaWZ5aW5nIHRoYXQgdGhpcyBpbmplY3RhYmxlIHNob3VsZCBiZVxuICogICBwcm92aWRlZCBpbiB0aGUgYCdyb290J2AgaW5qZWN0b3IsIHdoaWNoIHdpbGwgYmUgdGhlIGFwcGxpY2F0aW9uLWxldmVsIGluamVjdG9yIGluIG1vc3QgYXBwcy5cbiAqICogYGZhY3RvcnlgIGdpdmVzIHRoZSB6ZXJvIGFyZ3VtZW50IGZ1bmN0aW9uIHdoaWNoIHdpbGwgY3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoZSBpbmplY3RhYmxlLlxuICogICBUaGUgZmFjdG9yeSBjYW4gY2FsbCBgaW5qZWN0YCB0byBhY2Nlc3MgdGhlIGBJbmplY3RvcmAgYW5kIHJlcXVlc3QgaW5qZWN0aW9uIG9mIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGRlZmluZUluamVjdGFibGUob3B0cykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb3ZpZGVkSW46IG9wdHMucHJvdmlkZWRJbiB8fCBudWxsLCBmYWN0b3J5OiBvcHRzLmZhY3RvcnksIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQ29uc3RydWN0IGFuIGBJbmplY3RvckRlZmAgd2hpY2ggY29uZmlndXJlcyBhbiBpbmplY3Rvci5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSBhc3NpZ25lZCB0byBhIHN0YXRpYyBgbmdJbmplY3RvckRlZmAgZmllbGQgb24gYSB0eXBlLCB3aGljaCB3aWxsIHRoZW4gYmUgYW5cbiAqIGBJbmplY3RvclR5cGVgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogKiBgZmFjdG9yeWA6IGFuIGBJbmplY3RvclR5cGVgIGlzIGFuIGluc3RhbnRpYWJsZSB0eXBlLCBzbyBhIHplcm8gYXJndW1lbnQgYGZhY3RvcnlgIGZ1bmN0aW9uIHRvXG4gKiAgIGNyZWF0ZSB0aGUgdHlwZSBtdXN0IGJlIHByb3ZpZGVkLiBJZiB0aGF0IGZhY3RvcnkgZnVuY3Rpb24gbmVlZHMgdG8gaW5qZWN0IGFyZ3VtZW50cywgaXQgY2FuXG4gKiAgIHVzZSB0aGUgYGluamVjdGAgZnVuY3Rpb24uXG4gKiAqIGBwcm92aWRlcnNgOiBhbiBvcHRpb25hbCBhcnJheSBvZiBwcm92aWRlcnMgdG8gYWRkIHRvIHRoZSBpbmplY3Rvci4gRWFjaCBwcm92aWRlciBtdXN0XG4gKiAgIGVpdGhlciBoYXZlIGEgZmFjdG9yeSBvciBwb2ludCB0byBhIHR5cGUgd2hpY2ggaGFzIGFuIGBuZ0luamVjdGFibGVEZWZgIHN0YXRpYyBwcm9wZXJ0eSAodGhlXG4gKiAgIHR5cGUgbXVzdCBiZSBhbiBgSW5qZWN0YWJsZVR5cGVgKS5cbiAqICogYGltcG9ydHNgOiBhbiBvcHRpb25hbCBhcnJheSBvZiBpbXBvcnRzIG9mIG90aGVyIGBJbmplY3RvclR5cGVgcyBvciBgSW5qZWN0b3JUeXBlV2l0aE1vZHVsZWBzXG4gKiAgIHdob3NlIHByb3ZpZGVycyB3aWxsIGFsc28gYmUgYWRkZWQgdG8gdGhlIGluamVjdG9yLiBMb2NhbGx5IHByb3ZpZGVkIHR5cGVzIHdpbGwgb3ZlcnJpZGVcbiAqICAgcHJvdmlkZXJzIGZyb20gaW1wb3J0cy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGRlZmluZUluamVjdG9yKG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmYWN0b3J5OiBvcHRpb25zLmZhY3RvcnksIHByb3ZpZGVyczogb3B0aW9ucy5wcm92aWRlcnMgfHwgW10sIGltcG9ydHM6IG9wdGlvbnMuaW1wb3J0cyB8fCBbXSxcbiAgICB9O1xufVxuLyoqXG4gKiBSZWFkIHRoZSBgbmdJbmplY3RhYmxlRGVmYCB0eXBlIGluIGEgd2F5IHdoaWNoIGlzIGltbXVuZSB0byBhY2NpZGVudGFsbHkgcmVhZGluZyBpbmhlcml0ZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHR5cGUgdHlwZSB3aGljaCBtYXkgaGF2ZSBgbmdJbmplY3RhYmxlRGVmYFxuICovXG5mdW5jdGlvbiBnZXRJbmplY3RhYmxlRGVmKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZSAmJiB0eXBlLmhhc093blByb3BlcnR5KE5HX0lOSkVDVEFCTEVfREVGKSA/IHR5cGVbTkdfSU5KRUNUQUJMRV9ERUZdIDogbnVsbDtcbn1cbi8qKlxuICogUmVhZCB0aGUgYG5nSW5qZWN0b3JEZWZgIHR5cGUgaW4gYSB3YXkgd2hpY2ggaXMgaW1tdW5lIHRvIGFjY2lkZW50YWxseSByZWFkaW5nIGluaGVyaXRlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gdHlwZSB0eXBlIHdoaWNoIG1heSBoYXZlIGBuZ0luamVjdG9yRGVmYFxuICovXG5mdW5jdGlvbiBnZXRJbmplY3RvckRlZih0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGUgJiYgdHlwZS5oYXNPd25Qcm9wZXJ0eShOR19JTkpFQ1RPUl9ERUYpID8gdHlwZVtOR19JTkpFQ1RPUl9ERUZdIDogbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCBpbiBhIERJIFByb3ZpZGVyLlxuICpcbiAqIFVzZSBhbiBgSW5qZWN0aW9uVG9rZW5gIHdoZW5ldmVyIHRoZSB0eXBlIHlvdSBhcmUgaW5qZWN0aW5nIGlzIG5vdCByZWlmaWVkIChkb2VzIG5vdCBoYXZlIGFcbiAqIHJ1bnRpbWUgcmVwcmVzZW50YXRpb24pIHN1Y2ggYXMgd2hlbiBpbmplY3RpbmcgYW4gaW50ZXJmYWNlLCBjYWxsYWJsZSB0eXBlLCBhcnJheSBvclxuICogcGFyYW1ldGVyaXplZCB0eXBlLlxuICpcbiAqIGBJbmplY3Rpb25Ub2tlbmAgaXMgcGFyYW1ldGVyaXplZCBvbiBgVGAgd2hpY2ggaXMgdGhlIHR5cGUgb2Ygb2JqZWN0IHdoaWNoIHdpbGwgYmUgcmV0dXJuZWQgYnlcbiAqIHRoZSBgSW5qZWN0b3JgLiBUaGlzIHByb3ZpZGVzIGFkZGl0aW9uYWwgbGV2ZWwgb2YgdHlwZSBzYWZldHkuXG4gKlxuICogYGBgXG4gKiBpbnRlcmZhY2UgTXlJbnRlcmZhY2Ugey4uLn1cbiAqIHZhciBteUludGVyZmFjZSA9IGluamVjdG9yLmdldChuZXcgSW5qZWN0aW9uVG9rZW48TXlJbnRlcmZhY2U+KCdTb21lVG9rZW4nKSk7XG4gKiAvLyBteUludGVyZmFjZSBpcyBpbmZlcnJlZCB0byBiZSBNeUludGVyZmFjZS5cbiAqIGBgYFxuICpcbiAqIFdoZW4gY3JlYXRpbmcgYW4gYEluamVjdGlvblRva2VuYCwgeW91IGNhbiBvcHRpb25hbGx5IHNwZWNpZnkgYSBmYWN0b3J5IGZ1bmN0aW9uIHdoaWNoIHJldHVybnNcbiAqIChwb3NzaWJseSBieSBjcmVhdGluZykgYSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBwYXJhbWV0ZXJpemVkIHR5cGUgYFRgLiBUaGlzIHNldHMgdXAgdGhlXG4gKiBgSW5qZWN0aW9uVG9rZW5gIHVzaW5nIHRoaXMgZmFjdG9yeSBhcyBhIHByb3ZpZGVyIGFzIGlmIGl0IHdhcyBkZWZpbmVkIGV4cGxpY2l0bHkgaW4gdGhlXG4gKiBhcHBsaWNhdGlvbidzIHJvb3QgaW5qZWN0b3IuIElmIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLCB3aGljaCB0YWtlcyB6ZXJvIGFyZ3VtZW50cywgbmVlZHMgdG8gaW5qZWN0XG4gKiBkZXBlbmRlbmNpZXMsIGl0IGNhbiBkbyBzbyB1c2luZyB0aGUgYGluamVjdGAgZnVuY3Rpb24uIFNlZSBiZWxvdyBmb3IgYW4gZXhhbXBsZS5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIGlmIGEgYGZhY3RvcnlgIGlzIHNwZWNpZmllZCB5b3UgY2FuIGFsc28gc3BlY2lmeSB0aGUgYHByb3ZpZGVkSW5gIG9wdGlvbiwgd2hpY2hcbiAqIG92ZXJyaWRlcyB0aGUgYWJvdmUgYmVoYXZpb3IgYW5kIG1hcmtzIHRoZSB0b2tlbiBhcyBiZWxvbmdpbmcgdG8gYSBwYXJ0aWN1bGFyIGBATmdNb2R1bGVgLiBBc1xuICogbWVudGlvbmVkIGFib3ZlLCBgJ3Jvb3QnYCBpcyB0aGUgZGVmYXVsdCB2YWx1ZSBmb3IgYHByb3ZpZGVkSW5gLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgQmFzaWMgRXhhbXBsZVxuICpcbiAqICMjIyBQbGFpbiBJbmplY3Rpb25Ub2tlblxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdJbmplY3Rpb25Ub2tlbid9XG4gKlxuICogIyMjIFRyZWUtc2hha2FibGUgSW5qZWN0aW9uVG9rZW5cbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9pbmplY3Rvcl9zcGVjLnRzIHJlZ2lvbj0nU2hha2FibGVJbmplY3Rpb25Ub2tlbid9XG4gKlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEluamVjdGlvblRva2VuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEluamVjdGlvblRva2VuKF9kZXNjLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2Rlc2MgPSBfZGVzYztcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLm5nTWV0YWRhdGFOYW1lID0gJ0luamVjdGlvblRva2VuJztcbiAgICAgICAgaWYgKG9wdGlvbnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5uZ0luamVjdGFibGVEZWYgPSBkZWZpbmVJbmplY3RhYmxlKHtcbiAgICAgICAgICAgICAgICBwcm92aWRlZEluOiBvcHRpb25zLnByb3ZpZGVkSW4gfHwgJ3Jvb3QnLFxuICAgICAgICAgICAgICAgIGZhY3Rvcnk6IG9wdGlvbnMuZmFjdG9yeSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uZ0luamVjdGFibGVEZWYgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgSW5qZWN0aW9uVG9rZW4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gXCJJbmplY3Rpb25Ub2tlbiBcIiArIHRoaXMuX2Rlc2M7IH07XG4gICAgcmV0dXJuIEluamVjdGlvblRva2VuO1xufSgpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIEFOTk9UQVRJT05TID0gJ19fYW5ub3RhdGlvbnNfXyc7XG52YXIgUEFSQU1FVEVSUyA9ICdfX3BhcmFtZXRlcnNfXyc7XG52YXIgUFJPUF9NRVRBREFUQSA9ICdfX3Byb3BfX21ldGFkYXRhX18nO1xuLyoqXG4gKiBAc3VwcHJlc3Mge2dsb2JhbFRoaXN9XG4gKi9cbmZ1bmN0aW9uIG1ha2VEZWNvcmF0b3IobmFtZSwgcHJvcHMsIHBhcmVudENsYXNzLCBhZGRpdGlvbmFsUHJvY2Vzc2luZywgdHlwZUZuKSB7XG4gICAgdmFyIG1ldGFDdG9yID0gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcyk7XG4gICAgZnVuY3Rpb24gRGVjb3JhdG9yRmFjdG9yeSgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgRGVjb3JhdG9yRmFjdG9yeSkge1xuICAgICAgICAgICAgbWV0YUN0b3IuY2FsbC5hcHBseShtZXRhQ3RvciwgX19zcHJlYWQoW3RoaXNdLCBhcmdzKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5ub3RhdGlvbkluc3RhbmNlID0gbmV3ICgoX2EgPSBEZWNvcmF0b3JGYWN0b3J5KS5iaW5kLmFwcGx5KF9hLCBfX3NwcmVhZChbdm9pZCAwXSwgYXJncykpKSgpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gVHlwZURlY29yYXRvcihjbHMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlRm4pXG4gICAgICAgICAgICAgICAgdHlwZUZuLmFwcGx5KHZvaWQgMCwgX19zcHJlYWQoW2Nsc10sIGFyZ3MpKTtcbiAgICAgICAgICAgIC8vIFVzZSBvZiBPYmplY3QuZGVmaW5lUHJvcGVydHkgaXMgaW1wb3J0YW50IHNpbmNlIGl0IGNyZWF0ZXMgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgd2hpY2hcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIHRoZSBwcm9wZXJ0eSBpcyBjb3BpZWQgZHVyaW5nIHN1YmNsYXNzaW5nLlxuICAgICAgICAgICAgdmFyIGFubm90YXRpb25zID0gY2xzLmhhc093blByb3BlcnR5KEFOTk9UQVRJT05TKSA/XG4gICAgICAgICAgICAgICAgY2xzW0FOTk9UQVRJT05TXSA6XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNscywgQU5OT1RBVElPTlMsIHsgdmFsdWU6IFtdIH0pW0FOTk9UQVRJT05TXTtcbiAgICAgICAgICAgIGFubm90YXRpb25zLnB1c2goYW5ub3RhdGlvbkluc3RhbmNlKTtcbiAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsUHJvY2Vzc2luZylcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvY2Vzc2luZyhjbHMpO1xuICAgICAgICAgICAgcmV0dXJuIGNscztcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHBhcmVudENsYXNzKSB7XG4gICAgICAgIERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRDbGFzcy5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZS5uZ01ldGFkYXRhTmFtZSA9IG5hbWU7XG4gICAgRGVjb3JhdG9yRmFjdG9yeS5hbm5vdGF0aW9uQ2xzID0gRGVjb3JhdG9yRmFjdG9yeTtcbiAgICByZXR1cm4gRGVjb3JhdG9yRmFjdG9yeTtcbn1cbmZ1bmN0aW9uIG1ha2VNZXRhZGF0YUN0b3IocHJvcHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gY3RvcigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBwcm9wcy5hcHBseSh2b2lkIDAsIF9fc3ByZWFkKGFyZ3MpKTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gdmFsdWVzW3Byb3BOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBtYWtlUGFyYW1EZWNvcmF0b3IobmFtZSwgcHJvcHMsIHBhcmVudENsYXNzKSB7XG4gICAgdmFyIG1ldGFDdG9yID0gbWFrZU1ldGFkYXRhQ3Rvcihwcm9wcyk7XG4gICAgZnVuY3Rpb24gUGFyYW1EZWNvcmF0b3JGYWN0b3J5KCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBQYXJhbURlY29yYXRvckZhY3RvcnkpIHtcbiAgICAgICAgICAgIG1ldGFDdG9yLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFubm90YXRpb25JbnN0YW5jZSA9IG5ldyAoKF9hID0gUGFyYW1EZWNvcmF0b3JGYWN0b3J5KS5iaW5kLmFwcGx5KF9hLCBfX3NwcmVhZChbdm9pZCAwXSwgYXJncykpKSgpO1xuICAgICAgICBQYXJhbURlY29yYXRvci5hbm5vdGF0aW9uID0gYW5ub3RhdGlvbkluc3RhbmNlO1xuICAgICAgICByZXR1cm4gUGFyYW1EZWNvcmF0b3I7XG4gICAgICAgIGZ1bmN0aW9uIFBhcmFtRGVjb3JhdG9yKGNscywgdW51c2VkS2V5LCBpbmRleCkge1xuICAgICAgICAgICAgLy8gVXNlIG9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpcyBpbXBvcnRhbnQgc2luY2UgaXQgY3JlYXRlcyBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSB3aGljaFxuICAgICAgICAgICAgLy8gcHJldmVudHMgdGhlIHByb3BlcnR5IGlzIGNvcGllZCBkdXJpbmcgc3ViY2xhc3NpbmcuXG4gICAgICAgICAgICB2YXIgcGFyYW1ldGVycyA9IGNscy5oYXNPd25Qcm9wZXJ0eShQQVJBTUVURVJTKSA/XG4gICAgICAgICAgICAgICAgY2xzW1BBUkFNRVRFUlNdIDpcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xzLCBQQVJBTUVURVJTLCB7IHZhbHVlOiBbXSB9KVtQQVJBTUVURVJTXTtcbiAgICAgICAgICAgIC8vIHRoZXJlIG1pZ2h0IGJlIGdhcHMgaWYgc29tZSBpbiBiZXR3ZWVuIHBhcmFtZXRlcnMgZG8gbm90IGhhdmUgYW5ub3RhdGlvbnMuXG4gICAgICAgICAgICAvLyB3ZSBwYWQgd2l0aCBudWxscy5cbiAgICAgICAgICAgIHdoaWxlIChwYXJhbWV0ZXJzLmxlbmd0aCA8PSBpbmRleCkge1xuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChwYXJhbWV0ZXJzW2luZGV4XSA9IHBhcmFtZXRlcnNbaW5kZXhdIHx8IFtdKS5wdXNoKGFubm90YXRpb25JbnN0YW5jZSk7XG4gICAgICAgICAgICByZXR1cm4gY2xzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJlbnRDbGFzcykge1xuICAgICAgICBQYXJhbURlY29yYXRvckZhY3RvcnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRDbGFzcy5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBQYXJhbURlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lID0gbmFtZTtcbiAgICBQYXJhbURlY29yYXRvckZhY3RvcnkuYW5ub3RhdGlvbkNscyA9IFBhcmFtRGVjb3JhdG9yRmFjdG9yeTtcbiAgICByZXR1cm4gUGFyYW1EZWNvcmF0b3JGYWN0b3J5O1xufVxuZnVuY3Rpb24gbWFrZVByb3BEZWNvcmF0b3IobmFtZSwgcHJvcHMsIHBhcmVudENsYXNzLCBhZGRpdGlvbmFsUHJvY2Vzc2luZykge1xuICAgIHZhciBtZXRhQ3RvciA9IG1ha2VNZXRhZGF0YUN0b3IocHJvcHMpO1xuICAgIGZ1bmN0aW9uIFByb3BEZWNvcmF0b3JGYWN0b3J5KCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBQcm9wRGVjb3JhdG9yRmFjdG9yeSkge1xuICAgICAgICAgICAgbWV0YUN0b3IuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVjb3JhdG9ySW5zdGFuY2UgPSBuZXcgKChfYSA9IFByb3BEZWNvcmF0b3JGYWN0b3J5KS5iaW5kLmFwcGx5KF9hLCBfX3NwcmVhZChbdm9pZCAwXSwgYXJncykpKSgpO1xuICAgICAgICBmdW5jdGlvbiBQcm9wRGVjb3JhdG9yKHRhcmdldCwgbmFtZSkge1xuICAgICAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgLy8gVXNlIG9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpcyBpbXBvcnRhbnQgc2luY2UgaXQgY3JlYXRlcyBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSB3aGljaFxuICAgICAgICAgICAgLy8gcHJldmVudHMgdGhlIHByb3BlcnR5IGlzIGNvcGllZCBkdXJpbmcgc3ViY2xhc3NpbmcuXG4gICAgICAgICAgICB2YXIgbWV0YSA9IGNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KFBST1BfTUVUQURBVEEpID9cbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvcltQUk9QX01FVEFEQVRBXSA6XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCBQUk9QX01FVEFEQVRBLCB7IHZhbHVlOiB7fSB9KVtQUk9QX01FVEFEQVRBXTtcbiAgICAgICAgICAgIG1ldGFbbmFtZV0gPSBtZXRhLmhhc093blByb3BlcnR5KG5hbWUpICYmIG1ldGFbbmFtZV0gfHwgW107XG4gICAgICAgICAgICBtZXRhW25hbWVdLnVuc2hpZnQoZGVjb3JhdG9ySW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKGFkZGl0aW9uYWxQcm9jZXNzaW5nKVxuICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9jZXNzaW5nLmFwcGx5KHZvaWQgMCwgX19zcHJlYWQoW3RhcmdldCwgbmFtZV0sIGFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvcERlY29yYXRvcjtcbiAgICB9XG4gICAgaWYgKHBhcmVudENsYXNzKSB7XG4gICAgICAgIFByb3BEZWNvcmF0b3JGYWN0b3J5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50Q2xhc3MucHJvdG90eXBlKTtcbiAgICB9XG4gICAgUHJvcERlY29yYXRvckZhY3RvcnkucHJvdG90eXBlLm5nTWV0YWRhdGFOYW1lID0gbmFtZTtcbiAgICBQcm9wRGVjb3JhdG9yRmFjdG9yeS5hbm5vdGF0aW9uQ2xzID0gUHJvcERlY29yYXRvckZhY3Rvcnk7XG4gICAgcmV0dXJuIFByb3BEZWNvcmF0b3JGYWN0b3J5O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgdG9rZW4gY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEgdmlydHVhbCBwcm92aWRlciB0aGF0IHdpbGwgcG9wdWxhdGUgdGhlXG4gKiBgZW50cnlDb21wb25lbnRzYCBmaWVsZHMgb2YgY29tcG9uZW50cyBhbmQgbmcgbW9kdWxlcyBiYXNlZCBvbiBpdHMgYHVzZVZhbHVlYC5cbiAqIEFsbCBjb21wb25lbnRzIHRoYXQgYXJlIHJlZmVyZW5jZWQgaW4gdGhlIGB1c2VWYWx1ZWAgdmFsdWUgKGVpdGhlciBkaXJlY3RseVxuICogb3IgaW4gYSBuZXN0ZWQgYXJyYXkgb3IgbWFwKSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBgZW50cnlDb21wb25lbnRzYCBwcm9wZXJ0eS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdGhlIHJvdXRlciBjYW4gcG9wdWxhdGUgdGhlIGBlbnRyeUNvbXBvbmVudHNgXG4gKiBmaWVsZCBvZiBhbiBOZ01vZHVsZSBiYXNlZCBvbiB0aGUgcm91dGVyIGNvbmZpZ3VyYXRpb24gd2hpY2ggcmVmZXJzXG4gKiB0byBjb21wb25lbnRzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIGhlbHBlciBmdW5jdGlvbiBpbnNpZGUgdGhlIHJvdXRlclxuICogZnVuY3Rpb24gcHJvdmlkZVJvdXRlcyhyb3V0ZXMpIHtcbiAqICAgcmV0dXJuIFtcbiAqICAgICB7cHJvdmlkZTogUk9VVEVTLCB1c2VWYWx1ZTogcm91dGVzfSxcbiAqICAgICB7cHJvdmlkZTogQU5BTFlaRV9GT1JfRU5UUllfQ09NUE9ORU5UUywgdXNlVmFsdWU6IHJvdXRlcywgbXVsdGk6IHRydWV9XG4gKiAgIF07XG4gKiB9XG4gKlxuICogLy8gdXNlciBjb2RlXG4gKiBsZXQgcm91dGVzID0gW1xuICogICB7cGF0aDogJy9yb290JywgY29tcG9uZW50OiBSb290Q29tcH0sXG4gKiAgIHtwYXRoOiAnL3RlYW1zJywgY29tcG9uZW50OiBUZWFtc0NvbXB9XG4gKiBdO1xuICpcbiAqIEBOZ01vZHVsZSh7XG4gKiAgIHByb3ZpZGVyczogW3Byb3ZpZGVSb3V0ZXMocm91dGVzKV1cbiAqIH0pXG4gKiBjbGFzcyBNb2R1bGVXaXRoUm91dGVzIHt9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBBTkFMWVpFX0ZPUl9FTlRSWV9DT01QT05FTlRTID0gbmV3IEluamVjdGlvblRva2VuKCdBbmFseXplRm9yRW50cnlDb21wb25lbnRzJyk7XG4vKipcbiAqIEF0dHJpYnV0ZSBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBBdHRyaWJ1dGUgPSBtYWtlUGFyYW1EZWNvcmF0b3IoJ0F0dHJpYnV0ZScsIGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7IHJldHVybiAoeyBhdHRyaWJ1dGVOYW1lOiBhdHRyaWJ1dGVOYW1lIH0pOyB9KTtcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgcXVlcnkgbWV0YWRhdGEuXG4gKlxuICogQHNlZSBgQ29udGVudENoaWxkcmVuYC5cbiAqIEBzZWUgYENvbnRlbnRDaGlsZGAuXG4gKiBAc2VlIGBWaWV3Q2hpbGRyZW5gLlxuICogQHNlZSBgVmlld0NoaWxkYC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBRdWVyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRdWVyeSgpIHtcbiAgICB9XG4gICAgcmV0dXJuIFF1ZXJ5O1xufSgpKTtcbi8qKlxuICogQ29udGVudENoaWxkcmVuIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBDb250ZW50Q2hpbGRyZW4gPSBtYWtlUHJvcERlY29yYXRvcignQ29udGVudENoaWxkcmVuJywgZnVuY3Rpb24gKHNlbGVjdG9yLCBkYXRhKSB7XG4gICAgaWYgKGRhdGEgPT09IHZvaWQgMCkgeyBkYXRhID0ge307IH1cbiAgICByZXR1cm4gKF9fYXNzaWduKHsgc2VsZWN0b3I6IHNlbGVjdG9yLCBmaXJzdDogZmFsc2UsIGlzVmlld1F1ZXJ5OiBmYWxzZSwgZGVzY2VuZGFudHM6IGZhbHNlIH0sIGRhdGEpKTtcbn0sIFF1ZXJ5KTtcbi8qKlxuICogQ29udGVudENoaWxkIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgQ29udGVudENoaWxkID0gbWFrZVByb3BEZWNvcmF0b3IoJ0NvbnRlbnRDaGlsZCcsIGZ1bmN0aW9uIChzZWxlY3RvciwgZGF0YSkge1xuICAgIGlmIChkYXRhID09PSB2b2lkIDApIHsgZGF0YSA9IHt9OyB9XG4gICAgcmV0dXJuIChfX2Fzc2lnbih7IHNlbGVjdG9yOiBzZWxlY3RvciwgZmlyc3Q6IHRydWUsIGlzVmlld1F1ZXJ5OiBmYWxzZSwgZGVzY2VuZGFudHM6IHRydWUgfSwgZGF0YSkpO1xufSwgUXVlcnkpO1xuLyoqXG4gKiBWaWV3Q2hpbGRyZW4gZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG52YXIgVmlld0NoaWxkcmVuID0gbWFrZVByb3BEZWNvcmF0b3IoJ1ZpZXdDaGlsZHJlbicsIGZ1bmN0aW9uIChzZWxlY3RvciwgZGF0YSkge1xuICAgIGlmIChkYXRhID09PSB2b2lkIDApIHsgZGF0YSA9IHt9OyB9XG4gICAgcmV0dXJuIChfX2Fzc2lnbih7IHNlbGVjdG9yOiBzZWxlY3RvciwgZmlyc3Q6IGZhbHNlLCBpc1ZpZXdRdWVyeTogdHJ1ZSwgZGVzY2VuZGFudHM6IHRydWUgfSwgZGF0YSkpO1xufSwgUXVlcnkpO1xuLyoqXG4gKiBWaWV3Q2hpbGQgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG52YXIgVmlld0NoaWxkID0gbWFrZVByb3BEZWNvcmF0b3IoJ1ZpZXdDaGlsZCcsIGZ1bmN0aW9uIChzZWxlY3RvciwgZGF0YSkge1xuICAgIHJldHVybiAoX19hc3NpZ24oeyBzZWxlY3Rvcjogc2VsZWN0b3IsIGZpcnN0OiB0cnVlLCBpc1ZpZXdRdWVyeTogdHJ1ZSwgZGVzY2VuZGFudHM6IHRydWUgfSwgZGF0YSkpO1xufSwgUXVlcnkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBzdHJhdGVneSB0aGF0IHRoZSBkZWZhdWx0IGNoYW5nZSBkZXRlY3RvciB1c2VzIHRvIGRldGVjdCBjaGFuZ2VzLlxuICogV2hlbiBzZXQsIHRha2VzIGVmZmVjdCB0aGUgbmV4dCB0aW1lIGNoYW5nZSBkZXRlY3Rpb24gaXMgdHJpZ2dlcmVkLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIENoYW5nZURldGVjdGlvblN0cmF0ZWd5O1xuKGZ1bmN0aW9uIChDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSkge1xuICAgIC8qKlxuICAgICAqIFVzZSB0aGUgYENoZWNrT25jZWAgc3RyYXRlZ3ksIG1lYW5pbmcgdGhhdCBhdXRvbWF0aWMgY2hhbmdlIGRldGVjdGlvbiBpcyBkZWFjdGl2YXRlZFxuICAgICAqIHVudGlsIHJlYWN0aXZhdGVkIGJ5IHNldHRpbmcgdGhlIHN0cmF0ZWd5IHRvIGBEZWZhdWx0YCAoYENoZWNrQWx3YXlzYCkuXG4gICAgICogQ2hhbmdlIGRldGVjdGlvbiBjYW4gc3RpbGwgYmUgZXhwbGljaXRseSBpbnZva2VkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5W0NoYW5nZURldGVjdGlvblN0cmF0ZWd5W1wiT25QdXNoXCJdID0gMF0gPSBcIk9uUHVzaFwiO1xuICAgIC8qKlxuICAgICAqIFVzZSB0aGUgZGVmYXVsdCBgQ2hlY2tBbHdheXNgIHN0cmF0ZWd5LCBpbiB3aGljaCBjaGFuZ2UgZGV0ZWN0aW9uIGlzIGF1dG9tYXRpYyB1bnRpbFxuICAgICAqIGV4cGxpY2l0bHkgZGVhY3RpdmF0ZWQuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lbXCJEZWZhdWx0XCJdID0gMV0gPSBcIkRlZmF1bHRcIjtcbn0pKENoYW5nZURldGVjdGlvblN0cmF0ZWd5IHx8IChDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSA9IHt9KSk7XG4vKipcbiAqIERlZmluZXMgdGhlIHBvc3NpYmxlIHN0YXRlcyBvZiB0aGUgZGVmYXVsdCBjaGFuZ2UgZGV0ZWN0b3IuXG4gKiBAc2VlIGBDaGFuZ2VEZXRlY3RvclJlZmBcbiAqL1xudmFyIENoYW5nZURldGVjdG9yU3RhdHVzO1xuKGZ1bmN0aW9uIChDaGFuZ2VEZXRlY3RvclN0YXR1cykge1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2gsIGFmdGVyIGNhbGxpbmcgYGRldGVjdENoYW5nZXMoKWAsIHRoZSBjaGFuZ2UgZGV0ZWN0b3JcbiAgICAgKiBzdGF0ZSBiZWNvbWVzIGBDaGVja2VkYCwgYW5kIG11c3QgYmUgZXhwbGljaXRseSBpbnZva2VkIG9yIHJlYWN0aXZhdGVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiQ2hlY2tPbmNlXCJdID0gMF0gPSBcIkNoZWNrT25jZVwiO1xuICAgIC8qKlxuICAgICAqIEEgc3RhdGUgaW4gd2hpY2ggY2hhbmdlIGRldGVjdGlvbiBpcyBza2lwcGVkIHVudGlsIHRoZSBjaGFuZ2UgZGV0ZWN0b3IgbW9kZVxuICAgICAqIGJlY29tZXMgYENoZWNrT25jZWAuXG4gICAgICovXG4gICAgQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbQ2hhbmdlRGV0ZWN0b3JTdGF0dXNbXCJDaGVja2VkXCJdID0gMV0gPSBcIkNoZWNrZWRcIjtcbiAgICAvKipcbiAgICAgKiBBIHN0YXRlIGluIHdoaWNoIGNoYW5nZSBkZXRlY3Rpb24gY29udGludWVzIGF1dG9tYXRpY2FsbHkgdW50aWwgZXhwbGljaXRseVxuICAgICAqIGRlYWN0aXZhdGVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiQ2hlY2tBbHdheXNcIl0gPSAyXSA9IFwiQ2hlY2tBbHdheXNcIjtcbiAgICAvKipcbiAgICAgKiBBIHN0YXRlIGluIHdoaWNoIGEgY2hhbmdlIGRldGVjdG9yIHN1YiB0cmVlIGlzIG5vdCBhIHBhcnQgb2YgdGhlIG1haW4gdHJlZSBhbmRcbiAgICAgKiBzaG91bGQgYmUgc2tpcHBlZC5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkRldGFjaGVkXCJdID0gM10gPSBcIkRldGFjaGVkXCI7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIGNoYW5nZSBkZXRlY3RvciBlbmNvdW50ZXJlZCBhbiBlcnJvciBjaGVja2luZyBhIGJpbmRpbmdcbiAgICAgKiBvciBjYWxsaW5nIGEgZGlyZWN0aXZlIGxpZmVjeWNsZSBtZXRob2QgYW5kIGlzIG5vdyBpbiBhbiBpbmNvbnNpc3RlbnQgc3RhdGUuIENoYW5nZVxuICAgICAqIGRldGVjdG9ycyBpbiB0aGlzIHN0YXRlIGRvIG5vdCBkZXRlY3QgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBDaGFuZ2VEZXRlY3RvclN0YXR1c1tDaGFuZ2VEZXRlY3RvclN0YXR1c1tcIkVycm9yZWRcIl0gPSA0XSA9IFwiRXJyb3JlZFwiO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBjaGFuZ2UgZGV0ZWN0b3IgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAqL1xuICAgIENoYW5nZURldGVjdG9yU3RhdHVzW0NoYW5nZURldGVjdG9yU3RhdHVzW1wiRGVzdHJveWVkXCJdID0gNV0gPSBcIkRlc3Ryb3llZFwiO1xufSkoQ2hhbmdlRGV0ZWN0b3JTdGF0dXMgfHwgKENoYW5nZURldGVjdG9yU3RhdHVzID0ge30pKTtcbi8qKlxuICogUmVwb3J0cyB3aGV0aGVyIGEgZ2l2ZW4gc3RyYXRlZ3kgaXMgY3VycmVudGx5IHRoZSBkZWZhdWx0IGZvciBjaGFuZ2UgZGV0ZWN0aW9uLlxuICogQHBhcmFtIGNoYW5nZURldGVjdGlvblN0cmF0ZWd5IFRoZSBzdHJhdGVneSB0byBjaGVjay5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGdpdmVuIHN0cmF0ZWd5IGlzIHRoZSBjdXJyZW50IGRlZmF1bHQsIGZhbHNlIG90aGVyd2lzZS5cbiAqIEBzZWUgYENoYW5nZURldGVjdG9yU3RhdHVzYFxuICogQHNlZSBgQ2hhbmdlRGV0ZWN0b3JSZWZgXG4gKi9cbmZ1bmN0aW9uIGlzRGVmYXVsdENoYW5nZURldGVjdGlvblN0cmF0ZWd5KGNoYW5nZURldGVjdGlvblN0cmF0ZWd5KSB7XG4gICAgcmV0dXJuIGNoYW5nZURldGVjdGlvblN0cmF0ZWd5ID09IG51bGwgfHxcbiAgICAgICAgY2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgPT09IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBfX3dpbmRvdyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdztcbnZhciBfX3NlbGYgPSB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSAmJiBzZWxmO1xudmFyIF9fZ2xvYmFsID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsO1xuLy8gQ2hlY2sgX19nbG9iYWwgZmlyc3QsIGJlY2F1c2UgaW4gTm9kZSB0ZXN0cyBib3RoIF9fZ2xvYmFsIGFuZCBfX3dpbmRvdyBtYXkgYmUgZGVmaW5lZCBhbmQgX2dsb2JhbFxuLy8gc2hvdWxkIGJlIF9fZ2xvYmFsIGluIHRoYXQgY2FzZS5cbnZhciBfZ2xvYmFsID0gX19nbG9iYWwgfHwgX193aW5kb3cgfHwgX19zZWxmO1xudmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoMCk7XG52YXIgX3N5bWJvbEl0ZXJhdG9yID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICghX3N5bWJvbEl0ZXJhdG9yKSB7XG4gICAgICAgIHZhciBTeW1ib2xfMSA9IF9nbG9iYWxbJ1N5bWJvbCddO1xuICAgICAgICBpZiAoU3ltYm9sXzEgJiYgU3ltYm9sXzEuaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIF9zeW1ib2xJdGVyYXRvciA9IFN5bWJvbF8xLml0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXM2LXNoaW0gc3BlY2lmaWMgbG9naWNcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoTWFwLnByb3RvdHlwZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnZW50cmllcycgJiYga2V5ICE9PSAnc2l6ZScgJiZcbiAgICAgICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZVtrZXldID09PSBNYXAucHJvdG90eXBlWydlbnRyaWVzJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgX3N5bWJvbEl0ZXJhdG9yID0ga2V5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3N5bWJvbEl0ZXJhdG9yO1xufVxuZnVuY3Rpb24gc2NoZWR1bGVNaWNyb1Rhc2soZm4pIHtcbiAgICBpZiAodHlwZW9mIFpvbmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIHVzZSBwcm9taXNlIHRvIHNjaGVkdWxlIG1pY3JvVGFzayBpbnN0ZWFkIG9mIHVzZSBab25lXG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7IGZuICYmIGZuLmFwcGx5KG51bGwsIG51bGwpOyB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFpvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzaygnc2NoZWR1bGVNaWNyb3Rhc2snLCBmbik7XG4gICAgfVxufVxuLy8gSlMgaGFzIE5hTiAhPT0gTmFOXG5mdW5jdGlvbiBsb29zZUlkZW50aWNhbChhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGIgfHwgdHlwZW9mIGEgPT09ICdudW1iZXInICYmIHR5cGVvZiBiID09PSAnbnVtYmVyJyAmJiBpc05hTihhKSAmJiBpc05hTihiKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeSh0b2tlbikge1xuICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG4gICAgaWYgKHRva2VuIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuICdbJyArIHRva2VuLm1hcChzdHJpbmdpZnkpLmpvaW4oJywgJykgKyAnXSc7XG4gICAgfVxuICAgIGlmICh0b2tlbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRva2VuO1xuICAgIH1cbiAgICBpZiAodG9rZW4ub3ZlcnJpZGRlbk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIgKyB0b2tlbi5vdmVycmlkZGVuTmFtZTtcbiAgICB9XG4gICAgaWYgKHRva2VuLm5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFwiXCIgKyB0b2tlbi5uYW1lO1xuICAgIH1cbiAgICB2YXIgcmVzID0gdG9rZW4udG9TdHJpbmcoKTtcbiAgICBpZiAocmVzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnICsgcmVzO1xuICAgIH1cbiAgICB2YXIgbmV3TGluZUluZGV4ID0gcmVzLmluZGV4T2YoJ1xcbicpO1xuICAgIHJldHVybiBuZXdMaW5lSW5kZXggPT09IC0xID8gcmVzIDogcmVzLnN1YnN0cmluZygwLCBuZXdMaW5lSW5kZXgpO1xufVxuLyoqXG4gKiBDb252aW5jZSBjbG9zdXJlIGNvbXBpbGVyIHRoYXQgdGhlIHdyYXBwZWQgZnVuY3Rpb24gaGFzIG5vIHNpZGUtZWZmZWN0cy5cbiAqXG4gKiBDbG9zdXJlIGNvbXBpbGVyIGFsd2F5cyBhc3N1bWVzIHRoYXQgYHRvU3RyaW5nYCBoYXMgbm8gc2lkZS1lZmZlY3RzLiBXZSB1c2UgdGhpcyBxdWlyayB0b1xuICogYWxsb3cgdXMgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGJ1dCBoYXZlIGNsb3N1cmUgY29tcGlsZXIgbWFyayB0aGUgY2FsbCBhcyBuby1zaWRlLWVmZmVjdHMuXG4gKiBJdCBpcyBpbXBvcnRhbnQgdGhhdCB0aGUgcmV0dXJuIHZhbHVlIGZvciB0aGUgYG5vU2lkZUVmZmVjdHNgIGZ1bmN0aW9uIGJlIGFzc2lnbmVkXG4gKiB0byBzb21ldGhpbmcgd2hpY2ggaXMgcmV0YWluZWQgb3RoZXJ3aXNlIHRoZSBjYWxsIHRvIGBub1NpZGVFZmZlY3RzYCB3aWxsIGJlIHJlbW92ZWQgYnkgY2xvc3VyZVxuICogY29tcGlsZXIuXG4gKi9cbmZ1bmN0aW9uIG5vU2lkZUVmZmVjdHMoZm4pIHtcbiAgICByZXR1cm4gJycgKyB7IHRvU3RyaW5nOiBmbiB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgX19mb3J3YXJkX3JlZl9fID0gZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSh7IF9fZm9yd2FyZF9yZWZfXzogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbi8qKlxuICogQWxsb3dzIHRvIHJlZmVyIHRvIHJlZmVyZW5jZXMgd2hpY2ggYXJlIG5vdCB5ZXQgZGVmaW5lZC5cbiAqXG4gKiBGb3IgaW5zdGFuY2UsIGBmb3J3YXJkUmVmYCBpcyB1c2VkIHdoZW4gdGhlIGB0b2tlbmAgd2hpY2ggd2UgbmVlZCB0byByZWZlciB0byBmb3IgdGhlIHB1cnBvc2VzIG9mXG4gKiBESSBpcyBkZWNsYXJlZCwgYnV0IG5vdCB5ZXQgZGVmaW5lZC4gSXQgaXMgYWxzbyB1c2VkIHdoZW4gdGhlIGB0b2tlbmAgd2hpY2ggd2UgdXNlIHdoZW4gY3JlYXRpbmdcbiAqIGEgcXVlcnkgaXMgbm90IHlldCBkZWZpbmVkLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICoge0BleGFtcGxlIGNvcmUvZGkvdHMvZm9yd2FyZF9yZWYvZm9yd2FyZF9yZWZfc3BlYy50cyByZWdpb249J2ZvcndhcmRfcmVmJ31cbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZm9yd2FyZFJlZihmb3J3YXJkUmVmRm4pIHtcbiAgICBmb3J3YXJkUmVmRm4uX19mb3J3YXJkX3JlZl9fID0gZm9yd2FyZFJlZjtcbiAgICBmb3J3YXJkUmVmRm4udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzdHJpbmdpZnkodGhpcygpKTsgfTtcbiAgICByZXR1cm4gZm9yd2FyZFJlZkZuO1xufVxuLyoqXG4gKiBMYXppbHkgcmV0cmlldmVzIHRoZSByZWZlcmVuY2UgdmFsdWUgZnJvbSBhIGZvcndhcmRSZWYuXG4gKlxuICogQWN0cyBhcyB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gd2hlbiBnaXZlbiBhIG5vbi1mb3J3YXJkLXJlZiB2YWx1ZS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9mb3J3YXJkX3JlZi9mb3J3YXJkX3JlZl9zcGVjLnRzIHJlZ2lvbj0ncmVzb2x2ZV9mb3J3YXJkX3JlZid9XG4gKlxuICogQHNlZSBgZm9yd2FyZFJlZmBcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSkge1xuICAgIHZhciBmbiA9IHR5cGU7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiBmbi5oYXNPd25Qcm9wZXJ0eShfX2ZvcndhcmRfcmVmX18pICYmXG4gICAgICAgIGZuLl9fZm9yd2FyZF9yZWZfXyA9PT0gZm9yd2FyZFJlZikge1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgcmVzb3VyY2UgVVJMcyBvbiBgQENvbXBvbmVudGAgd2hlbiB1c2VkIHdpdGggSklUIGNvbXBpbGF0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ215LWNvbXAnLFxuICogICB0ZW1wbGF0ZVVybDogJ215LWNvbXAuaHRtbCcsIC8vIFRoaXMgcmVxdWlyZXMgYXN5bmNocm9ub3VzIHJlc29sdXRpb25cbiAqIH0pXG4gKiBjbGFzcyBNeUNvbXBvbm5lbnR7XG4gKiB9XG4gKlxuICogLy8gQ2FsbGluZyBgcmVuZGVyQ29tcG9uZW50YCB3aWxsIGZhaWwgYmVjYXVzZSBgTXlDb21wb25lbnRgJ3MgYEBDb21wZW5lbnQudGVtcGxhdGVVcmxgXG4gKiAvLyBuZWVkcyB0byBiZSByZXNvbHZlZCBiZWNhdXNlIGByZW5kZXJDb21wb25lbnRgIGlzIHN5bmNocm9ub3VzIHByb2Nlc3MuXG4gKiAvLyByZW5kZXJDb21wb25lbnQoTXlDb21wb25lbnQpO1xuICpcbiAqIC8vIENhbGxpbmcgYHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXNgIHdpbGwgcmVzb2x2ZSBgQENvbXBlbmVudC50ZW1wbGF0ZVVybGAgaW50b1xuICogLy8gYEBDb21wZW5lbnQudGVtcGxhdGVgLCB3aGljaCB3b3VsZCBhbGxvdyBgcmVuZGVyQ29tcG9uZW50YCB0byBwcm9jZWVkIGluIHN5bmNocm9ub3VzIG1hbm5lci5cbiAqIC8vIFVzZSBicm93c2VyJ3MgYGZldGNoYCBmdW5jdGlvbiBhcyB0aGUgZGVmYXVsdCByZXNvdXJjZSByZXNvbHV0aW9uIHN0cmF0ZWd5LlxuICogcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyhmZXRjaCkudGhlbigoKSA9PiB7XG4gKiAgIC8vIEFmdGVyIHJlc29sdXRpb24gYWxsIFVSTHMgaGF2ZSBiZWVuIGNvbnZlcnRlZCBpbnRvIHN0cmluZ3MuXG4gKiAgIHJlbmRlckNvbXBvbmVudChNeUNvbXBvbmVudCk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqXG4gKiBOT1RFOiBJbiBBT1QgdGhlIHJlc29sdXRpb24gaGFwcGVucyBkdXJpbmcgY29tcGlsYXRpb24sIGFuZCBzbyB0aGVyZSBzaG91bGQgYmUgbm8gbmVlZFxuICogdG8gY2FsbCB0aGlzIG1ldGhvZCBvdXRzaWRlIEpJVCBtb2RlLlxuICpcbiAqIEBwYXJhbSByZXNvdXJjZVJlc29sdmVyIGEgZnVuY3Rpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgdG8gcmV0dXJuaW5nIGEgYFByb21pc2VgIG9mIHRoZSByZXNvbHZlZFxuICogVVJMLiBCcm93c2VyJ3MgYGZldGNoYCBtZXRob2QgaXMgYSBnb29kIGRlZmF1bHQgaW1wbGVtZW50YXRpb24uXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMocmVzb3VyY2VSZXNvbHZlcikge1xuICAgIC8vIFN0b3JlIGFsbCBwcm9taXNlcyB3aGljaCBhcmUgZmV0Y2hpbmcgdGhlIHJlc291cmNlcy5cbiAgICB2YXIgdXJsRmV0Y2hlcyA9IFtdO1xuICAgIC8vIENhY2hlIHNvIHRoYXQgd2UgZG9uJ3QgZmV0Y2ggdGhlIHNhbWUgcmVzb3VyY2UgbW9yZSB0aGFuIG9uY2UuXG4gICAgdmFyIHVybE1hcCA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBjYWNoZWRSZXNvdXJjZVJlc29sdmUodXJsKSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gdXJsTWFwLmdldCh1cmwpO1xuICAgICAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgICAgIHZhciByZXNwID0gcmVzb3VyY2VSZXNvbHZlcih1cmwpO1xuICAgICAgICAgICAgdXJsTWFwLnNldCh1cmwsIHByb21pc2UgPSByZXNwLnRoZW4odW53cmFwUmVzcG9uc2UpKTtcbiAgICAgICAgICAgIHVybEZldGNoZXMucHVzaChwcm9taXNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjb21wb25lbnQudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICAgIGNhY2hlZFJlc291cmNlUmVzb2x2ZShjb21wb25lbnQudGVtcGxhdGVVcmwpLnRoZW4oZnVuY3Rpb24gKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnRlbXBsYXRlVXJsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0eWxlVXJscyA9IGNvbXBvbmVudC5zdHlsZVVybHM7XG4gICAgICAgIHZhciBzdHlsZXMgPSBjb21wb25lbnQuc3R5bGVzIHx8IChjb21wb25lbnQuc3R5bGVzID0gW10pO1xuICAgICAgICB2YXIgc3R5bGVPZmZzZXQgPSBjb21wb25lbnQuc3R5bGVzLmxlbmd0aDtcbiAgICAgICAgc3R5bGVVcmxzICYmIHN0eWxlVXJscy5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZVVybCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHN0eWxlcy5wdXNoKCcnKTsgLy8gcHJlLWFsbG9jYXRlIGFycmF5LlxuICAgICAgICAgICAgY2FjaGVkUmVzb3VyY2VSZXNvbHZlKHN0eWxlVXJsKS50aGVuKGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICAgICAgICAgIHN0eWxlc1tzdHlsZU9mZnNldCArIGluZGV4XSA9IHN0eWxlO1xuICAgICAgICAgICAgICAgIHN0eWxlVXJscy5zcGxpY2Uoc3R5bGVVcmxzLmluZGV4T2Yoc3R5bGVVcmwpLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGVVcmxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5zdHlsZVVybHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbXBvbmVudFJlc291cmNlUmVzb2x1dGlvblF1ZXVlLmNsZWFyKCk7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHVybEZldGNoZXMpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSk7XG59XG52YXIgY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBtYXliZVF1ZXVlUmVzb2x1dGlvbk9mQ29tcG9uZW50UmVzb3VyY2VzKG1ldGFkYXRhKSB7XG4gICAgaWYgKGNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbihtZXRhZGF0YSkpIHtcbiAgICAgICAgY29tcG9uZW50UmVzb3VyY2VSZXNvbHV0aW9uUXVldWUuYWRkKG1ldGFkYXRhKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb21wb25lbnROZWVkc1Jlc29sdXRpb24oY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudC50ZW1wbGF0ZVVybCB8fCBjb21wb25lbnQuc3R5bGVVcmxzICYmIGNvbXBvbmVudC5zdHlsZVVybHMubGVuZ3RoO1xufVxuZnVuY3Rpb24gdW53cmFwUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIHJlc3BvbnNlID09ICdzdHJpbmcnID8gcmVzcG9uc2UgOiByZXNwb25zZS50ZXh0KCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogRGVmaW5lcyB0ZW1wbGF0ZSBhbmQgc3R5bGUgZW5jYXBzdWxhdGlvbiBvcHRpb25zIGF2YWlsYWJsZSBmb3IgQ29tcG9uZW50J3Mge0BsaW5rIENvbXBvbmVudH0uXG4gKlxuICogU2VlIHtAbGluayBDb21wb25lbnQjZW5jYXBzdWxhdGlvbiBlbmNhcHN1bGF0aW9ufS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS90cy9tZXRhZGF0YS9lbmNhcHN1bGF0aW9uLnRzIHJlZ2lvbj0nbG9uZ2Zvcm0nfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFZpZXdFbmNhcHN1bGF0aW9uO1xuKGZ1bmN0aW9uIChWaWV3RW5jYXBzdWxhdGlvbikge1xuICAgIC8qKlxuICAgICAqIEVtdWxhdGUgYE5hdGl2ZWAgc2NvcGluZyBvZiBzdHlsZXMgYnkgYWRkaW5nIGFuIGF0dHJpYnV0ZSBjb250YWluaW5nIHN1cnJvZ2F0ZSBpZCB0byB0aGUgSG9zdFxuICAgICAqIEVsZW1lbnQgYW5kIHByZS1wcm9jZXNzaW5nIHRoZSBzdHlsZSBydWxlcyBwcm92aWRlZCB2aWEge0BsaW5rIENvbXBvbmVudCNzdHlsZXMgc3R5bGVzfSBvclxuICAgICAqIHtAbGluayBDb21wb25lbnQjc3R5bGVVcmxzIHN0eWxlVXJsc30sIGFuZCBhZGRpbmcgdGhlIG5ldyBIb3N0IEVsZW1lbnQgYXR0cmlidXRlIHRvIGFsbFxuICAgICAqIHNlbGVjdG9ycy5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgb3B0aW9uLlxuICAgICAqL1xuICAgIFZpZXdFbmNhcHN1bGF0aW9uW1ZpZXdFbmNhcHN1bGF0aW9uW1wiRW11bGF0ZWRcIl0gPSAwXSA9IFwiRW11bGF0ZWRcIjtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCB2Ni4xLjAgLSB1c2Uge1ZpZXdFbmNhcHN1bGF0aW9uLlNoYWRvd0RvbX0gaW5zdGVhZC5cbiAgICAgKiBVc2UgdGhlIG5hdGl2ZSBlbmNhcHN1bGF0aW9uIG1lY2hhbmlzbSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBGb3IgdGhlIERPTSB0aGlzIG1lYW5zIHVzaW5nIHRoZSBkZXByZWNhdGVkIFtTaGFkb3cgRE9NXG4gICAgICogdjBdKGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJjb21wb25lbnRzL3NwZWMvc2hhZG93LykgYW5kXG4gICAgICogY3JlYXRpbmcgYSBTaGFkb3dSb290IGZvciBDb21wb25lbnQncyBIb3N0IEVsZW1lbnQuXG4gICAgICovXG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJOYXRpdmVcIl0gPSAxXSA9IFwiTmF0aXZlXCI7XG4gICAgLyoqXG4gICAgICogRG9uJ3QgcHJvdmlkZSBhbnkgdGVtcGxhdGUgb3Igc3R5bGUgZW5jYXBzdWxhdGlvbi5cbiAgICAgKi9cbiAgICBWaWV3RW5jYXBzdWxhdGlvbltWaWV3RW5jYXBzdWxhdGlvbltcIk5vbmVcIl0gPSAyXSA9IFwiTm9uZVwiO1xuICAgIC8qKlxuICAgICAqIFVzZSBTaGFkb3cgRE9NIHRvIGVuY2Fwc3VsYXRlIHN0eWxlcy5cbiAgICAgKlxuICAgICAqIEZvciB0aGUgRE9NIHRoaXMgbWVhbnMgdXNpbmcgbW9kZXJuIFtTaGFkb3dcbiAgICAgKiBET01dKGh0dHBzOi8vdzNjLmdpdGh1Yi5pby93ZWJjb21wb25lbnRzL3NwZWMvc2hhZG93LykgYW5kXG4gICAgICogY3JlYXRpbmcgYSBTaGFkb3dSb290IGZvciBDb21wb25lbnQncyBIb3N0IEVsZW1lbnQuXG4gICAgICovXG4gICAgVmlld0VuY2Fwc3VsYXRpb25bVmlld0VuY2Fwc3VsYXRpb25bXCJTaGFkb3dEb21cIl0gPSAzXSA9IFwiU2hhZG93RG9tXCI7XG59KShWaWV3RW5jYXBzdWxhdGlvbiB8fCAoVmlld0VuY2Fwc3VsYXRpb24gPSB7fSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBuZ0Rldk1vZGVSZXNldFBlcmZDb3VudGVycygpIHtcbiAgICB2YXIgbmV3Q291bnRlcnMgPSB7XG4gICAgICAgIGZpcnN0VGVtcGxhdGVQYXNzOiAwLFxuICAgICAgICB0Tm9kZTogMCxcbiAgICAgICAgdFZpZXc6IDAsXG4gICAgICAgIHJlbmRlcmVyQ3JlYXRlVGV4dE5vZGU6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0VGV4dDogMCxcbiAgICAgICAgcmVuZGVyZXJDcmVhdGVFbGVtZW50OiAwLFxuICAgICAgICByZW5kZXJlckFkZEV2ZW50TGlzdGVuZXI6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0QXR0cmlidXRlOiAwLFxuICAgICAgICByZW5kZXJlclJlbW92ZUF0dHJpYnV0ZTogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRQcm9wZXJ0eTogMCxcbiAgICAgICAgcmVuZGVyZXJTZXRDbGFzc05hbWU6IDAsXG4gICAgICAgIHJlbmRlcmVyQWRkQ2xhc3M6IDAsXG4gICAgICAgIHJlbmRlcmVyUmVtb3ZlQ2xhc3M6IDAsXG4gICAgICAgIHJlbmRlcmVyU2V0U3R5bGU6IDAsXG4gICAgICAgIHJlbmRlcmVyUmVtb3ZlU3R5bGU6IDAsXG4gICAgICAgIHJlbmRlcmVyRGVzdHJveTogMCxcbiAgICAgICAgcmVuZGVyZXJEZXN0cm95Tm9kZTogMCxcbiAgICAgICAgcmVuZGVyZXJNb3ZlTm9kZTogMCxcbiAgICAgICAgcmVuZGVyZXJSZW1vdmVOb2RlOiAwLFxuICAgICAgICByZW5kZXJlckNyZWF0ZUNvbW1lbnQ6IDAsXG4gICAgfTtcbiAgICAvLyBOT1RFOiBVbmRlciBJdnkgd2UgbWF5IGhhdmUgYm90aCB3aW5kb3cgJiBnbG9iYWwgZGVmaW5lZCBpbiB0aGUgTm9kZVxuICAgIC8vICAgIGVudmlyb25tZW50IHNpbmNlIGVuc3VyZURvY3VtZW50KCkgaW4gcmVuZGVyMy50cyBzZXRzIGdsb2JhbC53aW5kb3cuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRvIHJlZmVyIHRvIG5nRGV2TW9kZSBhcyBbJ25nRGV2TW9kZSddIGZvciBjbG9zdXJlLlxuICAgICAgICB3aW5kb3dbJ25nRGV2TW9kZSddID0gbmV3Q291bnRlcnM7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0byByZWZlciB0byBuZ0Rldk1vZGUgYXMgWyduZ0Rldk1vZGUnXSBmb3IgY2xvc3VyZS5cbiAgICAgICAgZ2xvYmFsWyduZ0Rldk1vZGUnXSA9IG5ld0NvdW50ZXJzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRvIHJlZmVyIHRvIG5nRGV2TW9kZSBhcyBbJ25nRGV2TW9kZSddIGZvciBjbG9zdXJlLlxuICAgICAgICBzZWxmWyduZ0Rldk1vZGUnXSA9IG5ld0NvdW50ZXJzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Q291bnRlcnM7XG59XG4vKipcbiAqIFRoaXMgY2hlY2tzIHRvIHNlZSBpZiB0aGUgYG5nRGV2TW9kZWAgaGFzIGJlZW4gc2V0LiBJZiB5ZXMsXG4gKiB0aGFuIHdlIGhvbm9yIGl0LCBvdGhlcndpc2Ugd2UgZGVmYXVsdCB0byBkZXYgbW9kZSB3aXRoIGFkZGl0aW9uYWwgY2hlY2tzLlxuICpcbiAqIFRoZSBpZGVhIGlzIHRoYXQgdW5sZXNzIHdlIGFyZSBkb2luZyBwcm9kdWN0aW9uIGJ1aWxkIHdoZXJlIHdlIGV4cGxpY2l0bHlcbiAqIHNldCBgbmdEZXZNb2RlID09IGZhbHNlYCB3ZSBzaG91bGQgYmUgaGVscGluZyB0aGUgZGV2ZWxvcGVyIGJ5IHByb3ZpZGluZ1xuICogYXMgbXVjaCBlYXJseSB3YXJuaW5nIGFuZCBlcnJvcnMgYXMgcG9zc2libGUuXG4gKi9cbmlmICh0eXBlb2YgbmdEZXZNb2RlID09PSAndW5kZWZpbmVkJyB8fCBuZ0Rldk1vZGUpIHtcbiAgICBuZ0Rldk1vZGVSZXNldFBlcmZDb3VudGVycygpO1xufVxuXG4vKipcbiogQGxpY2Vuc2VcbiogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4qXG4qIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4qIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiovXG4vKipcbiAqIFRoaXMgZmlsZSBjb250YWlucyByZXVzZWFibGUgXCJlbXB0eVwiIHN5bWJvbHMgdGhhdCBjYW4gYmUgdXNlZCBhcyBkZWZhdWx0IHJldHVybiB2YWx1ZXNcbiAqIGluIGRpZmZlcmVudCBwYXJ0cyBvZiB0aGUgcmVuZGVyaW5nIGNvZGUuIEJlY2F1c2UgdGhlIHNhbWUgc3ltYm9scyBhcmUgcmV0dXJuZWQsIHRoaXNcbiAqIGFsbG93cyBmb3IgaWRlbnRpdHkgY2hlY2tzIGFnYWluc3QgdGhlc2UgdmFsdWVzIHRvIGJlIGNvbnNpc3RlbnRseSB1c2VkIGJ5IHRoZSBmcmFtZXdvcmtcbiAqIGNvZGUuXG4gKi9cbnZhciBFTVBUWV9PQkogPSB7fTtcbnZhciBFTVBUWV9BUlJBWSA9IFtdO1xuLy8gZnJlZXppbmcgdGhlIHZhbHVlcyBwcmV2ZW50cyBhbnkgY29kZSBmcm9tIGFjY2lkZW50YWxseSBpbnNlcnRpbmcgbmV3IHZhbHVlcyBpblxuaWYgKHR5cGVvZiBuZ0Rldk1vZGUgIT09ICd1bmRlZmluZWQnICYmIG5nRGV2TW9kZSkge1xuICAgIE9iamVjdC5mcmVlemUoRU1QVFlfT0JKKTtcbiAgICBPYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIF9yZW5kZXJDb21wQ291bnQgPSAwO1xuLyoqXG4gKiBDcmVhdGUgYSBjb21wb25lbnQgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICpcbiAqICMgRXhhbXBsZVxuICogYGBgXG4gKiBjbGFzcyBNeURpcmVjdGl2ZSB7XG4gKiAgIC8vIEdlbmVyYXRlZCBieSBBbmd1bGFyIFRlbXBsYXRlIENvbXBpbGVyXG4gKiAgIC8vIFtTeW1ib2xdIHN5bnRheCB3aWxsIG5vdCBiZSBzdXBwb3J0ZWQgYnkgVHlwZVNjcmlwdCB1bnRpbCB2Mi43XG4gKiAgIHN0YXRpYyBuZ0NvbXBvbmVudERlZiA9IGRlZmluZUNvbXBvbmVudCh7XG4gKiAgICAgLi4uXG4gKiAgIH0pO1xuICogfVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGRlZmluZUNvbXBvbmVudChjb21wb25lbnREZWZpbml0aW9uKSB7XG4gICAgdmFyIHR5cGUgPSBjb21wb25lbnREZWZpbml0aW9uLnR5cGU7XG4gICAgdmFyIHR5cGVQcm90b3R5cGUgPSB0eXBlLnByb3RvdHlwZTtcbiAgICB2YXIgZGVjbGFyZWRJbnB1dHMgPSB7fTtcbiAgICB2YXIgZGVmID0ge1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBwcm92aWRlcnNSZXNvbHZlcjogbnVsbCxcbiAgICAgICAgY29uc3RzOiBjb21wb25lbnREZWZpbml0aW9uLmNvbnN0cyxcbiAgICAgICAgdmFyczogY29tcG9uZW50RGVmaW5pdGlvbi52YXJzLFxuICAgICAgICBmYWN0b3J5OiBjb21wb25lbnREZWZpbml0aW9uLmZhY3RvcnksXG4gICAgICAgIHRlbXBsYXRlOiBjb21wb25lbnREZWZpbml0aW9uLnRlbXBsYXRlIHx8IG51bGwsXG4gICAgICAgIGhvc3RCaW5kaW5nczogY29tcG9uZW50RGVmaW5pdGlvbi5ob3N0QmluZGluZ3MgfHwgbnVsbCxcbiAgICAgICAgY29udGVudFF1ZXJpZXM6IGNvbXBvbmVudERlZmluaXRpb24uY29udGVudFF1ZXJpZXMgfHwgbnVsbCxcbiAgICAgICAgY29udGVudFF1ZXJpZXNSZWZyZXNoOiBjb21wb25lbnREZWZpbml0aW9uLmNvbnRlbnRRdWVyaWVzUmVmcmVzaCB8fCBudWxsLFxuICAgICAgICBhdHRyaWJ1dGVzOiBjb21wb25lbnREZWZpbml0aW9uLmF0dHJpYnV0ZXMgfHwgbnVsbCxcbiAgICAgICAgZGVjbGFyZWRJbnB1dHM6IGRlY2xhcmVkSW5wdXRzLFxuICAgICAgICBpbnB1dHM6IG51bGwsXG4gICAgICAgIG91dHB1dHM6IG51bGwsXG4gICAgICAgIGV4cG9ydEFzOiBjb21wb25lbnREZWZpbml0aW9uLmV4cG9ydEFzIHx8IG51bGwsXG4gICAgICAgIG9uSW5pdDogdHlwZVByb3RvdHlwZS5uZ09uSW5pdCB8fCBudWxsLFxuICAgICAgICBkb0NoZWNrOiB0eXBlUHJvdG90eXBlLm5nRG9DaGVjayB8fCBudWxsLFxuICAgICAgICBhZnRlckNvbnRlbnRJbml0OiB0eXBlUHJvdG90eXBlLm5nQWZ0ZXJDb250ZW50SW5pdCB8fCBudWxsLFxuICAgICAgICBhZnRlckNvbnRlbnRDaGVja2VkOiB0eXBlUHJvdG90eXBlLm5nQWZ0ZXJDb250ZW50Q2hlY2tlZCB8fCBudWxsLFxuICAgICAgICBhZnRlclZpZXdJbml0OiB0eXBlUHJvdG90eXBlLm5nQWZ0ZXJWaWV3SW5pdCB8fCBudWxsLFxuICAgICAgICBhZnRlclZpZXdDaGVja2VkOiB0eXBlUHJvdG90eXBlLm5nQWZ0ZXJWaWV3Q2hlY2tlZCB8fCBudWxsLFxuICAgICAgICBvbkRlc3Ryb3k6IHR5cGVQcm90b3R5cGUubmdPbkRlc3Ryb3kgfHwgbnVsbCxcbiAgICAgICAgb25QdXNoOiBjb21wb25lbnREZWZpbml0aW9uLmNoYW5nZURldGVjdGlvbiA9PT0gQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgICAgICBkaXJlY3RpdmVEZWZzOiBudWxsLFxuICAgICAgICBwaXBlRGVmczogbnVsbCxcbiAgICAgICAgc2VsZWN0b3JzOiBjb21wb25lbnREZWZpbml0aW9uLnNlbGVjdG9ycyxcbiAgICAgICAgdmlld1F1ZXJ5OiBjb21wb25lbnREZWZpbml0aW9uLnZpZXdRdWVyeSB8fCBudWxsLFxuICAgICAgICBmZWF0dXJlczogY29tcG9uZW50RGVmaW5pdGlvbi5mZWF0dXJlcyB8fCBudWxsLFxuICAgICAgICBkYXRhOiBjb21wb25lbnREZWZpbml0aW9uLmRhdGEgfHwge30sXG4gICAgICAgIC8vIFRPRE8obWlza28pOiBjb252ZXJ0IFZpZXdFbmNhcHN1bGF0aW9uIGludG8gY29uc3QgZW51bSBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGRpcmVjdGx5IGluIHRoZVxuICAgICAgICAvLyBuZXh0IGxpbmUuIEFsc28gYE5vbmVgIHNob3VsZCBiZSAwIG5vdCAyLlxuICAgICAgICBlbmNhcHN1bGF0aW9uOiBjb21wb25lbnREZWZpbml0aW9uLmVuY2Fwc3VsYXRpb24gfHwgVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWQsXG4gICAgICAgIGlkOiAnYycsXG4gICAgICAgIHN0eWxlczogY29tcG9uZW50RGVmaW5pdGlvbi5zdHlsZXMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgIF86IG51bGwsXG4gICAgfTtcbiAgICBkZWYuXyA9IG5vU2lkZUVmZmVjdHMoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlVHlwZXMgPSBjb21wb25lbnREZWZpbml0aW9uLmRpcmVjdGl2ZXM7XG4gICAgICAgIHZhciBmZWF0dXJlID0gY29tcG9uZW50RGVmaW5pdGlvbi5mZWF0dXJlcztcbiAgICAgICAgdmFyIHBpcGVUeXBlcyA9IGNvbXBvbmVudERlZmluaXRpb24ucGlwZXM7XG4gICAgICAgIGRlZi5pZCArPSBfcmVuZGVyQ29tcENvdW50Kys7XG4gICAgICAgIGRlZi5pbnB1dHMgPSBpbnZlcnRPYmplY3QoY29tcG9uZW50RGVmaW5pdGlvbi5pbnB1dHMsIGRlY2xhcmVkSW5wdXRzKSxcbiAgICAgICAgICAgIGRlZi5vdXRwdXRzID0gaW52ZXJ0T2JqZWN0KGNvbXBvbmVudERlZmluaXRpb24ub3V0cHV0cyksXG4gICAgICAgICAgICBmZWF0dXJlICYmIGZlYXR1cmUuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuKGRlZik7IH0pO1xuICAgICAgICBkZWYuZGlyZWN0aXZlRGVmcyA9IGRpcmVjdGl2ZVR5cGVzID9cbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuICh0eXBlb2YgZGlyZWN0aXZlVHlwZXMgPT09ICdmdW5jdGlvbicgPyBkaXJlY3RpdmVUeXBlcygpIDogZGlyZWN0aXZlVHlwZXMpXG4gICAgICAgICAgICAgICAgLm1hcChleHRyYWN0RGlyZWN0aXZlRGVmKTsgfSA6XG4gICAgICAgICAgICBudWxsO1xuICAgICAgICBkZWYucGlwZURlZnMgPSBwaXBlVHlwZXMgP1xuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gKHR5cGVvZiBwaXBlVHlwZXMgPT09ICdmdW5jdGlvbicgPyBwaXBlVHlwZXMoKSA6IHBpcGVUeXBlcykubWFwKGV4dHJhY3RQaXBlRGVmKTsgfSA6XG4gICAgICAgICAgICBudWxsO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWY7XG59XG5mdW5jdGlvbiBleHRyYWN0RGlyZWN0aXZlRGVmKHR5cGUpIHtcbiAgICB2YXIgZGVmID0gZ2V0Q29tcG9uZW50RGVmKHR5cGUpIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKTtcbiAgICBpZiAobmdEZXZNb2RlICYmICFkZWYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ1wiICsgdHlwZS5uYW1lICsgXCInIGlzIG5laXRoZXIgJ0NvbXBvbmVudFR5cGUnIG9yICdEaXJlY3RpdmVUeXBlJy5cIik7XG4gICAgfVxuICAgIHJldHVybiBkZWY7XG59XG5mdW5jdGlvbiBleHRyYWN0UGlwZURlZih0eXBlKSB7XG4gICAgdmFyIGRlZiA9IGdldFBpcGVEZWYodHlwZSk7XG4gICAgaWYgKG5nRGV2TW9kZSAmJiAhZGVmKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIidcIiArIHR5cGUubmFtZSArIFwiJyBpcyBub3QgYSAnUGlwZVR5cGUnLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZjtcbn1cbmZ1bmN0aW9uIGRlZmluZU5nTW9kdWxlKGRlZikge1xuICAgIHZhciByZXMgPSB7XG4gICAgICAgIHR5cGU6IGRlZi50eXBlLFxuICAgICAgICBib290c3RyYXA6IGRlZi5ib290c3RyYXAgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgIGRlY2xhcmF0aW9uczogZGVmLmRlY2xhcmF0aW9ucyB8fCBFTVBUWV9BUlJBWSxcbiAgICAgICAgaW1wb3J0czogZGVmLmltcG9ydHMgfHwgRU1QVFlfQVJSQVksXG4gICAgICAgIGV4cG9ydHM6IGRlZi5leHBvcnRzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICB0cmFuc2l0aXZlQ29tcGlsZVNjb3BlczogbnVsbCxcbiAgICB9O1xuICAgIHJldHVybiByZXM7XG59XG4vKipcbiAqIEludmVydHMgYW4gaW5wdXRzIG9yIG91dHB1dHMgbG9va3VwIHN1Y2ggdGhhdCB0aGUga2V5cywgd2hpY2ggd2VyZSB0aGVcbiAqIG1pbmlmaWVkIGtleXMsIGFyZSBwYXJ0IG9mIHRoZSB2YWx1ZXMsIGFuZCB0aGUgdmFsdWVzIGFyZSBwYXJzZWQgc28gdGhhdFxuICogdGhlIHB1YmxpY05hbWUgb2YgdGhlIHByb3BlcnR5IGlzIHRoZSBuZXcga2V5XG4gKlxuICogZS5nLiBmb3JcbiAqXG4gKiBgYGBcbiAqIGNsYXNzIENvbXAge1xuICogICBASW5wdXQoKVxuICogICBwcm9wTmFtZTE6IHN0cmluZztcbiAqXG4gKiAgIEBJbnB1dCgncHVibGljTmFtZTInKVxuICogICBkZWNsYXJlZFByb3BOYW1lMjogbnVtYmVyO1xuICogfVxuICogYGBgXG4gKlxuICogd2lsbCBiZSBzZXJpYWxpemVkIGFzXG4gKlxuICogYGBgXG4gKiB7XG4gKiAgIHByb3BOYW1lMTogJ3Byb3BOYW1lMScsXG4gKiAgIGRlY2xhcmVkUHJvcE5hbWUyOiBbJ3B1YmxpY05hbWUyJywgJ2RlY2xhcmVkUHJvcE5hbWUyJ10sXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiB3aGljaCBpcyB0aGFuIHRyYW5zbGF0ZWQgYnkgdGhlIG1pbmlmaWVyIGFzOlxuICpcbiAqIGBgYFxuICoge1xuICogICBtaW5pZmllZFByb3BOYW1lMTogJ3Byb3BOYW1lMScsXG4gKiAgIG1pbmlmaWVkUHJvcE5hbWUyOiBbJ3B1YmxpY05hbWUyJywgJ2RlY2xhcmVkUHJvcE5hbWUyJ10sXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBiZWNvbWVzOiAocHVibGljIG5hbWUgPT4gbWluaWZpZWROYW1lKVxuICpcbiAqIGBgYFxuICoge1xuICogICdwcm9wTmFtZTEnOiAnbWluaWZpZWRQcm9wTmFtZTEnLFxuICogICdwdWJsaWNOYW1lMic6ICdtaW5pZmllZFByb3BOYW1lMicsXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBPcHRpb25hbGx5IHRoZSBmdW5jdGlvbiBjYW4gdGFrZSBgc2Vjb25kYXJ5YCB3aGljaCB3aWxsIHJlc3VsdCBpbjogKHB1YmxpYyBuYW1lID0+IGRlY2xhcmVkIG5hbWUpXG4gKlxuICogYGBgXG4gKiB7XG4gKiAgJ3Byb3BOYW1lMSc6ICdwcm9wTmFtZTEnLFxuICogICdwdWJsaWNOYW1lMic6ICdkZWNsYXJlZFByb3BOYW1lMicsXG4gKiB9XG4gKiBgYGBcbiAqXG5cbiAqL1xuZnVuY3Rpb24gaW52ZXJ0T2JqZWN0KG9iaiwgc2Vjb25kYXJ5KSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKVxuICAgICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIHZhciBuZXdMb29rdXAgPSB7fTtcbiAgICBmb3IgKHZhciBtaW5pZmllZEtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShtaW5pZmllZEtleSkpIHtcbiAgICAgICAgICAgIHZhciBwdWJsaWNOYW1lID0gb2JqW21pbmlmaWVkS2V5XTtcbiAgICAgICAgICAgIHZhciBkZWNsYXJlZE5hbWUgPSBwdWJsaWNOYW1lO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHVibGljTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBkZWNsYXJlZE5hbWUgPSBwdWJsaWNOYW1lWzFdO1xuICAgICAgICAgICAgICAgIHB1YmxpY05hbWUgPSBwdWJsaWNOYW1lWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3TG9va3VwW3B1YmxpY05hbWVdID0gbWluaWZpZWRLZXk7XG4gICAgICAgICAgICBpZiAoc2Vjb25kYXJ5KSB7XG4gICAgICAgICAgICAgICAgKHNlY29uZGFyeVtwdWJsaWNOYW1lXSA9IGRlY2xhcmVkTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld0xvb2t1cDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgYmFzZSBkZWZpbml0aW9uXG4gKlxuICogIyBFeGFtcGxlXG4gKiBgYGBcbiAqIGNsYXNzIFNob3VsZEJlSW5oZXJpdGVkIHtcbiAqICAgc3RhdGljIG5nQmFzZURlZiA9IGRlZmluZUJhc2Uoe1xuICogICAgICAuLi5cbiAqICAgfSlcbiAqIH1cbiAqIEBwYXJhbSBiYXNlRGVmaW5pdGlvbiBUaGUgYmFzZSBkZWZpbml0aW9uIHBhcmFtZXRlcnNcbiAqL1xuZnVuY3Rpb24gZGVmaW5lQmFzZShiYXNlRGVmaW5pdGlvbikge1xuICAgIHZhciBkZWNsYXJlZElucHV0cyA9IHt9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGlucHV0czogaW52ZXJ0T2JqZWN0KGJhc2VEZWZpbml0aW9uLmlucHV0cywgZGVjbGFyZWRJbnB1dHMpLFxuICAgICAgICBkZWNsYXJlZElucHV0czogZGVjbGFyZWRJbnB1dHMsXG4gICAgICAgIG91dHB1dHM6IGludmVydE9iamVjdChiYXNlRGVmaW5pdGlvbi5vdXRwdXRzKSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QuXG4gKlxuICogIyBFeGFtcGxlXG4gKiBgYGBcbiAqIGNsYXNzIE15RGlyZWN0aXZlIHtcbiAqICAgLy8gR2VuZXJhdGVkIGJ5IEFuZ3VsYXIgVGVtcGxhdGUgQ29tcGlsZXJcbiAqICAgLy8gW1N5bWJvbF0gc3ludGF4IHdpbGwgbm90IGJlIHN1cHBvcnRlZCBieSBUeXBlU2NyaXB0IHVudGlsIHYyLjdcbiAqICAgc3RhdGljIG5nRGlyZWN0aXZlRGVmID0gZGVmaW5lRGlyZWN0aXZlKHtcbiAqICAgICAuLi5cbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqL1xudmFyIGRlZmluZURpcmVjdGl2ZSA9IGRlZmluZUNvbXBvbmVudDtcbi8qKlxuICogQ3JlYXRlIGEgcGlwZSBkZWZpbml0aW9uIG9iamVjdC5cbiAqXG4gKiAjIEV4YW1wbGVcbiAqIGBgYFxuICogY2xhc3MgTXlQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG4gKiAgIC8vIEdlbmVyYXRlZCBieSBBbmd1bGFyIFRlbXBsYXRlIENvbXBpbGVyXG4gKiAgIHN0YXRpYyBuZ1BpcGVEZWYgPSBkZWZpbmVQaXBlKHtcbiAqICAgICAuLi5cbiAqICAgfSk7XG4gKiB9XG4gKiBgYGBcbiAqIEBwYXJhbSBwaXBlRGVmIFBpcGUgZGVmaW5pdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIGNvbXBpbGVyXG4gKi9cbmZ1bmN0aW9uIGRlZmluZVBpcGUocGlwZURlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IHBpcGVEZWYubmFtZSxcbiAgICAgICAgZmFjdG9yeTogcGlwZURlZi5mYWN0b3J5LFxuICAgICAgICBwdXJlOiBwaXBlRGVmLnB1cmUgIT09IGZhbHNlLFxuICAgICAgICBvbkRlc3Ryb3k6IHBpcGVEZWYudHlwZS5wcm90b3R5cGUubmdPbkRlc3Ryb3kgfHwgbnVsbFxuICAgIH07XG59XG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZ2V0dGVyIG1ldGhvZHMgcmV0cmlldmUgdGhlIGRlZmluaXRpb24gZm9ybSB0aGUgdHlwZS4gQ3VycmVudGx5IHRoZSByZXRyaWV2YWxcbiAqIGhvbm9ycyBpbmhlcml0YW5jZSwgYnV0IGluIHRoZSBmdXR1cmUgd2UgbWF5IGNoYW5nZSB0aGUgcnVsZSB0byByZXF1aXJlIHRoYXQgZGVmaW5pdGlvbnMgYXJlXG4gKiBleHBsaWNpdC4gVGhpcyB3b3VsZCByZXF1aXJlIHNvbWUgc29ydCBvZiBtaWdyYXRpb24gc3RyYXRlZ3kuXG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudERlZih0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVbTkdfQ09NUE9ORU5UX0RFRl0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZURlZih0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVbTkdfRElSRUNUSVZFX0RFRl0gfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIGdldFBpcGVEZWYodHlwZSkge1xuICAgIHJldHVybiB0eXBlW05HX1BJUEVfREVGXSB8fCBudWxsO1xufVxuZnVuY3Rpb24gZ2V0TmdNb2R1bGVEZWYodHlwZSwgdGhyb3dOb3RGb3VuZCkge1xuICAgIHZhciBuZ01vZHVsZURlZiA9IHR5cGVbTkdfTU9EVUxFX0RFRl0gfHwgbnVsbDtcbiAgICBpZiAoIW5nTW9kdWxlRGVmICYmIHRocm93Tm90Rm91bmQgPT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHlwZSBcIiArIHN0cmluZ2lmeSh0eXBlKSArIFwiIGRvZXMgbm90IGhhdmUgJ25nTW9kdWxlRGVmJyBwcm9wZXJ0eS5cIik7XG4gICAgfVxuICAgIHJldHVybiBuZ01vZHVsZURlZjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKGFjdHVhbCAhPSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Tm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKGFjdHVhbCA9PSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0TGVzc1RoYW4oYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKGFjdHVhbCA+PSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0R3JlYXRlclRoYW4oYWN0dWFsLCBleHBlY3RlZCwgbXNnKSB7XG4gICAgaWYgKGFjdHVhbCA8PSBleHBlY3RlZCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0RGVmaW5lZChhY3R1YWwsIG1zZykge1xuICAgIGlmIChhY3R1YWwgPT0gbnVsbCkge1xuICAgICAgICB0aHJvd0Vycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzZXJ0Q29tcG9uZW50VHlwZShhY3R1YWwsIG1zZykge1xuICAgIGlmIChtc2cgPT09IHZvaWQgMCkgeyBtc2cgPSAnVHlwZSBwYXNzZWQgaW4gaXMgbm90IENvbXBvbmVudFR5cGUsIGl0IGRvZXMgbm90IGhhdmUgXFwnbmdDb21wb25lbnREZWZcXCcgcHJvcGVydHkuJzsgfVxuICAgIGlmICghZ2V0Q29tcG9uZW50RGVmKGFjdHVhbCkpIHtcbiAgICAgICAgdGhyb3dFcnJvcihtc2cpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE5nTW9kdWxlVHlwZShhY3R1YWwsIG1zZykge1xuICAgIGlmIChtc2cgPT09IHZvaWQgMCkgeyBtc2cgPSAnVHlwZSBwYXNzZWQgaW4gaXMgbm90IE5nTW9kdWxlVHlwZSwgaXQgZG9lcyBub3QgaGF2ZSBcXCduZ01vZHVsZURlZlxcJyBwcm9wZXJ0eS4nOyB9XG4gICAgaWYgKCFnZXROZ01vZHVsZURlZihhY3R1YWwpKSB7XG4gICAgICAgIHRocm93RXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aHJvd0Vycm9yKG1zZykge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgIGRlYnVnZ2VyOyAvLyBMZWZ0IGludGVudGlvbmFsbHkgZm9yIGJldHRlciBkZWJ1Z2dlciBleHBlcmllbmNlLlxuICAgIHRocm93IG5ldyBFcnJvcihcIkFTU0VSVElPTiBFUlJPUjogXCIgKyBtc2cpO1xufVxuZnVuY3Rpb24gYXNzZXJ0RG9tTm9kZShub2RlKSB7XG4gICAgYXNzZXJ0RXF1YWwobm9kZSBpbnN0YW5jZW9mIE5vZGUsIHRydWUsICdUaGUgcHJvdmlkZWQgdmFsdWUgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBhIERPTSBOb2RlJyk7XG59XG5mdW5jdGlvbiBhc3NlcnRQcmV2aW91c0lzUGFyZW50KGlzUGFyZW50KSB7XG4gICAgYXNzZXJ0RXF1YWwoaXNQYXJlbnQsIHRydWUsICdwcmV2aW91c09yUGFyZW50VE5vZGUgc2hvdWxkIGJlIGEgcGFyZW50Jyk7XG59XG5mdW5jdGlvbiBhc3NlcnRIYXNQYXJlbnQodE5vZGUpIHtcbiAgICBhc3NlcnREZWZpbmVkKHROb2RlLnBhcmVudCwgJ3ByZXZpb3VzT3JQYXJlbnRUTm9kZSBzaG91bGQgaGF2ZSBhIHBhcmVudCcpO1xufVxuZnVuY3Rpb24gYXNzZXJ0RGF0YUluUmFuZ2UoYXJyLCBpbmRleCkge1xuICAgIGFzc2VydExlc3NUaGFuKGluZGV4LCBhcnIgPyBhcnIubGVuZ3RoIDogMCwgJ2luZGV4IGV4cGVjdGVkIHRvIGJlIGEgdmFsaWQgZGF0YSBpbmRleCcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBCZWxvdyBhcmUgY29uc3RhbnRzIGZvciBMVmlldyBpbmRpY2VzIHRvIGhlbHAgdXMgbG9vayB1cCBMVmlldyBtZW1iZXJzXG4vLyB3aXRob3V0IGhhdmluZyB0byByZW1lbWJlciB0aGUgc3BlY2lmaWMgaW5kaWNlcy5cbi8vIFVnbGlmeSB3aWxsIGlubGluZSB0aGVzZSB3aGVuIG1pbmlmeWluZyBzbyB0aGVyZSBzaG91bGRuJ3QgYmUgYSBjb3N0LlxudmFyIFRWSUVXID0gMDtcbnZhciBGTEFHUyA9IDE7XG52YXIgUEFSRU5UID0gMjtcbnZhciBORVhUID0gMztcbnZhciBRVUVSSUVTID0gNDtcbnZhciBIT1NUID0gNTtcbnZhciBIT1NUX05PREUgPSA2OyAvLyBSZW5hbWUgdG8gYFRfSE9TVGA/XG52YXIgQklORElOR19JTkRFWCA9IDc7XG52YXIgQ0xFQU5VUCA9IDg7XG52YXIgQ09OVEVYVCA9IDk7XG52YXIgSU5KRUNUT1IgPSAxMDtcbnZhciBSRU5ERVJFUl9GQUNUT1JZID0gMTE7XG52YXIgUkVOREVSRVIgPSAxMjtcbnZhciBTQU5JVElaRVIgPSAxMztcbnZhciBUQUlMID0gMTQ7XG52YXIgQ09OVEFJTkVSX0lOREVYID0gMTU7XG52YXIgQ09OVEVOVF9RVUVSSUVTID0gMTY7XG52YXIgREVDTEFSQVRJT05fVklFVyA9IDE3O1xuLyoqIFNpemUgb2YgTFZpZXcncyBoZWFkZXIuIE5lY2Vzc2FyeSB0byBhZGp1c3QgZm9yIGl0IHdoZW4gc2V0dGluZyBzbG90cy4gICovXG52YXIgSEVBREVSX09GRlNFVCA9IDE4O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJlbG93IGFyZSBjb25zdGFudHMgZm9yIExDb250YWluZXIgaW5kaWNlcyB0byBoZWxwIHVzIGxvb2sgdXAgTENvbnRhaW5lciBtZW1iZXJzXG4gKiB3aXRob3V0IGhhdmluZyB0byByZW1lbWJlciB0aGUgc3BlY2lmaWMgaW5kaWNlcy5cbiAqIFVnbGlmeSB3aWxsIGlubGluZSB0aGVzZSB3aGVuIG1pbmlmeWluZyBzbyB0aGVyZSBzaG91bGRuJ3QgYmUgYSBjb3N0LlxuICovXG52YXIgQUNUSVZFX0lOREVYID0gMDtcbnZhciBWSUVXUyA9IDE7XG4vLyBQQVJFTlQsIE5FWFQsIFFVRVJJRVMsIGFuZCBIT1NUIGFyZSBpbmRpY2VzIDIsIDMsIDQsIGFuZCA1LlxuLy8gQXMgd2UgYWxyZWFkeSBoYXZlIHRoZXNlIGNvbnN0YW50cyBpbiBMVmlldywgd2UgZG9uJ3QgbmVlZCB0byByZS1jcmVhdGUgdGhlbS5cbnZhciBOQVRJVkUgPSA2O1xudmFyIFJFTkRFUl9QQVJFTlQgPSA3O1xuLy8gQmVjYXVzZSBpbnRlcmZhY2VzIGluIFRTL0pTIGNhbm5vdCBiZSBpbnN0YW5jZW9mLWNoZWNrZWQgdGhpcyBtZWFucyB0aGF0IHdlXG4vLyBuZWVkIHRvIHJlbHkgb24gcHJlZGljdGFibGUgY2hhcmFjdGVyaXN0aWNzIG9mIGRhdGEtc3RydWN0dXJlcyB0byBjaGVjayBpZiB0aGV5XG4vLyBhcmUgd2hhdCB3ZSBleHBlY3QgZm9yIHRoZW0gdG8gYmUuIFRoZSBgTENvbnRhaW5lcmAgaW50ZXJmYWNlIGNvZGUgYmVsb3cgaGFzIGFcbi8vIGZpeGVkIGxlbmd0aCBhbmQgdGhlIGNvbnN0YW50IHZhbHVlIGJlbG93IHJlZmVyZW5jZXMgdGhhdC4gVXNpbmcgdGhlIGxlbmd0aCB2YWx1ZVxuLy8gYmVsb3cgd2UgY2FuIHByZWRpY3RhYmx5IGdhdXJhbnRlZSB0aGF0IHdlIGFyZSBkZWFsaW5nIHdpdGggYW4gYExDb250YWluZXJgIGFycmF5LlxuLy8gVGhpcyB2YWx1ZSBNVVNUIGJlIGtlcHQgdXAgdG8gZGF0ZSB3aXRoIHRoZSBsZW5ndGggb2YgdGhlIGBMQ29udGFpbmVyYCBhcnJheVxuLy8gaW50ZXJmYWNlIGJlbG93IHNvIHRoYXQgcnVudGltZSB0eXBlIGNoZWNraW5nIGNhbiB3b3JrLlxudmFyIExDT05UQUlORVJfTEVOR1RIID0gODtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBUaGlzIHByb3BlcnR5IHdpbGwgYmUgbW9ua2V5LXBhdGNoZWQgb24gZWxlbWVudHMsIGNvbXBvbmVudHMgYW5kIGRpcmVjdGl2ZXNcbiAqL1xudmFyIE1PTktFWV9QQVRDSF9LRVlfTkFNRSA9ICdfX25nQ29udGV4dF9fJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIFROT0RFID0gODtcbnZhciBQQVJFTlRfSU5KRUNUT1IgPSA4O1xudmFyIElOSkVDVE9SX0JMT09NX1BBUkVOVF9TSVpFID0gOTtcbnZhciBOT19QQVJFTlRfSU5KRUNUT1IgPSAtMTtcbi8qKlxuICogRWFjaCBpbmplY3RvciBpcyBzYXZlZCBpbiA5IGNvbnRpZ3VvdXMgc2xvdHMgaW4gYExWaWV3YCBhbmQgOSBjb250aWd1b3VzIHNsb3RzIGluXG4gKiBgVFZpZXcuZGF0YWAuIFRoaXMgYWxsb3dzIHVzIHRvIHN0b3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IG5vZGUncyB0b2tlbnMgKHdoaWNoXG4gKiBjYW4gYmUgc2hhcmVkIGluIGBUVmlld2ApIGFzIHdlbGwgYXMgdGhlIHRva2VucyBvZiBpdHMgYW5jZXN0b3Igbm9kZXMgKHdoaWNoIGNhbm5vdCBiZVxuICogc2hhcmVkLCBzbyB0aGV5IGxpdmUgaW4gYExWaWV3YCkuXG4gKlxuICogRWFjaCBvZiB0aGVzZSBzbG90cyAoYXNpZGUgZnJvbSB0aGUgbGFzdCBzbG90KSBjb250YWlucyBhIGJsb29tIGZpbHRlci4gVGhpcyBibG9vbSBmaWx0ZXJcbiAqIGRldGVybWluZXMgd2hldGhlciBhIGRpcmVjdGl2ZSBpcyBhdmFpbGFibGUgb24gdGhlIGFzc29jaWF0ZWQgbm9kZSBvciBub3QuIFRoaXMgcHJldmVudHMgdXNcbiAqIGZyb20gc2VhcmNoaW5nIHRoZSBkaXJlY3RpdmVzIGFycmF5IGF0IHRoaXMgbGV2ZWwgdW5sZXNzIGl0J3MgcHJvYmFibGUgdGhlIGRpcmVjdGl2ZSBpcyBpbiBpdC5cbiAqXG4gKiBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jsb29tX2ZpbHRlciBmb3IgbW9yZSBhYm91dCBibG9vbSBmaWx0ZXJzLlxuICpcbiAqIEJlY2F1c2UgYWxsIGluamVjdG9ycyBoYXZlIGJlZW4gZmxhdHRlbmVkIGludG8gYExWaWV3YCBhbmQgYFRWaWV3RGF0YWAsIHRoZXkgY2Fubm90IHR5cGVkXG4gKiB1c2luZyBpbnRlcmZhY2VzIGFzIHRoZXkgd2VyZSBwcmV2aW91c2x5LiBUaGUgc3RhcnQgaW5kZXggb2YgZWFjaCBgTEluamVjdG9yYCBhbmQgYFRJbmplY3RvcmBcbiAqIHdpbGwgZGlmZmVyIGJhc2VkIG9uIHdoZXJlIGl0IGlzIGZsYXR0ZW5lZCBpbnRvIHRoZSBtYWluIGFycmF5LCBzbyBpdCdzIG5vdCBwb3NzaWJsZSB0byBrbm93XG4gKiB0aGUgaW5kaWNlcyBhaGVhZCBvZiB0aW1lIGFuZCBzYXZlIHRoZWlyIHR5cGVzIGhlcmUuIFRoZSBpbnRlcmZhY2VzIGFyZSBzdGlsbCBpbmNsdWRlZCBoZXJlXG4gKiBmb3IgZG9jdW1lbnRhdGlvbiBwdXJwb3Nlcy5cbiAqXG4gKiBleHBvcnQgaW50ZXJmYWNlIExJbmplY3RvciBleHRlbmRzIEFycmF5PGFueT4ge1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMC0zMSAgKElEcyBhcmUgJSBCTE9PTV9TSVpFKVxuICogICAgWzBdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAzMi02M1xuICogICAgWzFdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyA2NC05NVxuICogICAgWzJdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyA5Ni0xMjdcbiAqICAgIFszXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTI4LTE1OVxuICogICAgWzRdOiBudW1iZXI7XG4gKlxuICogICAgLy8gQ3VtdWxhdGl2ZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxNjAgLSAxOTFcbiAqICAgIFs1XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIEN1bXVsYXRpdmUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTkyIC0gMjIzXG4gKiAgICBbNl06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBDdW11bGF0aXZlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDIyNCAtIDI1NVxuICogICAgWzddOiBudW1iZXI7XG4gKlxuICogICAgLy8gV2UgbmVlZCB0byBzdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgaW5qZWN0b3IncyBwYXJlbnQgc28gREkgY2FuIGtlZXAgbG9va2luZyB1cFxuICogICAgLy8gdGhlIGluamVjdG9yIHRyZWUgdW50aWwgaXQgZmluZHMgdGhlIGRlcGVuZGVuY3kgaXQncyBsb29raW5nIGZvci5cbiAqICAgIFtQQVJFTlRfSU5KRUNUT1JdOiBudW1iZXI7XG4gKiB9XG4gKlxuICogZXhwb3J0IGludGVyZmFjZSBUSW5qZWN0b3IgZXh0ZW5kcyBBcnJheTxhbnk+IHtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAwLTMxICAoSURzIGFyZSAlIEJMT09NX1NJWkUpXG4gKiAgICBbMF06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAzMi02M1xuICogICAgWzFdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgNjQtOTVcbiAqICAgIFsyXTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDk2LTEyN1xuICogICAgWzNdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTI4LTE1OVxuICogICAgWzRdOiBudW1iZXI7XG4gKlxuICogICAgLy8gU2hhcmVkIG5vZGUgYmxvb20gZm9yIGRpcmVjdGl2ZSBJRHMgMTYwIC0gMTkxXG4gKiAgICBbNV06IG51bWJlcjtcbiAqXG4gKiAgICAvLyBTaGFyZWQgbm9kZSBibG9vbSBmb3IgZGlyZWN0aXZlIElEcyAxOTIgLSAyMjNcbiAqICAgIFs2XTogbnVtYmVyO1xuICpcbiAqICAgIC8vIFNoYXJlZCBub2RlIGJsb29tIGZvciBkaXJlY3RpdmUgSURzIDIyNCAtIDI1NVxuICogICAgWzddOiBudW1iZXI7XG4gKlxuICogICAgLy8gTmVjZXNzYXJ5IHRvIGZpbmQgZGlyZWN0aXZlIGluZGljZXMgZm9yIGEgcGFydGljdWxhciBub2RlLlxuICogICAgW1ROT0RFXTogVEVsZW1lbnROb2RlfFRFbGVtZW50Q29udGFpbmVyTm9kZXxUQ29udGFpbmVyTm9kZTtcbiAqICB9XG4gKi9cbi8qKlxuKiBGYWN0b3J5IGZvciBjcmVhdGluZyBpbnN0YW5jZXMgb2YgaW5qZWN0b3JzIGluIHRoZSBOb2RlSW5qZWN0b3IuXG4qXG4qIFRoaXMgZmFjdG9yeSBpcyBjb21wbGljYXRlZCBieSB0aGUgZmFjdCB0aGF0IGl0IGNhbiByZXNvbHZlIGBtdWx0aWAgZmFjdG9yaWVzIGFzIHdlbGwuXG4qXG4qIE5PVEU6IFNvbWUgb2YgdGhlIGZpZWxkcyBhcmUgb3B0aW9uYWwgd2hpY2ggbWVhbnMgdGhhdCB0aGlzIGNsYXNzIGhhcyB0d28gaGlkZGVuIGNsYXNzZXMuXG4qIC0gT25lIHdpdGhvdXQgYG11bHRpYCBzdXBwb3J0IChtb3N0IGNvbW1vbilcbiogLSBPbmUgd2l0aCBgbXVsdGlgIHZhbHVlcywgKHJhcmUpLlxuKlxuKiBTaW5jZSBWTXMgY2FuIGNhY2hlIHVwIHRvIDQgaW5saW5lIGhpZGRlbiBjbGFzc2VzIHRoaXMgaXMgT0suXG4qXG4qIC0gU2luZ2xlIGZhY3Rvcnk6IE9ubHkgYHJlc29sdmluZ2AgYW5kIGBmYWN0b3J5YCBpcyBkZWZpbmVkLlxuKiAtIGBwcm92aWRlcnNgIGZhY3Rvcnk6IGBjb21wb25lbnRQcm92aWRlcnNgIGlzIGEgbnVtYmVyIGFuZCBgaW5kZXggPSAtMWAuXG4qIC0gYHZpZXdQcm92aWRlcnNgIGZhY3Rvcnk6IGBjb21wb25lbnRQcm92aWRlcnNgIGlzIGEgbnVtYmVyIGFuZCBgaW5kZXhgIHBvaW50cyB0byBgcHJvdmlkZXJzYC5cbiovXG52YXIgTm9kZUluamVjdG9yRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb2RlSW5qZWN0b3JGYWN0b3J5KFxuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgdG8gaW52b2tlIGluIG9yZGVyIHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmYWN0b3J5LCBcbiAgICAvKipcbiAgICAgKiBTZXQgdG8gYHRydWVgIGlmIHRoZSB0b2tlbiBpcyBkZWNsYXJlZCBpbiBgdmlld1Byb3ZpZGVyc2AgKG9yIGlmIGl0IGlzIGNvbXBvbmVudCkuXG4gICAgICovXG4gICAgaXNWaWV3UHJvdmlkZXIsIGluamVjdEltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXJrZXIgc2V0IHRvIHRydWUgZHVyaW5nIGZhY3RvcnkgaW52b2NhdGlvbiB0byBzZWUgaWYgd2UgZ2V0IGludG8gcmVjdXJzaXZlIGxvb3AuXG4gICAgICAgICAqIFJlY3Vyc2l2ZSBsb29wIGNhdXNlcyBhbiBlcnJvciB0byBiZSBkaXNwbGF5ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhblNlZVZpZXdQcm92aWRlcnMgPSBpc1ZpZXdQcm92aWRlcjtcbiAgICAgICAgdGhpcy5pbmplY3RJbXBsID0gaW5qZWN0SW1wbGVtZW50YXRpb247XG4gICAgfVxuICAgIHJldHVybiBOb2RlSW5qZWN0b3JGYWN0b3J5O1xufSgpKTtcbnZhciBGYWN0b3J5UHJvdG90eXBlID0gTm9kZUluamVjdG9yRmFjdG9yeS5wcm90b3R5cGU7XG5mdW5jdGlvbiBpc0ZhY3Rvcnkob2JqKSB7XG4gICAgLy8gU2VlOiBodHRwczovL2pzcGVyZi5jb20vaW5zdGFuY2VvZi12cy1nZXRwcm90b3R5cGVvZlxuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09ICdvYmplY3QnICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09IEZhY3RvcnlQcm90b3R5cGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCBmcm9tIGEgY2hhbmdlIGRldGVjdGlvbiBzdGFuZCBwb2ludC5cbiAqXG4gKiBDb25zdHJhaW50cyBhcmUgcmVsYXhlZCBpbiBjaGVja05vQ2hhbmdlcyBtb2RlLiBTZWUgYGRldk1vZGVFcXVhbGAgZm9yIGRldGFpbHMuXG4gKi9cbmZ1bmN0aW9uIGlzRGlmZmVyZW50KGEsIGIpIHtcbiAgICAvLyBOYU4gaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmIHNvIHRoZSBmaXJzdFxuICAgIC8vIHRlc3QgY2hlY2tzIGlmIGJvdGggYSBhbmQgYiBhcmUgbm90IE5hTlxuICAgIHJldHVybiAhKGEgIT09IGEgJiYgYiAhPT0gYikgJiYgYSAhPT0gYjtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeSQxKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKVxuICAgICAgICByZXR1cm4gdmFsdWUubmFtZSB8fCB2YWx1ZTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS50eXBlID09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB2YWx1ZS50eXBlLm5hbWUgfHwgdmFsdWUudHlwZTtcbiAgICByZXR1cm4gJycgKyB2YWx1ZTtcbn1cbi8qKlxuICogRmxhdHRlbnMgYW4gYXJyYXkgaW4gbm9uLXJlY3Vyc2l2ZSB3YXkuIElucHV0IGFycmF5cyBhcmUgbm90IG1vZGlmaWVkLlxuICovXG5mdW5jdGlvbiBmbGF0dGVuKGxpc3QpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxpc3QgPSBpdGVtLmNvbmNhdChsaXN0LnNsaWNlKGkgKyAxKSk7XG4gICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqIFJldHJpZXZlcyBhIHZhbHVlIGZyb20gYW55IGBMVmlld2Agb3IgYFREYXRhYC4gKi9cbmZ1bmN0aW9uIGxvYWRJbnRlcm5hbCh2aWV3LCBpbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREYXRhSW5SYW5nZSh2aWV3LCBpbmRleCArIEhFQURFUl9PRkZTRVQpO1xuICAgIHJldHVybiB2aWV3W2luZGV4ICsgSEVBREVSX09GRlNFVF07XG59XG4vKipcbiAqIFRha2VzIHRoZSB2YWx1ZSBvZiBhIHNsb3QgaW4gYExWaWV3YCBhbmQgcmV0dXJucyB0aGUgZWxlbWVudCBub2RlLlxuICpcbiAqIE5vcm1hbGx5LCBlbGVtZW50IG5vZGVzIGFyZSBzdG9yZWQgZmxhdCwgYnV0IGlmIHRoZSBub2RlIGhhcyBzdHlsZXMvY2xhc3NlcyBvbiBpdCxcbiAqIGl0IG1pZ2h0IGJlIHdyYXBwZWQgaW4gYSBzdHlsaW5nIGNvbnRleHQuIE9yIGlmIHRoYXQgbm9kZSBoYXMgYSBkaXJlY3RpdmUgdGhhdCBpbmplY3RzXG4gKiBWaWV3Q29udGFpbmVyUmVmLCBpdCBtYXkgYmUgd3JhcHBlZCBpbiBhbiBMQ29udGFpbmVyLiBPciBpZiB0aGF0IG5vZGUgaXMgYSBjb21wb25lbnQsXG4gKiBpdCB3aWxsIGJlIHdyYXBwZWQgaW4gTFZpZXcuIEl0IGNvdWxkIGV2ZW4gaGF2ZSBhbGwgdGhyZWUsIHNvIHdlIGtlZXAgbG9vcGluZ1xuICogdW50aWwgd2UgZmluZCBzb21ldGhpbmcgdGhhdCBpc24ndCBhbiBhcnJheS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgVGhlIGluaXRpYWwgdmFsdWUgaW4gYExWaWV3YFxuICovXG5mdW5jdGlvbiByZWFkRWxlbWVudFZhbHVlKHZhbHVlKSB7XG4gICAgd2hpbGUgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWVbSE9TVF07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogUmV0cmlldmVzIGFuIGVsZW1lbnQgdmFsdWUgZnJvbSB0aGUgcHJvdmlkZWQgYHZpZXdEYXRhYCwgYnkgdW53cmFwcGluZ1xuICogZnJvbSBhbnkgY29udGFpbmVycywgY29tcG9uZW50IHZpZXdzLCBvciBzdHlsZSBjb250ZXh0cy5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlQnlJbmRleChpbmRleCwgbFZpZXcpIHtcbiAgICByZXR1cm4gcmVhZEVsZW1lbnRWYWx1ZShsVmlld1tpbmRleCArIEhFQURFUl9PRkZTRVRdKTtcbn1cbmZ1bmN0aW9uIGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGhvc3RWaWV3KSB7XG4gICAgcmV0dXJuIHJlYWRFbGVtZW50VmFsdWUoaG9zdFZpZXdbdE5vZGUuaW5kZXhdKTtcbn1cbmZ1bmN0aW9uIGdldFROb2RlKGluZGV4LCB2aWV3KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEdyZWF0ZXJUaGFuKGluZGV4LCAtMSwgJ3dyb25nIGluZGV4IGZvciBUTm9kZScpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRMZXNzVGhhbihpbmRleCwgdmlld1tUVklFV10uZGF0YS5sZW5ndGgsICd3cm9uZyBpbmRleCBmb3IgVE5vZGUnKTtcbiAgICByZXR1cm4gdmlld1tUVklFV10uZGF0YVtpbmRleCArIEhFQURFUl9PRkZTRVRdO1xufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50Vmlld0J5SW5kZXgobm9kZUluZGV4LCBob3N0Vmlldykge1xuICAgIC8vIENvdWxkIGJlIGFuIExWaWV3IG9yIGFuIExDb250YWluZXIuIElmIExDb250YWluZXIsIHVud3JhcCB0byBmaW5kIExWaWV3LlxuICAgIHZhciBzbG90VmFsdWUgPSBob3N0Vmlld1tub2RlSW5kZXhdO1xuICAgIHJldHVybiBzbG90VmFsdWUubGVuZ3RoID49IEhFQURFUl9PRkZTRVQgPyBzbG90VmFsdWUgOiBzbG90VmFsdWVbSE9TVF07XG59XG5mdW5jdGlvbiBpc0NvbnRlbnRRdWVyeUhvc3QodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgNCAvKiBoYXNDb250ZW50UXVlcnkgKi8pICE9PSAwO1xufVxuZnVuY3Rpb24gaXNDb21wb25lbnQodE5vZGUpIHtcbiAgICByZXR1cm4gKHROb2RlLmZsYWdzICYgMSAvKiBpc0NvbXBvbmVudCAqLykgPT09IDEgLyogaXNDb21wb25lbnQgKi87XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudERlZihkZWYpIHtcbiAgICByZXR1cm4gZGVmLnRlbXBsYXRlICE9PSBudWxsO1xufVxuZnVuY3Rpb24gaXNMQ29udGFpbmVyKHZhbHVlKSB7XG4gICAgLy8gU3R5bGluZyBjb250ZXh0cyBhcmUgYWxzbyBhcnJheXMsIGJ1dCB0aGVpciBmaXJzdCBpbmRleCBjb250YWlucyBhbiBlbGVtZW50IG5vZGVcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSBMQ09OVEFJTkVSX0xFTkdUSDtcbn1cbmZ1bmN0aW9uIGlzUm9vdFZpZXcodGFyZ2V0KSB7XG4gICAgcmV0dXJuICh0YXJnZXRbRkxBR1NdICYgMTI4IC8qIElzUm9vdCAqLykgIT09IDA7XG59XG4vKipcbiAqIFJldHJpZXZlIHRoZSByb290IHZpZXcgZnJvbSBhbnkgY29tcG9uZW50IGJ5IHdhbGtpbmcgdGhlIHBhcmVudCBgTFZpZXdgIHVudGlsXG4gKiByZWFjaGluZyB0aGUgcm9vdCBgTFZpZXdgLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgYW55IGNvbXBvbmVudFxuICovXG5mdW5jdGlvbiBnZXRSb290Vmlldyh0YXJnZXQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0YXJnZXQsICdjb21wb25lbnQnKTtcbiAgICB2YXIgbFZpZXcgPSBBcnJheS5pc0FycmF5KHRhcmdldCkgPyB0YXJnZXQgOiByZWFkUGF0Y2hlZExWaWV3KHRhcmdldCk7XG4gICAgd2hpbGUgKGxWaWV3ICYmICEobFZpZXdbRkxBR1NdICYgMTI4IC8qIElzUm9vdCAqLykpIHtcbiAgICAgICAgbFZpZXcgPSBsVmlld1tQQVJFTlRdO1xuICAgIH1cbiAgICByZXR1cm4gbFZpZXc7XG59XG5mdW5jdGlvbiBnZXRSb290Q29udGV4dCh2aWV3T3JDb21wb25lbnQpIHtcbiAgICB2YXIgcm9vdFZpZXcgPSBnZXRSb290Vmlldyh2aWV3T3JDb21wb25lbnQpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnREZWZpbmVkKHJvb3RWaWV3W0NPTlRFWFRdLCAnUm9vdFZpZXcgaGFzIG5vIGNvbnRleHQuIFBlcmhhcHMgaXQgaXMgZGlzY29ubmVjdGVkPycpO1xuICAgIHJldHVybiByb290Vmlld1tDT05URVhUXTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbW9ua2V5LXBhdGNoIHZhbHVlIGRhdGEgcHJlc2VudCBvbiB0aGUgdGFyZ2V0ICh3aGljaCBjb3VsZCBiZVxuICogYSBjb21wb25lbnQsIGRpcmVjdGl2ZSBvciBhIERPTSBub2RlKS5cbiAqL1xuZnVuY3Rpb24gcmVhZFBhdGNoZWREYXRhKHRhcmdldCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRhcmdldCwgJ1RhcmdldCBleHBlY3RlZCcpO1xuICAgIHJldHVybiB0YXJnZXRbTU9OS0VZX1BBVENIX0tFWV9OQU1FXTtcbn1cbmZ1bmN0aW9uIHJlYWRQYXRjaGVkTFZpZXcodGFyZ2V0KSB7XG4gICAgdmFyIHZhbHVlID0gcmVhZFBhdGNoZWREYXRhKHRhcmdldCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogdmFsdWUubFZpZXc7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gaGFzUGFyZW50SW5qZWN0b3IocGFyZW50TG9jYXRpb24pIHtcbiAgICByZXR1cm4gcGFyZW50TG9jYXRpb24gIT09IE5PX1BBUkVOVF9JTkpFQ1RPUjtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9ySW5kZXgocGFyZW50TG9jYXRpb24pIHtcbiAgICByZXR1cm4gcGFyZW50TG9jYXRpb24gJiAzMjc2NyAvKiBJbmplY3RvckluZGV4TWFzayAqLztcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9yVmlld09mZnNldChwYXJlbnRMb2NhdGlvbikge1xuICAgIHJldHVybiBwYXJlbnRMb2NhdGlvbiA+PiAxNiAvKiBWaWV3T2Zmc2V0U2hpZnQgKi87XG59XG4vKipcbiAqIFVud3JhcHMgYSBwYXJlbnQgaW5qZWN0b3IgbG9jYXRpb24gbnVtYmVyIHRvIGZpbmQgdGhlIHZpZXcgb2Zmc2V0IGZyb20gdGhlIGN1cnJlbnQgaW5qZWN0b3IsXG4gKiB0aGVuIHdhbGtzIHVwIHRoZSBkZWNsYXJhdGlvbiB2aWV3IHRyZWUgdW50aWwgdGhlIHZpZXcgaXMgZm91bmQgdGhhdCBjb250YWlucyB0aGUgcGFyZW50XG4gKiBpbmplY3Rvci5cbiAqXG4gKiBAcGFyYW0gbG9jYXRpb24gVGhlIGxvY2F0aW9uIG9mIHRoZSBwYXJlbnQgaW5qZWN0b3IsIHdoaWNoIGNvbnRhaW5zIHRoZSB2aWV3IG9mZnNldFxuICogQHBhcmFtIHN0YXJ0VmlldyBUaGUgTFZpZXcgaW5zdGFuY2UgZnJvbSB3aGljaCB0byBzdGFydCB3YWxraW5nIHVwIHRoZSB2aWV3IHRyZWVcbiAqIEByZXR1cm5zIFRoZSBMVmlldyBpbnN0YW5jZSB0aGF0IGNvbnRhaW5zIHRoZSBwYXJlbnQgaW5qZWN0b3JcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KGxvY2F0aW9uLCBzdGFydFZpZXcpIHtcbiAgICB2YXIgdmlld09mZnNldCA9IGdldFBhcmVudEluamVjdG9yVmlld09mZnNldChsb2NhdGlvbik7XG4gICAgdmFyIHBhcmVudFZpZXcgPSBzdGFydFZpZXc7XG4gICAgLy8gRm9yIG1vc3QgY2FzZXMsIHRoZSBwYXJlbnQgaW5qZWN0b3IgY2FuIGJlIGZvdW5kIG9uIHRoZSBob3N0IG5vZGUgKGUuZy4gZm9yIGNvbXBvbmVudFxuICAgIC8vIG9yIGNvbnRhaW5lciksIGJ1dCB3ZSBtdXN0IGtlZXAgdGhlIGxvb3AgaGVyZSB0byBzdXBwb3J0IHRoZSByYXJlciBjYXNlIG9mIGRlZXBseSBuZXN0ZWRcbiAgICAvLyA8bmctdGVtcGxhdGU+IHRhZ3Mgb3IgaW5saW5lIHZpZXdzLCB3aGVyZSB0aGUgcGFyZW50IGluamVjdG9yIG1pZ2h0IGxpdmUgbWFueSB2aWV3c1xuICAgIC8vIGFib3ZlIHRoZSBjaGlsZCBpbmplY3Rvci5cbiAgICB3aGlsZSAodmlld09mZnNldCA+IDApIHtcbiAgICAgICAgcGFyZW50VmlldyA9IHBhcmVudFZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIHZpZXdPZmZzZXQtLTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudFZpZXc7XG59XG4vKipcbiAqIFVud3JhcHMgYSBwYXJlbnQgaW5qZWN0b3IgbG9jYXRpb24gbnVtYmVyIHRvIGZpbmQgdGhlIHZpZXcgb2Zmc2V0IGZyb20gdGhlIGN1cnJlbnQgaW5qZWN0b3IsXG4gKiB0aGVuIHdhbGtzIHVwIHRoZSBkZWNsYXJhdGlvbiB2aWV3IHRyZWUgdW50aWwgdGhlIFROb2RlIG9mIHRoZSBwYXJlbnQgaW5qZWN0b3IgaXMgZm91bmQuXG4gKlxuICogQHBhcmFtIGxvY2F0aW9uIFRoZSBsb2NhdGlvbiBvZiB0aGUgcGFyZW50IGluamVjdG9yLCB3aGljaCBjb250YWlucyB0aGUgdmlldyBvZmZzZXRcbiAqIEBwYXJhbSBzdGFydFZpZXcgVGhlIExWaWV3IGluc3RhbmNlIGZyb20gd2hpY2ggdG8gc3RhcnQgd2Fsa2luZyB1cCB0aGUgdmlldyB0cmVlXG4gKiBAcGFyYW0gc3RhcnRUTm9kZSBUaGUgVE5vZGUgaW5zdGFuY2Ugb2YgdGhlIHN0YXJ0aW5nIGVsZW1lbnRcbiAqIEByZXR1cm5zIFRoZSBUTm9kZSBvZiB0aGUgcGFyZW50IGluamVjdG9yXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9yVE5vZGUobG9jYXRpb24sIHN0YXJ0Vmlldywgc3RhcnRUTm9kZSkge1xuICAgIGlmIChzdGFydFROb2RlLnBhcmVudCAmJiBzdGFydFROb2RlLnBhcmVudC5pbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAvLyB2aWV3IG9mZnNldCBpcyAwXG4gICAgICAgIHZhciBpbmplY3RvckluZGV4ID0gc3RhcnRUTm9kZS5wYXJlbnQuaW5qZWN0b3JJbmRleDtcbiAgICAgICAgdmFyIHBhcmVudFROb2RlXzEgPSBzdGFydFROb2RlLnBhcmVudDtcbiAgICAgICAgd2hpbGUgKHBhcmVudFROb2RlXzEucGFyZW50ICE9IG51bGwgJiYgaW5qZWN0b3JJbmRleCA9PSBwYXJlbnRUTm9kZV8xLmluamVjdG9ySW5kZXgpIHtcbiAgICAgICAgICAgIHBhcmVudFROb2RlXzEgPSBwYXJlbnRUTm9kZV8xLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyZW50VE5vZGVfMTtcbiAgICB9XG4gICAgdmFyIHZpZXdPZmZzZXQgPSBnZXRQYXJlbnRJbmplY3RvclZpZXdPZmZzZXQobG9jYXRpb24pO1xuICAgIC8vIHZpZXcgb2Zmc2V0IGlzIDFcbiAgICB2YXIgcGFyZW50VmlldyA9IHN0YXJ0VmlldztcbiAgICB2YXIgcGFyZW50VE5vZGUgPSBzdGFydFZpZXdbSE9TVF9OT0RFXTtcbiAgICAvLyB2aWV3IG9mZnNldCBpcyBzdXBlcmlvciB0byAxXG4gICAgd2hpbGUgKHZpZXdPZmZzZXQgPiAxKSB7XG4gICAgICAgIHBhcmVudFZpZXcgPSBwYXJlbnRWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddO1xuICAgICAgICBwYXJlbnRUTm9kZSA9IHBhcmVudFZpZXdbSE9TVF9OT0RFXTtcbiAgICAgICAgdmlld09mZnNldC0tO1xuICAgIH1cbiAgICByZXR1cm4gcGFyZW50VE5vZGU7XG59XG52YXIgZGVmYXVsdFNjaGVkdWxlciA9ICh0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lICE9PSAndW5kZWZpbmVkJyAmJiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgLy8gYnJvd3NlciBvbmx5XG4gICAgc2V0VGltZW91dCAvLyBldmVyeXRoaW5nIGVsc2VcbikuYmluZChfZ2xvYmFsKTtcbi8qKlxuICogRXF1aXZhbGVudCB0byBFUzYgc3ByZWFkLCBhZGQgZWFjaCBpdGVtIHRvIGFuIGFycmF5LlxuICpcbiAqIEBwYXJhbSBpdGVtcyBUaGUgaXRlbXMgdG8gYWRkXG4gKiBAcGFyYW0gYXJyIFRoZSBhcnJheSB0byB3aGljaCB5b3Ugd2FudCB0byBhZGQgdGhlIGl0ZW1zXG4gKi9cbmZ1bmN0aW9uIGFkZEFsbFRvQXJyYXkoaXRlbXMsIGFycikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyLnB1c2goaXRlbXNbaV0pO1xuICAgIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBjdXJyZW50IHZpZXcsIGZpbmRzIHRoZSBuZWFyZXN0IGNvbXBvbmVudCdzIGhvc3QgKExFbGVtZW50KS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgTFZpZXcgZm9yIHdoaWNoIHdlIHdhbnQgYSBob3N0IGVsZW1lbnQgbm9kZVxuICogQHJldHVybnMgVGhlIGhvc3Qgbm9kZVxuICovXG5mdW5jdGlvbiBmaW5kQ29tcG9uZW50VmlldyhsVmlldykge1xuICAgIHZhciByb290VE5vZGUgPSBsVmlld1tIT1NUX05PREVdO1xuICAgIHdoaWxlIChyb290VE5vZGUgJiYgcm9vdFROb2RlLnR5cGUgPT09IDIgLyogVmlldyAqLykge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsVmlld1tERUNMQVJBVElPTl9WSUVXXSwgJ2xWaWV3W0RFQ0xBUkFUSU9OX1ZJRVddJyk7XG4gICAgICAgIGxWaWV3ID0gbFZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIHJvb3RUTm9kZSA9IGxWaWV3W0hPU1RfTk9ERV07XG4gICAgfVxuICAgIHJldHVybiBsVmlldztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIFIzUmVzb2x2ZWREZXBlbmRlbmN5VHlwZTtcbihmdW5jdGlvbiAoUjNSZXNvbHZlZERlcGVuZGVuY3lUeXBlKSB7XG4gICAgUjNSZXNvbHZlZERlcGVuZGVuY3lUeXBlW1IzUmVzb2x2ZWREZXBlbmRlbmN5VHlwZVtcIlRva2VuXCJdID0gMF0gPSBcIlRva2VuXCI7XG4gICAgUjNSZXNvbHZlZERlcGVuZGVuY3lUeXBlW1IzUmVzb2x2ZWREZXBlbmRlbmN5VHlwZVtcIkF0dHJpYnV0ZVwiXSA9IDFdID0gXCJBdHRyaWJ1dGVcIjtcbn0pKFIzUmVzb2x2ZWREZXBlbmRlbmN5VHlwZSB8fCAoUjNSZXNvbHZlZERlcGVuZGVuY3lUeXBlID0ge30pKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZ2V0Q29tcGlsZXJGYWNhZGUoKSB7XG4gICAgdmFyIGdsb2JhbE5nID0gX2dsb2JhbC5uZztcbiAgICBpZiAoIWdsb2JhbE5nIHx8ICFnbG9iYWxOZy7JtWNvbXBpbGVyRmFjYWRlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFuZ3VsYXIgSklUIGNvbXBpbGF0aW9uIGZhaWxlZDogJ0Bhbmd1bGFyL2NvbXBpbGVyJyBub3QgbG9hZGVkIVxcblwiICtcbiAgICAgICAgICAgIFwiICAtIEpJVCBjb21waWxhdGlvbiBpcyBkaXNjb3VyYWdlZCBmb3IgcHJvZHVjdGlvbiB1c2UtY2FzZXMhIENvbnNpZGVyIEFPVCBtb2RlIGluc3RlYWQuXFxuXCIgK1xuICAgICAgICAgICAgXCIgIC0gRGlkIHlvdSBib290c3RyYXAgdXNpbmcgJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYycgb3IgJ0Bhbmd1bGFyL3BsYXRmb3JtLXNlcnZlcic/XFxuXCIgK1xuICAgICAgICAgICAgXCIgIC0gQWx0ZXJuYXRpdmVseSBwcm92aWRlIHRoZSBjb21waWxlciB3aXRoICdpbXBvcnQgXFxcIkBhbmd1bGFyL2NvbXBpbGVyXFxcIjsnIGJlZm9yZSBib290c3RyYXBwaW5nLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbE5nLsm1Y29tcGlsZXJGYWNhZGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogSW5qZWN0IGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEluamVjdCA9IG1ha2VQYXJhbURlY29yYXRvcignSW5qZWN0JywgZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiAoeyB0b2tlbjogdG9rZW4gfSk7IH0pO1xuLyoqXG4gKiBPcHRpb25hbCBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBPcHRpb25hbCA9IG1ha2VQYXJhbURlY29yYXRvcignT3B0aW9uYWwnKTtcbi8qKlxuICogU2VsZiBkZWNvcmF0b3IgYW5kIG1ldGFkYXRhLlxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBTZWxmID0gbWFrZVBhcmFtRGVjb3JhdG9yKCdTZWxmJyk7XG4vKipcbiAqIFNraXBTZWxmIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFNraXBTZWxmID0gbWFrZVBhcmFtRGVjb3JhdG9yKCdTa2lwU2VsZicpO1xuLyoqXG4gKiBIb3N0IGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEhvc3QgPSBtYWtlUGFyYW1EZWNvcmF0b3IoJ0hvc3QnKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBJbmplY3Rpb24gZmxhZ3MgZm9yIERJLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEluamVjdEZsYWdzO1xuKGZ1bmN0aW9uIChJbmplY3RGbGFncykge1xuICAgIC8vIFRPRE8oYWx4aHViKTogbWFrZSB0aGlzICdjb25zdCcgd2hlbiBuZ2Mgbm8gbG9uZ2VyIHdyaXRlcyBleHBvcnRzIG9mIGl0IGludG8gbmdmYWN0b3J5IGZpbGVzLlxuICAgIEluamVjdEZsYWdzW0luamVjdEZsYWdzW1wiRGVmYXVsdFwiXSA9IDBdID0gXCJEZWZhdWx0XCI7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoYXQgYW4gaW5qZWN0b3Igc2hvdWxkIHJldHJpZXZlIGEgZGVwZW5kZW5jeSBmcm9tIGFueSBpbmplY3RvciB1bnRpbCByZWFjaGluZyB0aGVcbiAgICAgKiBob3N0IGVsZW1lbnQgb2YgdGhlIGN1cnJlbnQgY29tcG9uZW50LiAoT25seSB1c2VkIHdpdGggRWxlbWVudCBJbmplY3RvcilcbiAgICAgKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIkhvc3RcIl0gPSAxXSA9IFwiSG9zdFwiO1xuICAgIC8qKiBEb24ndCBkZXNjZW5kIGludG8gYW5jZXN0b3JzIG9mIHRoZSBub2RlIHJlcXVlc3RpbmcgaW5qZWN0aW9uLiAqL1xuICAgIEluamVjdEZsYWdzW0luamVjdEZsYWdzW1wiU2VsZlwiXSA9IDJdID0gXCJTZWxmXCI7XG4gICAgLyoqIFNraXAgdGhlIG5vZGUgdGhhdCBpcyByZXF1ZXN0aW5nIGluamVjdGlvbi4gKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIlNraXBTZWxmXCJdID0gNF0gPSBcIlNraXBTZWxmXCI7XG4gICAgLyoqIEluamVjdCBgZGVmYXVsdFZhbHVlYCBpbnN0ZWFkIGlmIHRva2VuIG5vdCBmb3VuZC4gKi9cbiAgICBJbmplY3RGbGFnc1tJbmplY3RGbGFnc1tcIk9wdGlvbmFsXCJdID0gOF0gPSBcIk9wdGlvbmFsXCI7XG59KShJbmplY3RGbGFncyB8fCAoSW5qZWN0RmxhZ3MgPSB7fSkpO1xuLyoqXG4gKiBDdXJyZW50IGluamVjdG9yIHZhbHVlIHVzZWQgYnkgYGluamVjdGAuXG4gKiAtIGB1bmRlZmluZWRgOiBpdCBpcyBhbiBlcnJvciB0byBjYWxsIGBpbmplY3RgXG4gKiAtIGBudWxsYDogYGluamVjdGAgY2FuIGJlIGNhbGxlZCBidXQgdGhlcmUgaXMgbm8gaW5qZWN0b3IgKGxpbXAtbW9kZSkuXG4gKiAtIEluamVjdG9yIGluc3RhbmNlOiBVc2UgdGhlIGluamVjdG9yIGZvciByZXNvbHV0aW9uLlxuICovXG52YXIgX2N1cnJlbnRJbmplY3RvciA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIHNldEN1cnJlbnRJbmplY3RvcihpbmplY3Rvcikge1xuICAgIHZhciBmb3JtZXIgPSBfY3VycmVudEluamVjdG9yO1xuICAgIF9jdXJyZW50SW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICByZXR1cm4gZm9ybWVyO1xufVxuLyoqXG4gKiBDdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIGluamVjdC5cbiAqXG4gKiBCeSBkZWZhdWx0LCBpdCBpcyBgaW5qZWN0SW5qZWN0b3JPbmx5YCwgd2hpY2ggbWFrZXMgaXQgYEluamVjdG9yYC1vbmx5IGF3YXJlLiBJdCBjYW4gYmUgY2hhbmdlZFxuICogdG8gYGRpcmVjdGl2ZUluamVjdGAsIHdoaWNoIGJyaW5ncyBpbiB0aGUgYE5vZGVJbmplY3RvcmAgc3lzdGVtIG9mIGl2eS4gSXQgaXMgZGVzaWduZWQgdGhpc1xuICogd2F5IGZvciB0d28gcmVhc29uczpcbiAqICAxLiBgSW5qZWN0b3JgIHNob3VsZCBub3QgZGVwZW5kIG9uIGl2eSBsb2dpYy5cbiAqICAyLiBUbyBtYWludGFpbiB0cmVlIHNoYWtlLWFiaWxpdHkgd2UgZG9uJ3Qgd2FudCB0byBicmluZyBpbiB1bm5lY2Vzc2FyeSBjb2RlLlxuICovXG52YXIgX2luamVjdEltcGxlbWVudGF0aW9uO1xuLyoqXG4gKiBTZXRzIHRoZSBjdXJyZW50IGluamVjdCBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gc2V0SW5qZWN0SW1wbGVtZW50YXRpb24oaW1wbCkge1xuICAgIHZhciBwcmV2aW91cyA9IF9pbmplY3RJbXBsZW1lbnRhdGlvbjtcbiAgICBfaW5qZWN0SW1wbGVtZW50YXRpb24gPSBpbXBsO1xuICAgIHJldHVybiBwcmV2aW91cztcbn1cbmZ1bmN0aW9uIGluamVjdEluamVjdG9yT25seSh0b2tlbiwgZmxhZ3MpIHtcbiAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkgeyBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQ7IH1cbiAgICBpZiAoX2N1cnJlbnRJbmplY3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImluamVjdCgpIG11c3QgYmUgY2FsbGVkIGZyb20gYW4gaW5qZWN0aW9uIGNvbnRleHRcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKF9jdXJyZW50SW5qZWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGluamVjdFJvb3RMaW1wTW9kZSh0b2tlbiwgdW5kZWZpbmVkLCBmbGFncyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gX2N1cnJlbnRJbmplY3Rvci5nZXQodG9rZW4sIGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwgPyBudWxsIDogdW5kZWZpbmVkLCBmbGFncyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5qZWN0KHRva2VuLCBmbGFncykge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7IGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdDsgfVxuICAgIHJldHVybiAoX2luamVjdEltcGxlbWVudGF0aW9uIHx8IGluamVjdEluamVjdG9yT25seSkodG9rZW4sIGZsYWdzKTtcbn1cbi8qKlxuICogSW5qZWN0cyBgcm9vdGAgdG9rZW5zIGluIGxpbXAgbW9kZS5cbiAqXG4gKiBJZiBubyBpbmplY3RvciBleGlzdHMsIHdlIGNhbiBzdGlsbCBpbmplY3QgdHJlZS1zaGFrYWJsZSBwcm92aWRlcnMgd2hpY2ggaGF2ZSBgcHJvdmlkZWRJbmAgc2V0IHRvXG4gKiBgXCJyb290XCJgLiBUaGlzIGlzIGtub3duIGFzIHRoZSBsaW1wIG1vZGUgaW5qZWN0aW9uLiBJbiBzdWNoIGNhc2UgdGhlIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGVcbiAqIGBJbmplY3RhYmxlRGVmYC5cbiAqL1xuZnVuY3Rpb24gaW5qZWN0Um9vdExpbXBNb2RlKHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncykge1xuICAgIHZhciBpbmplY3RhYmxlRGVmID0gZ2V0SW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgaWYgKGluamVjdGFibGVEZWYgJiYgaW5qZWN0YWJsZURlZi5wcm92aWRlZEluID09ICdyb290Jykge1xuICAgICAgICByZXR1cm4gaW5qZWN0YWJsZURlZi52YWx1ZSA9PT0gdW5kZWZpbmVkID8gaW5qZWN0YWJsZURlZi52YWx1ZSA9IGluamVjdGFibGVEZWYuZmFjdG9yeSgpIDpcbiAgICAgICAgICAgIGluamVjdGFibGVEZWYudmFsdWU7XG4gICAgfVxuICAgIGlmIChmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAobm90Rm91bmRWYWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmplY3RvcjogTk9UX0ZPVU5EIFtcIiArIHN0cmluZ2lmeSh0b2tlbikgKyBcIl1cIik7XG59XG5mdW5jdGlvbiBpbmplY3RBcmdzKHR5cGVzKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhcmcgPSB0eXBlc1tpXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICAgICAgaWYgKGFyZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50cyBhcnJheSBtdXN0IGhhdmUgYXJndW1lbnRzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0O1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcmcubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbWV0YSA9IGFyZ1tqXTtcbiAgICAgICAgICAgICAgICBpZiAobWV0YSBpbnN0YW5jZW9mIE9wdGlvbmFsIHx8IG1ldGEubmdNZXRhZGF0YU5hbWUgPT09ICdPcHRpb25hbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MgfD0gSW5qZWN0RmxhZ3MuT3B0aW9uYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1ldGEgaW5zdGFuY2VvZiBTa2lwU2VsZiB8fCBtZXRhLm5nTWV0YWRhdGFOYW1lID09PSAnU2tpcFNlbGYnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzIHw9IEluamVjdEZsYWdzLlNraXBTZWxmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtZXRhIGluc3RhbmNlb2YgU2VsZiB8fCBtZXRhLm5nTWV0YWRhdGFOYW1lID09PSAnU2VsZicpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MgfD0gSW5qZWN0RmxhZ3MuU2VsZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWV0YSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlID0gbWV0YS50b2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBtZXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZ3MucHVzaChpbmplY3QodHlwZSwgZmxhZ3MpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChpbmplY3QoYXJnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyZ3M7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGFzc2VydE5vZGVUeXBlKHROb2RlLCB0eXBlKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ3Nob3VsZCBiZSBjYWxsZWQgd2l0aCBhIFROb2RlJyk7XG4gICAgYXNzZXJ0RXF1YWwodE5vZGUudHlwZSwgdHlwZSwgXCJzaG91bGQgYmUgYSBcIiArIHR5cGVOYW1lKHR5cGUpKTtcbn1cbmZ1bmN0aW9uIGFzc2VydE5vZGVPZlBvc3NpYmxlVHlwZXModE5vZGUpIHtcbiAgICB2YXIgdHlwZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICB0eXBlc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgYXNzZXJ0RGVmaW5lZCh0Tm9kZSwgJ3Nob3VsZCBiZSBjYWxsZWQgd2l0aCBhIFROb2RlJyk7XG4gICAgdmFyIGZvdW5kID0gdHlwZXMuc29tZShmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gdE5vZGUudHlwZSA9PT0gdHlwZTsgfSk7XG4gICAgYXNzZXJ0RXF1YWwoZm91bmQsIHRydWUsIFwiU2hvdWxkIGJlIG9uZSBvZiBcIiArIHR5cGVzLm1hcCh0eXBlTmFtZSkuam9pbignLCAnKSArIFwiIGJ1dCBnb3QgXCIgKyB0eXBlTmFtZSh0Tm9kZS50eXBlKSk7XG59XG5mdW5jdGlvbiB0eXBlTmFtZSh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gMSAvKiBQcm9qZWN0aW9uICovKVxuICAgICAgICByZXR1cm4gJ1Byb2plY3Rpb24nO1xuICAgIGlmICh0eXBlID09IDAgLyogQ29udGFpbmVyICovKVxuICAgICAgICByZXR1cm4gJ0NvbnRhaW5lcic7XG4gICAgaWYgKHR5cGUgPT0gMiAvKiBWaWV3ICovKVxuICAgICAgICByZXR1cm4gJ1ZpZXcnO1xuICAgIGlmICh0eXBlID09IDMgLyogRWxlbWVudCAqLylcbiAgICAgICAgcmV0dXJuICdFbGVtZW50JztcbiAgICBpZiAodHlwZSA9PSA0IC8qIEVsZW1lbnRDb250YWluZXIgKi8pXG4gICAgICAgIHJldHVybiAnRWxlbWVudENvbnRhaW5lcic7XG4gICAgcmV0dXJuICc8dW5rbm93bj4nO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIElmIHRoaXMgaXMgdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3MsIGFueSBuZ09uSW5pdCBvciBuZ0RvQ2hlY2sgaG9va3Mgd2lsbCBiZSBxdWV1ZWQgaW50b1xuICogVFZpZXcuaW5pdEhvb2tzIGR1cmluZyBkaXJlY3RpdmVDcmVhdGUuXG4gKlxuICogVGhlIGRpcmVjdGl2ZSBpbmRleCBhbmQgaG9vayB0eXBlIGFyZSBlbmNvZGVkIGludG8gb25lIG51bWJlciAoMXN0IGJpdDogdHlwZSwgcmVtYWluaW5nIGJpdHM6XG4gKiBkaXJlY3RpdmUgaW5kZXgpLCB0aGVuIHNhdmVkIGluIHRoZSBldmVuIGluZGljZXMgb2YgdGhlIGluaXRIb29rcyBhcnJheS4gVGhlIG9kZCBpbmRpY2VzXG4gKiBob2xkIHRoZSBob29rIGZ1bmN0aW9ucyB0aGVtc2VsdmVzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGRpcmVjdGl2ZSBpbiBMVmlld1xuICogQHBhcmFtIGhvb2tzIFRoZSBzdGF0aWMgaG9va3MgbWFwIG9uIHRoZSBkaXJlY3RpdmUgZGVmXG4gKiBAcGFyYW0gdFZpZXcgVGhlIGN1cnJlbnQgVFZpZXdcbiAqL1xuZnVuY3Rpb24gcXVldWVJbml0SG9va3MoaW5kZXgsIG9uSW5pdCwgZG9DaGVjaywgdFZpZXcpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwodFZpZXcuZmlyc3RUZW1wbGF0ZVBhc3MsIHRydWUsICdTaG91bGQgb25seSBiZSBjYWxsZWQgb24gZmlyc3QgdGVtcGxhdGUgcGFzcycpO1xuICAgIGlmIChvbkluaXQpIHtcbiAgICAgICAgKHRWaWV3LmluaXRIb29rcyB8fCAodFZpZXcuaW5pdEhvb2tzID0gW10pKS5wdXNoKGluZGV4LCBvbkluaXQpO1xuICAgIH1cbiAgICBpZiAoZG9DaGVjaykge1xuICAgICAgICAodFZpZXcuaW5pdEhvb2tzIHx8ICh0Vmlldy5pbml0SG9va3MgPSBbXSkpLnB1c2goaW5kZXgsIGRvQ2hlY2spO1xuICAgICAgICAodFZpZXcuY2hlY2tIb29rcyB8fCAodFZpZXcuY2hlY2tIb29rcyA9IFtdKSkucHVzaChpbmRleCwgZG9DaGVjayk7XG4gICAgfVxufVxuLyoqXG4gKiBMb29wcyB0aHJvdWdoIHRoZSBkaXJlY3RpdmVzIG9uIGEgbm9kZSBhbmQgcXVldWVzIGFsbCB0aGVpciBob29rcyBleGNlcHQgbmdPbkluaXRcbiAqIGFuZCBuZ0RvQ2hlY2ssIHdoaWNoIGFyZSBxdWV1ZWQgc2VwYXJhdGVseSBpbiBkaXJlY3RpdmVDcmVhdGUuXG4gKi9cbmZ1bmN0aW9uIHF1ZXVlTGlmZWN5Y2xlSG9va3ModFZpZXcsIHROb2RlKSB7XG4gICAgaWYgKHRWaWV3LmZpcnN0VGVtcGxhdGVQYXNzKSB7XG4gICAgICAgIC8vIEl0J3MgbmVjZXNzYXJ5IHRvIGxvb3AgdGhyb3VnaCB0aGUgZGlyZWN0aXZlcyBhdCBlbGVtZW50RW5kKCkgKHJhdGhlciB0aGFuIHByb2Nlc3NpbmcgaW5cbiAgICAgICAgLy8gZGlyZWN0aXZlQ3JlYXRlKSBzbyB3ZSBjYW4gcHJlc2VydmUgdGhlIGN1cnJlbnQgaG9vayBvcmRlci4gQ29udGVudCwgdmlldywgYW5kIGRlc3Ryb3lcbiAgICAgICAgLy8gaG9va3MgZm9yIHByb2plY3RlZCBjb21wb25lbnRzIGFuZCBkaXJlY3RpdmVzIG11c3QgYmUgY2FsbGVkICpiZWZvcmUqIHRoZWlyIGhvc3RzLlxuICAgICAgICBmb3IgKHZhciBpID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQsIGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGVmID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgICAgIHF1ZXVlQ29udGVudEhvb2tzKGRlZiwgdFZpZXcsIGkpO1xuICAgICAgICAgICAgcXVldWVWaWV3SG9va3MoZGVmLCB0VmlldywgaSk7XG4gICAgICAgICAgICBxdWV1ZURlc3Ryb3lIb29rcyhkZWYsIHRWaWV3LCBpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKiBRdWV1ZXMgYWZ0ZXJDb250ZW50SW5pdCBhbmQgYWZ0ZXJDb250ZW50Q2hlY2tlZCBob29rcyBvbiBUVmlldyAqL1xuZnVuY3Rpb24gcXVldWVDb250ZW50SG9va3MoZGVmLCB0VmlldywgaSkge1xuICAgIGlmIChkZWYuYWZ0ZXJDb250ZW50SW5pdCkge1xuICAgICAgICAodFZpZXcuY29udGVudEhvb2tzIHx8ICh0Vmlldy5jb250ZW50SG9va3MgPSBbXSkpLnB1c2goaSwgZGVmLmFmdGVyQ29udGVudEluaXQpO1xuICAgIH1cbiAgICBpZiAoZGVmLmFmdGVyQ29udGVudENoZWNrZWQpIHtcbiAgICAgICAgKHRWaWV3LmNvbnRlbnRIb29rcyB8fCAodFZpZXcuY29udGVudEhvb2tzID0gW10pKS5wdXNoKGksIGRlZi5hZnRlckNvbnRlbnRDaGVja2VkKTtcbiAgICAgICAgKHRWaWV3LmNvbnRlbnRDaGVja0hvb2tzIHx8ICh0Vmlldy5jb250ZW50Q2hlY2tIb29rcyA9IFtdKSkucHVzaChpLCBkZWYuYWZ0ZXJDb250ZW50Q2hlY2tlZCk7XG4gICAgfVxufVxuLyoqIFF1ZXVlcyBhZnRlclZpZXdJbml0IGFuZCBhZnRlclZpZXdDaGVja2VkIGhvb2tzIG9uIFRWaWV3ICovXG5mdW5jdGlvbiBxdWV1ZVZpZXdIb29rcyhkZWYsIHRWaWV3LCBpKSB7XG4gICAgaWYgKGRlZi5hZnRlclZpZXdJbml0KSB7XG4gICAgICAgICh0Vmlldy52aWV3SG9va3MgfHwgKHRWaWV3LnZpZXdIb29rcyA9IFtdKSkucHVzaChpLCBkZWYuYWZ0ZXJWaWV3SW5pdCk7XG4gICAgfVxuICAgIGlmIChkZWYuYWZ0ZXJWaWV3Q2hlY2tlZCkge1xuICAgICAgICAodFZpZXcudmlld0hvb2tzIHx8ICh0Vmlldy52aWV3SG9va3MgPSBbXSkpLnB1c2goaSwgZGVmLmFmdGVyVmlld0NoZWNrZWQpO1xuICAgICAgICAodFZpZXcudmlld0NoZWNrSG9va3MgfHwgKHRWaWV3LnZpZXdDaGVja0hvb2tzID0gW10pKS5wdXNoKGksIGRlZi5hZnRlclZpZXdDaGVja2VkKTtcbiAgICB9XG59XG4vKiogUXVldWVzIG9uRGVzdHJveSBob29rcyBvbiBUVmlldyAqL1xuZnVuY3Rpb24gcXVldWVEZXN0cm95SG9va3MoZGVmLCB0VmlldywgaSkge1xuICAgIGlmIChkZWYub25EZXN0cm95ICE9IG51bGwpIHtcbiAgICAgICAgKHRWaWV3LmRlc3Ryb3lIb29rcyB8fCAodFZpZXcuZGVzdHJveUhvb2tzID0gW10pKS5wdXNoKGksIGRlZi5vbkRlc3Ryb3kpO1xuICAgIH1cbn1cbi8qKlxuICogQ2FsbHMgb25Jbml0IGFuZCBkb0NoZWNrIGNhbGxzIGlmIHRoZXkgaGF2ZW4ndCBhbHJlYWR5IGJlZW4gY2FsbGVkLlxuICpcbiAqIEBwYXJhbSBjdXJyZW50VmlldyBUaGUgY3VycmVudCB2aWV3XG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVJbml0SG9va3MoY3VycmVudFZpZXcsIHRWaWV3LCBjaGVja05vQ2hhbmdlc01vZGUpIHtcbiAgICBpZiAoIWNoZWNrTm9DaGFuZ2VzTW9kZSAmJiBjdXJyZW50Vmlld1tGTEFHU10gJiAzMiAvKiBSdW5Jbml0ICovKSB7XG4gICAgICAgIGV4ZWN1dGVIb29rcyhjdXJyZW50VmlldywgdFZpZXcuaW5pdEhvb2tzLCB0Vmlldy5jaGVja0hvb2tzLCBjaGVja05vQ2hhbmdlc01vZGUpO1xuICAgICAgICBjdXJyZW50Vmlld1tGTEFHU10gJj0gfjMyIC8qIFJ1bkluaXQgKi87XG4gICAgfVxufVxuLyoqXG4gKiBJdGVyYXRlcyBvdmVyIGFmdGVyVmlld0luaXQgYW5kIGFmdGVyVmlld0NoZWNrZWQgZnVuY3Rpb25zIGFuZCBjYWxscyB0aGVtLlxuICpcbiAqIEBwYXJhbSBjdXJyZW50VmlldyBUaGUgY3VycmVudCB2aWV3XG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVIb29rcyhjdXJyZW50VmlldywgYWxsSG9va3MsIGNoZWNrSG9va3MsIGNoZWNrTm9DaGFuZ2VzTW9kZSkge1xuICAgIGlmIChjaGVja05vQ2hhbmdlc01vZGUpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgaG9va3NUb0NhbGwgPSBjdXJyZW50Vmlld1tGTEFHU10gJiAyIC8qIEZpcnN0TFZpZXdQYXNzICovID8gYWxsSG9va3MgOiBjaGVja0hvb2tzO1xuICAgIGlmIChob29rc1RvQ2FsbCkge1xuICAgICAgICBjYWxsSG9va3MoY3VycmVudFZpZXcsIGhvb2tzVG9DYWxsKTtcbiAgICB9XG59XG4vKipcbiAqIENhbGxzIGxpZmVjeWNsZSBob29rcyB3aXRoIHRoZWlyIGNvbnRleHRzLCBza2lwcGluZyBpbml0IGhvb2tzIGlmIGl0J3Mgbm90XG4gKiB0aGUgZmlyc3QgTFZpZXcgcGFzcy5cbiAqXG4gKiBAcGFyYW0gY3VycmVudFZpZXcgVGhlIGN1cnJlbnQgdmlld1xuICogQHBhcmFtIGFyciBUaGUgYXJyYXkgaW4gd2hpY2ggdGhlIGhvb2tzIGFyZSBmb3VuZFxuICovXG5mdW5jdGlvbiBjYWxsSG9va3MoY3VycmVudFZpZXcsIGFycikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGFycltpICsgMV0uY2FsbChjdXJyZW50Vmlld1thcnJbaV1dKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogU3RvcmUgdGhlIGVsZW1lbnQgZGVwdGggY291bnQuIFRoaXMgaXMgdXNlZCB0byBpZGVudGlmeSB0aGUgcm9vdCBlbGVtZW50cyBvZiB0aGUgdGVtcGxhdGVcbiAqIHNvIHRoYXQgd2UgY2FuIHRoYW4gYXR0YWNoIGBMVmlld2AgdG8gb25seSB0aG9zZSBlbGVtZW50cy5cbiAqL1xudmFyIGVsZW1lbnREZXB0aENvdW50O1xuZnVuY3Rpb24gZ2V0RWxlbWVudERlcHRoQ291bnQoKSB7XG4gICAgLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuICAgIHJldHVybiBlbGVtZW50RGVwdGhDb3VudDtcbn1cbmZ1bmN0aW9uIGluY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKSB7XG4gICAgZWxlbWVudERlcHRoQ291bnQrKztcbn1cbmZ1bmN0aW9uIGRlY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKSB7XG4gICAgZWxlbWVudERlcHRoQ291bnQtLTtcbn1cbnZhciBjdXJyZW50RGlyZWN0aXZlRGVmID0gbnVsbDtcbmZ1bmN0aW9uIGdldEN1cnJlbnREaXJlY3RpdmVEZWYoKSB7XG4gICAgLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuICAgIHJldHVybiBjdXJyZW50RGlyZWN0aXZlRGVmO1xufVxuZnVuY3Rpb24gc2V0Q3VycmVudERpcmVjdGl2ZURlZihkZWYpIHtcbiAgICBjdXJyZW50RGlyZWN0aXZlRGVmID0gZGVmO1xufVxuLyoqXG4gKiBTdG9yZXMgd2hldGhlciBkaXJlY3RpdmVzIHNob3VsZCBiZSBtYXRjaGVkIHRvIGVsZW1lbnRzLlxuICpcbiAqIFdoZW4gdGVtcGxhdGUgY29udGFpbnMgYG5nTm9uQmluZGFibGVgIHRoYW4gd2UgbmVlZCB0byBwcmV2ZW50IHRoZSBydW50aW1lIGZvcm0gbWF0Y2hpbmdcbiAqIGRpcmVjdGl2ZXMgb24gY2hpbGRyZW4gb2YgdGhhdCBlbGVtZW50LlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgU2hvdWxkIG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZS5cbiAqIDwvbXktY29tcD5cbiAqIDxkaXYgbmdOb25CaW5kYWJsZT5cbiAqICAgPG15LWNvbXAgbXktZGlyZWN0aXZlPlxuICogICAgIFNob3VsZCBub3QgbWF0Y2ggY29tcG9uZW50IC8gZGlyZWN0aXZlIGJlY2F1c2Ugd2UgYXJlIGluIG5nTm9uQmluZGFibGUuXG4gKiAgIDwvbXktY29tcD5cbiAqIDwvZGl2PlxuICogYGBgXG4gKi9cbnZhciBiaW5kaW5nc0VuYWJsZWQ7XG5mdW5jdGlvbiBnZXRCaW5kaW5nc0VuYWJsZWQoKSB7XG4gICAgLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuICAgIHJldHVybiBiaW5kaW5nc0VuYWJsZWQ7XG59XG4vKipcbiAqIEVuYWJsZXMgZGlyZWN0aXZlIG1hdGNoaW5nIG9uIGVsZW1lbnRzLlxuICpcbiAqICAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgU2hvdWxkIG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZS5cbiAqIDwvbXktY29tcD5cbiAqIDxkaXYgbmdOb25CaW5kYWJsZT5cbiAqICAgPCEtLSBkaXNhYmxlZEJpbmRpbmdzKCkgLS0+XG4gKiAgIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgICBTaG91bGQgbm90IG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZSBiZWNhdXNlIHdlIGFyZSBpbiBuZ05vbkJpbmRhYmxlLlxuICogICA8L215LWNvbXA+XG4gKiAgIDwhLS0gZW5hYmxlQmluZGluZ3MoKSAtLT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZUJpbmRpbmdzKCkge1xuICAgIGJpbmRpbmdzRW5hYmxlZCA9IHRydWU7XG59XG4vKipcbiAqIERpc2FibGVzIGRpcmVjdGl2ZSBtYXRjaGluZyBvbiBlbGVtZW50LlxuICpcbiAqICAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgU2hvdWxkIG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZS5cbiAqIDwvbXktY29tcD5cbiAqIDxkaXYgbmdOb25CaW5kYWJsZT5cbiAqICAgPCEtLSBkaXNhYmxlZEJpbmRpbmdzKCkgLS0+XG4gKiAgIDxteS1jb21wIG15LWRpcmVjdGl2ZT5cbiAqICAgICBTaG91bGQgbm90IG1hdGNoIGNvbXBvbmVudCAvIGRpcmVjdGl2ZSBiZWNhdXNlIHdlIGFyZSBpbiBuZ05vbkJpbmRhYmxlLlxuICogICA8L215LWNvbXA+XG4gKiAgIDwhLS0gZW5hYmxlQmluZGluZ3MoKSAtLT5cbiAqIDwvZGl2PlxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVCaW5kaW5ncygpIHtcbiAgICBiaW5kaW5nc0VuYWJsZWQgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldExWaWV3KCkge1xuICAgIHJldHVybiBsVmlldztcbn1cbi8qKlxuICogUmVzdG9yZXMgYGNvbnRleHRWaWV3RGF0YWAgdG8gdGhlIGdpdmVuIE9wYXF1ZVZpZXdTdGF0ZSBpbnN0YW5jZS5cbiAqXG4gKiBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIGdldEN1cnJlbnRWaWV3KCkgaW5zdHJ1Y3Rpb24gdG8gc2F2ZSBhIHNuYXBzaG90XG4gKiBvZiB0aGUgY3VycmVudCB2aWV3IGFuZCByZXN0b3JlIGl0IHdoZW4gbGlzdGVuZXJzIGFyZSBpbnZva2VkLiBUaGlzIGFsbG93c1xuICogd2Fsa2luZyB0aGUgZGVjbGFyYXRpb24gdmlldyB0cmVlIGluIGxpc3RlbmVycyB0byBnZXQgdmFycyBmcm9tIHBhcmVudCB2aWV3cy5cbiAqXG4gKiBAcGFyYW0gdmlld1RvUmVzdG9yZSBUaGUgT3BhcXVlVmlld1N0YXRlIGluc3RhbmNlIHRvIHJlc3RvcmUuXG4gKi9cbmZ1bmN0aW9uIHJlc3RvcmVWaWV3KHZpZXdUb1Jlc3RvcmUpIHtcbiAgICBjb250ZXh0TFZpZXcgPSB2aWV3VG9SZXN0b3JlO1xufVxuLyoqIFVzZWQgdG8gc2V0IHRoZSBwYXJlbnQgcHJvcGVydHkgd2hlbiBub2RlcyBhcmUgY3JlYXRlZCBhbmQgdHJhY2sgcXVlcnkgcmVzdWx0cy4gKi9cbnZhciBwcmV2aW91c09yUGFyZW50VE5vZGU7XG5mdW5jdGlvbiBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKSB7XG4gICAgLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuICAgIHJldHVybiBwcmV2aW91c09yUGFyZW50VE5vZGU7XG59XG5mdW5jdGlvbiBzZXRQcmV2aW91c09yUGFyZW50VE5vZGUodE5vZGUpIHtcbiAgICBwcmV2aW91c09yUGFyZW50VE5vZGUgPSB0Tm9kZTtcbn1cbmZ1bmN0aW9uIHNldFROb2RlQW5kVmlld0RhdGEodE5vZGUsIHZpZXcpIHtcbiAgICBwcmV2aW91c09yUGFyZW50VE5vZGUgPSB0Tm9kZTtcbiAgICBsVmlldyA9IHZpZXc7XG59XG4vKipcbiAqIElmIGBpc1BhcmVudGAgaXM6XG4gKiAgLSBgdHJ1ZWA6IHRoZW4gYHByZXZpb3VzT3JQYXJlbnRUTm9kZWAgcG9pbnRzIHRvIGEgcGFyZW50IG5vZGUuXG4gKiAgLSBgZmFsc2VgOiB0aGVuIGBwcmV2aW91c09yUGFyZW50VE5vZGVgIHBvaW50cyB0byBwcmV2aW91cyBub2RlIChzaWJsaW5nKS5cbiAqL1xudmFyIGlzUGFyZW50O1xuZnVuY3Rpb24gZ2V0SXNQYXJlbnQoKSB7XG4gICAgLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuICAgIHJldHVybiBpc1BhcmVudDtcbn1cbmZ1bmN0aW9uIHNldElzUGFyZW50KHZhbHVlKSB7XG4gICAgaXNQYXJlbnQgPSB2YWx1ZTtcbn1cbi8qKlxuICogUXVlcnkgaW5zdHJ1Y3Rpb25zIGNhbiBhc2sgZm9yIFwiY3VycmVudCBxdWVyaWVzXCIgaW4gMiBkaWZmZXJlbnQgY2FzZXM6XG4gKiAtIHdoZW4gY3JlYXRpbmcgdmlldyBxdWVyaWVzIChhdCB0aGUgcm9vdCBvZiBhIGNvbXBvbmVudCB2aWV3LCBiZWZvcmUgYW55IG5vZGUgaXMgY3JlYXRlZCAtIGluXG4gKiB0aGlzIGNhc2UgY3VycmVudFF1ZXJpZXMgcG9pbnRzIHRvIHZpZXcgcXVlcmllcylcbiAqIC0gd2hlbiBjcmVhdGluZyBjb250ZW50IHF1ZXJpZXMgKGkuZS4gdGhpcyBwcmV2aW91c09yUGFyZW50VE5vZGUgcG9pbnRzIHRvIGEgbm9kZSBvbiB3aGljaCB3ZVxuICogY3JlYXRlIGNvbnRlbnQgcXVlcmllcykuXG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlQ3VycmVudFF1ZXJpZXMoUXVlcnlUeXBlKSB7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgY3VycmVudFF1ZXJpZXMgPSBsVmlld1tRVUVSSUVTXTtcbiAgICAvLyBpZiB0aGlzIGlzIHRoZSBmaXJzdCBjb250ZW50IHF1ZXJ5IG9uIGEgbm9kZSwgYW55IGV4aXN0aW5nIExRdWVyaWVzIG5lZWRzIHRvIGJlIGNsb25lZFxuICAgIC8vIGluIHN1YnNlcXVlbnQgdGVtcGxhdGUgcGFzc2VzLCB0aGUgY2xvbmluZyBvY2N1cnMgYmVmb3JlIGRpcmVjdGl2ZSBpbnN0YW50aWF0aW9uLlxuICAgIGlmIChwcmV2aW91c09yUGFyZW50VE5vZGUgJiYgcHJldmlvdXNPclBhcmVudFROb2RlICE9PSBsVmlld1tIT1NUX05PREVdICYmXG4gICAgICAgICFpc0NvbnRlbnRRdWVyeUhvc3QocHJldmlvdXNPclBhcmVudFROb2RlKSkge1xuICAgICAgICBjdXJyZW50UXVlcmllcyAmJiAoY3VycmVudFF1ZXJpZXMgPSBsVmlld1tRVUVSSUVTXSA9IGN1cnJlbnRRdWVyaWVzLmNsb25lKCkpO1xuICAgICAgICBwcmV2aW91c09yUGFyZW50VE5vZGUuZmxhZ3MgfD0gNCAvKiBoYXNDb250ZW50UXVlcnkgKi87XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50UXVlcmllcyB8fCAobFZpZXdbUVVFUklFU10gPSBuZXcgUXVlcnlUeXBlKG51bGwsIG51bGwsIG51bGwpKTtcbn1cbi8qKiBDaGVja3Mgd2hldGhlciBhIGdpdmVuIHZpZXcgaXMgaW4gY3JlYXRpb24gbW9kZSAqL1xuZnVuY3Rpb24gaXNDcmVhdGlvbk1vZGUodmlldykge1xuICAgIGlmICh2aWV3ID09PSB2b2lkIDApIHsgdmlldyA9IGxWaWV3OyB9XG4gICAgcmV0dXJuICh2aWV3W0ZMQUdTXSAmIDEgLyogQ3JlYXRpb25Nb2RlICovKSA9PT0gMSAvKiBDcmVhdGlvbk1vZGUgKi87XG59XG4vKipcbiAqIFN0YXRlIG9mIHRoZSBjdXJyZW50IHZpZXcgYmVpbmcgcHJvY2Vzc2VkLlxuICpcbiAqIEFuIGFycmF5IG9mIG5vZGVzICh0ZXh0LCBlbGVtZW50LCBjb250YWluZXIsIGV0YyksIHBpcGVzLCB0aGVpciBiaW5kaW5ncywgYW5kXG4gKiBhbnkgbG9jYWwgdmFyaWFibGVzIHRoYXQgbmVlZCB0byBiZSBzdG9yZWQgYmV0d2VlbiBpbnZvY2F0aW9ucy5cbiAqL1xudmFyIGxWaWV3O1xuLyoqXG4gKiBUaGUgbGFzdCB2aWV3RGF0YSByZXRyaWV2ZWQgYnkgbmV4dENvbnRleHQoKS5cbiAqIEFsbG93cyBidWlsZGluZyBuZXh0Q29udGV4dCgpIGFuZCByZWZlcmVuY2UoKSBjYWxscy5cbiAqXG4gKiBlLmcuIGNvbnN0IGlubmVyID0geCgpLiRpbXBsaWNpdDsgY29uc3Qgb3V0ZXIgPSB4KCkuJGltcGxpY2l0O1xuICovXG52YXIgY29udGV4dExWaWV3ID0gbnVsbDtcbmZ1bmN0aW9uIGdldENvbnRleHRMVmlldygpIHtcbiAgICAvLyB0b3AgbGV2ZWwgdmFyaWFibGVzIHNob3VsZCBub3QgYmUgZXhwb3J0ZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKFBFUkZfTk9URVMubWQpXG4gICAgcmV0dXJuIGNvbnRleHRMVmlldztcbn1cbi8qKlxuICogSW4gdGhpcyBtb2RlLCBhbnkgY2hhbmdlcyBpbiBiaW5kaW5ncyB3aWxsIHRocm93IGFuIEV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJDaGVja2VkIGVycm9yLlxuICpcbiAqIE5lY2Vzc2FyeSB0byBzdXBwb3J0IENoYW5nZURldGVjdG9yUmVmLmNoZWNrTm9DaGFuZ2VzKCkuXG4gKi9cbnZhciBjaGVja05vQ2hhbmdlc01vZGUgPSBmYWxzZTtcbmZ1bmN0aW9uIGdldENoZWNrTm9DaGFuZ2VzTW9kZSgpIHtcbiAgICAvLyB0b3AgbGV2ZWwgdmFyaWFibGVzIHNob3VsZCBub3QgYmUgZXhwb3J0ZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKFBFUkZfTk9URVMubWQpXG4gICAgcmV0dXJuIGNoZWNrTm9DaGFuZ2VzTW9kZTtcbn1cbmZ1bmN0aW9uIHNldENoZWNrTm9DaGFuZ2VzTW9kZShtb2RlKSB7XG4gICAgY2hlY2tOb0NoYW5nZXNNb2RlID0gbW9kZTtcbn1cbi8qKiBXaGV0aGVyIG9yIG5vdCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHRoZSBjdXJyZW50IHZpZXcgaGFzIGJlZW4gcHJvY2Vzc2VkLiAqL1xudmFyIGZpcnN0VGVtcGxhdGVQYXNzID0gdHJ1ZTtcbmZ1bmN0aW9uIGdldEZpcnN0VGVtcGxhdGVQYXNzKCkge1xuICAgIHJldHVybiBmaXJzdFRlbXBsYXRlUGFzcztcbn1cbmZ1bmN0aW9uIHNldEZpcnN0VGVtcGxhdGVQYXNzKHZhbHVlKSB7XG4gICAgZmlyc3RUZW1wbGF0ZVBhc3MgPSB2YWx1ZTtcbn1cbi8qKlxuICogVGhlIHJvb3QgaW5kZXggZnJvbSB3aGljaCBwdXJlIGZ1bmN0aW9uIGluc3RydWN0aW9ucyBzaG91bGQgY2FsY3VsYXRlIHRoZWlyIGJpbmRpbmdcbiAqIGluZGljZXMuIEluIGNvbXBvbmVudCB2aWV3cywgdGhpcyBpcyBUVmlldy5iaW5kaW5nU3RhcnRJbmRleC4gSW4gYSBob3N0IGJpbmRpbmdcbiAqIGNvbnRleHQsIHRoaXMgaXMgdGhlIFRWaWV3LmV4cGFuZG9TdGFydEluZGV4ICsgYW55IGRpcnMvaG9zdFZhcnMgYmVmb3JlIHRoZSBnaXZlbiBkaXIuXG4gKi9cbnZhciBiaW5kaW5nUm9vdEluZGV4ID0gLTE7XG4vLyB0b3AgbGV2ZWwgdmFyaWFibGVzIHNob3VsZCBub3QgYmUgZXhwb3J0ZWQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKFBFUkZfTk9URVMubWQpXG5mdW5jdGlvbiBnZXRCaW5kaW5nUm9vdCgpIHtcbiAgICByZXR1cm4gYmluZGluZ1Jvb3RJbmRleDtcbn1cbmZ1bmN0aW9uIHNldEJpbmRpbmdSb290KHZhbHVlKSB7XG4gICAgYmluZGluZ1Jvb3RJbmRleCA9IHZhbHVlO1xufVxuLyoqXG4gKiBTd2FwIHRoZSBjdXJyZW50IHN0YXRlIHdpdGggYSBuZXcgc3RhdGUuXG4gKlxuICogRm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgd2Ugc3RvcmUgdGhlIHN0YXRlIGluIHRoZSB0b3AgbGV2ZWwgb2YgdGhlIG1vZHVsZS5cbiAqIFRoaXMgd2F5IHdlIG1pbmltaXplIHRoZSBudW1iZXIgb2YgcHJvcGVydGllcyB0byByZWFkLiBXaGVuZXZlciBhIG5ldyB2aWV3XG4gKiBpcyBlbnRlcmVkIHdlIGhhdmUgdG8gc3RvcmUgdGhlIHN0YXRlIGZvciBsYXRlciwgYW5kIHdoZW4gdGhlIHZpZXcgaXNcbiAqIGV4aXRlZCB0aGUgc3RhdGUgaGFzIHRvIGJlIHJlc3RvcmVkXG4gKlxuICogQHBhcmFtIG5ld1ZpZXcgTmV3IHN0YXRlIHRvIGJlY29tZSBhY3RpdmVcbiAqIEBwYXJhbSBob3N0IEVsZW1lbnQgdG8gd2hpY2ggdGhlIFZpZXcgaXMgYSBjaGlsZCBvZlxuICogQHJldHVybnMgdGhlIHByZXZpb3VzIHN0YXRlO1xuICovXG5mdW5jdGlvbiBlbnRlclZpZXcobmV3VmlldywgaG9zdFROb2RlKSB7XG4gICAgdmFyIG9sZFZpZXcgPSBsVmlldztcbiAgICBpZiAobmV3Vmlldykge1xuICAgICAgICB2YXIgdFZpZXcgPSBuZXdWaWV3W1RWSUVXXTtcbiAgICAgICAgZmlyc3RUZW1wbGF0ZVBhc3MgPSB0Vmlldy5maXJzdFRlbXBsYXRlUGFzcztcbiAgICAgICAgYmluZGluZ1Jvb3RJbmRleCA9IHRWaWV3LmJpbmRpbmdTdGFydEluZGV4O1xuICAgIH1cbiAgICBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBob3N0VE5vZGU7XG4gICAgaXNQYXJlbnQgPSB0cnVlO1xuICAgIGxWaWV3ID0gY29udGV4dExWaWV3ID0gbmV3VmlldztcbiAgICByZXR1cm4gb2xkVmlldztcbn1cbmZ1bmN0aW9uIG5leHRDb250ZXh0SW1wbChsZXZlbCkge1xuICAgIGlmIChsZXZlbCA9PT0gdm9pZCAwKSB7IGxldmVsID0gMTsgfVxuICAgIGNvbnRleHRMVmlldyA9IHdhbGtVcFZpZXdzKGxldmVsLCBjb250ZXh0TFZpZXcpO1xuICAgIHJldHVybiBjb250ZXh0TFZpZXdbQ09OVEVYVF07XG59XG5mdW5jdGlvbiB3YWxrVXBWaWV3cyhuZXN0aW5nTGV2ZWwsIGN1cnJlbnRWaWV3KSB7XG4gICAgd2hpbGUgKG5lc3RpbmdMZXZlbCA+IDApIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY3VycmVudFZpZXdbREVDTEFSQVRJT05fVklFV10sICdEZWNsYXJhdGlvbiB2aWV3IHNob3VsZCBiZSBkZWZpbmVkIGlmIG5lc3RpbmcgbGV2ZWwgaXMgZ3JlYXRlciB0aGFuIDAuJyk7XG4gICAgICAgIGN1cnJlbnRWaWV3ID0gY3VycmVudFZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIG5lc3RpbmdMZXZlbC0tO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFZpZXc7XG59XG4vKipcbiAqIFJlc2V0cyB0aGUgYXBwbGljYXRpb24gc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIHJlc2V0Q29tcG9uZW50U3RhdGUoKSB7XG4gICAgaXNQYXJlbnQgPSBmYWxzZTtcbiAgICBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBudWxsO1xuICAgIGVsZW1lbnREZXB0aENvdW50ID0gMDtcbiAgICBiaW5kaW5nc0VuYWJsZWQgPSB0cnVlO1xufVxuLyoqXG4gKiBVc2VkIGluIGxpZXUgb2YgZW50ZXJWaWV3IHRvIG1ha2UgaXQgY2xlYXIgd2hlbiB3ZSBhcmUgZXhpdGluZyBhIGNoaWxkIHZpZXcuIFRoaXMgbWFrZXNcbiAqIHRoZSBkaXJlY3Rpb24gb2YgdHJhdmVyc2FsICh1cCBvciBkb3duIHRoZSB2aWV3IHRyZWUpIGEgYml0IGNsZWFyZXIuXG4gKlxuICogQHBhcmFtIG5ld1ZpZXcgTmV3IHN0YXRlIHRvIGJlY29tZSBhY3RpdmVcbiAqL1xuZnVuY3Rpb24gbGVhdmVWaWV3KG5ld1ZpZXcpIHtcbiAgICB2YXIgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgaWYgKGlzQ3JlYXRpb25Nb2RlKGxWaWV3KSkge1xuICAgICAgICBsVmlld1tGTEFHU10gJj0gfjEgLyogQ3JlYXRpb25Nb2RlICovO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXhlY3V0ZUhvb2tzKGxWaWV3LCB0Vmlldy52aWV3SG9va3MsIHRWaWV3LnZpZXdDaGVja0hvb2tzLCBjaGVja05vQ2hhbmdlc01vZGUpO1xuICAgICAgICAvLyBWaWV3cyBhcmUgY2xlYW4gYW5kIGluIHVwZGF0ZSBtb2RlIGFmdGVyIGJlaW5nIGNoZWNrZWQsIHNvIHRoZXNlIGJpdHMgYXJlIGNsZWFyZWRcbiAgICAgICAgbFZpZXdbRkxBR1NdICY9IH4oOCAvKiBEaXJ0eSAqLyB8IDIgLyogRmlyc3RMVmlld1Bhc3MgKi8pO1xuICAgICAgICBsVmlld1tGTEFHU10gfD0gMzIgLyogUnVuSW5pdCAqLztcbiAgICAgICAgbFZpZXdbQklORElOR19JTkRFWF0gPSB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleDtcbiAgICB9XG4gICAgZW50ZXJWaWV3KG5ld1ZpZXcsIG51bGwpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERlZmluZXMgaWYgdGhlIGNhbGwgdG8gYGluamVjdGAgc2hvdWxkIGluY2x1ZGUgYHZpZXdQcm92aWRlcnNgIGluIGl0cyByZXNvbHV0aW9uLlxuICpcbiAqIFRoaXMgaXMgc2V0IHRvIHRydWUgd2hlbiB3ZSB0cnkgdG8gaW5zdGFudGlhdGUgYSBjb21wb25lbnQuIFRoaXMgdmFsdWUgaXMgcmVzZXQgaW5cbiAqIGBnZXROb2RlSW5qZWN0YWJsZWAgdG8gYSB2YWx1ZSB3aGljaCBtYXRjaGVzIHRoZSBkZWNsYXJhdGlvbiBsb2NhdGlvbiBvZiB0aGUgdG9rZW4gYWJvdXQgdG8gYmVcbiAqIGluc3RhbnRpYXRlZC4gVGhpcyBpcyBkb25lIHNvIHRoYXQgaWYgd2UgYXJlIGluamVjdGluZyBhIHRva2VuIHdoaWNoIHdhcyBkZWNsYXJlZCBvdXRzaWRlIG9mXG4gKiBgdmlld1Byb3ZpZGVyc2Agd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHB1bGwgYHZpZXdQcm92aWRlcnNgIGluLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBASW5qZWN0YWJsZSgpXG4gKiBjbGFzcyBNeVNlcnZpY2Uge1xuICogICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IFN0cmluZykge31cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgcHJvdmlkZXJzOiBbXG4gKiAgICAgTXlTZXJ2aWNlLFxuICogICAgIHtwcm92aWRlOiBTdHJpbmcsIHZhbHVlOiAncHJvdmlkZXJzJyB9XG4gKiAgIF1cbiAqICAgdmlld1Byb3ZpZGVyczogW1xuICogICAgIHtwcm92aWRlOiBTdHJpbmcsIHZhbHVlOiAndmlld1Byb3ZpZGVycyd9XG4gKiAgIF1cbiAqIH0pXG4gKiBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIGNvbnN0cnVjdG9yKG15U2VydmljZTogTXlTZXJ2aWNlLCB2YWx1ZTogU3RyaW5nKSB7XG4gKiAgICAgLy8gV2UgZXhwZWN0IHRoYXQgQ29tcG9uZW50IGNhbiBzZWUgaW50byBgdmlld1Byb3ZpZGVyc2AuXG4gKiAgICAgZXhwZWN0KHZhbHVlKS50b0VxdWFsKCd2aWV3UHJvdmlkZXJzJyk7XG4gKiAgICAgLy8gYE15U2VydmljZWAgd2FzIG5vdCBkZWNsYXJlZCBpbiBgdmlld1Byb3ZpZGVyc2AgaGVuY2UgaXQgY2FuJ3Qgc2VlIGl0LlxuICogICAgIGV4cGVjdChteVNlcnZpY2UudmFsdWUpLnRvRXF1YWwoJ3Byb3ZpZGVycycpO1xuICogICB9XG4gKiB9XG4gKlxuICogYGBgXG4gKi9cbnZhciBpbmNsdWRlVmlld1Byb3ZpZGVycyA9IHRydWU7XG5mdW5jdGlvbiBzZXRJbmNsdWRlVmlld1Byb3ZpZGVycyh2KSB7XG4gICAgdmFyIG9sZFZhbHVlID0gaW5jbHVkZVZpZXdQcm92aWRlcnM7XG4gICAgaW5jbHVkZVZpZXdQcm92aWRlcnMgPSB2O1xuICAgIHJldHVybiBvbGRWYWx1ZTtcbn1cbi8qKlxuICogVGhlIG51bWJlciBvZiBzbG90cyBpbiBlYWNoIGJsb29tIGZpbHRlciAodXNlZCBieSBESSkuIFRoZSBsYXJnZXIgdGhpcyBudW1iZXIsIHRoZSBmZXdlclxuICogZGlyZWN0aXZlcyB0aGF0IHdpbGwgc2hhcmUgc2xvdHMsIGFuZCB0aHVzLCB0aGUgZmV3ZXIgZmFsc2UgcG9zaXRpdmVzIHdoZW4gY2hlY2tpbmcgZm9yXG4gKiB0aGUgZXhpc3RlbmNlIG9mIGEgZGlyZWN0aXZlLlxuICovXG52YXIgQkxPT01fU0laRSA9IDI1NjtcbnZhciBCTE9PTV9NQVNLID0gQkxPT01fU0laRSAtIDE7XG4vKiogQ291bnRlciB1c2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMgZm9yIGRpcmVjdGl2ZXMuICovXG52YXIgbmV4dE5nRWxlbWVudElkID0gMDtcbi8qKlxuICogUmVnaXN0ZXJzIHRoaXMgZGlyZWN0aXZlIGFzIHByZXNlbnQgaW4gaXRzIG5vZGUncyBpbmplY3RvciBieSBmbGlwcGluZyB0aGUgZGlyZWN0aXZlJ3NcbiAqIGNvcnJlc3BvbmRpbmcgYml0IGluIHRoZSBpbmplY3RvcidzIGJsb29tIGZpbHRlci5cbiAqXG4gKiBAcGFyYW0gaW5qZWN0b3JJbmRleCBUaGUgaW5kZXggb2YgdGhlIG5vZGUgaW5qZWN0b3Igd2hlcmUgdGhpcyB0b2tlbiBzaG91bGQgYmUgcmVnaXN0ZXJlZFxuICogQHBhcmFtIHRWaWV3IFRoZSBUVmlldyBmb3IgdGhlIGluamVjdG9yJ3MgYmxvb20gZmlsdGVyc1xuICogQHBhcmFtIHR5cGUgVGhlIGRpcmVjdGl2ZSB0b2tlbiB0byByZWdpc3RlclxuICovXG5mdW5jdGlvbiBibG9vbUFkZChpbmplY3RvckluZGV4LCB0VmlldywgdHlwZSkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0Vmlldy5maXJzdFRlbXBsYXRlUGFzcywgdHJ1ZSwgJ2V4cGVjdGVkIGZpcnN0VGVtcGxhdGVQYXNzIHRvIGJlIHRydWUnKTtcbiAgICB2YXIgaWQgPSB0eXBlb2YgdHlwZSAhPT0gJ3N0cmluZycgPyB0eXBlW05HX0VMRU1FTlRfSURdIDogdHlwZS5jaGFyQ29kZUF0KDApIHx8IDA7XG4gICAgLy8gU2V0IGEgdW5pcXVlIElEIG9uIHRoZSBkaXJlY3RpdmUgdHlwZSwgc28gaWYgc29tZXRoaW5nIHRyaWVzIHRvIGluamVjdCB0aGUgZGlyZWN0aXZlLFxuICAgIC8vIHdlIGNhbiBlYXNpbHkgcmV0cmlldmUgdGhlIElEIGFuZCBoYXNoIGl0IGludG8gdGhlIGJsb29tIGJpdCB0aGF0IHNob3VsZCBiZSBjaGVja2VkLlxuICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICAgIGlkID0gdHlwZVtOR19FTEVNRU5UX0lEXSA9IG5leHROZ0VsZW1lbnRJZCsrO1xuICAgIH1cbiAgICAvLyBXZSBvbmx5IGhhdmUgQkxPT01fU0laRSAoMjU2KSBzbG90cyBpbiBvdXIgYmxvb20gZmlsdGVyICg4IGJ1Y2tldHMgKiAzMiBiaXRzIGVhY2gpLFxuICAgIC8vIHNvIGFsbCB1bmlxdWUgSURzIG11c3QgYmUgbW9kdWxvLWVkIGludG8gYSBudW1iZXIgZnJvbSAwIC0gMjU1IHRvIGZpdCBpbnRvIHRoZSBmaWx0ZXIuXG4gICAgdmFyIGJsb29tQml0ID0gaWQgJiBCTE9PTV9NQVNLO1xuICAgIC8vIENyZWF0ZSBhIG1hc2sgdGhhdCB0YXJnZXRzIHRoZSBzcGVjaWZpYyBiaXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBkaXJlY3RpdmUuXG4gICAgLy8gSlMgYml0IG9wZXJhdGlvbnMgYXJlIDMyIGJpdHMsIHNvIHRoaXMgd2lsbCBiZSBhIG51bWJlciBiZXR3ZWVuIDJeMCBhbmQgMl4zMSwgY29ycmVzcG9uZGluZ1xuICAgIC8vIHRvIGJpdCBwb3NpdGlvbnMgMCAtIDMxIGluIGEgMzIgYml0IGludGVnZXIuXG4gICAgdmFyIG1hc2sgPSAxIDw8IGJsb29tQml0O1xuICAgIC8vIFVzZSB0aGUgcmF3IGJsb29tQml0IG51bWJlciB0byBkZXRlcm1pbmUgd2hpY2ggYmxvb20gZmlsdGVyIGJ1Y2tldCB3ZSBzaG91bGQgY2hlY2tcbiAgICAvLyBlLmc6IGJmMCA9IFswIC0gMzFdLCBiZjEgPSBbMzIgLSA2M10sIGJmMiA9IFs2NCAtIDk1XSwgYmYzID0gWzk2IC0gMTI3XSwgZXRjXG4gICAgdmFyIGI3ID0gYmxvb21CaXQgJiAweDgwO1xuICAgIHZhciBiNiA9IGJsb29tQml0ICYgMHg0MDtcbiAgICB2YXIgYjUgPSBibG9vbUJpdCAmIDB4MjA7XG4gICAgdmFyIHREYXRhID0gdFZpZXcuZGF0YTtcbiAgICBpZiAoYjcpIHtcbiAgICAgICAgYjYgPyAoYjUgPyAodERhdGFbaW5qZWN0b3JJbmRleCArIDddIHw9IG1hc2spIDogKHREYXRhW2luamVjdG9ySW5kZXggKyA2XSB8PSBtYXNrKSkgOlxuICAgICAgICAgICAgKGI1ID8gKHREYXRhW2luamVjdG9ySW5kZXggKyA1XSB8PSBtYXNrKSA6ICh0RGF0YVtpbmplY3RvckluZGV4ICsgNF0gfD0gbWFzaykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYjYgPyAoYjUgPyAodERhdGFbaW5qZWN0b3JJbmRleCArIDNdIHw9IG1hc2spIDogKHREYXRhW2luamVjdG9ySW5kZXggKyAyXSB8PSBtYXNrKSkgOlxuICAgICAgICAgICAgKGI1ID8gKHREYXRhW2luamVjdG9ySW5kZXggKyAxXSB8PSBtYXNrKSA6ICh0RGF0YVtpbmplY3RvckluZGV4XSB8PSBtYXNrKSk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGVzIChvciBnZXRzIGFuIGV4aXN0aW5nKSBpbmplY3RvciBmb3IgYSBnaXZlbiBlbGVtZW50IG9yIGNvbnRhaW5lci5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgZm9yIHdoaWNoIGFuIGluamVjdG9yIHNob3VsZCBiZSByZXRyaWV2ZWQgLyBjcmVhdGVkLlxuICogQHBhcmFtIGhvc3RWaWV3IFZpZXcgd2hlcmUgdGhlIG5vZGUgaXMgc3RvcmVkXG4gKiBAcmV0dXJucyBOb2RlIGluamVjdG9yXG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgaG9zdFZpZXcpIHtcbiAgICB2YXIgZXhpc3RpbmdJbmplY3RvckluZGV4ID0gZ2V0SW5qZWN0b3JJbmRleCh0Tm9kZSwgaG9zdFZpZXcpO1xuICAgIGlmIChleGlzdGluZ0luamVjdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ0luamVjdG9ySW5kZXg7XG4gICAgfVxuICAgIHZhciB0VmlldyA9IGhvc3RWaWV3W1RWSUVXXTtcbiAgICBpZiAodFZpZXcuZmlyc3RUZW1wbGF0ZVBhc3MpIHtcbiAgICAgICAgdE5vZGUuaW5qZWN0b3JJbmRleCA9IGhvc3RWaWV3Lmxlbmd0aDtcbiAgICAgICAgaW5zZXJ0Qmxvb20odFZpZXcuZGF0YSwgdE5vZGUpOyAvLyBmb3VuZGF0aW9uIGZvciBub2RlIGJsb29tXG4gICAgICAgIGluc2VydEJsb29tKGhvc3RWaWV3LCBudWxsKTsgLy8gZm91bmRhdGlvbiBmb3IgY3VtdWxhdGl2ZSBibG9vbVxuICAgICAgICBpbnNlcnRCbG9vbSh0Vmlldy5ibHVlcHJpbnQsIG51bGwpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwodE5vZGUuZmxhZ3MgPT09IDAgfHwgdE5vZGUuZmxhZ3MgPT09IDEgLyogaXNDb21wb25lbnQgKi8sIHRydWUsICdleHBlY3RlZCB0Tm9kZS5mbGFncyB0byBub3QgYmUgaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG4gICAgdmFyIHBhcmVudExvYyA9IGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odE5vZGUsIGhvc3RWaWV3KTtcbiAgICB2YXIgcGFyZW50SW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvYyk7XG4gICAgdmFyIHBhcmVudExWaWV3ID0gZ2V0UGFyZW50SW5qZWN0b3JWaWV3KHBhcmVudExvYywgaG9zdFZpZXcpO1xuICAgIHZhciBpbmplY3RvckluZGV4ID0gdE5vZGUuaW5qZWN0b3JJbmRleDtcbiAgICAvLyBJZiBhIHBhcmVudCBpbmplY3RvciBjYW4ndCBiZSBmb3VuZCwgaXRzIGxvY2F0aW9uIGlzIHNldCB0byAtMS5cbiAgICAvLyBJbiB0aGF0IGNhc2UsIHdlIGRvbid0IG5lZWQgdG8gc2V0IHVwIGEgY3VtdWxhdGl2ZSBibG9vbVxuICAgIGlmIChoYXNQYXJlbnRJbmplY3RvcihwYXJlbnRMb2MpKSB7XG4gICAgICAgIHZhciBwYXJlbnREYXRhID0gcGFyZW50TFZpZXdbVFZJRVddLmRhdGE7XG4gICAgICAgIC8vIENyZWF0ZXMgYSBjdW11bGF0aXZlIGJsb29tIGZpbHRlciB0aGF0IG1lcmdlcyB0aGUgcGFyZW50J3MgYmxvb20gZmlsdGVyXG4gICAgICAgIC8vIGFuZCBpdHMgb3duIGN1bXVsYXRpdmUgYmxvb20gKHdoaWNoIGNvbnRhaW5zIHRva2VucyBmb3IgYWxsIGFuY2VzdG9ycylcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgIGhvc3RWaWV3W2luamVjdG9ySW5kZXggKyBpXSA9IHBhcmVudExWaWV3W3BhcmVudEluZGV4ICsgaV0gfCBwYXJlbnREYXRhW3BhcmVudEluZGV4ICsgaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaG9zdFZpZXdbaW5qZWN0b3JJbmRleCArIFBBUkVOVF9JTkpFQ1RPUl0gPSBwYXJlbnRMb2M7XG4gICAgcmV0dXJuIGluamVjdG9ySW5kZXg7XG59XG5mdW5jdGlvbiBpbnNlcnRCbG9vbShhcnIsIGZvb3Rlcikge1xuICAgIGFyci5wdXNoKDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIGZvb3Rlcik7XG59XG5mdW5jdGlvbiBnZXRJbmplY3RvckluZGV4KHROb2RlLCBob3N0Vmlldykge1xuICAgIGlmICh0Tm9kZS5pbmplY3RvckluZGV4ID09PSAtMSB8fFxuICAgICAgICAvLyBJZiB0aGUgaW5qZWN0b3IgaW5kZXggaXMgdGhlIHNhbWUgYXMgaXRzIHBhcmVudCdzIGluamVjdG9yIGluZGV4LCB0aGVuIHRoZSBpbmRleCBoYXMgYmVlblxuICAgICAgICAvLyBjb3BpZWQgZG93biBmcm9tIHRoZSBwYXJlbnQgbm9kZS4gTm8gaW5qZWN0b3IgaGFzIGJlZW4gY3JlYXRlZCB5ZXQgb24gdGhpcyBub2RlLlxuICAgICAgICAodE5vZGUucGFyZW50ICYmIHROb2RlLnBhcmVudC5pbmplY3RvckluZGV4ID09PSB0Tm9kZS5pbmplY3RvckluZGV4KSB8fFxuICAgICAgICAvLyBBZnRlciB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcywgdGhlIGluamVjdG9yIGluZGV4IG1pZ2h0IGV4aXN0IGJ1dCB0aGUgcGFyZW50IHZhbHVlc1xuICAgICAgICAvLyBtaWdodCBub3QgaGF2ZSBiZWVuIGNhbGN1bGF0ZWQgeWV0IGZvciB0aGlzIGluc3RhbmNlXG4gICAgICAgIGhvc3RWaWV3W3ROb2RlLmluamVjdG9ySW5kZXggKyBQQVJFTlRfSU5KRUNUT1JdID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHROb2RlLmluamVjdG9ySW5kZXg7XG4gICAgfVxufVxuLyoqXG4gKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIHBhcmVudCBpbmplY3Rvciwgd2l0aCBhIHZpZXcgb2Zmc2V0IGlmIGFwcGxpY2FibGUuIFVzZWQgdG8gc2V0IHRoZVxuICogcGFyZW50IGluamVjdG9yIGluaXRpYWxseS5cbiAqXG4gKiBSZXR1cm5zIGEgY29tYmluYXRpb24gb2YgbnVtYmVyIG9mIGBWaWV3RGF0YWAgd2UgaGF2ZSB0byBnbyB1cCBhbmQgaW5kZXggaW4gdGhhdCBgVmlld2RhdGFgXG4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudEluamVjdG9yTG9jYXRpb24odE5vZGUsIHZpZXcpIHtcbiAgICBpZiAodE5vZGUucGFyZW50ICYmIHROb2RlLnBhcmVudC5pbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gdE5vZGUucGFyZW50LmluamVjdG9ySW5kZXg7IC8vIFZpZXdPZmZzZXQgaXMgMFxuICAgIH1cbiAgICAvLyBGb3IgbW9zdCBjYXNlcywgdGhlIHBhcmVudCBpbmplY3RvciBpbmRleCBjYW4gYmUgZm91bmQgb24gdGhlIGhvc3Qgbm9kZSAoZS5nLiBmb3IgY29tcG9uZW50XG4gICAgLy8gb3IgY29udGFpbmVyKSwgc28gdGhpcyBsb29wIHdpbGwgYmUgc2tpcHBlZCwgYnV0IHdlIG11c3Qga2VlcCB0aGUgbG9vcCBoZXJlIHRvIHN1cHBvcnRcbiAgICAvLyB0aGUgcmFyZXIgY2FzZSBvZiBkZWVwbHkgbmVzdGVkIDxuZy10ZW1wbGF0ZT4gdGFncyBvciBpbmxpbmUgdmlld3MuXG4gICAgdmFyIGhvc3RUTm9kZSA9IHZpZXdbSE9TVF9OT0RFXTtcbiAgICB2YXIgdmlld09mZnNldCA9IDE7XG4gICAgd2hpbGUgKGhvc3RUTm9kZSAmJiBob3N0VE5vZGUuaW5qZWN0b3JJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgdmlldyA9IHZpZXdbREVDTEFSQVRJT05fVklFV107XG4gICAgICAgIGhvc3RUTm9kZSA9IHZpZXcgPyB2aWV3W0hPU1RfTk9ERV0gOiBudWxsO1xuICAgICAgICB2aWV3T2Zmc2V0Kys7XG4gICAgfVxuICAgIHJldHVybiBob3N0VE5vZGUgP1xuICAgICAgICBob3N0VE5vZGUuaW5qZWN0b3JJbmRleCB8ICh2aWV3T2Zmc2V0IDw8IDE2IC8qIFZpZXdPZmZzZXRTaGlmdCAqLykgOlxuICAgICAgICAtMTtcbn1cbi8qKlxuICogTWFrZXMgYSB0eXBlIG9yIGFuIGluamVjdGlvbiB0b2tlbiBwdWJsaWMgdG8gdGhlIERJIHN5c3RlbSBieSBhZGRpbmcgaXQgdG8gYW5cbiAqIGluamVjdG9yJ3MgYmxvb20gZmlsdGVyLlxuICpcbiAqIEBwYXJhbSBkaSBUaGUgbm9kZSBpbmplY3RvciBpbiB3aGljaCBhIGRpcmVjdGl2ZSB3aWxsIGJlIGFkZGVkXG4gKiBAcGFyYW0gdG9rZW4gVGhlIHR5cGUgb3IgdGhlIGluamVjdGlvbiB0b2tlbiB0byBiZSBtYWRlIHB1YmxpY1xuICovXG5mdW5jdGlvbiBkaVB1YmxpY0luSW5qZWN0b3IoaW5qZWN0b3JJbmRleCwgdmlldywgdG9rZW4pIHtcbiAgICBibG9vbUFkZChpbmplY3RvckluZGV4LCB2aWV3W1RWSUVXXSwgdG9rZW4pO1xufVxuLyoqXG4gKiBJbmplY3Qgc3RhdGljIGF0dHJpYnV0ZSB2YWx1ZSBpbnRvIGRpcmVjdGl2ZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHdpdGggYGZhY3RvcnlgIGZ1bmN0aW9ucyB3aGljaCBhcmUgZ2VuZXJhdGVkIGFzIHBhcnQgb2ZcbiAqIGBkZWZpbmVEaXJlY3RpdmVgIG9yIGBkZWZpbmVDb21wb25lbnRgLiBUaGUgbWV0aG9kIHJldHJpZXZlcyB0aGUgc3RhdGljIHZhbHVlXG4gKiBvZiBhbiBhdHRyaWJ1dGUuIChEeW5hbWljIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWQgc2luY2UgdGhleSBhcmUgbm90IHJlc29sdmVkXG4gKiAgYXQgdGhlIHRpbWUgb2YgaW5qZWN0aW9uIGFuZCBjYW4gY2hhbmdlIG92ZXIgdGltZS4pXG4gKlxuICogIyBFeGFtcGxlXG4gKiBHaXZlbjpcbiAqIGBgYFxuICogQENvbXBvbmVudCguLi4pXG4gKiBjbGFzcyBNeUNvbXBvbmVudCB7XG4gKiAgIGNvbnN0cnVjdG9yKEBBdHRyaWJ1dGUoJ3RpdGxlJykgdGl0bGU6IHN0cmluZykgeyAuLi4gfVxuICogfVxuICogYGBgXG4gKiBXaGVuIGluc3RhbnRpYXRlZCB3aXRoXG4gKiBgYGBcbiAqIDxteS1jb21wb25lbnQgdGl0bGU9XCJIZWxsb1wiPjwvbXktY29tcG9uZW50PlxuICogYGBgXG4gKlxuICogVGhlbiBmYWN0b3J5IG1ldGhvZCBnZW5lcmF0ZWQgaXM6XG4gKiBgYGBcbiAqIE15Q29tcG9uZW50Lm5nQ29tcG9uZW50RGVmID0gZGVmaW5lQ29tcG9uZW50KHtcbiAqICAgZmFjdG9yeTogKCkgPT4gbmV3IE15Q29tcG9uZW50KGluamVjdEF0dHJpYnV0ZSgndGl0bGUnKSlcbiAqICAgLi4uXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBpbmplY3RBdHRyaWJ1dGVJbXBsKHROb2RlLCBhdHRyTmFtZVRvSW5qZWN0KSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVPZlBvc3NpYmxlVHlwZXModE5vZGUsIDAgLyogQ29udGFpbmVyICovLCAzIC8qIEVsZW1lbnQgKi8sIDQgLyogRWxlbWVudENvbnRhaW5lciAqLyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodE5vZGUsICdleHBlY3RpbmcgdE5vZGUnKTtcbiAgICB2YXIgYXR0cnMgPSB0Tm9kZS5hdHRycztcbiAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkgPSBpICsgMikge1xuICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0gYXR0cnNbaV07XG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09IDMgLyogU2VsZWN0T25seSAqLylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChhdHRyTmFtZSA9PSBhdHRyTmFtZVRvSW5qZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgYXNzb2NpYXRlZCB0byB0aGUgZ2l2ZW4gdG9rZW4gZnJvbSB0aGUgTm9kZUluamVjdG9ycyA9PiBNb2R1bGVJbmplY3Rvci5cbiAqXG4gKiBMb29rIGZvciB0aGUgaW5qZWN0b3IgcHJvdmlkaW5nIHRoZSB0b2tlbiBieSB3YWxraW5nIHVwIHRoZSBub2RlIGluamVjdG9yIHRyZWUgYW5kIHRoZW5cbiAqIHRoZSBtb2R1bGUgaW5qZWN0b3IgdHJlZS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVGhlIE5vZGUgd2hlcmUgdGhlIHNlYXJjaCBmb3IgdGhlIGluamVjdG9yIHNob3VsZCBzdGFydFxuICogQHBhcmFtIGxWaWV3IFRoZSBgTFZpZXdgIHRoYXQgY29udGFpbnMgdGhlIGB0Tm9kZWBcbiAqIEBwYXJhbSB0b2tlbiBUaGUgdG9rZW4gdG8gbG9vayBmb3JcbiAqIEBwYXJhbSBmbGFncyBJbmplY3Rpb24gZmxhZ3NcbiAqIEBwYXJhbSBub3RGb3VuZFZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gd2hlbiB0aGUgaW5qZWN0aW9uIGZsYWdzIGlzIGBJbmplY3RGbGFncy5PcHRpb25hbGBcbiAqIEByZXR1cm5zIHRoZSB2YWx1ZSBmcm9tIHRoZSBpbmplY3RvciwgYG51bGxgIHdoZW4gbm90IGZvdW5kLCBvciBgbm90Rm91bmRWYWx1ZWAgaWYgcHJvdmlkZWRcbiAqL1xuZnVuY3Rpb24gZ2V0T3JDcmVhdGVJbmplY3RhYmxlKHROb2RlLCBsVmlldywgdG9rZW4sIGZsYWdzLCBub3RGb3VuZFZhbHVlKSB7XG4gICAgaWYgKGZsYWdzID09PSB2b2lkIDApIHsgZmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0OyB9XG4gICAgaWYgKHROb2RlKSB7XG4gICAgICAgIHZhciBibG9vbUhhc2ggPSBibG9vbUhhc2hCaXRPckZhY3RvcnkodG9rZW4pO1xuICAgICAgICAvLyBJZiB0aGUgSUQgc3RvcmVkIGhlcmUgaXMgYSBmdW5jdGlvbiwgdGhpcyBpcyBhIHNwZWNpYWwgb2JqZWN0IGxpa2UgRWxlbWVudFJlZiBvciBUZW1wbGF0ZVJlZlxuICAgICAgICAvLyBzbyBqdXN0IGNhbGwgdGhlIGZhY3RvcnkgZnVuY3Rpb24gdG8gY3JlYXRlIGl0LlxuICAgICAgICBpZiAodHlwZW9mIGJsb29tSGFzaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIHNhdmVQcmV2aW91c09yUGFyZW50VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICAgICAgICAgIHZhciBzYXZlTFZpZXcgPSBnZXRMVmlldygpO1xuICAgICAgICAgICAgc2V0VE5vZGVBbmRWaWV3RGF0YSh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBibG9vbUhhc2goKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuT3B0aW9uYWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHByb3ZpZGVyIGZvciBcIiArIHN0cmluZ2lmeSQxKHRva2VuKSArIFwiIVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzZXRUTm9kZUFuZFZpZXdEYXRhKHNhdmVQcmV2aW91c09yUGFyZW50VE5vZGUsIHNhdmVMVmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGJsb29tSGFzaCA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHRva2VuIGhhcyBhIGJsb29tIGhhc2gsIHRoZW4gaXQgaXMgYSB0b2tlbiB3aGljaCBjb3VsZCBiZSBpbiBOb2RlSW5qZWN0b3IuXG4gICAgICAgICAgICAvLyBBIHJlZmVyZW5jZSB0byB0aGUgcHJldmlvdXMgaW5qZWN0b3IgVFZpZXcgdGhhdCB3YXMgZm91bmQgd2hpbGUgY2xpbWJpbmcgdGhlIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIGluamVjdG9yIHRyZWUuIFRoaXMgaXMgdXNlZCB0byBrbm93IGlmIHZpZXdQcm92aWRlcnMgY2FuIGJlIGFjY2Vzc2VkIG9uIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAvLyBpbmplY3Rvci5cbiAgICAgICAgICAgIHZhciBwcmV2aW91c1RWaWV3ID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBpbmplY3RvckluZGV4ID0gZ2V0SW5qZWN0b3JJbmRleCh0Tm9kZSwgbFZpZXcpO1xuICAgICAgICAgICAgdmFyIHBhcmVudExvY2F0aW9uID0gTk9fUEFSRU5UX0lOSkVDVE9SO1xuICAgICAgICAgICAgdmFyIGhvc3RURWxlbWVudE5vZGUgPSBmbGFncyAmIEluamVjdEZsYWdzLkhvc3QgPyBmaW5kQ29tcG9uZW50VmlldyhsVmlldylbSE9TVF9OT0RFXSA6IG51bGw7XG4gICAgICAgICAgICAvLyBJZiB3ZSBzaG91bGQgc2tpcCB0aGlzIGluamVjdG9yLCBvciBpZiB0aGVyZSBpcyBubyBpbmplY3RvciBvbiB0aGlzIG5vZGUsIHN0YXJ0IGJ5XG4gICAgICAgICAgICAvLyBzZWFyY2hpbmdcbiAgICAgICAgICAgIC8vIHRoZSBwYXJlbnQgaW5qZWN0b3IuXG4gICAgICAgICAgICBpZiAoaW5qZWN0b3JJbmRleCA9PT0gLTEgfHwgZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikge1xuICAgICAgICAgICAgICAgIHBhcmVudExvY2F0aW9uID0gaW5qZWN0b3JJbmRleCA9PT0gLTEgPyBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHROb2RlLCBsVmlldykgOlxuICAgICAgICAgICAgICAgICAgICBsVmlld1tpbmplY3RvckluZGV4ICsgUEFSRU5UX0lOSkVDVE9SXTtcbiAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFNlYXJjaFBhcmVudChmbGFncywgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgbFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jYXRpb24sIGxWaWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUcmF2ZXJzZSB1cCB0aGUgaW5qZWN0b3IgdHJlZSB1bnRpbCB3ZSBmaW5kIGEgcG90ZW50aWFsIG1hdGNoIG9yIHVudGlsIHdlIGtub3cgdGhlcmVcbiAgICAgICAgICAgIC8vICppc24ndCogYSBtYXRjaC5cbiAgICAgICAgICAgIHdoaWxlIChpbmplY3RvckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHBhcmVudExvY2F0aW9uID0gbFZpZXdbaW5qZWN0b3JJbmRleCArIFBBUkVOVF9JTkpFQ1RPUl07XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIGN1cnJlbnQgaW5qZWN0b3IuIElmIGl0IG1hdGNoZXMsIHNlZSBpZiBpdCBjb250YWlucyB0b2tlbi5cbiAgICAgICAgICAgICAgICB2YXIgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgICAgICAgICAgICAgaWYgKGJsb29tSGFzVG9rZW4oYmxvb21IYXNoLCBpbmplY3RvckluZGV4LCB0Vmlldy5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBoYXZlIGFuIGluamVjdG9yIHdoaWNoICptYXkqIGNvbnRhaW4gdGhlIHRva2VuLCBzbyB3ZSBzdGVwIHRocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHByb3ZpZGVycyBhbmQgZGlyZWN0aXZlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGluamVjdG9yJ3MgY29ycmVzcG9uZGluZyBub2RlIHRvIGdldFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgaW5zdGFuY2UuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHNlYXJjaFRva2Vuc09uSW5qZWN0b3IoaW5qZWN0b3JJbmRleCwgbFZpZXcsIHRva2VuLCBwcmV2aW91c1RWaWV3LCBmbGFncywgaG9zdFRFbGVtZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAhPT0gTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFNlYXJjaFBhcmVudChmbGFncywgbFZpZXdbVFZJRVddLmRhdGFbaW5qZWN0b3JJbmRleCArIFROT0RFXSA9PT0gaG9zdFRFbGVtZW50Tm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgYmxvb21IYXNUb2tlbihibG9vbUhhc2gsIGluamVjdG9ySW5kZXgsIGxWaWV3KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmIHdhc24ndCBmb3VuZCBhbnl3aGVyZSBvbiB0aGlzIG5vZGUsIHNvIGl0IHdhcyBhIGZhbHNlIHBvc2l0aXZlLlxuICAgICAgICAgICAgICAgICAgICAvLyBUcmF2ZXJzZSB1cCB0aGUgdHJlZSBhbmQgY29udGludWUgc2VhcmNoaW5nLlxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1RWaWV3ID0gdFZpZXc7XG4gICAgICAgICAgICAgICAgICAgIGluamVjdG9ySW5kZXggPSBnZXRQYXJlbnRJbmplY3RvckluZGV4KHBhcmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgbFZpZXcgPSBnZXRQYXJlbnRJbmplY3RvclZpZXcocGFyZW50TG9jYXRpb24sIGxWaWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIHNob3VsZCBub3Qgc2VhcmNoIHBhcmVudCBPUiBJZiB0aGUgYW5jZXN0b3IgYmxvb20gZmlsdGVyIHZhbHVlIGRvZXMgbm90IGhhdmUgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGJpdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBkaXJlY3RpdmUgd2UgY2FuIGdpdmUgdXAgb24gdHJhdmVyc2luZyB1cCB0byBmaW5kIHRoZSBzcGVjaWZpY1xuICAgICAgICAgICAgICAgICAgICAvLyBpbmplY3Rvci5cbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0b3JJbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCAmJiBub3RGb3VuZFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHNldCBvciB0aGUgTnVsbEluamVjdG9yIHdpbGwgdGhyb3cgZm9yIG9wdGlvbmFsIGRlcHNcbiAgICAgICAgbm90Rm91bmRWYWx1ZSA9IG51bGw7XG4gICAgfVxuICAgIGlmICgoZmxhZ3MgJiAoSW5qZWN0RmxhZ3MuU2VsZiB8IEluamVjdEZsYWdzLkhvc3QpKSA9PT0gMCkge1xuICAgICAgICB2YXIgbW9kdWxlSW5qZWN0b3IgPSBsVmlld1tJTkpFQ1RPUl07XG4gICAgICAgIGlmIChtb2R1bGVJbmplY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluamVjdG9yLmdldCh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5qZWN0Um9vdExpbXBNb2RlKHRva2VuLCBub3RGb3VuZFZhbHVlLCBmbGFncyAmIEluamVjdEZsYWdzLk9wdGlvbmFsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxhZ3MgJiBJbmplY3RGbGFncy5PcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vZGVJbmplY3RvcjogTk9UX0ZPVU5EIFtcIiArIHN0cmluZ2lmeSQxKHRva2VuKSArIFwiXVwiKTtcbiAgICB9XG59XG52YXIgTk9UX0ZPVU5EID0ge307XG5mdW5jdGlvbiBzZWFyY2hUb2tlbnNPbkluamVjdG9yKGluamVjdG9ySW5kZXgsIGxWaWV3LCB0b2tlbiwgcHJldmlvdXNUVmlldywgZmxhZ3MsIGhvc3RURWxlbWVudE5vZGUpIHtcbiAgICB2YXIgY3VycmVudFRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIHZhciB0Tm9kZSA9IGN1cnJlbnRUVmlldy5kYXRhW2luamVjdG9ySW5kZXggKyBUTk9ERV07XG4gICAgLy8gRmlyc3QsIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHZpZXcgcHJvdmlkZXJzIGNhbiBiZSBhY2Nlc3NlZCBieSB0aGUgc3RhcnRpbmcgZWxlbWVudC5cbiAgICAvLyBUaGVyZSBhcmUgdHdvIHBvc3NpYml0aWVzXG4gICAgdmFyIGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMgPSBwcmV2aW91c1RWaWV3ID09IG51bGwgP1xuICAgICAgICAvLyAxKSBUaGlzIGlzIHRoZSBmaXJzdCBpbnZvY2F0aW9uIGBwcmV2aW91c1RWaWV3ID09IG51bGxgIHdoaWNoIG1lYW5zIHRoYXQgd2UgYXJlIGF0IHRoZVxuICAgICAgICAvLyBgVE5vZGVgIG9mIHdoZXJlIGluamVjdG9yIGlzIHN0YXJ0aW5nIHRvIGxvb2suIEluIHN1Y2ggYSBjYXNlIHRoZSBvbmx5IHRpbWUgd2UgYXJlIGFsbG93ZWRcbiAgICAgICAgLy8gdG8gbG9vayBpbnRvIHRoZSBWaWV3UHJvdmlkZXJzIGlzIGlmOlxuICAgICAgICAvLyAtIHdlIGFyZSBvbiBhIGNvbXBvbmVudFxuICAgICAgICAvLyAtIEFORCB0aGUgaW5qZWN0b3Igc2V0IGBpbmNsdWRlVmlld1Byb3ZpZGVyc2AgdG8gdHJ1ZSAoaW1wbHlpbmcgdGhhdCB0aGUgdG9rZW4gY2FuIHNlZVxuICAgICAgICAvLyBWaWV3UHJvdmlkZXJzIGJlY2F1c2UgaXQgaXMgdGhlIENvbXBvbmVudCBvciBhIFNlcnZpY2Ugd2hpY2ggaXRzZWxmIHdhcyBkZWNsYXJlZCBpblxuICAgICAgICAvLyBWaWV3UHJvdmlkZXJzKVxuICAgICAgICAoaXNDb21wb25lbnQodE5vZGUpICYmIGluY2x1ZGVWaWV3UHJvdmlkZXJzKSA6XG4gICAgICAgIC8vIDIpIGBwcmV2aW91c1RWaWV3ICE9IG51bGxgIHdoaWNoIG1lYW5zIHRoYXQgd2UgYXJlIG5vdyB3YWxraW5nIGFjcm9zcyB0aGUgcGFyZW50IG5vZGVzLlxuICAgICAgICAvLyBJbiBzdWNoIGEgY2FzZSB3ZSBhcmUgb25seSBhbGxvd2VkIHRvIGxvb2sgaW50byB0aGUgVmlld1Byb3ZpZGVycyBpZjpcbiAgICAgICAgLy8gLSBXZSBqdXN0IGNyb3NzZWQgZnJvbSBjaGlsZCBWaWV3IHRvIFBhcmVudCBWaWV3IGBwcmV2aW91c1RWaWV3ICE9IGN1cnJlbnRUVmlld2BcbiAgICAgICAgLy8gLSBBTkQgdGhlIHBhcmVudCBUTm9kZSBpcyBhbiBFbGVtZW50LlxuICAgICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgd2UganVzdCBjYW1lIGZyb20gdGhlIENvbXBvbmVudCdzIFZpZXcgYW5kIHRoZXJlZm9yZSBhcmUgYWxsb3dlZCB0byBzZWVcbiAgICAgICAgLy8gaW50byB0aGUgVmlld1Byb3ZpZGVycy5cbiAgICAgICAgKHByZXZpb3VzVFZpZXcgIT0gY3VycmVudFRWaWV3ICYmICh0Tm9kZS50eXBlID09PSAzIC8qIEVsZW1lbnQgKi8pKTtcbiAgICAvLyBUaGlzIHNwZWNpYWwgY2FzZSBoYXBwZW5zIHdoZW4gdGhlcmUgaXMgYSBAaG9zdCBvbiB0aGUgaW5qZWN0IGFuZCB3aGVuIHdlIGFyZSBzZWFyY2hpbmdcbiAgICAvLyBvbiB0aGUgaG9zdCBlbGVtZW50IG5vZGUuXG4gICAgdmFyIGlzSG9zdFNwZWNpYWxDYXNlID0gKGZsYWdzICYgSW5qZWN0RmxhZ3MuSG9zdCkgJiYgaG9zdFRFbGVtZW50Tm9kZSA9PT0gdE5vZGU7XG4gICAgdmFyIGluamVjdGFibGVJZHggPSBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCBsVmlldywgdG9rZW4sIGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMsIGlzSG9zdFNwZWNpYWxDYXNlKTtcbiAgICBpZiAoaW5qZWN0YWJsZUlkeCAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0Tm9kZUluamVjdGFibGUoY3VycmVudFRWaWV3LmRhdGEsIGxWaWV3LCBpbmplY3RhYmxlSWR4LCB0Tm9kZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gTk9UX0ZPVU5EO1xuICAgIH1cbn1cbi8qKlxuICogU2VhcmNoZXMgZm9yIHRoZSBnaXZlbiB0b2tlbiBhbW9uZyB0aGUgbm9kZSdzIGRpcmVjdGl2ZXMgYW5kIHByb3ZpZGVycy5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgVE5vZGUgb24gd2hpY2ggZGlyZWN0aXZlcyBhcmUgcHJlc2VudC5cbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB3ZSBhcmUgY3VycmVudGx5IHByb2Nlc3NpbmdcbiAqIEBwYXJhbSB0b2tlbiBQcm92aWRlciB0b2tlbiBvciB0eXBlIG9mIGEgZGlyZWN0aXZlIHRvIGxvb2sgZm9yLlxuICogQHBhcmFtIGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMgV2hldGhlciB2aWV3IHByb3ZpZGVycyBzaG91bGQgYmUgY29uc2lkZXJlZC5cbiAqIEBwYXJhbSBpc0hvc3RTcGVjaWFsQ2FzZSBXaGV0aGVyIHRoZSBob3N0IHNwZWNpYWwgY2FzZSBhcHBsaWVzLlxuICogQHJldHVybnMgSW5kZXggb2YgYSBmb3VuZCBkaXJlY3RpdmUgb3IgcHJvdmlkZXIsIG9yIG51bGwgd2hlbiBub25lIGZvdW5kLlxuICovXG5mdW5jdGlvbiBsb2NhdGVEaXJlY3RpdmVPclByb3ZpZGVyKHROb2RlLCBsVmlldywgdG9rZW4sIGNhbkFjY2Vzc1ZpZXdQcm92aWRlcnMsIGlzSG9zdFNwZWNpYWxDYXNlKSB7XG4gICAgdmFyIHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIHZhciBub2RlUHJvdmlkZXJJbmRleGVzID0gdE5vZGUucHJvdmlkZXJJbmRleGVzO1xuICAgIHZhciB0SW5qZWN0YWJsZXMgPSB0Vmlldy5kYXRhO1xuICAgIHZhciBpbmplY3RhYmxlc1N0YXJ0ID0gbm9kZVByb3ZpZGVySW5kZXhlcyAmIDY1NTM1IC8qIFByb3ZpZGVyc1N0YXJ0SW5kZXhNYXNrICovO1xuICAgIHZhciBkaXJlY3RpdmVzU3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICB2YXIgZGlyZWN0aXZlRW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIHZhciBjcHRWaWV3UHJvdmlkZXJzQ291bnQgPSBub2RlUHJvdmlkZXJJbmRleGVzID4+IDE2IC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ICovO1xuICAgIHZhciBzdGFydGluZ0luZGV4ID0gY2FuQWNjZXNzVmlld1Byb3ZpZGVycyA/IGluamVjdGFibGVzU3RhcnQgOiBpbmplY3RhYmxlc1N0YXJ0ICsgY3B0Vmlld1Byb3ZpZGVyc0NvdW50O1xuICAgIC8vIFdoZW4gdGhlIGhvc3Qgc3BlY2lhbCBjYXNlIGFwcGxpZXMsIG9ubHkgdGhlIHZpZXdQcm92aWRlcnMgYW5kIHRoZSBjb21wb25lbnQgYXJlIHZpc2libGVcbiAgICB2YXIgZW5kSW5kZXggPSBpc0hvc3RTcGVjaWFsQ2FzZSA/IGluamVjdGFibGVzU3RhcnQgKyBjcHRWaWV3UHJvdmlkZXJzQ291bnQgOiBkaXJlY3RpdmVFbmQ7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0aW5nSW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm92aWRlclRva2VuT3JEZWYgPSB0SW5qZWN0YWJsZXNbaV07XG4gICAgICAgIGlmIChpIDwgZGlyZWN0aXZlc1N0YXJ0ICYmIHRva2VuID09PSBwcm92aWRlclRva2VuT3JEZWYgfHxcbiAgICAgICAgICAgIGkgPj0gZGlyZWN0aXZlc1N0YXJ0ICYmIHByb3ZpZGVyVG9rZW5PckRlZi50eXBlID09PSB0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzSG9zdFNwZWNpYWxDYXNlKSB7XG4gICAgICAgIHZhciBkaXJEZWYgPSB0SW5qZWN0YWJsZXNbZGlyZWN0aXZlc1N0YXJ0XTtcbiAgICAgICAgaWYgKGRpckRlZiAmJiBpc0NvbXBvbmVudERlZihkaXJEZWYpICYmIGRpckRlZi50eXBlID09PSB0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXNTdGFydDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuKiBSZXRyaWV2ZSBvciBpbnN0YW50aWF0ZSB0aGUgaW5qZWN0YWJsZSBmcm9tIHRoZSBgbERhdGFgIGF0IHBhcnRpY3VsYXIgYGluZGV4YC5cbipcbiogVGhpcyBmdW5jdGlvbiBjaGVja3MgdG8gc2VlIGlmIHRoZSB2YWx1ZSBoYXMgYWxyZWFkeSBiZWVuIGluc3RhbnRpYXRlZCBhbmQgaWYgc28gcmV0dXJucyB0aGVcbiogY2FjaGVkIGBpbmplY3RhYmxlYC4gT3RoZXJ3aXNlIGlmIGl0IGRldGVjdHMgdGhhdCB0aGUgdmFsdWUgaXMgc3RpbGwgYSBmYWN0b3J5IGl0XG4qIGluc3RhbnRpYXRlcyB0aGUgYGluamVjdGFibGVgIGFuZCBjYWNoZXMgdGhlIHZhbHVlLlxuKi9cbmZ1bmN0aW9uIGdldE5vZGVJbmplY3RhYmxlKHREYXRhLCBsRGF0YSwgaW5kZXgsIHROb2RlKSB7XG4gICAgdmFyIHZhbHVlID0gbERhdGFbaW5kZXhdO1xuICAgIGlmIChpc0ZhY3RvcnkodmFsdWUpKSB7XG4gICAgICAgIHZhciBmYWN0b3J5ID0gdmFsdWU7XG4gICAgICAgIGlmIChmYWN0b3J5LnJlc29sdmluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2lyY3VsYXIgZGVwIGZvciBcIiArIHN0cmluZ2lmeSQxKHREYXRhW2luZGV4XSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91c0luY2x1ZGVWaWV3UHJvdmlkZXJzID0gc2V0SW5jbHVkZVZpZXdQcm92aWRlcnMoZmFjdG9yeS5jYW5TZWVWaWV3UHJvdmlkZXJzKTtcbiAgICAgICAgZmFjdG9yeS5yZXNvbHZpbmcgPSB0cnVlO1xuICAgICAgICB2YXIgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGZhY3RvcnkuaW5qZWN0SW1wbCkge1xuICAgICAgICAgICAgcHJldmlvdXNJbmplY3RJbXBsZW1lbnRhdGlvbiA9IHNldEluamVjdEltcGxlbWVudGF0aW9uKGZhY3RvcnkuaW5qZWN0SW1wbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNhdmVQcmV2aW91c09yUGFyZW50VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICAgICAgdmFyIHNhdmVMVmlldyA9IGdldExWaWV3KCk7XG4gICAgICAgIHNldFROb2RlQW5kVmlld0RhdGEodE5vZGUsIGxEYXRhKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gbERhdGFbaW5kZXhdID0gZmFjdG9yeS5mYWN0b3J5KG51bGwsIHREYXRhLCBsRGF0YSwgdE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKGZhY3RvcnkuaW5qZWN0SW1wbClcbiAgICAgICAgICAgICAgICBzZXRJbmplY3RJbXBsZW1lbnRhdGlvbihwcmV2aW91c0luamVjdEltcGxlbWVudGF0aW9uKTtcbiAgICAgICAgICAgIHNldEluY2x1ZGVWaWV3UHJvdmlkZXJzKHByZXZpb3VzSW5jbHVkZVZpZXdQcm92aWRlcnMpO1xuICAgICAgICAgICAgZmFjdG9yeS5yZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHNldFROb2RlQW5kVmlld0RhdGEoc2F2ZVByZXZpb3VzT3JQYXJlbnRUTm9kZSwgc2F2ZUxWaWV3KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGJpdCBpbiBhbiBpbmplY3RvcidzIGJsb29tIGZpbHRlciB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdFxuICogdGhlIGRpcmVjdGl2ZSBtaWdodCBiZSBwcm92aWRlZCBieSB0aGUgaW5qZWN0b3IuXG4gKlxuICogV2hlbiBhIGRpcmVjdGl2ZSBpcyBwdWJsaWMsIGl0IGlzIGFkZGVkIHRvIHRoZSBibG9vbSBmaWx0ZXIgYW5kIGdpdmVuIGEgdW5pcXVlIElEIHRoYXQgY2FuIGJlXG4gKiByZXRyaWV2ZWQgb24gdGhlIFR5cGUuIFdoZW4gdGhlIGRpcmVjdGl2ZSBpc24ndCBwdWJsaWMgb3IgdGhlIHRva2VuIGlzIG5vdCBhIGRpcmVjdGl2ZSBgbnVsbGBcbiAqIGlzIHJldHVybmVkIGFzIHRoZSBub2RlIGluamVjdG9yIGNhbiBub3QgcG9zc2libHkgcHJvdmlkZSB0aGF0IHRva2VuLlxuICpcbiAqIEBwYXJhbSB0b2tlbiB0aGUgaW5qZWN0aW9uIHRva2VuXG4gKiBAcmV0dXJucyB0aGUgbWF0Y2hpbmcgYml0IHRvIGNoZWNrIGluIHRoZSBibG9vbSBmaWx0ZXIgb3IgYG51bGxgIGlmIHRoZSB0b2tlbiBpcyBub3Qga25vd24uXG4gKi9cbmZ1bmN0aW9uIGJsb29tSGFzaEJpdE9yRmFjdG9yeSh0b2tlbikge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRva2VuLCAndG9rZW4gbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLmNoYXJDb2RlQXQoMCkgfHwgMDtcbiAgICB9XG4gICAgdmFyIHRva2VuSWQgPSB0b2tlbltOR19FTEVNRU5UX0lEXTtcbiAgICByZXR1cm4gdHlwZW9mIHRva2VuSWQgPT09ICdudW1iZXInID8gdG9rZW5JZCAmIEJMT09NX01BU0sgOiB0b2tlbklkO1xufVxuZnVuY3Rpb24gYmxvb21IYXNUb2tlbihibG9vbUhhc2gsIGluamVjdG9ySW5kZXgsIGluamVjdG9yVmlldykge1xuICAgIC8vIENyZWF0ZSBhIG1hc2sgdGhhdCB0YXJnZXRzIHRoZSBzcGVjaWZpYyBiaXQgYXNzb2NpYXRlZCB3aXRoIHRoZSBkaXJlY3RpdmUgd2UncmUgbG9va2luZyBmb3IuXG4gICAgLy8gSlMgYml0IG9wZXJhdGlvbnMgYXJlIDMyIGJpdHMsIHNvIHRoaXMgd2lsbCBiZSBhIG51bWJlciBiZXR3ZWVuIDJeMCBhbmQgMl4zMSwgY29ycmVzcG9uZGluZ1xuICAgIC8vIHRvIGJpdCBwb3NpdGlvbnMgMCAtIDMxIGluIGEgMzIgYml0IGludGVnZXIuXG4gICAgdmFyIG1hc2sgPSAxIDw8IGJsb29tSGFzaDtcbiAgICB2YXIgYjcgPSBibG9vbUhhc2ggJiAweDgwO1xuICAgIHZhciBiNiA9IGJsb29tSGFzaCAmIDB4NDA7XG4gICAgdmFyIGI1ID0gYmxvb21IYXNoICYgMHgyMDtcbiAgICAvLyBPdXIgYmxvb20gZmlsdGVyIHNpemUgaXMgMjU2IGJpdHMsIHdoaWNoIGlzIGVpZ2h0IDMyLWJpdCBibG9vbSBmaWx0ZXIgYnVja2V0czpcbiAgICAvLyBiZjAgPSBbMCAtIDMxXSwgYmYxID0gWzMyIC0gNjNdLCBiZjIgPSBbNjQgLSA5NV0sIGJmMyA9IFs5NiAtIDEyN10sIGV0Yy5cbiAgICAvLyBHZXQgdGhlIGJsb29tIGZpbHRlciB2YWx1ZSBmcm9tIHRoZSBhcHByb3ByaWF0ZSBidWNrZXQgYmFzZWQgb24gdGhlIGRpcmVjdGl2ZSdzIGJsb29tQml0LlxuICAgIHZhciB2YWx1ZTtcbiAgICBpZiAoYjcpIHtcbiAgICAgICAgdmFsdWUgPSBiNiA/IChiNSA/IGluamVjdG9yVmlld1tpbmplY3RvckluZGV4ICsgN10gOiBpbmplY3RvclZpZXdbaW5qZWN0b3JJbmRleCArIDZdKSA6XG4gICAgICAgICAgICAoYjUgPyBpbmplY3RvclZpZXdbaW5qZWN0b3JJbmRleCArIDVdIDogaW5qZWN0b3JWaWV3W2luamVjdG9ySW5kZXggKyA0XSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGI2ID8gKGI1ID8gaW5qZWN0b3JWaWV3W2luamVjdG9ySW5kZXggKyAzXSA6IGluamVjdG9yVmlld1tpbmplY3RvckluZGV4ICsgMl0pIDpcbiAgICAgICAgICAgIChiNSA/IGluamVjdG9yVmlld1tpbmplY3RvckluZGV4ICsgMV0gOiBpbmplY3RvclZpZXdbaW5qZWN0b3JJbmRleF0pO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgYmxvb20gZmlsdGVyIHZhbHVlIGhhcyB0aGUgYml0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGRpcmVjdGl2ZSdzIGJsb29tQml0IGZsaXBwZWQgb24sXG4gICAgLy8gdGhpcyBpbmplY3RvciBpcyBhIHBvdGVudGlhbCBtYXRjaC5cbiAgICByZXR1cm4gISEodmFsdWUgJiBtYXNrKTtcbn1cbi8qKiBSZXR1cm5zIHRydWUgaWYgZmxhZ3MgcHJldmVudCBwYXJlbnQgaW5qZWN0b3IgZnJvbSBiZWluZyBzZWFyY2hlZCBmb3IgdG9rZW5zICovXG5mdW5jdGlvbiBzaG91bGRTZWFyY2hQYXJlbnQoZmxhZ3MsIGlzRmlyc3RIb3N0VE5vZGUpIHtcbiAgICByZXR1cm4gIShmbGFncyAmIEluamVjdEZsYWdzLlNlbGYpICYmICEoZmxhZ3MgJiBJbmplY3RGbGFncy5Ib3N0ICYmIGlzRmlyc3RIb3N0VE5vZGUpO1xufVxuZnVuY3Rpb24gaW5qZWN0SW5qZWN0b3IoKSB7XG4gICAgdmFyIHROb2RlID0gZ2V0UHJldmlvdXNPclBhcmVudFROb2RlKCk7XG4gICAgcmV0dXJuIG5ldyBOb2RlSW5qZWN0b3IodE5vZGUsIGdldExWaWV3KCkpO1xufVxudmFyIE5vZGVJbmplY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb2RlSW5qZWN0b3IoX3ROb2RlLCBfbFZpZXcpIHtcbiAgICAgICAgdGhpcy5fdE5vZGUgPSBfdE5vZGU7XG4gICAgICAgIHRoaXMuX2xWaWV3ID0gX2xWaWV3O1xuICAgIH1cbiAgICBOb2RlSW5qZWN0b3IucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gZ2V0T3JDcmVhdGVJbmplY3RhYmxlKHRoaXMuX3ROb2RlLCB0aGlzLl9sVmlldywgdG9rZW4sIHVuZGVmaW5lZCwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm9kZUluamVjdG9yO1xufSgpKTtcbmZ1bmN0aW9uIGdldEZhY3RvcnlPZih0eXBlKSB7XG4gICAgdmFyIHR5cGVBbnkgPSB0eXBlO1xuICAgIHZhciBkZWYgPSBnZXRDb21wb25lbnREZWYodHlwZUFueSkgfHwgZ2V0RGlyZWN0aXZlRGVmKHR5cGVBbnkpIHx8XG4gICAgICAgIGdldFBpcGVEZWYodHlwZUFueSkgfHwgZ2V0SW5qZWN0YWJsZURlZih0eXBlQW55KSB8fCBnZXRJbmplY3RvckRlZih0eXBlQW55KTtcbiAgICBpZiAoIWRlZiB8fCBkZWYuZmFjdG9yeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZGVmLmZhY3Rvcnk7XG59XG5mdW5jdGlvbiBnZXRJbmhlcml0ZWRGYWN0b3J5KHR5cGUpIHtcbiAgICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodHlwZS5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO1xuICAgIHZhciBmYWN0b3J5ID0gZ2V0RmFjdG9yeU9mKHByb3RvKTtcbiAgICBpZiAoZmFjdG9yeSAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIG5vIGZhY3RvcnkgZGVmaW5lZC4gRWl0aGVyIHRoaXMgd2FzIGltcHJvcGVyIHVzYWdlIG9mIGluaGVyaXRhbmNlXG4gICAgICAgIC8vIChubyBBbmd1bGFyIGRlY29yYXRvciBvbiB0aGUgc3VwZXJjbGFzcykgb3IgdGhlcmUgaXMgbm8gY29uc3RydWN0b3IgYXQgYWxsXG4gICAgICAgIC8vIGluIHRoZSBpbmhlcml0YW5jZSBjaGFpbi4gU2luY2UgdGhlIHR3byBjYXNlcyBjYW5ub3QgYmUgZGlzdGluZ3Vpc2hlZCwgdGhlXG4gICAgICAgIC8vIGxhdHRlciBoYXMgdG8gYmUgYXNzdW1lZC5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBuZXcgdCgpOyB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqIFJldHVybnMgdGhlIG1hdGNoaW5nIGBMQ29udGV4dGAgZGF0YSBmb3IgYSBnaXZlbiBET00gbm9kZSwgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdpbGwgZXhhbWluZSB0aGUgcHJvdmlkZWQgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCwgb3IgZGlyZWN0aXZlIGluc3RhbmNlXFwnc1xuICogbW9ua2V5LXBhdGNoZWQgcHJvcGVydHkgdG8gZGVyaXZlIHRoZSBgTENvbnRleHRgIGRhdGEuIE9uY2UgY2FsbGVkIHRoZW4gdGhlIG1vbmtleS1wYXRjaGVkXG4gKiB2YWx1ZSB3aWxsIGJlIHRoYXQgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgYExDb250ZXh0YC5cbiAqXG4gKiBJZiB0aGUgbW9ua2V5LXBhdGNoZWQgdmFsdWUgaXMgdGhlIGBMVmlld2AgaW5zdGFuY2UgdGhlbiB0aGUgY29udGV4dCB2YWx1ZSBmb3IgdGhhdFxuICogdGFyZ2V0IHdpbGwgYmUgY3JlYXRlZCBhbmQgdGhlIG1vbmtleS1wYXRjaCByZWZlcmVuY2Ugd2lsbCBiZSB1cGRhdGVkLiBUaGVyZWZvcmUgd2hlbiB0aGlzXG4gKiBmdW5jdGlvbiBpcyBjYWxsZWQgaXQgbWF5IG11dGF0ZSB0aGUgcHJvdmlkZWQgZWxlbWVudFxcJ3MsIGNvbXBvbmVudFxcJ3Mgb3IgYW55IG9mIHRoZSBhc3NvY2lhdGVkXG4gKiBkaXJlY3RpdmVcXCdzIG1vbmtleS1wYXRjaCB2YWx1ZXMuXG4gKlxuICogSWYgdGhlIG1vbmtleS1wYXRjaCB2YWx1ZSBpcyBub3QgZGV0ZWN0ZWQgdGhlbiB0aGUgY29kZSB3aWxsIHdhbGsgdXAgdGhlIERPTSB1bnRpbCBhbiBlbGVtZW50XG4gKiBpcyBmb3VuZCB3aGljaCBjb250YWlucyBhIG1vbmtleS1wYXRjaCByZWZlcmVuY2UuIFdoZW4gdGhhdCBvY2N1cnMgdGhlbiB0aGUgcHJvdmlkZWQgZWxlbWVudFxuICogd2lsbCBiZSB1cGRhdGVkIHdpdGggYSBuZXcgY29udGV4dCAod2hpY2ggaXMgdGhlbiByZXR1cm5lZCkuIElmIHRoZSBtb25rZXktcGF0Y2ggdmFsdWUgaXMgbm90XG4gKiBkZXRlY3RlZCBmb3IgYSBjb21wb25lbnQvZGlyZWN0aXZlIGluc3RhbmNlIHRoZW4gaXQgd2lsbCB0aHJvdyBhbiBlcnJvciAoYWxsIGNvbXBvbmVudHMgYW5kXG4gKiBkaXJlY3RpdmVzIHNob3VsZCBiZSBhdXRvbWF0aWNhbGx5IG1vbmtleS1wYXRjaGVkIGJ5IGl2eSkuXG4gKlxuICogQHBhcmFtIHRhcmdldCBDb21wb25lbnQsIERpcmVjdGl2ZSBvciBET00gTm9kZS5cbiAqL1xuZnVuY3Rpb24gZ2V0TENvbnRleHQodGFyZ2V0KSB7XG4gICAgdmFyIG1wVmFsdWUgPSByZWFkUGF0Y2hlZERhdGEodGFyZ2V0KTtcbiAgICBpZiAobXBWYWx1ZSkge1xuICAgICAgICAvLyBvbmx5IHdoZW4gaXQncyBhbiBhcnJheSBpcyBpdCBjb25zaWRlcmVkIGFuIExWaWV3IGluc3RhbmNlXG4gICAgICAgIC8vIC4uLiBvdGhlcndpc2UgaXQncyBhbiBhbHJlYWR5IGNvbnN0cnVjdGVkIExDb250ZXh0IGluc3RhbmNlXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1wVmFsdWUpKSB7XG4gICAgICAgICAgICB2YXIgbFZpZXcgPSBtcFZhbHVlO1xuICAgICAgICAgICAgdmFyIG5vZGVJbmRleCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudEluc3RhbmNlKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBmaW5kVmlhQ29tcG9uZW50KGxWaWV3LCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvdmlkZWQgY29tcG9uZW50IHdhcyBub3QgZm91bmQgaW4gdGhlIGFwcGxpY2F0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IHRhcmdldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRGlyZWN0aXZlSW5zdGFuY2UodGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IGZpbmRWaWFEaXJlY3RpdmUobFZpZXcsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBkaXJlY3RpdmUgd2FzIG5vdCBmb3VuZCBpbiB0aGUgYXBwbGljYXRpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlcyA9IGdldERpcmVjdGl2ZXNBdE5vZGVJbmRleChub2RlSW5kZXgsIGxWaWV3LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlSW5kZXggPSBmaW5kVmlhTmF0aXZlRWxlbWVudChsVmlldywgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZUluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoZSBnb2FsIGlzIG5vdCB0byBmaWxsIHRoZSBlbnRpcmUgY29udGV4dCBmdWxsIG9mIGRhdGEgYmVjYXVzZSB0aGUgbG9va3Vwc1xuICAgICAgICAgICAgLy8gYXJlIGV4cGVuc2l2ZS4gSW5zdGVhZCwgb25seSB0aGUgdGFyZ2V0IGRhdGEgKHRoZSBlbGVtZW50LCBjb21wb25lbnQsIGNvbnRhaW5lciwgSUNVXG4gICAgICAgICAgICAvLyBleHByZXNzaW9uIG9yIGRpcmVjdGl2ZSBkZXRhaWxzKSBhcmUgZmlsbGVkIGludG8gdGhlIGNvbnRleHQuIElmIGNhbGxlZCBtdWx0aXBsZSB0aW1lc1xuICAgICAgICAgICAgLy8gd2l0aCBkaWZmZXJlbnQgdGFyZ2V0IHZhbHVlcyB0aGVuIHRoZSBtaXNzaW5nIHRhcmdldCBkYXRhIHdpbGwgYmUgZmlsbGVkIGluLlxuICAgICAgICAgICAgdmFyIG5hdGl2ZSA9IHJlYWRFbGVtZW50VmFsdWUobFZpZXdbbm9kZUluZGV4XSk7XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdDdHggPSByZWFkUGF0Y2hlZERhdGEobmF0aXZlKTtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gKGV4aXN0aW5nQ3R4ICYmICFBcnJheS5pc0FycmF5KGV4aXN0aW5nQ3R4KSkgP1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ3R4IDpcbiAgICAgICAgICAgICAgICBjcmVhdGVMQ29udGV4dChsVmlldywgbm9kZUluZGV4LCBuYXRpdmUpO1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gZGlzY292ZXJlZCB0aGVuIHVwZGF0ZSB0aGUgbW9ua2V5LXBhdGNoXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbnRleHQuY29tcG9uZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29udGV4dC5jb21wb25lbnQsIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoZSBkaXJlY3RpdmVzIGhhdmUgYmVlbiBkaXNjb3ZlcmVkIHRoZW4gdXBkYXRlIHRoZSBtb25rZXktcGF0Y2hcbiAgICAgICAgICAgIGlmIChkaXJlY3RpdmVzICYmIGNvbnRleHQuZGlyZWN0aXZlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKGRpcmVjdGl2ZXNbaV0sIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShjb250ZXh0Lm5hdGl2ZSwgY29udGV4dCk7XG4gICAgICAgICAgICBtcFZhbHVlID0gY29udGV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHJFbGVtZW50ID0gdGFyZ2V0O1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RG9tTm9kZShyRWxlbWVudCk7XG4gICAgICAgIC8vIGlmIHRoZSBjb250ZXh0IGlzIG5vdCBmb3VuZCB0aGVuIHdlIG5lZWQgdG8gdHJhdmVyc2UgdXB3YXJkcyB1cCB0aGUgRE9NXG4gICAgICAgIC8vIHRvIGZpbmQgdGhlIG5lYXJlc3QgZWxlbWVudCB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gbW9ua2V5IHBhdGNoZWQgd2l0aCBkYXRhXG4gICAgICAgIHZhciBwYXJlbnRfMSA9IHJFbGVtZW50O1xuICAgICAgICB3aGlsZSAocGFyZW50XzEgPSBwYXJlbnRfMS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50Q29udGV4dCA9IHJlYWRQYXRjaGVkRGF0YShwYXJlbnRfMSk7XG4gICAgICAgICAgICBpZiAocGFyZW50Q29udGV4dCkge1xuICAgICAgICAgICAgICAgIHZhciBsVmlldyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJlbnRDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IHBhcmVudENvbnRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsVmlldyA9IHBhcmVudENvbnRleHQubFZpZXc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZSBlZGdlIG9mIHRoZSBhcHAgd2FzIGFsc28gcmVhY2hlZCBoZXJlIHRocm91Z2ggYW5vdGhlciBtZWFuc1xuICAgICAgICAgICAgICAgIC8vIChtYXliZSBiZWNhdXNlIHRoZSBET00gd2FzIGNoYW5nZWQgbWFudWFsbHkpLlxuICAgICAgICAgICAgICAgIGlmICghbFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGZpbmRWaWFOYXRpdmVFbGVtZW50KGxWaWV3LCByRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hdGl2ZSA9IHJlYWRFbGVtZW50VmFsdWUobFZpZXdbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjcmVhdGVMQ29udGV4dChsVmlldywgaW5kZXgsIG5hdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShuYXRpdmUsIGNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBtcFZhbHVlID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtcFZhbHVlIHx8IG51bGw7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gZW1wdHkgaW5zdGFuY2Ugb2YgYSBgTENvbnRleHRgIGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTENvbnRleHQobFZpZXcsIG5vZGVJbmRleCwgbmF0aXZlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbFZpZXc6IGxWaWV3LFxuICAgICAgICBub2RlSW5kZXg6IG5vZGVJbmRleCxcbiAgICAgICAgbmF0aXZlOiBuYXRpdmUsXG4gICAgICAgIGNvbXBvbmVudDogdW5kZWZpbmVkLFxuICAgICAgICBkaXJlY3RpdmVzOiB1bmRlZmluZWQsXG4gICAgICAgIGxvY2FsUmVmczogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIFRha2VzIGEgY29tcG9uZW50IGluc3RhbmNlIGFuZCByZXR1cm5zIHRoZSB2aWV3IGZvciB0aGF0IGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50SW5zdGFuY2VcbiAqIEByZXR1cm5zIFRoZSBjb21wb25lbnQncyB2aWV3XG4gKi9cbmZ1bmN0aW9uIGdldENvbXBvbmVudFZpZXdCeUluc3RhbmNlKGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgdmFyIGxWaWV3ID0gcmVhZFBhdGNoZWREYXRhKGNvbXBvbmVudEluc3RhbmNlKTtcbiAgICB2YXIgdmlldztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShsVmlldykpIHtcbiAgICAgICAgdmFyIG5vZGVJbmRleCA9IGZpbmRWaWFDb21wb25lbnQobFZpZXcsIGNvbXBvbmVudEluc3RhbmNlKTtcbiAgICAgICAgdmlldyA9IGdldENvbXBvbmVudFZpZXdCeUluZGV4KG5vZGVJbmRleCwgbFZpZXcpO1xuICAgICAgICB2YXIgY29udGV4dCA9IGNyZWF0ZUxDb250ZXh0KGxWaWV3LCBub2RlSW5kZXgsIHZpZXdbSE9TVF0pO1xuICAgICAgICBjb250ZXh0LmNvbXBvbmVudCA9IGNvbXBvbmVudEluc3RhbmNlO1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29tcG9uZW50SW5zdGFuY2UsIGNvbnRleHQpO1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEoY29udGV4dC5uYXRpdmUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBsVmlldztcbiAgICAgICAgdmlldyA9IGdldENvbXBvbmVudFZpZXdCeUluZGV4KGNvbnRleHQubm9kZUluZGV4LCBjb250ZXh0LmxWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXc7XG59XG4vKipcbiAqIEFzc2lnbnMgdGhlIGdpdmVuIGRhdGEgdG8gdGhlIGdpdmVuIHRhcmdldCAod2hpY2ggY291bGQgYmUgYSBjb21wb25lbnQsXG4gKiBkaXJlY3RpdmUgb3IgRE9NIG5vZGUgaW5zdGFuY2UpIHVzaW5nIG1vbmtleS1wYXRjaGluZy5cbiAqL1xuZnVuY3Rpb24gYXR0YWNoUGF0Y2hEYXRhKHRhcmdldCwgZGF0YSkge1xuICAgIHRhcmdldFtNT05LRVlfUEFUQ0hfS0VZX05BTUVdID0gZGF0YTtcbn1cbmZ1bmN0aW9uIGlzQ29tcG9uZW50SW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2UuY29uc3RydWN0b3IgJiYgaW5zdGFuY2UuY29uc3RydWN0b3IubmdDb21wb25lbnREZWY7XG59XG5mdW5jdGlvbiBpc0RpcmVjdGl2ZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yICYmIGluc3RhbmNlLmNvbnN0cnVjdG9yLm5nRGlyZWN0aXZlRGVmO1xufVxuLyoqXG4gKiBMb2NhdGVzIHRoZSBlbGVtZW50IHdpdGhpbiB0aGUgZ2l2ZW4gTFZpZXcgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGZpbmRWaWFOYXRpdmVFbGVtZW50KGxWaWV3LCB0YXJnZXQpIHtcbiAgICB2YXIgdE5vZGUgPSBsVmlld1tUVklFV10uZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAodE5vZGUpIHtcbiAgICAgICAgdmFyIG5hdGl2ZSA9IGdldE5hdGl2ZUJ5VE5vZGUodE5vZGUsIGxWaWV3KTtcbiAgICAgICAgaWYgKG5hdGl2ZSA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gdE5vZGUuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgdE5vZGUgPSB0cmF2ZXJzZU5leHRFbGVtZW50KHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBMb2NhdGVzIHRoZSBuZXh0IHROb2RlIChjaGlsZCwgc2libGluZyBvciBwYXJlbnQpLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZU5leHRFbGVtZW50KHROb2RlKSB7XG4gICAgaWYgKHROb2RlLmNoaWxkKSB7XG4gICAgICAgIHJldHVybiB0Tm9kZS5jaGlsZDtcbiAgICB9XG4gICAgZWxzZSBpZiAodE5vZGUubmV4dCkge1xuICAgICAgICByZXR1cm4gdE5vZGUubmV4dDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIExldCdzIHRha2UgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTogPGRpdj48c3Bhbj50ZXh0PC9zcGFuPjwvZGl2Pjxjb21wb25lbnQvPlxuICAgICAgICAvLyBBZnRlciBjaGVja2luZyB0aGUgdGV4dCBub2RlLCB3ZSBuZWVkIHRvIGZpbmQgdGhlIG5leHQgcGFyZW50IHRoYXQgaGFzIGEgXCJuZXh0XCIgVE5vZGUsXG4gICAgICAgIC8vIGluIHRoaXMgY2FzZSB0aGUgcGFyZW50IGBkaXZgLCBzbyB0aGF0IHdlIGNhbiBmaW5kIHRoZSBjb21wb25lbnQuXG4gICAgICAgIHdoaWxlICh0Tm9kZS5wYXJlbnQgJiYgIXROb2RlLnBhcmVudC5uZXh0KSB7XG4gICAgICAgICAgICB0Tm9kZSA9IHROb2RlLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdE5vZGUucGFyZW50ICYmIHROb2RlLnBhcmVudC5uZXh0O1xuICAgIH1cbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgY29tcG9uZW50IHdpdGhpbiB0aGUgZ2l2ZW4gTFZpZXcgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGZpbmRWaWFDb21wb25lbnQobFZpZXcsIGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgdmFyIGNvbXBvbmVudEluZGljZXMgPSBsVmlld1tUVklFV10uY29tcG9uZW50cztcbiAgICBpZiAoY29tcG9uZW50SW5kaWNlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvbmVudEluZGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50Q29tcG9uZW50SW5kZXggPSBjb21wb25lbnRJbmRpY2VzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRWaWV3QnlJbmRleChlbGVtZW50Q29tcG9uZW50SW5kZXgsIGxWaWV3KTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRWaWV3W0NPTlRFWFRdID09PSBjb21wb25lbnRJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50Q29tcG9uZW50SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciByb290Q29tcG9uZW50VmlldyA9IGdldENvbXBvbmVudFZpZXdCeUluZGV4KEhFQURFUl9PRkZTRVQsIGxWaWV3KTtcbiAgICAgICAgdmFyIHJvb3RDb21wb25lbnQgPSByb290Q29tcG9uZW50Vmlld1tDT05URVhUXTtcbiAgICAgICAgaWYgKHJvb3RDb21wb25lbnQgPT09IGNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICAgICAgICAvLyB3ZSBhcmUgZGVhbGluZyB3aXRoIHRoZSByb290IGVsZW1lbnQgaGVyZSB0aGVyZWZvcmUgd2Uga25vdyB0aGF0IHRoZVxuICAgICAgICAgICAgLy8gZWxlbWVudCBpcyB0aGUgdmVyeSBmaXJzdCBlbGVtZW50IGFmdGVyIHRoZSBIRUFERVIgZGF0YSBpbiB0aGUgbFZpZXdcbiAgICAgICAgICAgIHJldHVybiBIRUFERVJfT0ZGU0VUO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogTG9jYXRlcyB0aGUgZGlyZWN0aXZlIHdpdGhpbiB0aGUgZ2l2ZW4gTFZpZXcgYW5kIHJldHVybnMgdGhlIG1hdGNoaW5nIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGZpbmRWaWFEaXJlY3RpdmUobFZpZXcsIGRpcmVjdGl2ZUluc3RhbmNlKSB7XG4gICAgLy8gaWYgYSBkaXJlY3RpdmUgaXMgbW9ua2V5IHBhdGNoZWQgdGhlbiBpdCB3aWxsIChieSBkZWZhdWx0KVxuICAgIC8vIGhhdmUgYSByZWZlcmVuY2UgdG8gdGhlIExWaWV3IG9mIHRoZSBjdXJyZW50IHZpZXcuIFRoZVxuICAgIC8vIGVsZW1lbnQgYm91bmQgdG8gdGhlIGRpcmVjdGl2ZSBiZWluZyBzZWFyY2ggbGl2ZXMgc29tZXdoZXJlXG4gICAgLy8gaW4gdGhlIHZpZXcgZGF0YS4gV2UgbG9vcCB0aHJvdWdoIHRoZSBub2RlcyBhbmQgY2hlY2sgdGhlaXJcbiAgICAvLyBsaXN0IG9mIGRpcmVjdGl2ZXMgZm9yIHRoZSBpbnN0YW5jZS5cbiAgICB2YXIgdE5vZGUgPSBsVmlld1tUVklFV10uZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAodE5vZGUpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZUluZGV4U3RhcnQgPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZUluZGV4RW5kID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgICAgICBmb3IgKHZhciBpID0gZGlyZWN0aXZlSW5kZXhTdGFydDsgaSA8IGRpcmVjdGl2ZUluZGV4RW5kOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChsVmlld1tpXSA9PT0gZGlyZWN0aXZlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdE5vZGUuaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdE5vZGUgPSB0cmF2ZXJzZU5leHRFbGVtZW50KHROb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBkaXJlY3RpdmVzIGV4dHJhY3RlZCBmcm9tIHRoZSBnaXZlbiB2aWV3IGJhc2VkIG9uIHRoZVxuICogcHJvdmlkZWQgbGlzdCBvZiBkaXJlY3RpdmUgaW5kZXggdmFsdWVzLlxuICpcbiAqIEBwYXJhbSBub2RlSW5kZXggVGhlIG5vZGUgaW5kZXhcbiAqIEBwYXJhbSBsVmlldyBUaGUgdGFyZ2V0IHZpZXcgZGF0YVxuICogQHBhcmFtIGluY2x1ZGVDb21wb25lbnRzIFdoZXRoZXIgb3Igbm90IHRvIGluY2x1ZGUgY29tcG9uZW50cyBpbiByZXR1cm5lZCBkaXJlY3RpdmVzXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZXNBdE5vZGVJbmRleChub2RlSW5kZXgsIGxWaWV3LCBpbmNsdWRlQ29tcG9uZW50cykge1xuICAgIHZhciB0Tm9kZSA9IGxWaWV3W1RWSUVXXS5kYXRhW25vZGVJbmRleF07XG4gICAgdmFyIGRpcmVjdGl2ZVN0YXJ0SW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICBpZiAoZGlyZWN0aXZlU3RhcnRJbmRleCA9PSAwKVxuICAgICAgICByZXR1cm4gRU1QVFlfQVJSQVk7XG4gICAgdmFyIGRpcmVjdGl2ZUVuZEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlRW5kO1xuICAgIGlmICghaW5jbHVkZUNvbXBvbmVudHMgJiYgdE5vZGUuZmxhZ3MgJiAxIC8qIGlzQ29tcG9uZW50ICovKVxuICAgICAgICBkaXJlY3RpdmVTdGFydEluZGV4Kys7XG4gICAgcmV0dXJuIGxWaWV3LnNsaWNlKGRpcmVjdGl2ZVN0YXJ0SW5kZXgsIGRpcmVjdGl2ZUVuZEluZGV4KTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudEF0Tm9kZUluZGV4KG5vZGVJbmRleCwgbFZpZXcpIHtcbiAgICB2YXIgdE5vZGUgPSBsVmlld1tUVklFV10uZGF0YVtub2RlSW5kZXhdO1xuICAgIHZhciBkaXJlY3RpdmVTdGFydEluZGV4ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgcmV0dXJuIHROb2RlLmZsYWdzICYgMSAvKiBpc0NvbXBvbmVudCAqLyA/IGxWaWV3W2RpcmVjdGl2ZVN0YXJ0SW5kZXhdIDogbnVsbDtcbn1cbi8qKlxuICogUmV0dXJucyBhIG1hcCBvZiBsb2NhbCByZWZlcmVuY2VzIChsb2NhbCByZWZlcmVuY2UgbmFtZSA9PiBlbGVtZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZSkgdGhhdFxuICogZXhpc3Qgb24gYSBnaXZlbiBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBkaXNjb3ZlckxvY2FsUmVmcyhsVmlldywgbm9kZUluZGV4KSB7XG4gICAgdmFyIHROb2RlID0gbFZpZXdbVFZJRVddLmRhdGFbbm9kZUluZGV4XTtcbiAgICBpZiAodE5vZGUgJiYgdE5vZGUubG9jYWxOYW1lcykge1xuICAgICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdE5vZGUubG9jYWxOYW1lcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIGxvY2FsUmVmTmFtZSA9IHROb2RlLmxvY2FsTmFtZXNbaV07XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlSW5kZXggPSB0Tm9kZS5sb2NhbE5hbWVzW2kgKyAxXTtcbiAgICAgICAgICAgIHJlc3VsdFtsb2NhbFJlZk5hbWVdID1cbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVJbmRleCA9PT0gLTEgPyBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldykgOiBsVmlld1tkaXJlY3RpdmVJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgY29tcG9uZW50IGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIERPTSBob3N0IGVsZW1lbnQuXG4gKiBFbGVtZW50cyB3aGljaCBkb24ndCByZXByZXNlbnQgY29tcG9uZW50cyByZXR1cm4gYG51bGxgLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IEhvc3QgRE9NIGVsZW1lbnQgZnJvbSB3aGljaCB0aGUgY29tcG9uZW50IHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gKlxuICogYGBgXG4gKiA8bXktYXBwPlxuICogICAjVklFV1xuICogICAgIDxkaXY+XG4gKiAgICAgICA8Y2hpbGQtY29tcD48L2NoaWxkLWNvbXA+XG4gKiAgICAgPC9kaXY+XG4gKiA8L21wLWFwcD5cbiAqXG4gKiBleHBlY3QoZ2V0Q29tcG9uZW50KDxjaGlsZC1jb21wPikgaW5zdGFuY2VvZiBDaGlsZENvbXBvbmVudCkudG9CZVRydXRoeSgpO1xuICogZXhwZWN0KGdldENvbXBvbmVudCg8bXktYXBwPikgaW5zdGFuY2VvZiBNeUFwcCkudG9CZVRydXRoeSgpO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnQoZWxlbWVudCkge1xuICAgIHZhciBjb250ZXh0ID0gbG9hZExDb250ZXh0RnJvbU5vZGUoZWxlbWVudCk7XG4gICAgaWYgKGNvbnRleHQuY29tcG9uZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGV4dC5jb21wb25lbnQgPSBnZXRDb21wb25lbnRBdE5vZGVJbmRleChjb250ZXh0Lm5vZGVJbmRleCwgY29udGV4dC5sVmlldyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmNvbXBvbmVudDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY29tcG9uZW50IGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIERPTSBob3N0IGVsZW1lbnQuXG4gKiBFbGVtZW50cyB3aGljaCBkb24ndCByZXByZXNlbnQgY29tcG9uZW50cyByZXR1cm4gYG51bGxgLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50IEhvc3QgRE9NIGVsZW1lbnQgZnJvbSB3aGljaCB0aGUgY29tcG9uZW50IHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gKlxuICogYGBgXG4gKiA8bXktYXBwPlxuICogICAjVklFV1xuICogICAgIDxkaXY+XG4gKiAgICAgICA8Y2hpbGQtY29tcD48L2NoaWxkLWNvbXA+XG4gKiAgICAgPC9kaXY+XG4gKiA8L21wLWFwcD5cbiAqXG4gKiBleHBlY3QoZ2V0Q29tcG9uZW50KDxjaGlsZC1jb21wPikgaW5zdGFuY2VvZiBDaGlsZENvbXBvbmVudCkudG9CZVRydXRoeSgpO1xuICogZXhwZWN0KGdldENvbXBvbmVudCg8bXktYXBwPikgaW5zdGFuY2VvZiBNeUFwcCkudG9CZVRydXRoeSgpO1xuICogYGBgXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXRDb250ZXh0KGVsZW1lbnQpIHtcbiAgICB2YXIgY29udGV4dCA9IGxvYWRMQ29udGV4dEZyb21Ob2RlKGVsZW1lbnQpO1xuICAgIHJldHVybiBjb250ZXh0LmxWaWV3W0NPTlRFWFRdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgYXNzb2NpYXRlZCB3aXRoIHZpZXcgd2hpY2ggb3ducyB0aGUgRE9NIGVsZW1lbnQgKGBudWxsYFxuICogb3RoZXJ3aXNlKS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBET00gZWxlbWVudCB3aGljaCBpcyBvd25lZCBieSBhbiBleGlzdGluZyBjb21wb25lbnQncyB2aWV3LlxuICpcbiAqIGBgYFxuICogPG15LWFwcD5cbiAqICAgI1ZJRVdcbiAqICAgICA8ZGl2PlxuICogICAgICAgPGNoaWxkLWNvbXA+PC9jaGlsZC1jb21wPlxuICogICAgIDwvZGl2PlxuICogPC9tcC1hcHA+XG4gKlxuICogZXhwZWN0KGdldFZpZXdDb21wb25lbnQoPGNoaWxkLWNvbXA+KSBpbnN0YW5jZW9mIE15QXBwKS50b0JlVHJ1dGh5KCk7XG4gKiBleHBlY3QoZ2V0Vmlld0NvbXBvbmVudCg8bXktYXBwPikpLnRvRXF1YWwobnVsbCk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldFZpZXdDb21wb25lbnQoZWxlbWVudCkge1xuICAgIHZhciBjb250ZXh0ID0gbG9hZExDb250ZXh0KGVsZW1lbnQpO1xuICAgIHZhciBsVmlldyA9IGNvbnRleHQubFZpZXc7XG4gICAgd2hpbGUgKGxWaWV3W1BBUkVOVF0gJiYgbFZpZXdbSE9TVF0gPT09IG51bGwpIHtcbiAgICAgICAgLy8gQXMgbG9uZyBhcyBsVmlld1tIT1NUXSBpcyBudWxsIHdlIGtub3cgd2UgYXJlIHBhcnQgb2Ygc3ViLXRlbXBsYXRlIHN1Y2ggYXMgYCpuZ0lmYFxuICAgICAgICBsVmlldyA9IGxWaWV3W1BBUkVOVF07XG4gICAgfVxuICAgIHJldHVybiBsVmlld1tGTEFHU10gJiAxMjggLyogSXNSb290ICovID8gbnVsbCA6IGxWaWV3W0NPTlRFWFRdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBgUm9vdENvbnRleHRgIGluc3RhbmNlIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoXG4gKiB0aGUgYXBwbGljYXRpb24gd2hlcmUgdGhlIHRhcmdldCBpcyBzaXR1YXRlZC5cbiAqXG4gKi9cbmZ1bmN0aW9uIGdldFJvb3RDb250ZXh0JDEodGFyZ2V0KSB7XG4gICAgdmFyIGxWaWV3RGF0YSA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KSA/IHRhcmdldCA6IGxvYWRMQ29udGV4dCh0YXJnZXQpLmxWaWV3O1xuICAgIHZhciByb290TFZpZXcgPSBnZXRSb290VmlldyQxKGxWaWV3RGF0YSk7XG4gICAgcmV0dXJuIHJvb3RMVmlld1tDT05URVhUXTtcbn1cbi8qKlxuICogUmV0cmlldmUgYWxsIHJvb3QgY29tcG9uZW50cy5cbiAqXG4gKiBSb290IGNvbXBvbmVudHMgYXJlIHRob3NlIHdoaWNoIGhhdmUgYmVlbiBib290c3RyYXBwZWQgYnkgQW5ndWxhci5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IEEgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXRSb290Q29tcG9uZW50cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gX19zcHJlYWQoZ2V0Um9vdENvbnRleHQkMSh0YXJnZXQpLmNvbXBvbmVudHMpO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYW4gYEluamVjdG9yYCBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUuXG4gKlxuICogQHBhcmFtIHRhcmdldCBBIERPTSBlbGVtZW50LCBjb21wb25lbnQgb3IgZGlyZWN0aXZlIGluc3RhbmNlLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZ2V0SW5qZWN0b3IodGFyZ2V0KSB7XG4gICAgdmFyIGNvbnRleHQgPSBsb2FkTENvbnRleHQodGFyZ2V0KTtcbiAgICB2YXIgdE5vZGUgPSBjb250ZXh0LmxWaWV3W1RWSUVXXS5kYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICByZXR1cm4gbmV3IE5vZGVJbmplY3Rvcih0Tm9kZSwgY29udGV4dC5sVmlldyk7XG59XG4vKipcbiAqIFJldHJpZXZlIGEgc2V0IG9mIGluamVjdGlvbiB0b2tlbnMgYXQgYSBnaXZlbiBET00gbm9kZS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IGZvciB3aGljaCB0aGUgaW5qZWN0aW9uIHRva2VucyBzaG91bGQgYmUgcmV0cmlldmVkLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXRJbmplY3Rpb25Ub2tlbnMoZWxlbWVudCkge1xuICAgIHZhciBjb250ZXh0ID0gbG9hZExDb250ZXh0KGVsZW1lbnQsIGZhbHNlKTtcbiAgICBpZiAoIWNvbnRleHQpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICB2YXIgbFZpZXcgPSBjb250ZXh0LmxWaWV3O1xuICAgIHZhciB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICB2YXIgdE5vZGUgPSB0Vmlldy5kYXRhW2NvbnRleHQubm9kZUluZGV4XTtcbiAgICB2YXIgcHJvdmlkZXJUb2tlbnMgPSBbXTtcbiAgICB2YXIgc3RhcnRJbmRleCA9IHROb2RlLnByb3ZpZGVySW5kZXhlcyAmIDY1NTM1IC8qIFByb3ZpZGVyc1N0YXJ0SW5kZXhNYXNrICovO1xuICAgIHZhciBlbmRJbmRleCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdFZpZXcuZGF0YVtpXTtcbiAgICAgICAgaWYgKGlzRGlyZWN0aXZlRGVmSGFjayh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIFRoZSBmYWN0IHRoYXQgd2Ugc29tZXRpbWVzIHN0b3JlIFR5cGUgYW5kIHNvbWV0aW1lcyBEaXJlY3RpdmVEZWYgaW4gdGhpcyBsb2NhdGlvbiBpcyBhXG4gICAgICAgICAgICAvLyBkZXNpZ24gZmxhdy4gIFdlIHNob3VsZCBhbHdheXMgc3RvcmUgc2FtZSB0eXBlIHNvIHRoYXQgd2UgY2FuIGJlIG1vbm9tb3JwaGljLiBUaGUgaXNzdWVcbiAgICAgICAgICAgIC8vIGlzIHRoYXQgZm9yIENvbXBvbmVudHMvRGlyZWN0aXZlcyB3ZSBzdG9yZSB0aGUgZGVmIGluc3RlYWQgdGhlIHR5cGUuIFRoZSBjb3JyZWN0IGJlaGF2aW9yXG4gICAgICAgICAgICAvLyBpcyB0aGF0IHdlIHNob3VsZCBhbHdheXMgYmUgc3RvcmluZyBpbmplY3RhYmxlIHR5cGUgaW4gdGhpcyBsb2NhdGlvbi5cbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHlwZTtcbiAgICAgICAgfVxuICAgICAgICBwcm92aWRlclRva2Vucy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3ZpZGVyVG9rZW5zO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgZGlyZWN0aXZlcyBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBET00gaG9zdCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB0YXJnZXQgQSBET00gZWxlbWVudCwgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZXModGFyZ2V0KSB7XG4gICAgdmFyIGNvbnRleHQgPSBsb2FkTENvbnRleHQodGFyZ2V0KTtcbiAgICBpZiAoY29udGV4dC5kaXJlY3RpdmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzID0gZ2V0RGlyZWN0aXZlc0F0Tm9kZUluZGV4KGNvbnRleHQubm9kZUluZGV4LCBjb250ZXh0LmxWaWV3LCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXMgfHwgW107XG59XG5mdW5jdGlvbiBsb2FkTENvbnRleHQodGFyZ2V0LCB0aHJvd09uTm90Rm91bmQpIHtcbiAgICBpZiAodGhyb3dPbk5vdEZvdW5kID09PSB2b2lkIDApIHsgdGhyb3dPbk5vdEZvdW5kID0gdHJ1ZTsgfVxuICAgIHZhciBjb250ZXh0ID0gZ2V0TENvbnRleHQodGFyZ2V0KTtcbiAgICBpZiAoIWNvbnRleHQgJiYgdGhyb3dPbk5vdEZvdW5kKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihuZ0Rldk1vZGUgPyBcIlVuYWJsZSB0byBmaW5kIGNvbnRleHQgYXNzb2NpYXRlZCB3aXRoIFwiICsgc3RyaW5naWZ5JDEodGFyZ2V0KSA6XG4gICAgICAgICAgICAnSW52YWxpZCBuZyB0YXJnZXQnKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG4vKipcbiAqIFJldHJpZXZlIHRoZSByb290IHZpZXcgZnJvbSBhbnkgY29tcG9uZW50IGJ5IHdhbGtpbmcgdGhlIHBhcmVudCBgTFZpZXdgIHVudGlsXG4gKiByZWFjaGluZyB0aGUgcm9vdCBgTFZpZXdgLlxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRPclZpZXcgYW55IGNvbXBvbmVudCBvciB2aWV3XG4gKlxuICovXG5mdW5jdGlvbiBnZXRSb290VmlldyQxKGNvbXBvbmVudE9yVmlldykge1xuICAgIHZhciBsVmlldztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb21wb25lbnRPclZpZXcpKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGNvbXBvbmVudE9yVmlldywgJ2xWaWV3Jyk7XG4gICAgICAgIGxWaWV3ID0gY29tcG9uZW50T3JWaWV3O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoY29tcG9uZW50T3JWaWV3LCAnY29tcG9uZW50Jyk7XG4gICAgICAgIGxWaWV3ID0gcmVhZFBhdGNoZWRMVmlldyhjb21wb25lbnRPclZpZXcpO1xuICAgIH1cbiAgICB3aGlsZSAobFZpZXcgJiYgIShsVmlld1tGTEFHU10gJiAxMjggLyogSXNSb290ICovKSkge1xuICAgICAgICBsVmlldyA9IGxWaWV3W1BBUkVOVF07XG4gICAgfVxuICAgIHJldHVybiBsVmlldztcbn1cbi8qKlxuICogUmV0cmlldmUgbWFwIG9mIGxvY2FsIHJlZmVyZW5jZXMuXG4gKlxuICogVGhlIHJlZmVyZW5jZXMgYXJlIHJldHJpZXZlZCBhcyBhIG1hcCBvZiBsb2NhbCByZWZlcmVuY2UgbmFtZSB0byBlbGVtZW50IG9yIGRpcmVjdGl2ZSBpbnN0YW5jZS5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IEEgRE9NIGVsZW1lbnQsIGNvbXBvbmVudCBvciBkaXJlY3RpdmUgaW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXRMb2NhbFJlZnModGFyZ2V0KSB7XG4gICAgdmFyIGNvbnRleHQgPSBsb2FkTENvbnRleHQodGFyZ2V0KTtcbiAgICBpZiAoY29udGV4dC5sb2NhbFJlZnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb250ZXh0LmxvY2FsUmVmcyA9IGRpc2NvdmVyTG9jYWxSZWZzKGNvbnRleHQubFZpZXcsIGNvbnRleHQubm9kZUluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQubG9jYWxSZWZzIHx8IHt9O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgaG9zdCBlbGVtZW50IG9mIHRoZSBjb21wb25lbnQuXG4gKlxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIGhvc3QgZWxlbWVudCBvZiB0aGUgY29tcG9uZW50LiBUaGUgaG9zdFxuICogZWxlbWVudCBpcyB0aGUgZWxlbWVudCB3aGljaCB0aGUgY29tcG9uZW50IGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAqXG4gKiBAcGFyYW0gZGlyZWN0aXZlIENvbXBvbmVudCBvciBEaXJlY3RpdmUgZm9yIHdoaWNoIHRoZSBob3N0IGVsZW1lbnQgc2hvdWxkIGJlIHJldHJpZXZlZC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldEhvc3RFbGVtZW50KGRpcmVjdGl2ZSkge1xuICAgIHJldHVybiBnZXRMQ29udGV4dChkaXJlY3RpdmUpLm5hdGl2ZTtcbn1cbmZ1bmN0aW9uIGxvYWRMQ29udGV4dEZyb21Ob2RlKG5vZGUpIHtcbiAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTm9kZSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGluc3RhbmNlIG9mIERPTSBOb2RlJyk7XG4gICAgcmV0dXJuIGxvYWRMQ29udGV4dChub2RlKTtcbn1cbmZ1bmN0aW9uIGlzQnJvd3NlckV2ZW50cyhsaXN0ZW5lcikge1xuICAgIC8vIEJyb3dzZXIgZXZlbnRzIGFyZSB0aG9zZSB3aGljaCBkb24ndCBoYXZlIGB1c2VDYXB0dXJlYCBhcyBib29sZWFuLlxuICAgIHJldHVybiB0eXBlb2YgbGlzdGVuZXIudXNlQ2FwdHVyZSA9PT0gJ2Jvb2xlYW4nO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYSBsaXN0IG9mIERPTSBsaXN0ZW5lcnMuXG4gKlxuICogYGBgXG4gKiA8bXktYXBwPlxuICogICAjVklFV1xuICogICAgIDxkaXYgKGNsaWNrKT1cImRvU29tZXRoaW5nKClcIj5cbiAqICAgICA8L2Rpdj5cbiAqIDwvbXAtYXBwPlxuICpcbiAqIGV4cGVjdChnZXRMaXN0ZW5lcnMoPGRpdj4pKS50b0VxdWFsKHtcbiAqICAgbmFtZTogJ2NsaWNrJyxcbiAqICAgZWxlbWVudDogPGRpdj4sXG4gKiAgIGNhbGxiYWNrOiAoKSA9PiBkb1NvbWV0aGluZygpLFxuICogICB1c2VDYXB0dXJlOiBmYWxzZVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IGZvciB3aGljaCB0aGUgRE9NIGxpc3RlbmVycyBzaG91bGQgYmUgcmV0cmlldmVkLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXRMaXN0ZW5lcnMoZWxlbWVudCkge1xuICAgIHZhciBsQ29udGV4dCA9IGxvYWRMQ29udGV4dEZyb21Ob2RlKGVsZW1lbnQpO1xuICAgIHZhciBsVmlldyA9IGxDb250ZXh0LmxWaWV3O1xuICAgIHZhciB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICB2YXIgbENsZWFudXAgPSBsVmlld1tDTEVBTlVQXTtcbiAgICB2YXIgdENsZWFudXAgPSB0Vmlldy5jbGVhbnVwO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcbiAgICBpZiAodENsZWFudXAgJiYgbENsZWFudXApIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0Q2xlYW51cC5sZW5ndGg7KSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RQYXJhbSA9IHRDbGVhbnVwW2krK107XG4gICAgICAgICAgICB2YXIgc2Vjb25kUGFyYW0gPSB0Q2xlYW51cFtpKytdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaXJzdFBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lXzEgPSBmaXJzdFBhcmFtO1xuICAgICAgICAgICAgICAgIHZhciBsaXN0ZW5lckVsZW1lbnQgPSByZWFkRWxlbWVudFZhbHVlKGxWaWV3W3NlY29uZFBhcmFtXSk7XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gbENsZWFudXBbdENsZWFudXBbaSsrXV07XG4gICAgICAgICAgICAgICAgdmFyIHVzZUNhcHR1cmVPckluZHggPSB0Q2xlYW51cFtpKytdO1xuICAgICAgICAgICAgICAgIC8vIGlmIHVzZUNhcHR1cmVPckluZHggaXMgYm9vbGVhbiB0aGVuIHJlcG9ydCBpdCBhcyBpcy5cbiAgICAgICAgICAgICAgICAvLyBpZiB1c2VDYXB0dXJlT3JJbmR4IGlzIHBvc2l0aXZlIG51bWJlciB0aGVuIGl0IGluIHVuc3Vic2NyaWJlIG1ldGhvZFxuICAgICAgICAgICAgICAgIC8vIGlmIHVzZUNhcHR1cmVPckluZHggaXMgbmVnYXRpdmUgbnVtYmVyIHRoZW4gaXQgaXMgYSBTdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICB2YXIgdXNlQ2FwdHVyZSA9IHR5cGVvZiB1c2VDYXB0dXJlT3JJbmR4ID09PSAnYm9vbGVhbicgP1xuICAgICAgICAgICAgICAgICAgICB1c2VDYXB0dXJlT3JJbmR4IDpcbiAgICAgICAgICAgICAgICAgICAgKHVzZUNhcHR1cmVPckluZHggPj0gMCA/IGZhbHNlIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT0gbGlzdGVuZXJFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHsgZWxlbWVudDogZWxlbWVudCwgbmFtZTogbmFtZV8xLCBjYWxsYmFjazogY2FsbGJhY2ssIHVzZUNhcHR1cmU6IHVzZUNhcHR1cmUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxpc3RlbmVycy5zb3J0KHNvcnRMaXN0ZW5lcnMpO1xuICAgIHJldHVybiBsaXN0ZW5lcnM7XG59XG5mdW5jdGlvbiBzb3J0TGlzdGVuZXJzKGEsIGIpIHtcbiAgICBpZiAoYS5uYW1lID09IGIubmFtZSlcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgcmV0dXJuIGEubmFtZSA8IGIubmFtZSA/IC0xIDogMTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzaG91bGQgbm90IGV4aXN0IGJlY2F1c2UgaXQgaXMgbWVnYW1vcnBoaWMgYW5kIG9ubHkgbW9zdGx5IGNvcnJlY3QuXG4gKlxuICogU2VlIGNhbGwgc2l0ZSBmb3IgbW9yZSBpbmZvLlxuICovXG5mdW5jdGlvbiBpc0RpcmVjdGl2ZURlZkhhY2sob2JqKSB7XG4gICAgcmV0dXJuIG9iai50eXBlICE9PSB1bmRlZmluZWQgJiYgb2JqLnRlbXBsYXRlICE9PSB1bmRlZmluZWQgJiYgb2JqLmRlY2xhcmVkSW5wdXRzICE9PSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlYnVnQmluZGluZ05hbWUobmFtZSkge1xuICAgIC8vIEF0dHJpYnV0ZSBuYW1lcyB3aXRoIGAkYCAoZWcgYHgteSRgKSBhcmUgdmFsaWQgcGVyIHNwZWMsIGJ1dCB1bnN1cHBvcnRlZCBieSBzb21lIGJyb3dzZXJzXG4gICAgbmFtZSA9IGNhbWVsQ2FzZVRvRGFzaENhc2UobmFtZS5yZXBsYWNlKC9bJEBdL2csICdfJykpO1xuICAgIHJldHVybiBcIm5nLXJlZmxlY3QtXCIgKyBuYW1lO1xufVxudmFyIENBTUVMX0NBU0VfUkVHRVhQID0gLyhbQS1aXSkvZztcbmZ1bmN0aW9uIGNhbWVsQ2FzZVRvRGFzaENhc2UoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZShDQU1FTF9DQVNFX1JFR0VYUCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgbVtfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnLScgKyBtWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVEZWJ1Z0JpbmRpbmdWYWx1ZSh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIExpbWl0IHRoZSBzaXplIG9mIHRoZSB2YWx1ZSBhcyBvdGhlcndpc2UgdGhlIERPTSBqdXN0IGdldHMgcG9sbHV0ZWQuXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gdmFsdWUudG9TdHJpbmcoKS5zbGljZSgwLCAzMCkgOiB2YWx1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuICdbRVJST1JdIEV4Y2VwdGlvbiB3aGlsZSB0cnlpbmcgdG8gc2VyaWFsaXplIHRoZSB2YWx1ZSc7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBkZXZNb2RlRXF1YWwoYSwgYikge1xuICAgIHZhciBpc0xpc3RMaWtlSXRlcmFibGVBID0gaXNMaXN0TGlrZUl0ZXJhYmxlKGEpO1xuICAgIHZhciBpc0xpc3RMaWtlSXRlcmFibGVCID0gaXNMaXN0TGlrZUl0ZXJhYmxlKGIpO1xuICAgIGlmIChpc0xpc3RMaWtlSXRlcmFibGVBICYmIGlzTGlzdExpa2VJdGVyYWJsZUIpIHtcbiAgICAgICAgcmV0dXJuIGFyZUl0ZXJhYmxlc0VxdWFsKGEsIGIsIGRldk1vZGVFcXVhbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgaXNBT2JqZWN0ID0gYSAmJiAodHlwZW9mIGEgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbiAgICAgICAgdmFyIGlzQk9iamVjdCA9IGIgJiYgKHR5cGVvZiBiID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgYiA9PT0gJ2Z1bmN0aW9uJyk7XG4gICAgICAgIGlmICghaXNMaXN0TGlrZUl0ZXJhYmxlQSAmJiBpc0FPYmplY3QgJiYgIWlzTGlzdExpa2VJdGVyYWJsZUIgJiYgaXNCT2JqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBsb29zZUlkZW50aWNhbChhLCBiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgdGhlIHJlc3VsdCBvZiBhIHtAbGluayBQaXBlfSB0cmFuc2Zvcm1hdGlvbiBoYXMgY2hhbmdlZCBldmVuIHRob3VnaCB0aGVcbiAqIHJlZmVyZW5jZSBoYXMgbm90IGNoYW5nZWQuXG4gKlxuICogV3JhcHBlZCB2YWx1ZXMgYXJlIHVud3JhcHBlZCBhdXRvbWF0aWNhbGx5IGR1cmluZyB0aGUgY2hhbmdlIGRldGVjdGlvbiwgYW5kIHRoZSB1bndyYXBwZWQgdmFsdWVcbiAqIGlzIHN0b3JlZC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogaWYgKHRoaXMuX2xhdGVzdFZhbHVlID09PSB0aGlzLl9sYXRlc3RSZXR1cm5lZFZhbHVlKSB7XG4gKiAgICByZXR1cm4gdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZTtcbiAqICB9IGVsc2Uge1xuICogICAgdGhpcy5fbGF0ZXN0UmV0dXJuZWRWYWx1ZSA9IHRoaXMuX2xhdGVzdFZhbHVlO1xuICogICAgcmV0dXJuIFdyYXBwZWRWYWx1ZS53cmFwKHRoaXMuX2xhdGVzdFZhbHVlKTsgLy8gdGhpcyB3aWxsIGZvcmNlIHVwZGF0ZVxuICogIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFdyYXBwZWRWYWx1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXcmFwcGVkVmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgd3JhcHBlZCB2YWx1ZS4gKi9cbiAgICBXcmFwcGVkVmFsdWUud3JhcCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbmV3IFdyYXBwZWRWYWx1ZSh2YWx1ZSk7IH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyB2YWx1ZSBvZiBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogUmV0dXJucyB0aGUgZ2l2ZW4gYHZhbHVlYCB3aGVuIGl0IGlzIG5vdCB3cmFwcGVkLlxuICAgICAqKi9cbiAgICBXcmFwcGVkVmFsdWUudW53cmFwID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBXcmFwcGVkVmFsdWUuaXNXcmFwcGVkKHZhbHVlKSA/IHZhbHVlLndyYXBwZWQgOiB2YWx1ZTsgfTtcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYSB3cmFwcGVkIHZhbHVlLiAqL1xuICAgIFdyYXBwZWRWYWx1ZS5pc1dyYXBwZWQgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgV3JhcHBlZFZhbHVlOyB9O1xuICAgIHJldHVybiBXcmFwcGVkVmFsdWU7XG59KCkpO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgYmFzaWMgY2hhbmdlIGZyb20gYSBwcmV2aW91cyB0byBhIG5ldyB2YWx1ZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBTaW1wbGVDaGFuZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlQ2hhbmdlKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSwgZmlyc3RDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gcHJldmlvdXNWYWx1ZTtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWU7XG4gICAgICAgIHRoaXMuZmlyc3RDaGFuZ2UgPSBmaXJzdENoYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgbmV3IHZhbHVlIGlzIHRoZSBmaXJzdCB2YWx1ZSBhc3NpZ25lZC5cbiAgICAgKi9cbiAgICBTaW1wbGVDaGFuZ2UucHJvdG90eXBlLmlzRmlyc3RDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmZpcnN0Q2hhbmdlOyB9O1xuICAgIHJldHVybiBTaW1wbGVDaGFuZ2U7XG59KCkpO1xuZnVuY3Rpb24gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaikge1xuICAgIGlmICghaXNKc09iamVjdChvYmopKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSB8fFxuICAgICAgICAoIShvYmogaW5zdGFuY2VvZiBNYXApICYmIC8vIEpTIE1hcCBhcmUgaXRlcmFibGVzIGJ1dCByZXR1cm4gZW50cmllcyBhcyBbaywgdl1cbiAgICAgICAgICAgIGdldFN5bWJvbEl0ZXJhdG9yKCkgaW4gb2JqKTsgLy8gSlMgSXRlcmFibGUgaGF2ZSBhIFN5bWJvbC5pdGVyYXRvciBwcm9wXG59XG5mdW5jdGlvbiBhcmVJdGVyYWJsZXNFcXVhbChhLCBiLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGl0ZXJhdG9yMSA9IGFbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICB2YXIgaXRlcmF0b3IyID0gYltnZXRTeW1ib2xJdGVyYXRvcigpXSgpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBpdGVtMSA9IGl0ZXJhdG9yMS5uZXh0KCk7XG4gICAgICAgIHZhciBpdGVtMiA9IGl0ZXJhdG9yMi5uZXh0KCk7XG4gICAgICAgIGlmIChpdGVtMS5kb25lICYmIGl0ZW0yLmRvbmUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGl0ZW0xLmRvbmUgfHwgaXRlbTIuZG9uZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFjb21wYXJhdG9yKGl0ZW0xLnZhbHVlLCBpdGVtMi52YWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXRlcmF0ZUxpc3RMaWtlKG9iaiwgZm4pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmbihvYmpbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBvYmpbZ2V0U3ltYm9sSXRlcmF0b3IoKV0oKTtcbiAgICAgICAgdmFyIGl0ZW0gPSB2b2lkIDA7XG4gICAgICAgIHdoaWxlICghKChpdGVtID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSkge1xuICAgICAgICAgICAgZm4oaXRlbS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc0pzT2JqZWN0KG8pIHtcbiAgICByZXR1cm4gbyAhPT0gbnVsbCAmJiAodHlwZW9mIG8gPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIG8gPT09ICdvYmplY3QnKTtcbn1cblxuLyoqIENhbGxlZCB3aGVuIGRpcmVjdGl2ZXMgaW5qZWN0IGVhY2ggb3RoZXIgKGNyZWF0aW5nIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSkgKi9cbi8qKiBDYWxsZWQgd2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgY29tcG9uZW50IHNlbGVjdG9ycyB0aGF0IG1hdGNoIGEgZ2l2ZW4gbm9kZSAqL1xuZnVuY3Rpb24gdGhyb3dNdWx0aXBsZUNvbXBvbmVudEVycm9yKHROb2RlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTXVsdGlwbGUgY29tcG9uZW50cyBtYXRjaCBub2RlIHdpdGggdGFnbmFtZSBcIiArIHROb2RlLnRhZ05hbWUpO1xufVxuLyoqIFRocm93cyBhbiBFeHByZXNzaW9uQ2hhbmdlZEFmdGVyQ2hlY2tlZCBlcnJvciBpZiBjaGVja05vQ2hhbmdlcyBtb2RlIGlzIG9uLiAqL1xuZnVuY3Rpb24gdGhyb3dFcnJvcklmTm9DaGFuZ2VzTW9kZShjcmVhdGlvbk1vZGUsIG9sZFZhbHVlLCBjdXJyVmFsdWUpIHtcbiAgICB2YXIgbXNnID0gXCJFeHByZXNzaW9uQ2hhbmdlZEFmdGVySXRIYXNCZWVuQ2hlY2tlZEVycm9yOiBFeHByZXNzaW9uIGhhcyBjaGFuZ2VkIGFmdGVyIGl0IHdhcyBjaGVja2VkLiBQcmV2aW91cyB2YWx1ZTogJ1wiICsgb2xkVmFsdWUgKyBcIicuIEN1cnJlbnQgdmFsdWU6ICdcIiArIGN1cnJWYWx1ZSArIFwiJy5cIjtcbiAgICBpZiAoY3JlYXRpb25Nb2RlKSB7XG4gICAgICAgIG1zZyArPVxuICAgICAgICAgICAgXCIgSXQgc2VlbXMgbGlrZSB0aGUgdmlldyBoYXMgYmVlbiBjcmVhdGVkIGFmdGVyIGl0cyBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlbiBoYXZlIGJlZW4gZGlydHkgY2hlY2tlZC5cIiArXG4gICAgICAgICAgICAgICAgXCIgSGFzIGl0IGJlZW4gY3JlYXRlZCBpbiBhIGNoYW5nZSBkZXRlY3Rpb24gaG9vayA/XCI7XG4gICAgfVxuICAgIC8vIFRPRE86IGluY2x1ZGUgZGVidWcgY29udGV4dFxuICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKiogQSBzcGVjaWFsIHZhbHVlIHdoaWNoIGRlc2lnbmF0ZXMgdGhhdCBhIHZhbHVlIGhhcyBub3QgY2hhbmdlZC4gKi9cbnZhciBOT19DSEFOR0UgPSB7fTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVE9ETyhtaXNrbyk6IGNvbnNpZGVyIGlubGluaW5nXG4vKiogVXBkYXRlcyBiaW5kaW5nIGFuZCByZXR1cm5zIHRoZSB2YWx1ZS4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCwgdmFsdWUpIHtcbiAgICByZXR1cm4gbFZpZXdbYmluZGluZ0luZGV4XSA9IHZhbHVlO1xufVxuLyoqIEdldHMgdGhlIGN1cnJlbnQgYmluZGluZyB2YWx1ZS4gKi9cbmZ1bmN0aW9uIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREYXRhSW5SYW5nZShsVmlldywgbFZpZXdbYmluZGluZ0luZGV4XSk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKGxWaWV3W2JpbmRpbmdJbmRleF0sIE5PX0NIQU5HRSwgJ1N0b3JlZCB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIHJldHVybiBsVmlld1tiaW5kaW5nSW5kZXhdO1xufVxuLyoqIFVwZGF0ZXMgYmluZGluZyBpZiBjaGFuZ2VkLCB0aGVuIHJldHVybnMgd2hldGhlciBpdCB3YXMgdXBkYXRlZC4gKi9cbmZ1bmN0aW9uIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHZhbHVlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vdEVxdWFsKHZhbHVlLCBOT19DSEFOR0UsICdJbmNvbWluZyB2YWx1ZSBzaG91bGQgbmV2ZXIgYmUgTk9fQ0hBTkdFLicpO1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRMZXNzVGhhbihiaW5kaW5nSW5kZXgsIGxWaWV3Lmxlbmd0aCwgXCJTbG90IHNob3VsZCBoYXZlIGJlZW4gaW5pdGlhbGl6ZWQgdG8gTk9fQ0hBTkdFXCIpO1xuICAgIGlmIChsVmlld1tiaW5kaW5nSW5kZXhdID09PSBOT19DSEFOR0UpIHtcbiAgICAgICAgLy8gaW5pdGlhbCBwYXNzXG4gICAgICAgIGxWaWV3W2JpbmRpbmdJbmRleF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNEaWZmZXJlbnQobFZpZXdbYmluZGluZ0luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgZ2V0Q2hlY2tOb0NoYW5nZXNNb2RlKCkpIHtcbiAgICAgICAgICAgIGlmICghZGV2TW9kZUVxdWFsKGxWaWV3W2JpbmRpbmdJbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRocm93RXJyb3JJZk5vQ2hhbmdlc01vZGUoaXNDcmVhdGlvbk1vZGUobFZpZXcpLCBsVmlld1tiaW5kaW5nSW5kZXhdLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbFZpZXdbYmluZGluZ0luZGV4XSA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKiBVcGRhdGVzIDIgYmluZGluZ3MgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgZWl0aGVyIHdhcyB1cGRhdGVkLiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpIHtcbiAgICB2YXIgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSk7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAxLCBleHAyKSB8fCBkaWZmZXJlbnQ7XG59XG4vKiogVXBkYXRlcyAzIGJpbmRpbmdzIGlmIGNoYW5nZWQsIHRoZW4gcmV0dXJucyB3aGV0aGVyIGFueSB3YXMgdXBkYXRlZC4gKi9cbmZ1bmN0aW9uIGJpbmRpbmdVcGRhdGVkMyhsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzKSB7XG4gICAgdmFyIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMihsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyKTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDIsIGV4cDMpIHx8IGRpZmZlcmVudDtcbn1cbi8qKiBVcGRhdGVzIDQgYmluZGluZ3MgaWYgY2hhbmdlZCwgdGhlbiByZXR1cm5zIHdoZXRoZXIgYW55IHdhcyB1cGRhdGVkLiAqL1xuZnVuY3Rpb24gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpIHtcbiAgICB2YXIgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDIsIGV4cDMsIGV4cDQpIHx8IGRpZmZlcmVudDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIE5HX1BST0pFQ1RfQVNfQVRUUl9OQU1FID0gJ25nUHJvamVjdEFzJztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVE9ETzogY2xlYW51cCBvbmNlIHRoZSBjb2RlIGlzIG1lcmdlZCBpbiBhbmd1bGFyL2FuZ3VsYXJcbnZhciBSZW5kZXJlclN0eWxlRmxhZ3MzO1xuKGZ1bmN0aW9uIChSZW5kZXJlclN0eWxlRmxhZ3MzKSB7XG4gICAgUmVuZGVyZXJTdHlsZUZsYWdzM1tSZW5kZXJlclN0eWxlRmxhZ3MzW1wiSW1wb3J0YW50XCJdID0gMV0gPSBcIkltcG9ydGFudFwiO1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczNbUmVuZGVyZXJTdHlsZUZsYWdzM1tcIkRhc2hDYXNlXCJdID0gMl0gPSBcIkRhc2hDYXNlXCI7XG59KShSZW5kZXJlclN0eWxlRmxhZ3MzIHx8IChSZW5kZXJlclN0eWxlRmxhZ3MzID0ge30pKTtcbi8qKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGByZW5kZXJlcmAgaXMgYSBgUHJvY2VkdXJhbFJlbmRlcmVyM2AgKi9cbmZ1bmN0aW9uIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgcmV0dXJuICEhKHJlbmRlcmVyLmxpc3Rlbik7XG59XG52YXIgZG9tUmVuZGVyZXJGYWN0b3J5MyA9IHtcbiAgICBjcmVhdGVSZW5kZXJlcjogZnVuY3Rpb24gKGhvc3RFbGVtZW50LCByZW5kZXJlclR5cGUpIHsgcmV0dXJuIGRvY3VtZW50OyB9XG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKiBSZXRyaWV2ZXMgdGhlIHBhcmVudCBlbGVtZW50IG9mIGEgZ2l2ZW4gbm9kZS4gKi9cbmZ1bmN0aW9uIGdldFBhcmVudE5hdGl2ZSh0Tm9kZSwgY3VycmVudFZpZXcpIHtcbiAgICBpZiAodE5vZGUucGFyZW50ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldEhvc3ROYXRpdmUoY3VycmVudFZpZXcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHBhcmVudFROb2RlID0gZ2V0Rmlyc3RQYXJlbnROYXRpdmUodE5vZGUpO1xuICAgICAgICByZXR1cm4gZ2V0TmF0aXZlQnlUTm9kZShwYXJlbnRUTm9kZSwgY3VycmVudFZpZXcpO1xuICAgIH1cbn1cbi8qKlxuICogR2V0IHRoZSBmaXJzdCBwYXJlbnQgb2YgYSBub2RlIHRoYXQgaXNuJ3QgYW4gSWN1Q29udGFpbmVyIFROb2RlXG4gKi9cbmZ1bmN0aW9uIGdldEZpcnN0UGFyZW50TmF0aXZlKHROb2RlKSB7XG4gICAgdmFyIHBhcmVudCA9IHROb2RlLnBhcmVudDtcbiAgICB3aGlsZSAocGFyZW50ICYmIHBhcmVudC50eXBlID09PSA1IC8qIEljdUNvbnRhaW5lciAqLykge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gcGFyZW50O1xufVxuLyoqXG4gKiBHZXRzIHRoZSBob3N0IGVsZW1lbnQgZ2l2ZW4gYSB2aWV3LiBXaWxsIHJldHVybiBudWxsIGlmIHRoZSBjdXJyZW50IHZpZXcgaXMgYW4gZW1iZWRkZWQgdmlldyxcbiAqIHdoaWNoIGRvZXMgbm90IGhhdmUgYSBob3N0IGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGdldEhvc3ROYXRpdmUoY3VycmVudFZpZXcpIHtcbiAgICB2YXIgaG9zdFROb2RlID0gY3VycmVudFZpZXdbSE9TVF9OT0RFXTtcbiAgICByZXR1cm4gaG9zdFROb2RlICYmIGhvc3RUTm9kZS50eXBlICE9PSAyIC8qIFZpZXcgKi8gP1xuICAgICAgICBnZXROYXRpdmVCeVROb2RlKGhvc3RUTm9kZSwgY3VycmVudFZpZXdbUEFSRU5UXSkgOlxuICAgICAgICBudWxsO1xufVxuZnVuY3Rpb24gZ2V0TENvbnRhaW5lcih0Tm9kZSwgZW1iZWRkZWRWaWV3KSB7XG4gICAgaWYgKHROb2RlLmluZGV4ID09PSAtMSkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgZHluYW1pY2FsbHkgY3JlYXRlZCB2aWV3IGluc2lkZSBhIGR5bmFtaWMgY29udGFpbmVyLlxuICAgICAgICAvLyBJZiB0aGUgaG9zdCBpbmRleCBpcyAtMSwgdGhlIHZpZXcgaGFzIG5vdCB5ZXQgYmVlbiBpbnNlcnRlZCwgc28gaXQgaGFzIG5vIHBhcmVudC5cbiAgICAgICAgdmFyIGNvbnRhaW5lckhvc3RJbmRleCA9IGVtYmVkZGVkVmlld1tDT05UQUlORVJfSU5ERVhdO1xuICAgICAgICByZXR1cm4gY29udGFpbmVySG9zdEluZGV4ID4gLTEgPyBlbWJlZGRlZFZpZXdbUEFSRU5UXVtjb250YWluZXJIb3N0SW5kZXhdIDogbnVsbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBpbmxpbmUgdmlldyBub2RlIChlLmcuIGVtYmVkZGVkVmlld1N0YXJ0KVxuICAgICAgICByZXR1cm4gZW1iZWRkZWRWaWV3W1BBUkVOVF1bdE5vZGUucGFyZW50LmluZGV4XTtcbiAgICB9XG59XG4vKipcbiAqIFJldHJpZXZlcyByZW5kZXIgcGFyZW50IGZvciBhIGdpdmVuIHZpZXcuXG4gKiBNaWdodCBiZSBudWxsIGlmIGEgdmlldyBpcyBub3QgeWV0IGF0dGFjaGVkIHRvIGFueSBjb250YWluZXIuXG4gKi9cbmZ1bmN0aW9uIGdldENvbnRhaW5lclJlbmRlclBhcmVudCh0Vmlld05vZGUsIHZpZXcpIHtcbiAgICB2YXIgY29udGFpbmVyID0gZ2V0TENvbnRhaW5lcih0Vmlld05vZGUsIHZpZXcpO1xuICAgIHJldHVybiBjb250YWluZXIgPyBjb250YWluZXJbUkVOREVSX1BBUkVOVF0gOiBudWxsO1xufVxuLyoqXG4gKiBTdGFjayB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgcHJvamVjdGlvbiBub2RlcyBpbiB3YWxrVE5vZGVUcmVlLlxuICpcbiAqIFRoaXMgaXMgZGVsaWJlcmF0ZWx5IGNyZWF0ZWQgb3V0c2lkZSBvZiB3YWxrVE5vZGVUcmVlIHRvIGF2b2lkIGFsbG9jYXRpbmdcbiAqIGEgbmV3IGFycmF5IGVhY2ggdGltZSB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLiBJbnN0ZWFkIHRoZSBhcnJheSB3aWxsIGJlXG4gKiByZS11c2VkIGJ5IGVhY2ggaW52b2NhdGlvbi4gVGhpcyB3b3JrcyBiZWNhdXNlIHRoZSBmdW5jdGlvbiBpcyBub3QgcmVlbnRyYW50LlxuICovXG52YXIgcHJvamVjdGlvbk5vZGVTdGFjayA9IFtdO1xuLyoqXG4gKiBXYWxrcyBhIHRyZWUgb2YgVE5vZGVzLCBhcHBseWluZyBhIHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBlbGVtZW50IG5vZGVzLCBlaXRoZXIgb25seSBvbiB0aGUgZmlyc3RcbiAqIG9uZSBmb3VuZCwgb3Igb24gYWxsIG9mIHRoZW0uXG4gKlxuICogQHBhcmFtIHZpZXdUb1dhbGsgdGhlIHZpZXcgdG8gd2Fsa1xuICogQHBhcmFtIGFjdGlvbiBpZGVudGlmaWVzIHRoZSBhY3Rpb24gdG8gYmUgcGVyZm9ybWVkIG9uIHRoZSBlbGVtZW50c1xuICogQHBhcmFtIHJlbmRlcmVyIHRoZSBjdXJyZW50IHJlbmRlcmVyLlxuICogQHBhcmFtIHJlbmRlclBhcmVudCBPcHRpb25hbCB0aGUgcmVuZGVyIHBhcmVudCBub2RlIHRvIGJlIHNldCBpbiBhbGwgTENvbnRhaW5lcnMgZm91bmQsXG4gKiByZXF1aXJlZCBmb3IgYWN0aW9uIG1vZGVzIEluc2VydCBhbmQgRGVzdHJveS5cbiAqIEBwYXJhbSBiZWZvcmVOb2RlIE9wdGlvbmFsIHRoZSBub2RlIGJlZm9yZSB3aGljaCBlbGVtZW50cyBzaG91bGQgYmUgYWRkZWQsIHJlcXVpcmVkIGZvciBhY3Rpb25cbiAqIEluc2VydC5cbiAqL1xuZnVuY3Rpb24gd2Fsa1ROb2RlVHJlZSh2aWV3VG9XYWxrLCBhY3Rpb24sIHJlbmRlcmVyLCByZW5kZXJQYXJlbnQsIGJlZm9yZU5vZGUpIHtcbiAgICB2YXIgcm9vdFROb2RlID0gdmlld1RvV2Fsa1tUVklFV10ubm9kZTtcbiAgICB2YXIgcHJvamVjdGlvbk5vZGVJbmRleCA9IC0xO1xuICAgIHZhciBjdXJyZW50VmlldyA9IHZpZXdUb1dhbGs7XG4gICAgdmFyIHROb2RlID0gcm9vdFROb2RlLmNoaWxkO1xuICAgIHdoaWxlICh0Tm9kZSkge1xuICAgICAgICB2YXIgbmV4dFROb2RlID0gbnVsbDtcbiAgICAgICAgaWYgKHROb2RlLnR5cGUgPT09IDMgLyogRWxlbWVudCAqLykge1xuICAgICAgICAgICAgZXhlY3V0ZU5vZGVBY3Rpb24oYWN0aW9uLCByZW5kZXJlciwgcmVuZGVyUGFyZW50LCBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBjdXJyZW50VmlldyksIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgdmFyIG5vZGVPckNvbnRhaW5lciA9IGN1cnJlbnRWaWV3W3ROb2RlLmluZGV4XTtcbiAgICAgICAgICAgIGlmIChpc0xDb250YWluZXIobm9kZU9yQ29udGFpbmVyKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgZWxlbWVudCBoYXMgYW4gTENvbnRhaW5lciwgYW5kIGl0cyBjb21tZW50IG5lZWRzIHRvIGJlIGhhbmRsZWRcbiAgICAgICAgICAgICAgICBleGVjdXRlTm9kZUFjdGlvbihhY3Rpb24sIHJlbmRlcmVyLCByZW5kZXJQYXJlbnQsIG5vZGVPckNvbnRhaW5lcltOQVRJVkVdLCBiZWZvcmVOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZS50eXBlID09PSAwIC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgdmFyIGxDb250YWluZXIgPSBjdXJyZW50Vmlld1t0Tm9kZS5pbmRleF07XG4gICAgICAgICAgICBleGVjdXRlTm9kZUFjdGlvbihhY3Rpb24sIHJlbmRlcmVyLCByZW5kZXJQYXJlbnQsIGxDb250YWluZXJbTkFUSVZFXSwgYmVmb3JlTm9kZSk7XG4gICAgICAgICAgICBpZiAocmVuZGVyUGFyZW50KVxuICAgICAgICAgICAgICAgIGxDb250YWluZXJbUkVOREVSX1BBUkVOVF0gPSByZW5kZXJQYXJlbnQ7XG4gICAgICAgICAgICBpZiAobENvbnRhaW5lcltWSUVXU10ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXcgPSBsQ29udGFpbmVyW1ZJRVdTXVswXTtcbiAgICAgICAgICAgICAgICBuZXh0VE5vZGUgPSBjdXJyZW50Vmlld1tUVklFV10ubm9kZTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB3YWxrZXIgZW50ZXJzIGEgY29udGFpbmVyLCB0aGVuIHRoZSBiZWZvcmVOb2RlIGhhcyB0byBiZWNvbWUgdGhlIGxvY2FsIG5hdGl2ZVxuICAgICAgICAgICAgICAgIC8vIGNvbW1lbnQgbm9kZS5cbiAgICAgICAgICAgICAgICBiZWZvcmVOb2RlID0gbENvbnRhaW5lcltOQVRJVkVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgPT09IDEgLyogUHJvamVjdGlvbiAqLykge1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudFZpZXcgPSBmaW5kQ29tcG9uZW50VmlldyhjdXJyZW50Vmlldyk7XG4gICAgICAgICAgICB2YXIgY29tcG9uZW50SG9zdCA9IGNvbXBvbmVudFZpZXdbSE9TVF9OT0RFXTtcbiAgICAgICAgICAgIHZhciBoZWFkID0gY29tcG9uZW50SG9zdC5wcm9qZWN0aW9uW3ROb2RlLnByb2plY3Rpb25dO1xuICAgICAgICAgICAgLy8gTXVzdCBzdG9yZSBib3RoIHRoZSBUTm9kZSBhbmQgdGhlIHZpZXcgYmVjYXVzZSB0aGlzIHByb2plY3Rpb24gbm9kZSBjb3VsZCBiZSBuZXN0ZWRcbiAgICAgICAgICAgIC8vIGRlZXBseSBpbnNpZGUgZW1iZWRkZWQgdmlld3MsIGFuZCB3ZSBuZWVkIHRvIGdldCBiYWNrIGRvd24gdG8gdGhpcyBwYXJ0aWN1bGFyIG5lc3RlZCB2aWV3LlxuICAgICAgICAgICAgcHJvamVjdGlvbk5vZGVTdGFja1srK3Byb2plY3Rpb25Ob2RlSW5kZXhdID0gdE5vZGU7XG4gICAgICAgICAgICBwcm9qZWN0aW9uTm9kZVN0YWNrWysrcHJvamVjdGlvbk5vZGVJbmRleF0gPSBjdXJyZW50VmlldztcbiAgICAgICAgICAgIGlmIChoZWFkKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXcgPSBjb21wb25lbnRWaWV3W1BBUkVOVF07XG4gICAgICAgICAgICAgICAgbmV4dFROb2RlID0gY3VycmVudFZpZXdbVFZJRVddLmRhdGFbaGVhZC5pbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHRoaXMgaXMgYSBWaWV3IG9yIGFuIEVsZW1lbnRDb250YWluZXJcbiAgICAgICAgICAgIG5leHRUTm9kZSA9IHROb2RlLmNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0VE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgbGFzdCBub2RlIHdhcyBwcm9qZWN0ZWQsIHdlIG5lZWQgdG8gZ2V0IGJhY2sgZG93biB0byBpdHMgcHJvamVjdGlvbiBub2RlXG4gICAgICAgICAgICBpZiAodE5vZGUubmV4dCA9PT0gbnVsbCAmJiAodE5vZGUuZmxhZ3MgJiAyIC8qIGlzUHJvamVjdGVkICovKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3ID0gcHJvamVjdGlvbk5vZGVTdGFja1twcm9qZWN0aW9uTm9kZUluZGV4LS1dO1xuICAgICAgICAgICAgICAgIHROb2RlID0gcHJvamVjdGlvbk5vZGVTdGFja1twcm9qZWN0aW9uTm9kZUluZGV4LS1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dFROb2RlID0gdE5vZGUubmV4dDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmluZCB0aGUgbmV4dCBub2RlIGluIHRoZSBUTm9kZSB0cmVlLCB0YWtpbmcgaW50byBhY2NvdW50IHRoZSBwbGFjZSB3aGVyZSBhIG5vZGUgaXNcbiAgICAgICAgICAgICAqIHByb2plY3RlZCAoaW4gdGhlIHNoYWRvdyBET00pIHJhdGhlciB0aGFuIHdoZXJlIGl0IGNvbWVzIGZyb20gKGluIHRoZSBsaWdodCBET00pLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIElmIHRoZXJlIGlzIG5vIHNpYmxpbmcgbm9kZSwgdGhlbiBpdCBnb2VzIHRvIHRoZSBuZXh0IHNpYmxpbmcgb2YgdGhlIHBhcmVudCBub2RlLi4uXG4gICAgICAgICAgICAgKiB1bnRpbCBpdCByZWFjaGVzIHJvb3ROb2RlIChhdCB3aGljaCBwb2ludCBudWxsIGlzIHJldHVybmVkKS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgd2hpbGUgKCFuZXh0VE5vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXJlbnQgaXMgbnVsbCwgd2UncmUgY3Jvc3NpbmcgdGhlIHZpZXcgYm91bmRhcnksIHNvIHdlIHNob3VsZCBnZXQgdGhlIGhvc3QgVE5vZGUuXG4gICAgICAgICAgICAgICAgdE5vZGUgPSB0Tm9kZS5wYXJlbnQgfHwgY3VycmVudFZpZXdbVFZJRVddLm5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKHROb2RlID09PSBudWxsIHx8IHROb2RlID09PSByb290VE5vZGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gZXhpdGluZyBhIGNvbnRhaW5lciwgdGhlIGJlZm9yZU5vZGUgbXVzdCBiZSByZXN0b3JlZCB0byB0aGUgcHJldmlvdXMgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAodE5vZGUudHlwZSA9PT0gMCAvKiBDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZpZXcgPSBjdXJyZW50Vmlld1tQQVJFTlRdO1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVOb2RlID0gY3VycmVudFZpZXdbdE5vZGUuaW5kZXhdW05BVElWRV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0Tm9kZS50eXBlID09PSAyIC8qIFZpZXcgKi8gJiYgY3VycmVudFZpZXdbTkVYVF0pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZpZXcgPSBjdXJyZW50Vmlld1tORVhUXTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFROb2RlID0gY3VycmVudFZpZXdbVFZJRVddLm5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXh0VE5vZGUgPSB0Tm9kZS5uZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0Tm9kZSA9IG5leHRUTm9kZTtcbiAgICB9XG59XG4vKipcbiAqIE5PVEU6IGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB0aGUgcG9zc2libGUgYWN0aW9ucyBhcmUgaW5saW5lZCB3aXRoaW4gdGhlIGZ1bmN0aW9uIGluc3RlYWQgb2ZcbiAqIGJlaW5nIHBhc3NlZCBhcyBhbiBhcmd1bWVudC5cbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZU5vZGVBY3Rpb24oYWN0aW9uLCByZW5kZXJlciwgcGFyZW50LCBub2RlLCBiZWZvcmVOb2RlKSB7XG4gICAgaWYgKGFjdGlvbiA9PT0gMCAvKiBJbnNlcnQgKi8pIHtcbiAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID9cbiAgICAgICAgICAgIHJlbmRlcmVyLmluc2VydEJlZm9yZShwYXJlbnQsIG5vZGUsIGJlZm9yZU5vZGUpIDpcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlTm9kZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gMSAvKiBEZXRhY2ggKi8pIHtcbiAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID9cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbW92ZUNoaWxkKHBhcmVudCwgbm9kZSkgOlxuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChhY3Rpb24gPT09IDIgLyogRGVzdHJveSAqLykge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyRGVzdHJveU5vZGUrKztcbiAgICAgICAgcmVuZGVyZXIuZGVzdHJveU5vZGUobm9kZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUodmFsdWUsIHJlbmRlcmVyKSB7XG4gICAgcmV0dXJuIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLmNyZWF0ZVRleHQoc3RyaW5naWZ5JDEodmFsdWUpKSA6XG4gICAgICAgIHJlbmRlcmVyLmNyZWF0ZVRleHROb2RlKHN0cmluZ2lmeSQxKHZhbHVlKSk7XG59XG5mdW5jdGlvbiBhZGRSZW1vdmVWaWV3RnJvbUNvbnRhaW5lcih2aWV3VG9XYWxrLCBpbnNlcnRNb2RlLCBiZWZvcmVOb2RlKSB7XG4gICAgdmFyIHJlbmRlclBhcmVudCA9IGdldENvbnRhaW5lclJlbmRlclBhcmVudCh2aWV3VG9XYWxrW1RWSUVXXS5ub2RlLCB2aWV3VG9XYWxrKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm9kZVR5cGUodmlld1RvV2Fsa1tUVklFV10ubm9kZSwgMiAvKiBWaWV3ICovKTtcbiAgICBpZiAocmVuZGVyUGFyZW50KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHZpZXdUb1dhbGtbUkVOREVSRVJdO1xuICAgICAgICB3YWxrVE5vZGVUcmVlKHZpZXdUb1dhbGssIGluc2VydE1vZGUgPyAwIC8qIEluc2VydCAqLyA6IDEgLyogRGV0YWNoICovLCByZW5kZXJlciwgcmVuZGVyUGFyZW50LCBiZWZvcmVOb2RlKTtcbiAgICB9XG59XG4vKipcbiAqIFRyYXZlcnNlcyBkb3duIGFuZCB1cCB0aGUgdHJlZSBvZiB2aWV3cyBhbmQgY29udGFpbmVycyB0byByZW1vdmUgbGlzdGVuZXJzIGFuZFxuICogY2FsbCBvbkRlc3Ryb3kgY2FsbGJhY2tzLlxuICpcbiAqIE5vdGVzOlxuICogIC0gQmVjYXVzZSBpdCdzIHVzZWQgZm9yIG9uRGVzdHJveSBjYWxscywgaXQgbmVlZHMgdG8gYmUgYm90dG9tLXVwLlxuICogIC0gTXVzdCBwcm9jZXNzIGNvbnRhaW5lcnMgaW5zdGVhZCBvZiB0aGVpciB2aWV3cyB0byBhdm9pZCBzcGxpY2luZ1xuICogIHdoZW4gdmlld3MgYXJlIGRlc3Ryb3llZCBhbmQgcmUtYWRkZWQuXG4gKiAgLSBVc2luZyBhIHdoaWxlIGxvb3AgYmVjYXVzZSBpdCdzIGZhc3RlciB0aGFuIHJlY3Vyc2lvblxuICogIC0gRGVzdHJveSBvbmx5IGNhbGxlZCBvbiBtb3ZlbWVudCB0byBzaWJsaW5nIG9yIG1vdmVtZW50IHRvIHBhcmVudCAobGF0ZXJhbGx5IG9yIHVwKVxuICpcbiAqICBAcGFyYW0gcm9vdFZpZXcgVGhlIHZpZXcgdG8gZGVzdHJveVxuICovXG5mdW5jdGlvbiBkZXN0cm95Vmlld1RyZWUocm9vdFZpZXcpIHtcbiAgICAvLyBJZiB0aGUgdmlldyBoYXMgbm8gY2hpbGRyZW4sIHdlIGNhbiBjbGVhbiBpdCB1cCBhbmQgcmV0dXJuIGVhcmx5LlxuICAgIGlmIChyb290Vmlld1tUVklFV10uY2hpbGRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFuVXBWaWV3KHJvb3RWaWV3KTtcbiAgICB9XG4gICAgdmFyIHZpZXdPckNvbnRhaW5lciA9IGdldExWaWV3Q2hpbGQocm9vdFZpZXcpO1xuICAgIHdoaWxlICh2aWV3T3JDb250YWluZXIpIHtcbiAgICAgICAgdmFyIG5leHQgPSBudWxsO1xuICAgICAgICBpZiAodmlld09yQ29udGFpbmVyLmxlbmd0aCA+PSBIRUFERVJfT0ZGU0VUKSB7XG4gICAgICAgICAgICAvLyBJZiBMVmlldywgdHJhdmVyc2UgZG93biB0byBjaGlsZC5cbiAgICAgICAgICAgIHZhciB2aWV3ID0gdmlld09yQ29udGFpbmVyO1xuICAgICAgICAgICAgaWYgKHZpZXdbVFZJRVddLmNoaWxkSW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICBuZXh0ID0gZ2V0TFZpZXdDaGlsZCh2aWV3KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIGNvbnRhaW5lciwgdHJhdmVyc2UgZG93biB0byBpdHMgZmlyc3QgTFZpZXcuXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdmlld09yQ29udGFpbmVyO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcltWSUVXU10ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIG5leHQgPSBjb250YWluZXJbVklFV1NdWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgY2xlYW4gdXAgdmlldyB3aGVuIG1vdmluZyB0byB0aGUgc2lkZSBvciB1cCwgYXMgZGVzdHJveSBob29rc1xuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIGNhbGxlZCBpbiBvcmRlciBmcm9tIHRoZSBib3R0b20gdXAuXG4gICAgICAgICAgICB3aGlsZSAodmlld09yQ29udGFpbmVyICYmICF2aWV3T3JDb250YWluZXJbTkVYVF0gJiYgdmlld09yQ29udGFpbmVyICE9PSByb290Vmlldykge1xuICAgICAgICAgICAgICAgIGNsZWFuVXBWaWV3KHZpZXdPckNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdmlld09yQ29udGFpbmVyID0gZ2V0UGFyZW50U3RhdGUodmlld09yQ29udGFpbmVyLCByb290Vmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhblVwVmlldyh2aWV3T3JDb250YWluZXIgfHwgcm9vdFZpZXcpO1xuICAgICAgICAgICAgbmV4dCA9IHZpZXdPckNvbnRhaW5lciAmJiB2aWV3T3JDb250YWluZXJbTkVYVF07XG4gICAgICAgIH1cbiAgICAgICAgdmlld09yQ29udGFpbmVyID0gbmV4dDtcbiAgICB9XG59XG4vKipcbiAqIEluc2VydHMgYSB2aWV3IGludG8gYSBjb250YWluZXIuXG4gKlxuICogVGhpcyBhZGRzIHRoZSB2aWV3IHRvIHRoZSBjb250YWluZXIncyBhcnJheSBvZiBhY3RpdmUgdmlld3MgaW4gdGhlIGNvcnJlY3RcbiAqIHBvc2l0aW9uLiBJdCBhbHNvIGFkZHMgdGhlIHZpZXcncyBlbGVtZW50cyB0byB0aGUgRE9NIGlmIHRoZSBjb250YWluZXIgaXNuJ3QgYVxuICogcm9vdCBub2RlIG9mIGFub3RoZXIgdmlldyAoaW4gdGhhdCBjYXNlLCB0aGUgdmlldydzIGVsZW1lbnRzIHdpbGwgYmUgYWRkZWQgd2hlblxuICogdGhlIGNvbnRhaW5lcidzIHBhcmVudCB2aWV3IGlzIGFkZGVkIGxhdGVyKS5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgdG8gaW5zZXJ0XG4gKiBAcGFyYW0gbENvbnRhaW5lciBUaGUgY29udGFpbmVyIGludG8gd2hpY2ggdGhlIHZpZXcgc2hvdWxkIGJlIGluc2VydGVkXG4gKiBAcGFyYW0gcGFyZW50VmlldyBUaGUgbmV3IHBhcmVudCBvZiB0aGUgaW5zZXJ0ZWQgdmlld1xuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBhdCB3aGljaCB0byBpbnNlcnQgdGhlIHZpZXdcbiAqIEBwYXJhbSBjb250YWluZXJJbmRleCBUaGUgaW5kZXggb2YgdGhlIGNvbnRhaW5lciBub2RlLCBpZiBkeW5hbWljXG4gKi9cbmZ1bmN0aW9uIGluc2VydFZpZXcobFZpZXcsIGxDb250YWluZXIsIHBhcmVudFZpZXcsIGluZGV4LCBjb250YWluZXJJbmRleCkge1xuICAgIHZhciB2aWV3cyA9IGxDb250YWluZXJbVklFV1NdO1xuICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyB2aWV3LCB3ZSBuZWVkIHRvIGFkZCBpdCB0byB0aGUgY2hpbGRyZW4uXG4gICAgICAgIHZpZXdzW2luZGV4IC0gMV1bTkVYVF0gPSBsVmlldztcbiAgICB9XG4gICAgaWYgKGluZGV4IDwgdmlld3MubGVuZ3RoKSB7XG4gICAgICAgIGxWaWV3W05FWFRdID0gdmlld3NbaW5kZXhdO1xuICAgICAgICB2aWV3cy5zcGxpY2UoaW5kZXgsIDAsIGxWaWV3KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZpZXdzLnB1c2gobFZpZXcpO1xuICAgICAgICBsVmlld1tORVhUXSA9IG51bGw7XG4gICAgfVxuICAgIC8vIER5bmFtaWNhbGx5IGluc2VydGVkIHZpZXdzIG5lZWQgYSByZWZlcmVuY2UgdG8gdGhlaXIgcGFyZW50IGNvbnRhaW5lcidzIGhvc3Qgc28gaXQnc1xuICAgIC8vIHBvc3NpYmxlIHRvIGp1bXAgZnJvbSBhIHZpZXcgdG8gaXRzIGNvbnRhaW5lcidzIG5leHQgd2hlbiB3YWxraW5nIHRoZSBub2RlIHRyZWUuXG4gICAgaWYgKGNvbnRhaW5lckluZGV4ID4gLTEpIHtcbiAgICAgICAgbFZpZXdbQ09OVEFJTkVSX0lOREVYXSA9IGNvbnRhaW5lckluZGV4O1xuICAgICAgICBsVmlld1tQQVJFTlRdID0gcGFyZW50VmlldztcbiAgICB9XG4gICAgLy8gTm90aWZ5IHF1ZXJ5IHRoYXQgYSBuZXcgdmlldyBoYXMgYmVlbiBhZGRlZFxuICAgIGlmIChsVmlld1tRVUVSSUVTXSkge1xuICAgICAgICBsVmlld1tRVUVSSUVTXS5pbnNlcnRWaWV3KGluZGV4KTtcbiAgICB9XG4gICAgLy8gU2V0cyB0aGUgYXR0YWNoZWQgZmxhZ1xuICAgIGxWaWV3W0ZMQUdTXSB8PSAxNiAvKiBBdHRhY2hlZCAqLztcbn1cbi8qKlxuICogRGV0YWNoZXMgYSB2aWV3IGZyb20gYSBjb250YWluZXIuXG4gKlxuICogVGhpcyBtZXRob2Qgc3BsaWNlcyB0aGUgdmlldyBmcm9tIHRoZSBjb250YWluZXIncyBhcnJheSBvZiBhY3RpdmUgdmlld3MuIEl0IGFsc29cbiAqIHJlbW92ZXMgdGhlIHZpZXcncyBlbGVtZW50cyBmcm9tIHRoZSBET00uXG4gKlxuICogQHBhcmFtIGxDb250YWluZXIgVGhlIGNvbnRhaW5lciBmcm9tIHdoaWNoIHRvIGRldGFjaCBhIHZpZXdcbiAqIEBwYXJhbSByZW1vdmVJbmRleCBUaGUgaW5kZXggb2YgdGhlIHZpZXcgdG8gZGV0YWNoXG4gKiBAcGFyYW0gZGV0YWNoZWQgV2hldGhlciBvciBub3QgdGhpcyB2aWV3IGlzIGFscmVhZHkgZGV0YWNoZWQuXG4gKiBAcmV0dXJucyBEZXRhY2hlZCBMVmlldyBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gZGV0YWNoVmlldyhsQ29udGFpbmVyLCByZW1vdmVJbmRleCwgZGV0YWNoZWQpIHtcbiAgICB2YXIgdmlld3MgPSBsQ29udGFpbmVyW1ZJRVdTXTtcbiAgICB2YXIgdmlld1RvRGV0YWNoID0gdmlld3NbcmVtb3ZlSW5kZXhdO1xuICAgIGlmIChyZW1vdmVJbmRleCA+IDApIHtcbiAgICAgICAgdmlld3NbcmVtb3ZlSW5kZXggLSAxXVtORVhUXSA9IHZpZXdUb0RldGFjaFtORVhUXTtcbiAgICB9XG4gICAgdmlld3Muc3BsaWNlKHJlbW92ZUluZGV4LCAxKTtcbiAgICBpZiAoIWRldGFjaGVkKSB7XG4gICAgICAgIGFkZFJlbW92ZVZpZXdGcm9tQ29udGFpbmVyKHZpZXdUb0RldGFjaCwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAodmlld1RvRGV0YWNoW1FVRVJJRVNdKSB7XG4gICAgICAgIHZpZXdUb0RldGFjaFtRVUVSSUVTXS5yZW1vdmVWaWV3KCk7XG4gICAgfVxuICAgIHZpZXdUb0RldGFjaFtDT05UQUlORVJfSU5ERVhdID0gLTE7XG4gICAgdmlld1RvRGV0YWNoW1BBUkVOVF0gPSBudWxsO1xuICAgIC8vIFVuc2V0cyB0aGUgYXR0YWNoZWQgZmxhZ1xuICAgIHZpZXdUb0RldGFjaFtGTEFHU10gJj0gfjE2IC8qIEF0dGFjaGVkICovO1xuICAgIHJldHVybiB2aWV3VG9EZXRhY2g7XG59XG4vKipcbiAqIFJlbW92ZXMgYSB2aWV3IGZyb20gYSBjb250YWluZXIsIGkuZS4gZGV0YWNoZXMgaXQgYW5kIHRoZW4gZGVzdHJveXMgdGhlIHVuZGVybHlpbmcgTFZpZXcuXG4gKlxuICogQHBhcmFtIGxDb250YWluZXIgVGhlIGNvbnRhaW5lciBmcm9tIHdoaWNoIHRvIHJlbW92ZSBhIHZpZXdcbiAqIEBwYXJhbSB0Q29udGFpbmVyIFRoZSBUQ29udGFpbmVyIG5vZGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBMQ29udGFpbmVyXG4gKiBAcGFyYW0gcmVtb3ZlSW5kZXggVGhlIGluZGV4IG9mIHRoZSB2aWV3IHRvIHJlbW92ZVxuICovXG5mdW5jdGlvbiByZW1vdmVWaWV3KGxDb250YWluZXIsIGNvbnRhaW5lckhvc3QsIHJlbW92ZUluZGV4KSB7XG4gICAgdmFyIHZpZXcgPSBsQ29udGFpbmVyW1ZJRVdTXVtyZW1vdmVJbmRleF07XG4gICAgZGV0YWNoVmlldyhsQ29udGFpbmVyLCByZW1vdmVJbmRleCwgISFjb250YWluZXJIb3N0LmRldGFjaGVkKTtcbiAgICBkZXN0cm95TFZpZXcodmlldyk7XG59XG4vKiogR2V0cyB0aGUgY2hpbGQgb2YgdGhlIGdpdmVuIExWaWV3ICovXG5mdW5jdGlvbiBnZXRMVmlld0NoaWxkKGxWaWV3KSB7XG4gICAgdmFyIGNoaWxkSW5kZXggPSBsVmlld1tUVklFV10uY2hpbGRJbmRleDtcbiAgICByZXR1cm4gY2hpbGRJbmRleCA9PT0gLTEgPyBudWxsIDogbFZpZXdbY2hpbGRJbmRleF07XG59XG4vKipcbiAqIEEgc3RhbmRhbG9uZSBmdW5jdGlvbiB3aGljaCBkZXN0cm95cyBhbiBMVmlldyxcbiAqIGNvbmR1Y3RpbmcgY2xlYW51cCAoZS5nLiByZW1vdmluZyBsaXN0ZW5lcnMsIGNhbGxpbmcgb25EZXN0cm95cykuXG4gKlxuICogQHBhcmFtIHZpZXcgVGhlIHZpZXcgdG8gYmUgZGVzdHJveWVkLlxuICovXG5mdW5jdGlvbiBkZXN0cm95TFZpZXcodmlldykge1xuICAgIHZhciByZW5kZXJlciA9IHZpZXdbUkVOREVSRVJdO1xuICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgJiYgcmVuZGVyZXIuZGVzdHJveU5vZGUpIHtcbiAgICAgICAgd2Fsa1ROb2RlVHJlZSh2aWV3LCAyIC8qIERlc3Ryb3kgKi8sIHJlbmRlcmVyLCBudWxsKTtcbiAgICB9XG4gICAgZGVzdHJveVZpZXdUcmVlKHZpZXcpO1xuICAgIC8vIFNldHMgdGhlIGRlc3Ryb3llZCBmbGFnXG4gICAgdmlld1tGTEFHU10gfD0gNjQgLyogRGVzdHJveWVkICovO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoaWNoIExWaWV3T3JMQ29udGFpbmVyIHRvIGp1bXAgdG8gd2hlbiB0cmF2ZXJzaW5nIGJhY2sgdXAgdGhlXG4gKiB0cmVlIGluIGRlc3Ryb3lWaWV3VHJlZS5cbiAqXG4gKiBOb3JtYWxseSwgdGhlIHZpZXcncyBwYXJlbnQgTFZpZXcgc2hvdWxkIGJlIGNoZWNrZWQsIGJ1dCBpbiB0aGUgY2FzZSBvZlxuICogZW1iZWRkZWQgdmlld3MsIHRoZSBjb250YWluZXIgKHdoaWNoIGlzIHRoZSB2aWV3IG5vZGUncyBwYXJlbnQsIGJ1dCBub3QgdGhlXG4gKiBMVmlldydzIHBhcmVudCkgbmVlZHMgdG8gYmUgY2hlY2tlZCBmb3IgYSBwb3NzaWJsZSBuZXh0IHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSBzdGF0ZSBUaGUgTFZpZXdPckxDb250YWluZXIgZm9yIHdoaWNoIHdlIG5lZWQgYSBwYXJlbnQgc3RhdGVcbiAqIEBwYXJhbSByb290VmlldyBUaGUgcm9vdFZpZXcsIHNvIHdlIGRvbid0IHByb3BhZ2F0ZSB0b28gZmFyIHVwIHRoZSB2aWV3IHRyZWVcbiAqIEByZXR1cm5zIFRoZSBjb3JyZWN0IHBhcmVudCBMVmlld09yTENvbnRhaW5lclxuICovXG5mdW5jdGlvbiBnZXRQYXJlbnRTdGF0ZShzdGF0ZSwgcm9vdFZpZXcpIHtcbiAgICB2YXIgdE5vZGU7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA+PSBIRUFERVJfT0ZGU0VUICYmICh0Tm9kZSA9IHN0YXRlW0hPU1RfTk9ERV0pICYmXG4gICAgICAgIHROb2RlLnR5cGUgPT09IDIgLyogVmlldyAqLykge1xuICAgICAgICAvLyBpZiBpdCdzIGFuIGVtYmVkZGVkIHZpZXcsIHRoZSBzdGF0ZSBuZWVkcyB0byBnbyB1cCB0byB0aGUgY29udGFpbmVyLCBpbiBjYXNlIHRoZVxuICAgICAgICAvLyBjb250YWluZXIgaGFzIGEgbmV4dFxuICAgICAgICByZXR1cm4gZ2V0TENvbnRhaW5lcih0Tm9kZSwgc3RhdGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gb3RoZXJ3aXNlLCB1c2UgcGFyZW50IHZpZXcgZm9yIGNvbnRhaW5lcnMgb3IgY29tcG9uZW50IHZpZXdzXG4gICAgICAgIHJldHVybiBzdGF0ZVtQQVJFTlRdID09PSByb290VmlldyA/IG51bGwgOiBzdGF0ZVtQQVJFTlRdO1xuICAgIH1cbn1cbi8qKlxuICogQ2FsbHMgb25EZXN0cm95cyBob29rcyBmb3IgYWxsIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGluIGEgZ2l2ZW4gdmlldyBhbmQgdGhlbiByZW1vdmVzIGFsbFxuICogbGlzdGVuZXJzLiBMaXN0ZW5lcnMgYXJlIHJlbW92ZWQgYXMgdGhlIGxhc3Qgc3RlcCBzbyBldmVudHMgZGVsaXZlcmVkIGluIHRoZSBvbkRlc3Ryb3lzIGhvb2tzXG4gKiBjYW4gYmUgcHJvcGFnYXRlZCB0byBAT3V0cHV0IGxpc3RlbmVycy5cbiAqXG4gKiBAcGFyYW0gdmlldyBUaGUgTFZpZXcgdG8gY2xlYW4gdXBcbiAqL1xuZnVuY3Rpb24gY2xlYW5VcFZpZXcodmlld09yQ29udGFpbmVyKSB7XG4gICAgaWYgKHZpZXdPckNvbnRhaW5lci5sZW5ndGggPj0gSEVBREVSX09GRlNFVCkge1xuICAgICAgICB2YXIgdmlldyA9IHZpZXdPckNvbnRhaW5lcjtcbiAgICAgICAgZXhlY3V0ZU9uRGVzdHJveXModmlldyk7XG4gICAgICAgIGV4ZWN1dGVQaXBlT25EZXN0cm95cyh2aWV3KTtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXJzKHZpZXcpO1xuICAgICAgICB2YXIgaG9zdFROb2RlID0gdmlld1tIT1NUX05PREVdO1xuICAgICAgICAvLyBGb3IgY29tcG9uZW50IHZpZXdzIG9ubHksIHRoZSBsb2NhbCByZW5kZXJlciBpcyBkZXN0cm95ZWQgYXMgY2xlYW4gdXAgdGltZS5cbiAgICAgICAgaWYgKGhvc3RUTm9kZSAmJiBob3N0VE5vZGUudHlwZSA9PT0gMyAvKiBFbGVtZW50ICovICYmIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHZpZXdbUkVOREVSRVJdKSkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckRlc3Ryb3krKztcbiAgICAgICAgICAgIHZpZXdbUkVOREVSRVJdLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKiBSZW1vdmVzIGxpc3RlbmVycyBhbmQgdW5zdWJzY3JpYmVzIGZyb20gb3V0cHV0IHN1YnNjcmlwdGlvbnMgKi9cbmZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVycyhsVmlldykge1xuICAgIHZhciB0Q2xlYW51cCA9IGxWaWV3W1RWSUVXXS5jbGVhbnVwO1xuICAgIGlmICh0Q2xlYW51cCAhPSBudWxsKSB7XG4gICAgICAgIHZhciBsQ2xlYW51cCA9IGxWaWV3W0NMRUFOVVBdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRDbGVhbnVwLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0Q2xlYW51cFtpXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbGlzdGVuZXIgd2l0aCB0aGUgbmF0aXZlIHJlbmRlcmVyXG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IHRDbGVhbnVwW2kgKyAxXTtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBsQ2xlYW51cFt0Q2xlYW51cFtpICsgMl1dO1xuICAgICAgICAgICAgICAgIHZhciBuYXRpdmUgPSByZWFkRWxlbWVudFZhbHVlKGxWaWV3W2lkeF0pO1xuICAgICAgICAgICAgICAgIHZhciB1c2VDYXB0dXJlT3JTdWJJZHggPSB0Q2xlYW51cFtpICsgM107XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VDYXB0dXJlT3JTdWJJZHggPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBET00gbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodENsZWFudXBbaV0sIGxpc3RlbmVyLCB1c2VDYXB0dXJlT3JTdWJJZHgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZUNhcHR1cmVPclN1YklkeCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1bnJlZ2lzdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBsQ2xlYW51cFt1c2VDYXB0dXJlT3JTdWJJZHhdKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxDbGVhbnVwWy11c2VDYXB0dXJlT3JTdWJJZHhdLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHRDbGVhbnVwW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBsaXN0ZW5lciB3aXRoIHJlbmRlcmVyMiAoY2xlYW51cCBmbiBjYW4gYmUgZm91bmQgYnkgaW5kZXgpXG4gICAgICAgICAgICAgICAgdmFyIGNsZWFudXBGbiA9IGxDbGVhbnVwW3RDbGVhbnVwW2ldXTtcbiAgICAgICAgICAgICAgICBjbGVhbnVwRm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBjbGVhbnVwIGZ1bmN0aW9uIHRoYXQgaXMgZ3JvdXBlZCB3aXRoIHRoZSBpbmRleCBvZiBpdHMgY29udGV4dFxuICAgICAgICAgICAgICAgIHZhciBjb250ZXh0ID0gbENsZWFudXBbdENsZWFudXBbaSArIDFdXTtcbiAgICAgICAgICAgICAgICB0Q2xlYW51cFtpXS5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxWaWV3W0NMRUFOVVBdID0gbnVsbDtcbiAgICB9XG59XG4vKiogQ2FsbHMgb25EZXN0cm95IGhvb2tzIGZvciB0aGlzIHZpZXcgKi9cbmZ1bmN0aW9uIGV4ZWN1dGVPbkRlc3Ryb3lzKHZpZXcpIHtcbiAgICB2YXIgdFZpZXcgPSB2aWV3W1RWSUVXXTtcbiAgICB2YXIgZGVzdHJveUhvb2tzO1xuICAgIGlmICh0VmlldyAhPSBudWxsICYmIChkZXN0cm95SG9va3MgPSB0Vmlldy5kZXN0cm95SG9va3MpICE9IG51bGwpIHtcbiAgICAgICAgY2FsbEhvb2tzKHZpZXcsIGRlc3Ryb3lIb29rcyk7XG4gICAgfVxufVxuLyoqIENhbGxzIHBpcGUgZGVzdHJveSBob29rcyBmb3IgdGhpcyB2aWV3ICovXG5mdW5jdGlvbiBleGVjdXRlUGlwZU9uRGVzdHJveXMobFZpZXcpIHtcbiAgICB2YXIgcGlwZURlc3Ryb3lIb29rcyA9IGxWaWV3W1RWSUVXXSAmJiBsVmlld1tUVklFV10ucGlwZURlc3Ryb3lIb29rcztcbiAgICBpZiAocGlwZURlc3Ryb3lIb29rcykge1xuICAgICAgICBjYWxsSG9va3MobFZpZXcsIHBpcGVEZXN0cm95SG9va3MpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFJlbmRlclBhcmVudCh0Tm9kZSwgY3VycmVudFZpZXcpIHtcbiAgICBpZiAoY2FuSW5zZXJ0TmF0aXZlTm9kZSh0Tm9kZSwgY3VycmVudFZpZXcpKSB7XG4gICAgICAgIC8vIElmIHdlIGFyZSBhc2tlZCBmb3IgYSByZW5kZXIgcGFyZW50IG9mIHRoZSByb290IGNvbXBvbmVudCB3ZSBuZWVkIHRvIGRvIGxvdy1sZXZlbCBET01cbiAgICAgICAgLy8gb3BlcmF0aW9uIGFzIExUcmVlIGRvZXNuJ3QgZXhpc3QgYWJvdmUgdGhlIHRvcG1vc3QgaG9zdCBub2RlLiBXZSBtaWdodCBuZWVkIHRvIGZpbmQgYSByZW5kZXJcbiAgICAgICAgLy8gcGFyZW50IG9mIHRoZSB0b3Btb3N0IGhvc3Qgbm9kZSBpZiB0aGUgcm9vdCBjb21wb25lbnQgaW5qZWN0cyBWaWV3Q29udGFpbmVyUmVmLlxuICAgICAgICBpZiAoaXNSb290VmlldyhjdXJyZW50VmlldykpIHtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVQYXJlbnROb2RlKGN1cnJlbnRWaWV3W1JFTkRFUkVSXSwgZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgY3VycmVudFZpZXcpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9zdFROb2RlID0gY3VycmVudFZpZXdbSE9TVF9OT0RFXTtcbiAgICAgICAgdmFyIHROb2RlUGFyZW50ID0gdE5vZGUucGFyZW50O1xuICAgICAgICBpZiAodE5vZGVQYXJlbnQgIT0gbnVsbCAmJiB0Tm9kZVBhcmVudC50eXBlID09PSA0IC8qIEVsZW1lbnRDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgIHROb2RlID0gZ2V0SGlnaGVzdEVsZW1lbnRDb250YWluZXIodE5vZGVQYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0Tm9kZS5wYXJlbnQgPT0gbnVsbCAmJiBob3N0VE5vZGUudHlwZSA9PT0gMiAvKiBWaWV3ICovID9cbiAgICAgICAgICAgIGdldENvbnRhaW5lclJlbmRlclBhcmVudChob3N0VE5vZGUsIGN1cnJlbnRWaWV3KSA6XG4gICAgICAgICAgICBnZXRQYXJlbnROYXRpdmUodE5vZGUsIGN1cnJlbnRWaWV3KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBjYW5JbnNlcnROYXRpdmVDaGlsZE9mRWxlbWVudCh0Tm9kZSkge1xuICAgIC8vIElmIHRoZSBwYXJlbnQgaXMgbnVsbCwgdGhlbiB3ZSBhcmUgaW5zZXJ0aW5nIGFjcm9zcyB2aWV3cy4gVGhpcyBoYXBwZW5zIHdoZW4gd2VcbiAgICAvLyBpbnNlcnQgYSByb290IGVsZW1lbnQgb2YgdGhlIGNvbXBvbmVudCB2aWV3IGludG8gdGhlIGNvbXBvbmVudCBob3N0IGVsZW1lbnQgYW5kIGl0XG4gICAgLy8gc2hvdWxkIGFsd2F5cyBiZSBlYWdlci5cbiAgICBpZiAodE5vZGUucGFyZW50ID09IG51bGwgfHxcbiAgICAgICAgLy8gV2Ugc2hvdWxkIGFsc28gZWFnZXJseSBpbnNlcnQgaWYgdGhlIHBhcmVudCBpcyBhIHJlZ3VsYXIsIG5vbi1jb21wb25lbnQgZWxlbWVudFxuICAgICAgICAvLyBzaW5jZSB3ZSBrbm93IHRoYXQgdGhpcyByZWxhdGlvbnNoaXAgd2lsbCBuZXZlciBiZSBicm9rZW4uXG4gICAgICAgIHROb2RlLnBhcmVudC50eXBlID09PSAzIC8qIEVsZW1lbnQgKi8gJiYgISh0Tm9kZS5wYXJlbnQuZmxhZ3MgJiAxIC8qIGlzQ29tcG9uZW50ICovKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gUGFyZW50IGlzIGEgQ29tcG9uZW50LiBDb21wb25lbnQncyBjb250ZW50IG5vZGVzIGFyZSBub3QgaW5zZXJ0ZWQgaW1tZWRpYXRlbHlcbiAgICAvLyBiZWNhdXNlIHRoZXkgd2lsbCBiZSBwcm9qZWN0ZWQsIGFuZCBzbyBkb2luZyBpbnNlcnQgYXQgdGhpcyBwb2ludCB3b3VsZCBiZSB3YXN0ZWZ1bC5cbiAgICAvLyBTaW5jZSB0aGUgcHJvamVjdGlvbiB3b3VsZCB0aGFuIG1vdmUgaXQgdG8gaXRzIGZpbmFsIGRlc3RpbmF0aW9uLlxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogV2UgbWlnaHQgZGVsYXkgaW5zZXJ0aW9uIG9mIGNoaWxkcmVuIGZvciBhIGdpdmVuIHZpZXcgaWYgaXQgaXMgZGlzY29ubmVjdGVkLlxuICogVGhpcyBtaWdodCBoYXBwZW4gZm9yIDIgbWFpbiByZWFzb25zOlxuICogLSB2aWV3IGlzIG5vdCBpbnNlcnRlZCBpbnRvIGFueSBjb250YWluZXIgKHZpZXcgd2FzIGNyZWF0ZWQgYnV0IG5vdCBpbnNlcnRlZCB5ZXQpXG4gKiAtIHZpZXcgaXMgaW5zZXJ0ZWQgaW50byBhIGNvbnRhaW5lciBidXQgdGhlIGNvbnRhaW5lciBpdHNlbGYgaXMgbm90IGluc2VydGVkIGludG8gdGhlIERPTVxuICogKGNvbnRhaW5lciBtaWdodCBiZSBwYXJ0IG9mIHByb2plY3Rpb24gb3IgY2hpbGQgb2YgYSB2aWV3IHRoYXQgaXMgbm90IGluc2VydGVkIHlldCkuXG4gKlxuICogSW4gb3RoZXIgd29yZHMgd2UgY2FuIGluc2VydCBjaGlsZHJlbiBvZiBhIGdpdmVuIHZpZXcgaWYgdGhpcyB2aWV3IHdhcyBpbnNlcnRlZCBpbnRvIGEgY29udGFpbmVyXG4gKiBhbmRcbiAqIHRoZSBjb250YWluZXIgaXRzZWxmIGhhcyBpdHMgcmVuZGVyIHBhcmVudCBkZXRlcm1pbmVkLlxuICovXG5mdW5jdGlvbiBjYW5JbnNlcnROYXRpdmVDaGlsZE9mVmlldyh2aWV3VE5vZGUsIHZpZXcpIHtcbiAgICAvLyBCZWNhdXNlIHdlIGFyZSBpbnNlcnRpbmcgaW50byBhIGBWaWV3YCB0aGUgYFZpZXdgIG1heSBiZSBkaXNjb25uZWN0ZWQuXG4gICAgdmFyIGNvbnRhaW5lciA9IGdldExDb250YWluZXIodmlld1ROb2RlLCB2aWV3KTtcbiAgICBpZiAoY29udGFpbmVyID09IG51bGwgfHwgY29udGFpbmVyW1JFTkRFUl9QQVJFTlRdID09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlIGBWaWV3YCBpcyBub3QgaW5zZXJ0ZWQgaW50byBhIGBDb250YWluZXJgIG9yIHRoZSBwYXJlbnQgYENvbnRhaW5lcmBcbiAgICAgICAgLy8gaXRzZWxmIGlzIGRpc2Nvbm5lY3RlZC4gU28gd2UgaGF2ZSB0byBkZWxheS5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBUaGUgcGFyZW50IGBDb250YWluZXJgIGlzIGluIGluc2VydGVkIHN0YXRlLCBzbyB3ZSBjYW4gZWFnZXJseSBpbnNlcnQgaW50b1xuICAgIC8vIHRoaXMgbG9jYXRpb24uXG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBhIG5hdGl2ZSBlbGVtZW50IGNhbiBiZSBpbnNlcnRlZCBpbnRvIHRoZSBnaXZlbiBwYXJlbnQuXG4gKlxuICogVGhlcmUgYXJlIHR3byByZWFzb25zIHdoeSB3ZSBtYXkgbm90IGJlIGFibGUgdG8gaW5zZXJ0IGEgZWxlbWVudCBpbW1lZGlhdGVseS5cbiAqIC0gUHJvamVjdGlvbjogV2hlbiBjcmVhdGluZyBhIGNoaWxkIGNvbnRlbnQgZWxlbWVudCBvZiBhIGNvbXBvbmVudCwgd2UgaGF2ZSB0byBza2lwIHRoZVxuICogICBpbnNlcnRpb24gYmVjYXVzZSB0aGUgY29udGVudCBvZiBhIGNvbXBvbmVudCB3aWxsIGJlIHByb2plY3RlZC5cbiAqICAgYDxjb21wb25lbnQ+PGNvbnRlbnQ+ZGVsYXllZCBkdWUgdG8gcHJvamVjdGlvbjwvY29udGVudD48L2NvbXBvbmVudD5gXG4gKiAtIFBhcmVudCBjb250YWluZXIgaXMgZGlzY29ubmVjdGVkOiBUaGlzIGNhbiBoYXBwZW4gd2hlbiB3ZSBhcmUgaW5zZXJ0aW5nIGEgdmlldyBpbnRvXG4gKiAgIHBhcmVudCBjb250YWluZXIsIHdoaWNoIGl0c2VsZiBpcyBkaXNjb25uZWN0ZWQuIEZvciBleGFtcGxlIHRoZSBwYXJlbnQgY29udGFpbmVyIGlzIHBhcnRcbiAqICAgb2YgYSBWaWV3IHdoaWNoIGhhcyBub3QgYmUgaW5zZXJ0ZWQgb3IgaXMgbWFyZSBmb3IgcHJvamVjdGlvbiBidXQgaGFzIG5vdCBiZWVuIGluc2VydGVkXG4gKiAgIGludG8gZGVzdGluYXRpb24uXG4gKlxuXG4gKlxuICogQHBhcmFtIHROb2RlIFRoZSB0Tm9kZSBvZiB0aGUgbm9kZSB0aGF0IHdlIHdhbnQgdG8gaW5zZXJ0LlxuICogQHBhcmFtIGN1cnJlbnRWaWV3IEN1cnJlbnQgTFZpZXcgYmVpbmcgcHJvY2Vzc2VkLlxuICogQHJldHVybiBib29sZWFuIFdoZXRoZXIgdGhlIG5vZGUgc2hvdWxkIGJlIGluc2VydGVkIG5vdyAob3IgZGVsYXllZCB1bnRpbCBsYXRlcikuXG4gKi9cbmZ1bmN0aW9uIGNhbkluc2VydE5hdGl2ZU5vZGUodE5vZGUsIGN1cnJlbnRWaWV3KSB7XG4gICAgdmFyIGN1cnJlbnROb2RlID0gdE5vZGU7XG4gICAgdmFyIHBhcmVudCA9IHROb2RlLnBhcmVudDtcbiAgICBpZiAodE5vZGUucGFyZW50KSB7XG4gICAgICAgIGlmICh0Tm9kZS5wYXJlbnQudHlwZSA9PT0gNCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IGdldEhpZ2hlc3RFbGVtZW50Q29udGFpbmVyKHROb2RlKTtcbiAgICAgICAgICAgIHBhcmVudCA9IGN1cnJlbnROb2RlLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0Tm9kZS5wYXJlbnQudHlwZSA9PT0gNSAvKiBJY3VDb250YWluZXIgKi8pIHtcbiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gZ2V0Rmlyc3RQYXJlbnROYXRpdmUoY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgcGFyZW50ID0gY3VycmVudE5vZGUucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICAgIHBhcmVudCA9IGN1cnJlbnRWaWV3W0hPU1RfTk9ERV07XG4gICAgaWYgKHBhcmVudCAmJiBwYXJlbnQudHlwZSA9PT0gMiAvKiBWaWV3ICovKSB7XG4gICAgICAgIHJldHVybiBjYW5JbnNlcnROYXRpdmVDaGlsZE9mVmlldyhwYXJlbnQsIGN1cnJlbnRWaWV3KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFBhcmVudCBpcyBhIHJlZ3VsYXIgZWxlbWVudCBvciBhIGNvbXBvbmVudFxuICAgICAgICByZXR1cm4gY2FuSW5zZXJ0TmF0aXZlQ2hpbGRPZkVsZW1lbnQoY3VycmVudE5vZGUpO1xuICAgIH1cbn1cbi8qKlxuICogSW5zZXJ0cyBhIG5hdGl2ZSBub2RlIGJlZm9yZSBhbm90aGVyIG5hdGl2ZSBub2RlIGZvciBhIGdpdmVuIHBhcmVudCB1c2luZyB7QGxpbmsgUmVuZGVyZXIzfS5cbiAqIFRoaXMgaXMgYSB1dGlsaXR5IGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgd2hlbiBuYXRpdmUgbm9kZXMgd2VyZSBkZXRlcm1pbmVkIC0gaXQgYWJzdHJhY3RzIGFuXG4gKiBhY3R1YWwgcmVuZGVyZXIgYmVpbmcgdXNlZC5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBwYXJlbnQsIGNoaWxkLCBiZWZvcmVOb2RlKSB7XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZW5kZXJlci5pbnNlcnRCZWZvcmUocGFyZW50LCBjaGlsZCwgYmVmb3JlTm9kZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmVOb2RlLCB0cnVlKTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgYSBuYXRpdmUgcGFyZW50IG9mIGEgZ2l2ZW4gbmF0aXZlIG5vZGUuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZVBhcmVudE5vZGUocmVuZGVyZXIsIG5vZGUpIHtcbiAgICByZXR1cm4gKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLnBhcmVudE5vZGUobm9kZSkgOiBub2RlLnBhcmVudE5vZGUpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbmF0aXZlIHNpYmxpbmcgb2YgYSBnaXZlbiBuYXRpdmUgbm9kZS5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlTmV4dFNpYmxpbmcocmVuZGVyZXIsIG5vZGUpIHtcbiAgICByZXR1cm4gaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIubmV4dFNpYmxpbmcobm9kZSkgOiBub2RlLm5leHRTaWJsaW5nO1xufVxuLyoqXG4gKiBBcHBlbmRzIHRoZSBgY2hpbGRgIGVsZW1lbnQgdG8gdGhlIGBwYXJlbnRgLlxuICpcbiAqIFRoZSBlbGVtZW50IGluc2VydGlvbiBtaWdodCBiZSBkZWxheWVkIHtAbGluayBjYW5JbnNlcnROYXRpdmVOb2RlfS5cbiAqXG4gKiBAcGFyYW0gY2hpbGRFbCBUaGUgY2hpbGQgdGhhdCBzaG91bGQgYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSBjaGlsZFROb2RlIFRoZSBUTm9kZSBvZiB0aGUgY2hpbGQgZWxlbWVudFxuICogQHBhcmFtIGN1cnJlbnRWaWV3IFRoZSBjdXJyZW50IExWaWV3XG4gKiBAcmV0dXJucyBXaGV0aGVyIG9yIG5vdCB0aGUgY2hpbGQgd2FzIGFwcGVuZGVkXG4gKi9cbmZ1bmN0aW9uIGFwcGVuZENoaWxkKGNoaWxkRWwsIGNoaWxkVE5vZGUsIGN1cnJlbnRWaWV3KSB7XG4gICAgaWYgKGNoaWxkRWwgPT09IHZvaWQgMCkgeyBjaGlsZEVsID0gbnVsbDsgfVxuICAgIGlmIChjaGlsZEVsICE9PSBudWxsICYmIGNhbkluc2VydE5hdGl2ZU5vZGUoY2hpbGRUTm9kZSwgY3VycmVudFZpZXcpKSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IGN1cnJlbnRWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgdmFyIHBhcmVudEVsID0gZ2V0UGFyZW50TmF0aXZlKGNoaWxkVE5vZGUsIGN1cnJlbnRWaWV3KTtcbiAgICAgICAgdmFyIHBhcmVudFROb2RlID0gY2hpbGRUTm9kZS5wYXJlbnQgfHwgY3VycmVudFZpZXdbSE9TVF9OT0RFXTtcbiAgICAgICAgaWYgKHBhcmVudFROb2RlLnR5cGUgPT09IDIgLyogVmlldyAqLykge1xuICAgICAgICAgICAgdmFyIGxDb250YWluZXIgPSBnZXRMQ29udGFpbmVyKHBhcmVudFROb2RlLCBjdXJyZW50Vmlldyk7XG4gICAgICAgICAgICB2YXIgdmlld3MgPSBsQ29udGFpbmVyW1ZJRVdTXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZpZXdzLmluZGV4T2YoY3VycmVudFZpZXcpO1xuICAgICAgICAgICAgbmF0aXZlSW5zZXJ0QmVmb3JlKHJlbmRlcmVyLCBsQ29udGFpbmVyW1JFTkRFUl9QQVJFTlRdLCBjaGlsZEVsLCBnZXRCZWZvcmVOb2RlRm9yVmlldyhpbmRleCwgdmlld3MsIGxDb250YWluZXJbTkFUSVZFXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudFROb2RlLnR5cGUgPT09IDQgLyogRWxlbWVudENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgdmFyIHJlbmRlclBhcmVudCA9IGdldFJlbmRlclBhcmVudChjaGlsZFROb2RlLCBjdXJyZW50Vmlldyk7XG4gICAgICAgICAgICBuYXRpdmVJbnNlcnRCZWZvcmUocmVuZGVyZXIsIHJlbmRlclBhcmVudCwgY2hpbGRFbCwgcGFyZW50RWwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudFROb2RlLnR5cGUgPT09IDUgLyogSWN1Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICB2YXIgaWN1QW5jaG9yTm9kZSA9IGdldE5hdGl2ZUJ5VE5vZGUoY2hpbGRUTm9kZS5wYXJlbnQsIGN1cnJlbnRWaWV3KTtcbiAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50RWwsIGNoaWxkRWwsIGljdUFuY2hvck5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIuYXBwZW5kQ2hpbGQocGFyZW50RWwsIGNoaWxkRWwpIDpcbiAgICAgICAgICAgICAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZChjaGlsZEVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBHZXRzIHRoZSB0b3AtbGV2ZWwgbmctY29udGFpbmVyIGlmIG5nLWNvbnRhaW5lcnMgYXJlIG5lc3RlZC5cbiAqXG4gKiBAcGFyYW0gbmdDb250YWluZXIgVGhlIFROb2RlIG9mIHRoZSBzdGFydGluZyBuZy1jb250YWluZXJcbiAqIEByZXR1cm5zIHROb2RlIFRoZSBUTm9kZSBvZiB0aGUgaGlnaGVzdCBsZXZlbCBuZy1jb250YWluZXJcbiAqL1xuZnVuY3Rpb24gZ2V0SGlnaGVzdEVsZW1lbnRDb250YWluZXIobmdDb250YWluZXIpIHtcbiAgICB3aGlsZSAobmdDb250YWluZXIucGFyZW50ICE9IG51bGwgJiYgbmdDb250YWluZXIucGFyZW50LnR5cGUgPT09IDQgLyogRWxlbWVudENvbnRhaW5lciAqLykge1xuICAgICAgICBuZ0NvbnRhaW5lciA9IG5nQ29udGFpbmVyLnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG5nQ29udGFpbmVyO1xufVxuZnVuY3Rpb24gZ2V0QmVmb3JlTm9kZUZvclZpZXcoaW5kZXgsIHZpZXdzLCBjb250YWluZXJOYXRpdmUpIHtcbiAgICBpZiAoaW5kZXggKyAxIDwgdmlld3MubGVuZ3RoKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdmlld3NbaW5kZXggKyAxXTtcbiAgICAgICAgdmFyIHZpZXdUTm9kZSA9IHZpZXdbSE9TVF9OT0RFXTtcbiAgICAgICAgcmV0dXJuIHZpZXdUTm9kZS5jaGlsZCA/IGdldE5hdGl2ZUJ5VE5vZGUodmlld1ROb2RlLmNoaWxkLCB2aWV3KSA6IGNvbnRhaW5lck5hdGl2ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250YWluZXJOYXRpdmU7XG4gICAgfVxufVxuLyoqXG4gKiBSZW1vdmVzIHRoZSBgY2hpbGRgIGVsZW1lbnQgZnJvbSB0aGUgRE9NIGlmIG5vdCBpbiB2aWV3IGFuZCBub3QgcHJvamVjdGVkLlxuICpcbiAqIEBwYXJhbSBjaGlsZFROb2RlIFRoZSBUTm9kZSBvZiB0aGUgY2hpbGQgdG8gcmVtb3ZlXG4gKiBAcGFyYW0gY2hpbGRFbCBUaGUgY2hpbGQgdGhhdCBzaG91bGQgYmUgcmVtb3ZlZFxuICogQHBhcmFtIGN1cnJlbnRWaWV3IFRoZSBjdXJyZW50IExWaWV3XG4gKiBAcmV0dXJucyBXaGV0aGVyIG9yIG5vdCB0aGUgY2hpbGQgd2FzIHJlbW92ZWRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQoY2hpbGRUTm9kZSwgY2hpbGRFbCwgY3VycmVudFZpZXcpIHtcbiAgICAvLyBXZSBvbmx5IHJlbW92ZSB0aGUgZWxlbWVudCBpZiBub3QgaW4gVmlldyBvciBub3QgcHJvamVjdGVkLlxuICAgIGlmIChjaGlsZEVsICE9PSBudWxsICYmIGNhbkluc2VydE5hdGl2ZU5vZGUoY2hpbGRUTm9kZSwgY3VycmVudFZpZXcpKSB7XG4gICAgICAgIHZhciBwYXJlbnROYXRpdmUgPSBnZXRQYXJlbnROYXRpdmUoY2hpbGRUTm9kZSwgY3VycmVudFZpZXcpO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSBjdXJyZW50Vmlld1tSRU5ERVJFUl07XG4gICAgICAgIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLnJlbW92ZUNoaWxkKHBhcmVudE5hdGl2ZSwgY2hpbGRFbCkgOlxuICAgICAgICAgICAgcGFyZW50TmF0aXZlLnJlbW92ZUNoaWxkKGNoaWxkRWwpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBBcHBlbmRzIGEgcHJvamVjdGVkIG5vZGUgdG8gdGhlIERPTSwgb3IgaW4gdGhlIGNhc2Ugb2YgYSBwcm9qZWN0ZWQgY29udGFpbmVyLFxuICogYXBwZW5kcyB0aGUgbm9kZXMgZnJvbSBhbGwgb2YgdGhlIGNvbnRhaW5lcidzIGFjdGl2ZSB2aWV3cyB0byB0aGUgRE9NLlxuICpcbiAqIEBwYXJhbSBwcm9qZWN0ZWRUTm9kZSBUaGUgVE5vZGUgdG8gYmUgcHJvamVjdGVkXG4gKiBAcGFyYW0gdFByb2plY3Rpb25Ob2RlIFRoZSBwcm9qZWN0aW9uIChuZy1jb250ZW50KSBUTm9kZVxuICogQHBhcmFtIGN1cnJlbnRWaWV3IEN1cnJlbnQgTFZpZXdcbiAqIEBwYXJhbSBwcm9qZWN0aW9uVmlldyBQcm9qZWN0aW9uIHZpZXcgKHZpZXcgYWJvdmUgY3VycmVudClcbiAqL1xuZnVuY3Rpb24gYXBwZW5kUHJvamVjdGVkTm9kZShwcm9qZWN0ZWRUTm9kZSwgdFByb2plY3Rpb25Ob2RlLCBjdXJyZW50VmlldywgcHJvamVjdGlvblZpZXcpIHtcbiAgICB2YXIgbmF0aXZlID0gZ2V0TmF0aXZlQnlUTm9kZShwcm9qZWN0ZWRUTm9kZSwgcHJvamVjdGlvblZpZXcpO1xuICAgIGFwcGVuZENoaWxkKG5hdGl2ZSwgdFByb2plY3Rpb25Ob2RlLCBjdXJyZW50Vmlldyk7XG4gICAgLy8gdGhlIHByb2plY3RlZCBjb250ZW50cyBhcmUgcHJvY2Vzc2VkIHdoaWxlIGluIHRoZSBzaGFkb3cgdmlldyAod2hpY2ggaXMgdGhlIGN1cnJlbnRWaWV3KVxuICAgIC8vIHRoZXJlZm9yZSB3ZSBuZWVkIHRvIGV4dHJhY3QgdGhlIHZpZXcgd2hlcmUgdGhlIGhvc3QgZWxlbWVudCBsaXZlcyBzaW5jZSBpdCdzIHRoZVxuICAgIC8vIGxvZ2ljYWwgY29udGFpbmVyIG9mIHRoZSBjb250ZW50IHByb2plY3RlZCB2aWV3c1xuICAgIGF0dGFjaFBhdGNoRGF0YShuYXRpdmUsIHByb2plY3Rpb25WaWV3KTtcbiAgICB2YXIgcmVuZGVyUGFyZW50ID0gZ2V0UmVuZGVyUGFyZW50KHRQcm9qZWN0aW9uTm9kZSwgY3VycmVudFZpZXcpO1xuICAgIHZhciBub2RlT3JDb250YWluZXIgPSBwcm9qZWN0aW9uVmlld1twcm9qZWN0ZWRUTm9kZS5pbmRleF07XG4gICAgaWYgKHByb2plY3RlZFROb2RlLnR5cGUgPT09IDAgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgIC8vIFRoZSBub2RlIHdlIGFyZSBhZGRpbmcgaXMgYSBjb250YWluZXIgYW5kIHdlIGFyZSBhZGRpbmcgaXQgdG8gYW4gZWxlbWVudCB3aGljaFxuICAgICAgICAvLyBpcyBub3QgYSBjb21wb25lbnQgKG5vIG1vcmUgcmUtcHJvamVjdGlvbikuXG4gICAgICAgIC8vIEFsdGVybmF0aXZlbHkgYSBjb250YWluZXIgaXMgcHJvamVjdGVkIGF0IHRoZSByb290IG9mIGEgY29tcG9uZW50J3MgdGVtcGxhdGVcbiAgICAgICAgLy8gYW5kIGNhbid0IGJlIHJlLXByb2plY3RlZCAoYXMgbm90IGNvbnRlbnQgb2YgYW55IGNvbXBvbmVudCkuXG4gICAgICAgIC8vIEFzc2lnbiB0aGUgZmluYWwgcHJvamVjdGlvbiBsb2NhdGlvbiBpbiB0aG9zZSBjYXNlcy5cbiAgICAgICAgbm9kZU9yQ29udGFpbmVyW1JFTkRFUl9QQVJFTlRdID0gcmVuZGVyUGFyZW50O1xuICAgICAgICB2YXIgdmlld3MgPSBub2RlT3JDb250YWluZXJbVklFV1NdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhZGRSZW1vdmVWaWV3RnJvbUNvbnRhaW5lcih2aWV3c1tpXSwgdHJ1ZSwgbm9kZU9yQ29udGFpbmVyW05BVElWRV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAocHJvamVjdGVkVE5vZGUudHlwZSA9PT0gNCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICB2YXIgbmdDb250YWluZXJDaGlsZFROb2RlID0gcHJvamVjdGVkVE5vZGUuY2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAobmdDb250YWluZXJDaGlsZFROb2RlKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kUHJvamVjdGVkTm9kZShuZ0NvbnRhaW5lckNoaWxkVE5vZGUsIHRQcm9qZWN0aW9uTm9kZSwgY3VycmVudFZpZXcsIHByb2plY3Rpb25WaWV3KTtcbiAgICAgICAgICAgICAgICBuZ0NvbnRhaW5lckNoaWxkVE5vZGUgPSBuZ0NvbnRhaW5lckNoaWxkVE5vZGUubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNMQ29udGFpbmVyKG5vZGVPckNvbnRhaW5lcikpIHtcbiAgICAgICAgICAgIG5vZGVPckNvbnRhaW5lcltSRU5ERVJfUEFSRU5UXSA9IHJlbmRlclBhcmVudDtcbiAgICAgICAgICAgIGFwcGVuZENoaWxkKG5vZGVPckNvbnRhaW5lcltOQVRJVkVdLCB0UHJvamVjdGlvbk5vZGUsIGN1cnJlbnRWaWV3KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIE5HX1RFTVBMQVRFX1NFTEVDVE9SID0gJ25nLXRlbXBsYXRlJztcbmZ1bmN0aW9uIGlzQ3NzQ2xhc3NNYXRjaGluZyhub2RlQ2xhc3NBdHRyVmFsLCBjc3NDbGFzc1RvTWF0Y2gpIHtcbiAgICB2YXIgbm9kZUNsYXNzZXNMZW4gPSBub2RlQ2xhc3NBdHRyVmFsLmxlbmd0aDtcbiAgICB2YXIgbWF0Y2hJbmRleCA9IG5vZGVDbGFzc0F0dHJWYWwuaW5kZXhPZihjc3NDbGFzc1RvTWF0Y2gpO1xuICAgIHZhciBtYXRjaEVuZElkeCA9IG1hdGNoSW5kZXggKyBjc3NDbGFzc1RvTWF0Y2gubGVuZ3RoO1xuICAgIGlmIChtYXRjaEluZGV4ID09PSAtMSAvLyBubyBtYXRjaFxuICAgICAgICB8fCAobWF0Y2hJbmRleCA+IDAgJiYgbm9kZUNsYXNzQXR0clZhbFttYXRjaEluZGV4IC0gMV0gIT09ICcgJykgLy8gbm8gc3BhY2UgYmVmb3JlXG4gICAgICAgIHx8XG4gICAgICAgICAgICAobWF0Y2hFbmRJZHggPCBub2RlQ2xhc3Nlc0xlbiAmJiBub2RlQ2xhc3NBdHRyVmFsW21hdGNoRW5kSWR4XSAhPT0gJyAnKSkgLy8gbm8gc3BhY2UgYWZ0ZXJcbiAgICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IGNoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gdE5vZGUgbWF0Y2hlcyB0YWctYmFzZWQgc2VsZWN0b3IgYW5kIGhhcyBhIHZhbGlkIHR5cGUuXG4gKlxuICogTWF0Y2hpbmcgY2FuIGJlIHBlcmZvbWVkIGluIDIgbW9kZXM6IHByb2plY3Rpb24gbW9kZSAod2hlbiB3ZSBwcm9qZWN0IG5vZGVzKSBhbmQgcmVndWxhclxuICogZGlyZWN0aXZlIG1hdGNoaW5nIG1vZGUuIEluIFwicHJvamVjdGlvblwiIG1vZGUsIHdlIGRvIG5vdCBuZWVkIHRvIGNoZWNrIHR5cGVzLCBzbyBpZiB0YWcgbmFtZVxuICogbWF0Y2hlcyBzZWxlY3Rvciwgd2UgZGVjbGFyZSBhIG1hdGNoLiBJbiBcImRpcmVjdGl2ZSBtYXRjaGluZ1wiIG1vZGUsIHdlIGFsc28gY2hlY2sgd2hldGhlciB0Tm9kZVxuICogaXMgb2YgZXhwZWN0ZWQgdHlwZTpcbiAqIC0gd2hldGhlciB0Tm9kZSBoYXMgZWl0aGVyIEVsZW1lbnQgb3IgRWxlbWVudENvbnRhaW5lciB0eXBlXG4gKiAtIG9yIGlmIHdlIHdhbnQgdG8gbWF0Y2ggXCJuZy10ZW1wbGF0ZVwiIHRhZywgd2UgY2hlY2sgZm9yIENvbnRhaW5lciB0eXBlXG4gKi9cbmZ1bmN0aW9uIGhhc1RhZ0FuZFR5cGVNYXRjaCh0Tm9kZSwgY3VycmVudFNlbGVjdG9yLCBpc1Byb2plY3Rpb25Nb2RlKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTZWxlY3RvciA9PT0gdE5vZGUudGFnTmFtZSAmJlxuICAgICAgICAoaXNQcm9qZWN0aW9uTW9kZSB8fFxuICAgICAgICAgICAgKHROb2RlLnR5cGUgPT09IDMgLyogRWxlbWVudCAqLyB8fCB0Tm9kZS50eXBlID09PSA0IC8qIEVsZW1lbnRDb250YWluZXIgKi8pIHx8XG4gICAgICAgICAgICAodE5vZGUudHlwZSA9PT0gMCAvKiBDb250YWluZXIgKi8gJiYgY3VycmVudFNlbGVjdG9yID09PSBOR19URU1QTEFURV9TRUxFQ1RPUikpO1xufVxuLyoqXG4gKiBBIHV0aWxpdHkgZnVuY3Rpb24gdG8gbWF0Y2ggYW4gSXZ5IG5vZGUgc3RhdGljIGRhdGEgYWdhaW5zdCBhIHNpbXBsZSBDU1Mgc2VsZWN0b3JcbiAqXG4gKiBAcGFyYW0gbm9kZSBzdGF0aWMgZGF0YSB0byBtYXRjaFxuICogQHBhcmFtIHNlbGVjdG9yXG4gKiBAcmV0dXJucyB0cnVlIGlmIG5vZGUgbWF0Y2hlcyB0aGUgc2VsZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3IodE5vZGUsIHNlbGVjdG9yLCBpc1Byb2plY3Rpb25Nb2RlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoc2VsZWN0b3JbMF0sICdTZWxlY3RvciBzaG91bGQgaGF2ZSBhIHRhZyBuYW1lJyk7XG4gICAgdmFyIG1vZGUgPSA0IC8qIEVMRU1FTlQgKi87XG4gICAgdmFyIG5vZGVBdHRycyA9IHROb2RlLmF0dHJzO1xuICAgIHZhciBzZWxlY3RPbmx5TWFya2VySWR4ID0gbm9kZUF0dHJzID8gbm9kZUF0dHJzLmluZGV4T2YoMyAvKiBTZWxlY3RPbmx5ICovKSA6IC0xO1xuICAgIC8vIFdoZW4gcHJvY2Vzc2luZyBcIjpub3RcIiBzZWxlY3RvcnMsIHdlIHNraXAgdG8gdGhlIG5leHQgXCI6bm90XCIgaWYgdGhlXG4gICAgLy8gY3VycmVudCBvbmUgZG9lc24ndCBtYXRjaFxuICAgIHZhciBza2lwVG9OZXh0U2VsZWN0b3IgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gc2VsZWN0b3JbaV07XG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGZpbmlzaCBwcm9jZXNzaW5nIGEgOm5vdCBzZWxlY3RvciBhbmQgaXQgaGFzbid0IGZhaWxlZCwgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICBpZiAoIXNraXBUb05leHRTZWxlY3RvciAmJiAhaXNQb3NpdGl2ZShtb2RlKSAmJiAhaXNQb3NpdGl2ZShjdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBza2lwcGluZyB0byB0aGUgbmV4dCA6bm90KCkgYW5kIHRoaXMgbW9kZSBmbGFnIGlzIHBvc2l0aXZlLFxuICAgICAgICAgICAgLy8gaXQncyBhIHBhcnQgb2YgdGhlIGN1cnJlbnQgOm5vdCgpIHNlbGVjdG9yLCBhbmQgd2Ugc2hvdWxkIGtlZXAgc2tpcHBpbmdcbiAgICAgICAgICAgIGlmIChza2lwVG9OZXh0U2VsZWN0b3IgJiYgaXNQb3NpdGl2ZShjdXJyZW50KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHNraXBUb05leHRTZWxlY3RvciA9IGZhbHNlO1xuICAgICAgICAgICAgbW9kZSA9IGN1cnJlbnQgfCAobW9kZSAmIDEgLyogTk9UICovKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwVG9OZXh0U2VsZWN0b3IpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKG1vZGUgJiA0IC8qIEVMRU1FTlQgKi8pIHtcbiAgICAgICAgICAgIG1vZGUgPSAyIC8qIEFUVFJJQlVURSAqLyB8IG1vZGUgJiAxIC8qIE5PVCAqLztcbiAgICAgICAgICAgIGlmIChjdXJyZW50ICE9PSAnJyAmJiAhaGFzVGFnQW5kVHlwZU1hdGNoKHROb2RlLCBjdXJyZW50LCBpc1Byb2plY3Rpb25Nb2RlKSB8fFxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPT09ICcnICYmIHNlbGVjdG9yLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChpc1Bvc2l0aXZlKG1vZGUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2tpcFRvTmV4dFNlbGVjdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9IG1vZGUgJiA4IC8qIENMQVNTICovID8gJ2NsYXNzJyA6IGN1cnJlbnQ7XG4gICAgICAgICAgICB2YXIgYXR0ckluZGV4SW5Ob2RlID0gZmluZEF0dHJJbmRleEluTm9kZShhdHRyTmFtZSwgbm9kZUF0dHJzKTtcbiAgICAgICAgICAgIGlmIChhdHRySW5kZXhJbk5vZGUgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUG9zaXRpdmUobW9kZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBza2lwVG9OZXh0U2VsZWN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNlbGVjdG9yQXR0clZhbHVlID0gbW9kZSAmIDggLyogQ0xBU1MgKi8gPyBjdXJyZW50IDogc2VsZWN0b3JbKytpXTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RvckF0dHJWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZUF0dHJWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB2YXIgbWF5YmVBdHRyTmFtZSA9IG5vZGVBdHRyc1thdHRySW5kZXhJbk5vZGVdO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RPbmx5TWFya2VySWR4ID4gLTEgJiYgYXR0ckluZGV4SW5Ob2RlID4gc2VsZWN0T25seU1hcmtlcklkeCkge1xuICAgICAgICAgICAgICAgICAgICBub2RlQXR0clZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm90RXF1YWwobWF5YmVBdHRyTmFtZSwgMCAvKiBOYW1lc3BhY2VVUkkgKi8sICdXZSBkbyBub3QgbWF0Y2ggZGlyZWN0aXZlcyBvbiBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZUF0dHJWYWx1ZSA9IG5vZGVBdHRyc1thdHRySW5kZXhJbk5vZGUgKyAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgJiA4IC8qIENMQVNTICovICYmXG4gICAgICAgICAgICAgICAgICAgICFpc0Nzc0NsYXNzTWF0Y2hpbmcobm9kZUF0dHJWYWx1ZSwgc2VsZWN0b3JBdHRyVmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1vZGUgJiAyIC8qIEFUVFJJQlVURSAqLyAmJiBzZWxlY3RvckF0dHJWYWx1ZSAhPT0gbm9kZUF0dHJWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQb3NpdGl2ZShtb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFRvTmV4dFNlbGVjdG9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzUG9zaXRpdmUobW9kZSkgfHwgc2tpcFRvTmV4dFNlbGVjdG9yO1xufVxuZnVuY3Rpb24gaXNQb3NpdGl2ZShtb2RlKSB7XG4gICAgcmV0dXJuIChtb2RlICYgMSAvKiBOT1QgKi8pID09PSAwO1xufVxuLyoqXG4gKiBFeGFtaW5lcyBhbiBhdHRyaWJ1dGVzIGRlZmluaXRpb24gYXJyYXkgZnJvbSBhIG5vZGUgdG8gZmluZCB0aGUgaW5kZXggb2YgdGhlXG4gKiBhdHRyaWJ1dGUgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKlxuICogTk9URTogV2lsbCBub3QgZmluZCBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMuXG4gKlxuICogQHBhcmFtIG5hbWUgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byBmaW5kXG4gKiBAcGFyYW0gYXR0cnMgdGhlIGF0dHJpYnV0ZSBhcnJheSB0byBleGFtaW5lXG4gKi9cbmZ1bmN0aW9uIGZpbmRBdHRySW5kZXhJbk5vZGUobmFtZSwgYXR0cnMpIHtcbiAgICBpZiAoYXR0cnMgPT09IG51bGwpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB2YXIgc2VsZWN0T25seU1vZGUgPSBmYWxzZTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIG1heWJlQXR0ck5hbWUgPSBhdHRyc1tpXTtcbiAgICAgICAgaWYgKG1heWJlQXR0ck5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1heWJlQXR0ck5hbWUgPT09IDAgLyogTmFtZXNwYWNlVVJJICovKSB7XG4gICAgICAgICAgICAvLyBOT1RFKGJlbmxlc2gpOiB3aWxsIG5vdCBmaW5kIG5hbWVzcGFjZWQgYXR0cmlidXRlcy4gVGhpcyBpcyBieSBkZXNpZ24uXG4gICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobWF5YmVBdHRyTmFtZSA9PT0gMyAvKiBTZWxlY3RPbmx5ICovKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0T25seU1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSArPSBzZWxlY3RPbmx5TW9kZSA/IDEgOiAyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JMaXN0KHROb2RlLCBzZWxlY3RvciwgaXNQcm9qZWN0aW9uTW9kZSkge1xuICAgIGlmIChpc1Byb2plY3Rpb25Nb2RlID09PSB2b2lkIDApIHsgaXNQcm9qZWN0aW9uTW9kZSA9IGZhbHNlOyB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3Rvci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3JbaV0sIGlzUHJvamVjdGlvbk1vZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRQcm9qZWN0QXNBdHRyVmFsdWUodE5vZGUpIHtcbiAgICB2YXIgbm9kZUF0dHJzID0gdE5vZGUuYXR0cnM7XG4gICAgaWYgKG5vZGVBdHRycyAhPSBudWxsKSB7XG4gICAgICAgIHZhciBuZ1Byb2plY3RBc0F0dHJJZHggPSBub2RlQXR0cnMuaW5kZXhPZihOR19QUk9KRUNUX0FTX0FUVFJfTkFNRSk7XG4gICAgICAgIC8vIG9ubHkgY2hlY2sgZm9yIG5nUHJvamVjdEFzIGluIGF0dHJpYnV0ZSBuYW1lcywgZG9uJ3QgYWNjaWRlbnRhbGx5IG1hdGNoIGF0dHJpYnV0ZSdzIHZhbHVlXG4gICAgICAgIC8vIChhdHRyaWJ1dGUgbmFtZXMgYXJlIHN0b3JlZCBhdCBldmVuIGluZGV4ZXMpXG4gICAgICAgIGlmICgobmdQcm9qZWN0QXNBdHRySWR4ICYgMSkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlQXR0cnNbbmdQcm9qZWN0QXNBdHRySWR4ICsgMV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIENoZWNrcyBhIGdpdmVuIG5vZGUgYWdhaW5zdCBtYXRjaGluZyBzZWxlY3RvcnMgYW5kIHJldHVybnNcbiAqIHNlbGVjdG9yIGluZGV4IChvciAwIGlmIG5vbmUgbWF0Y2hlZCkuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB0YWtlcyBpbnRvIGFjY291bnQgdGhlIG5nUHJvamVjdEFzIGF0dHJpYnV0ZTogaWYgcHJlc2VudCBpdHMgdmFsdWUgd2lsbCBiZSBjb21wYXJlZFxuICogdG8gdGhlIHJhdyAodW4tcGFyc2VkKSBDU1Mgc2VsZWN0b3IgaW5zdGVhZCBvZiB1c2luZyBzdGFuZGFyZCBzZWxlY3RvciBtYXRjaGluZyBsb2dpYy5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hpbmdTZWxlY3RvckluZGV4KHROb2RlLCBzZWxlY3RvcnMsIHRleHRTZWxlY3RvcnMpIHtcbiAgICB2YXIgbmdQcm9qZWN0QXNBdHRyVmFsID0gZ2V0UHJvamVjdEFzQXR0clZhbHVlKHROb2RlKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGVjdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBpZiBhIG5vZGUgaGFzIHRoZSBuZ1Byb2plY3RBcyBhdHRyaWJ1dGUgbWF0Y2ggaXQgYWdhaW5zdCB1bnBhcnNlZCBzZWxlY3RvclxuICAgICAgICAvLyBtYXRjaCBhIG5vZGUgYWdhaW5zdCBhIHBhcnNlZCBzZWxlY3RvciBvbmx5IGlmIG5nUHJvamVjdEFzIGF0dHJpYnV0ZSBpcyBub3QgcHJlc2VudFxuICAgICAgICBpZiAobmdQcm9qZWN0QXNBdHRyVmFsID09PSB0ZXh0U2VsZWN0b3JzW2ldIHx8XG4gICAgICAgICAgICBuZ1Byb2plY3RBc0F0dHJWYWwgPT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICBpc05vZGVNYXRjaGluZ1NlbGVjdG9yTGlzdCh0Tm9kZSwgc2VsZWN0b3JzW2ldLCAvKiBpc1Byb2plY3Rpb25Nb2RlICovIHRydWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaSArIDE7IC8vIGZpcnN0IG1hdGNoaW5nIHNlbGVjdG9yIFwiY2FwdHVyZXNcIiBhIGdpdmVuIG5vZGVcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cblxuLyoqXG4gKiBDb21iaW5lcyB0aGUgYmluZGluZyB2YWx1ZSBhbmQgYSBmYWN0b3J5IGZvciBhbiBhbmltYXRpb24gcGxheWVyLlxuICpcbiAqIFVzZWQgdG8gYmluZCBhIHBsYXllciB0byBhbiBlbGVtZW50IHRlbXBsYXRlIGJpbmRpbmcgKGN1cnJlbnRseSBvbmx5XG4gKiBgW3N0eWxlXWAsIGBbc3R5bGUucHJvcF1gLCBgW2NsYXNzXWAgYW5kIGBbY2xhc3MubmFtZV1gIGJpbmRpbmdzXG4gKiBzdXBwb3J0ZWQpLiBUaGUgcHJvdmlkZWQgYGZhY3RvcnlGbmAgZnVuY3Rpb24gd2lsbCBiZSBydW4gb25jZSBhbGxcbiAqIHRoZSBhc3NvY2lhdGVkIGJpbmRpbmdzIGhhdmUgYmVlbiBldmFsdWF0ZWQgb24gdGhlIGVsZW1lbnQgYW5kIGlzXG4gKiBkZXNpZ25lZCB0byByZXR1cm4gYSBwbGF5ZXIgd2hpY2ggd2lsbCB0aGVuIGJlIHBsYWNlZCBvbiB0aGUgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gZmFjdG9yeUZuIFRoZSBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIGEgcGxheWVyXG4gKiAgIG9uY2UgYWxsIHRoZSByZW5kZXJpbmctcmVsYXRlZCAoc3R5bGluZyB2YWx1ZXMpIGhhdmUgYmVlblxuICogICBwcm9jZXNzZWQgZm9yIHRoZSBlbGVtZW50IGJpbmRpbmcuXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHJhdyB2YWx1ZSB0aGF0IHdpbGwgYmUgZXhwb3NlZCB0byB0aGUgYmluZGluZ1xuICogICBzbyB0aGF0IHRoZSBiaW5kaW5nIGNhbiB1cGRhdGUgaXRzIGludGVybmFsIHZhbHVlcyB3aGVuXG4gKiAgIGFueSBjaGFuZ2VzIGFyZSBldmFsdWF0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJpbmRQbGF5ZXJGYWN0b3J5KGZhY3RvcnlGbiwgdmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IEJvdW5kUGxheWVyRmFjdG9yeShmYWN0b3J5Rm4sIHZhbHVlKTtcbn1cbnZhciBCb3VuZFBsYXllckZhY3RvcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm91bmRQbGF5ZXJGYWN0b3J5KGZuLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmZuID0gZm47XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIEJvdW5kUGxheWVyRmFjdG9yeTtcbn0oKSk7XG5cbnZhciBDb3JlUGxheWVySGFuZGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb3JlUGxheWVySGFuZGxlcigpIHtcbiAgICAgICAgdGhpcy5fcGxheWVycyA9IFtdO1xuICAgIH1cbiAgICBDb3JlUGxheWVySGFuZGxlci5wcm90b3R5cGUuZmx1c2hQbGF5ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BsYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLl9wbGF5ZXJzW2ldO1xuICAgICAgICAgICAgaWYgKCFwbGF5ZXIucGFyZW50ICYmIHBsYXllci5zdGF0ZSA9PT0gMCAvKiBQZW5kaW5nICovKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wbGF5ZXJzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBDb3JlUGxheWVySGFuZGxlci5wcm90b3R5cGUucXVldWVQbGF5ZXIgPSBmdW5jdGlvbiAocGxheWVyKSB7IHRoaXMuX3BsYXllcnMucHVzaChwbGF5ZXIpOyB9O1xuICAgIHJldHVybiBDb3JlUGxheWVySGFuZGxlcjtcbn0oKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBBTklNQVRJT05fUFJPUF9QUkVGSVggPSAnQCc7XG5mdW5jdGlvbiBjcmVhdGVFbXB0eVN0eWxpbmdDb250ZXh0KGVsZW1lbnQsIHNhbml0aXplciwgaW5pdGlhbFN0eWxlcywgaW5pdGlhbENsYXNzZXMpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICAwLFxuICAgICAgICBbbnVsbCwgLTEsIGZhbHNlLCBzYW5pdGl6ZXIgfHwgbnVsbF0sXG4gICAgICAgIGluaXRpYWxTdHlsZXMgfHwgW251bGxdLFxuICAgICAgICBpbml0aWFsQ2xhc3NlcyB8fCBbbnVsbF0sXG4gICAgICAgIFswLCAwXSxcbiAgICAgICAgZWxlbWVudCB8fCBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgIF07XG59XG4vKipcbiAqIFVzZWQgY2xvbmUgYSBjb3B5IG9mIGEgcHJlLWNvbXB1dGVkIHRlbXBsYXRlIG9mIGEgc3R5bGluZyBjb250ZXh0LlxuICpcbiAqIEEgcHJlLWNvbXB1dGVkIHRlbXBsYXRlIGlzIGRlc2lnbmVkIHRvIGJlIGNvbXB1dGVkIG9uY2UgZm9yIGEgZ2l2ZW4gZWxlbWVudFxuICogKGluc3RydWN0aW9ucy50cyBoYXMgbG9naWMgZm9yIGNhY2hpbmcgdGhpcykuXG4gKi9cbmZ1bmN0aW9uIGFsbG9jU3R5bGluZ0NvbnRleHQoZWxlbWVudCwgdGVtcGxhdGVTdHlsZUNvbnRleHQpIHtcbiAgICAvLyBlYWNoIGluc3RhbmNlIGdldHMgYSBjb3B5XG4gICAgdmFyIGNvbnRleHQgPSB0ZW1wbGF0ZVN0eWxlQ29udGV4dC5zbGljZSgpO1xuICAgIGNvbnRleHRbNSAvKiBFbGVtZW50UG9zaXRpb24gKi9dID0gZWxlbWVudDtcbiAgICAvLyB0aGlzIHdpbGwgcHJldmVudCBhbnkgb3RoZXIgZGlyZWN0aXZlcyBmcm9tIGV4dGVuZGluZyB0aGUgY29udGV4dFxuICAgIGNvbnRleHRbMCAvKiBNYXN0ZXJGbGFnUG9zaXRpb24gKi9dIHw9IDMyIC8qIEJpbmRpbmdBbGxvY2F0aW9uTG9ja2VkICovO1xuICAgIHJldHVybiBjb250ZXh0O1xufVxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgYFN0eWxpbmdDb250ZXh0YCBhdCBhIGdpdmVuIGluZGV4LlxuICpcbiAqIFRoaXMgbWV0aG9kIGxhemlseSBjcmVhdGVzIHRoZSBgU3R5bGluZ0NvbnRleHRgLiBUaGlzIGlzIGJlY2F1c2UgaW4gbW9zdCBjYXNlc1xuICogd2UgaGF2ZSBzdHlsaW5nIHdpdGhvdXQgYW55IGJpbmRpbmdzLiBDcmVhdGluZyBgU3R5bGluZ0NvbnRleHRgIGVhZ2VybHkgd291bGQgbWVhbiB0aGF0XG4gKiBldmVyeSBzdHlsZSBkZWNsYXJhdGlvbiBzdWNoIGFzIGA8ZGl2IHN0eWxlPVwiY29sb3I6IHJlZFwiPmAgd291bGQgcmVzdWx0IGBTdHlsZUNvbnRleHRgXG4gKiB3aGljaCB3b3VsZCBjcmVhdGUgdW5uZWNlc3NhcnkgbWVtb3J5IHByZXNzdXJlLlxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgc3R5bGUgYWxsb2NhdGlvbi4gU2VlOiBgZWxlbWVudFN0eWxpbmdgLlxuICogQHBhcmFtIHZpZXdEYXRhIFRoZSB2aWV3IHRvIHNlYXJjaCBmb3IgdGhlIHN0eWxpbmcgY29udGV4dFxuICovXG5mdW5jdGlvbiBnZXRTdHlsaW5nQ29udGV4dChpbmRleCwgdmlld0RhdGEpIHtcbiAgICB2YXIgc3RvcmFnZUluZGV4ID0gaW5kZXg7XG4gICAgdmFyIHNsb3RWYWx1ZSA9IHZpZXdEYXRhW3N0b3JhZ2VJbmRleF07XG4gICAgdmFyIHdyYXBwZXIgPSB2aWV3RGF0YTtcbiAgICB3aGlsZSAoQXJyYXkuaXNBcnJheShzbG90VmFsdWUpKSB7XG4gICAgICAgIHdyYXBwZXIgPSBzbG90VmFsdWU7XG4gICAgICAgIHNsb3RWYWx1ZSA9IHNsb3RWYWx1ZVtIT1NUXTtcbiAgICB9XG4gICAgaWYgKGlzU3R5bGluZ0NvbnRleHQod3JhcHBlcikpIHtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGlzIGFuIExWaWV3IG9yIGFuIExDb250YWluZXJcbiAgICAgICAgdmFyIHN0eWxpbmdUZW1wbGF0ZSA9IGdldFROb2RlKGluZGV4IC0gSEVBREVSX09GRlNFVCwgdmlld0RhdGEpLnN0eWxpbmdUZW1wbGF0ZTtcbiAgICAgICAgaWYgKHdyYXBwZXIgIT09IHZpZXdEYXRhKSB7XG4gICAgICAgICAgICBzdG9yYWdlSW5kZXggPSBIT1NUO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cmFwcGVyW3N0b3JhZ2VJbmRleF0gPSBzdHlsaW5nVGVtcGxhdGUgP1xuICAgICAgICAgICAgYWxsb2NTdHlsaW5nQ29udGV4dChzbG90VmFsdWUsIHN0eWxpbmdUZW1wbGF0ZSkgOlxuICAgICAgICAgICAgY3JlYXRlRW1wdHlTdHlsaW5nQ29udGV4dChzbG90VmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzU3R5bGluZ0NvbnRleHQodmFsdWUpIHtcbiAgICAvLyBOb3QgYW4gTFZpZXcgb3IgYW4gTENvbnRhaW5lclxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWVbMCAvKiBNYXN0ZXJGbGFnUG9zaXRpb24gKi9dID09PSAnbnVtYmVyJyAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KHZhbHVlWzIgLyogSW5pdGlhbFN0eWxlVmFsdWVzUG9zaXRpb24gKi9dKTtcbn1cbmZ1bmN0aW9uIGlzQW5pbWF0aW9uUHJvcChuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWVbMF0gPT09IEFOSU1BVElPTl9QUk9QX1BSRUZJWDtcbn1cbmZ1bmN0aW9uIGFkZFBsYXllckludGVybmFsKHBsYXllckNvbnRleHQsIHJvb3RDb250ZXh0LCBlbGVtZW50LCBwbGF5ZXIsIHBsYXllckNvbnRleHRJbmRleCwgcmVmKSB7XG4gICAgcmVmID0gcmVmIHx8IGVsZW1lbnQ7XG4gICAgaWYgKHBsYXllckNvbnRleHRJbmRleCkge1xuICAgICAgICBwbGF5ZXJDb250ZXh0W3BsYXllckNvbnRleHRJbmRleF0gPSBwbGF5ZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwbGF5ZXJDb250ZXh0LnB1c2gocGxheWVyKTtcbiAgICB9XG4gICAgaWYgKHBsYXllcikge1xuICAgICAgICBwbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigyMDAgLyogRGVzdHJveWVkICovLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwbGF5ZXJDb250ZXh0LmluZGV4T2YocGxheWVyKTtcbiAgICAgICAgICAgIHZhciBub25GYWN0b3J5UGxheWVySW5kZXggPSBwbGF5ZXJDb250ZXh0WzAgLyogTm9uQnVpbGRlclBsYXllcnNTdGFydCAqL107XG4gICAgICAgICAgICAvLyBpZiB0aGUgcGxheWVyIGlzIGJlaW5nIHJlbW92ZWQgZnJvbSB0aGUgZmFjdG9yeSBzaWRlIG9mIHRoZSBjb250ZXh0XG4gICAgICAgICAgICAvLyAod2hpY2ggaXMgd2hlcmUgdGhlIFtzdHlsZV0gYW5kIFtjbGFzc10gYmluZGluZ3MgZG8gdGhlaXIgdGhpbmcpIHRoZW5cbiAgICAgICAgICAgIC8vIHRoYXQgc2lkZSBvZiB0aGUgYXJyYXkgY2Fubm90IGJlIHJlc2l6ZWQgc2luY2UgdGhlIHJlc3BlY3RpdmUgYmluZGluZ3NcbiAgICAgICAgICAgIC8vIGhhdmUgcG9pbnRlciBpbmRleCB2YWx1ZXMgdGhhdCBwb2ludCB0byB0aGUgYXNzb2NpYXRlZCBmYWN0b3J5IGluc3RhbmNlXG4gICAgICAgICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCBub25GYWN0b3J5UGxheWVySW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyQ29udGV4dFtpbmRleF0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyQ29udGV4dC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsYXllci5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcGxheWVySGFuZGxlciA9IHJvb3RDb250ZXh0LnBsYXllckhhbmRsZXIgfHwgKHJvb3RDb250ZXh0LnBsYXllckhhbmRsZXIgPSBuZXcgQ29yZVBsYXllckhhbmRsZXIoKSk7XG4gICAgICAgIHBsYXllckhhbmRsZXIucXVldWVQbGF5ZXIocGxheWVyLCByZWYpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0UGxheWVyc0ludGVybmFsKHBsYXllckNvbnRleHQpIHtcbiAgICB2YXIgcGxheWVycyA9IFtdO1xuICAgIHZhciBub25GYWN0b3J5UGxheWVyc1N0YXJ0ID0gcGxheWVyQ29udGV4dFswIC8qIE5vbkJ1aWxkZXJQbGF5ZXJzU3RhcnQgKi9dO1xuICAgIC8vIGFkZCBhbGwgZmFjdG9yeS1iYXNlZCBwbGF5ZXJzICh3aGljaCBhcmUgYXBhcnQgb2YgW3N0eWxlXSBhbmQgW2NsYXNzXSBiaW5kaW5ncylcbiAgICBmb3IgKHZhciBpID0gMSAvKiBQbGF5ZXJCdWlsZGVyc1N0YXJ0UG9zaXRpb24gKi8gKyAxIC8qIFBsYXllck9mZnNldFBvc2l0aW9uICovOyBpIDwgbm9uRmFjdG9yeVBsYXllcnNTdGFydDsgaSArPSAyIC8qIFBsYXllckFuZFBsYXllckJ1aWxkZXJzVHVwbGVTaXplICovKSB7XG4gICAgICAgIHZhciBwbGF5ZXIgPSBwbGF5ZXJDb250ZXh0W2ldO1xuICAgICAgICBpZiAocGxheWVyKSB7XG4gICAgICAgICAgICBwbGF5ZXJzLnB1c2gocGxheWVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBhZGQgYWxsIGN1c3RvbSBwbGF5ZXJzIChub3QgYXBhcnQgb2YgW3N0eWxlXSBhbmQgW2NsYXNzXSBiaW5kaW5ncylcbiAgICBmb3IgKHZhciBpID0gbm9uRmFjdG9yeVBsYXllcnNTdGFydDsgaSA8IHBsYXllckNvbnRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGxheWVycy5wdXNoKHBsYXllckNvbnRleHRbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcGxheWVycztcbn1cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlUGxheWVyQ29udGV4dCh0YXJnZXQsIGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCB8fCBnZXRMQ29udGV4dCh0YXJnZXQpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgdGhyb3dJbnZhbGlkUmVmRXJyb3IoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBsVmlldyA9IGNvbnRleHQubFZpZXcsIG5vZGVJbmRleCA9IGNvbnRleHQubm9kZUluZGV4O1xuICAgIHZhciBzdHlsaW5nQ29udGV4dCA9IGdldFN0eWxpbmdDb250ZXh0KG5vZGVJbmRleCwgbFZpZXcpO1xuICAgIHJldHVybiBnZXRQbGF5ZXJDb250ZXh0KHN0eWxpbmdDb250ZXh0KSB8fCBhbGxvY1BsYXllckNvbnRleHQoc3R5bGluZ0NvbnRleHQpO1xufVxuZnVuY3Rpb24gZ2V0UGxheWVyQ29udGV4dChzdHlsaW5nQ29udGV4dCkge1xuICAgIHJldHVybiBzdHlsaW5nQ29udGV4dFs4IC8qIFBsYXllckNvbnRleHQgKi9dO1xufVxuZnVuY3Rpb24gYWxsb2NQbGF5ZXJDb250ZXh0KGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YVs4IC8qIFBsYXllckNvbnRleHQgKi9dID1cbiAgICAgICAgWzUgLyogU2luZ2xlUGxheWVyQnVpbGRlcnNTdGFydFBvc2l0aW9uICovLCBudWxsLCBudWxsLCBudWxsLCBudWxsXTtcbn1cbmZ1bmN0aW9uIHRocm93SW52YWxpZFJlZkVycm9yKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignT25seSBlbGVtZW50cyB0aGF0IGV4aXN0IGluIGFuIEFuZ3VsYXIgYXBwbGljYXRpb24gY2FuIGJlIHVzZWQgZm9yIGFuaW1hdGlvbnMnKTtcbn1cbmZ1bmN0aW9uIGhhc1N0eWxpbmcoYXR0cnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhdHRyID0gYXR0cnNbaV07XG4gICAgICAgIGlmIChhdHRyID09IDEgLyogQ2xhc3NlcyAqLyB8fCBhdHRyID09IDIgLyogU3R5bGVzICovKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGhhc0NsYXNzSW5wdXQodE5vZGUpIHtcbiAgICByZXR1cm4gdE5vZGUuZmxhZ3MgJiA4IC8qIGhhc0NsYXNzSW5wdXQgKi8gPyB0cnVlIDogZmFsc2U7XG59XG5cbi8qKlxuICogVGhpcyBmaWxlIGluY2x1ZGVzIHRoZSBjb2RlIHRvIHBvd2VyIGFsbCBzdHlsaW5nLWJpbmRpbmcgb3BlcmF0aW9ucyBpbiBBbmd1bGFyLlxuICpcbiAqIFRoZXNlIGluY2x1ZGU6XG4gKiBbc3R5bGVdPVwibXlTdHlsZU9ialwiXG4gKiBbY2xhc3NdPVwibXlDbGFzc09ialwiXG4gKiBbc3R5bGUucHJvcF09XCJteVByb3BWYWx1ZVwiXG4gKiBbY2xhc3MubmFtZV09XCJteUNsYXNzVmFsdWVcIlxuICpcbiAqIFRoZXJlIGFyZSBtYW55IGRpZmZlcmVudCB3YXlzIGluIHdoaWNoIHRoZXNlIGZ1bmN0aW9ucyBiZWxvdyBhcmUgY2FsbGVkLiBQbGVhc2Ugc2VlXG4gKiBgaW50ZXJmYWNlcy9zdHlsZXMudHNgIHRvIGdldCBhIGJldHRlciBpZGVhIG9mIGhvdyB0aGUgc3R5bGluZyBhbGdvcml0aG0gd29ya3MuXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBTdHlsaW5nQ29udGV4dCBhbiBmaWxscyBpdCB3aXRoIHRoZSBwcm92aWRlZCBzdGF0aWMgc3R5bGluZyBhdHRyaWJ1dGUgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBpbml0aWFsaXplU3RhdGljQ29udGV4dChhdHRycykge1xuICAgIHZhciBjb250ZXh0ID0gY3JlYXRlRW1wdHlTdHlsaW5nQ29udGV4dCgpO1xuICAgIHZhciBpbml0aWFsQ2xhc3NlcyA9IGNvbnRleHRbMyAvKiBJbml0aWFsQ2xhc3NWYWx1ZXNQb3NpdGlvbiAqL10gPVxuICAgICAgICBbbnVsbF07XG4gICAgdmFyIGluaXRpYWxTdHlsZXMgPSBjb250ZXh0WzIgLyogSW5pdGlhbFN0eWxlVmFsdWVzUG9zaXRpb24gKi9dID1cbiAgICAgICAgW251bGxdO1xuICAgIC8vIFRoZSBhdHRyaWJ1dGVzIGFycmF5IGhhcyBtYXJrZXIgdmFsdWVzIChudW1iZXJzKSBpbmRpY2F0aW5nIHdoYXQgdGhlIHN1YnNlcXVlbnRcbiAgICAvLyB2YWx1ZXMgcmVwcmVzZW50LiBXaGVuIHdlIGVuY291bnRlciBhIG51bWJlciwgd2Ugc2V0IHRoZSBtb2RlIHRvIHRoYXQgdHlwZSBvZiBhdHRyaWJ1dGUuXG4gICAgdmFyIG1vZGUgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhdHRyID0gYXR0cnNbaV07XG4gICAgICAgIGlmICh0eXBlb2YgYXR0ciA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgbW9kZSA9IGF0dHI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gMiAvKiBTdHlsZXMgKi8pIHtcbiAgICAgICAgICAgIGluaXRpYWxTdHlsZXMucHVzaChhdHRyLCBhdHRyc1srK2ldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtb2RlID09PSAxIC8qIENsYXNzZXMgKi8pIHtcbiAgICAgICAgICAgIGluaXRpYWxDbGFzc2VzLnB1c2goYXR0ciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gMyAvKiBTZWxlY3RPbmx5ICovKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn1cbi8qKlxuICogRGVzaWduZWQgdG8gdXBkYXRlIGFuIGV4aXN0aW5nIHN0eWxpbmcgY29udGV4dCB3aXRoIG5ldyBzdGF0aWMgc3R5bGluZ1xuICogZGF0YSAoY2xhc3NlcyBhbmQgc3R5bGVzKS5cbiAqXG4gKiBAcGFyYW0gY29udGV4dCB0aGUgZXhpc3Rpbmcgc3R5bGluZyBjb250ZXh0XG4gKiBAcGFyYW0gYXR0cnMgYW4gYXJyYXkgb2YgbmV3IHN0YXRpYyBzdHlsaW5nIGF0dHJpYnV0ZXMgdGhhdCB3aWxsIGJlXG4gKiAgICAgICAgICAgICAgYXNzaWduZWQgdG8gdGhlIGNvbnRleHRcbiAqIEBwYXJhbSBkaXJlY3RpdmUgdGhlIGRpcmVjdGl2ZSBpbnN0YW5jZSB3aXRoIHdoaWNoIHN0YXRpYyBkYXRhIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAqL1xuZnVuY3Rpb24gcGF0Y2hDb250ZXh0V2l0aFN0YXRpY0F0dHJzKGNvbnRleHQsIGF0dHJzLCBkaXJlY3RpdmUpIHtcbiAgICAvLyBJZiB0aGUgc3R5bGluZyBjb250ZXh0IGhhcyBhbHJlYWR5IGJlZW4gcGF0Y2hlZCB3aXRoIHRoZSBnaXZlbiBkaXJlY3RpdmUncyBiaW5kaW5ncyxcbiAgICAvLyB0aGVuIHRoZXJlIGlzIG5vIHBvaW50IGluIGRvaW5nIGl0IGFnYWluLiBUaGUgcmVhc29uIHdoeSB0aGlzIG1heSBoYXBwZW4gKHRoZSBkaXJlY3RpdmVcbiAgICAvLyBzdHlsaW5nIGJlaW5nIHBhdGNoZWQgdHdpY2UpIGlzIGJlY2F1c2UgdGhlIGBzdHlsaW5nQmluZGluZ2AgZnVuY3Rpb24gaXMgY2FsbGVkIGVhY2ggdGltZVxuICAgIC8vIGFuIGVsZW1lbnQgaXMgY3JlYXRlZCAoYm90aCB3aXRoaW4gYSB0ZW1wbGF0ZSBmdW5jdGlvbiBhbmQgd2l0aGluIGRpcmVjdGl2ZSBob3N0IGJpbmRpbmdzKS5cbiAgICB2YXIgZGlyZWN0aXZlcyA9IGNvbnRleHRbMSAvKiBEaXJlY3RpdmVSZWdpc3RyeVBvc2l0aW9uICovXTtcbiAgICBpZiAoZ2V0RGlyZWN0aXZlUmVnaXN0cnlWYWx1ZXNJbmRleE9mKGRpcmVjdGl2ZXMsIGRpcmVjdGl2ZSkgPT0gLTEpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIG5ldyBkaXJlY3RpdmUgd2hpY2ggd2UgaGF2ZSBub3Qgc2VlbiB5ZXQuXG4gICAgICAgIGRpcmVjdGl2ZXMucHVzaChkaXJlY3RpdmUsIC0xLCBmYWxzZSwgbnVsbCk7XG4gICAgICAgIHZhciBpbml0aWFsQ2xhc3NlcyA9IG51bGw7XG4gICAgICAgIHZhciBpbml0aWFsU3R5bGVzID0gbnVsbDtcbiAgICAgICAgdmFyIG1vZGUgPSAtMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0ciA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIG1vZGUgPSBhdHRyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PSAxIC8qIENsYXNzZXMgKi8pIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsQ2xhc3NlcyA9IGluaXRpYWxDbGFzc2VzIHx8IGNvbnRleHRbMyAvKiBJbml0aWFsQ2xhc3NWYWx1ZXNQb3NpdGlvbiAqL107XG4gICAgICAgICAgICAgICAgcGF0Y2hJbml0aWFsU3R5bGluZ1ZhbHVlKGluaXRpYWxDbGFzc2VzLCBhdHRyLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT0gMiAvKiBTdHlsZXMgKi8pIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsU3R5bGVzID0gaW5pdGlhbFN0eWxlcyB8fCBjb250ZXh0WzIgLyogSW5pdGlhbFN0eWxlVmFsdWVzUG9zaXRpb24gKi9dO1xuICAgICAgICAgICAgICAgIHBhdGNoSW5pdGlhbFN0eWxpbmdWYWx1ZShpbml0aWFsU3R5bGVzLCBhdHRyLCBhdHRyc1srK2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRGVzaWduZWQgdG8gYWRkIGEgc3R5bGUgb3IgY2xhc3MgdmFsdWUgaW50byB0aGUgZXhpc3Rpbmcgc2V0IG9mIGluaXRpYWwgc3R5bGVzLlxuICpcbiAqIFRoZSBmdW5jdGlvbiB3aWxsIHNlYXJjaCBhbmQgZmlndXJlIG91dCBpZiBhIHN0eWxlL2NsYXNzIHZhbHVlIGlzIGFscmVhZHkgcHJlc2VudFxuICogd2l0aGluIHRoZSBwcm92aWRlZCBpbml0aWFsIHN0eWxpbmcgYXJyYXkuIElmIGFuZCB3aGVuIGEgc3R5bGUvY2xhc3MgdmFsdWUgaXMgbm90XG4gKiBwcmVzZW50IChvciBpZiBpdCdzIHZhbHVlIGlzIGZhbHN5KSB0aGVuIGl0IHdpbGwgYmUgaW5zZXJ0ZWQvdXBkYXRlZCBpbiB0aGUgbGlzdFxuICogb2YgaW5pdGlhbCBzdHlsaW5nIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gcGF0Y2hJbml0aWFsU3R5bGluZ1ZhbHVlKGluaXRpYWxTdHlsaW5nLCBwcm9wLCB2YWx1ZSkge1xuICAgIC8vIEV2ZW4gdmFsdWVzIGFyZSBrZXlzOyBPZGQgbnVtYmVycyBhcmUgdmFsdWVzOyBTZWFyY2gga2V5cyBvbmx5XG4gICAgZm9yICh2YXIgaSA9IDEgLyogS2V5VmFsdWVTdGFydFBvc2l0aW9uICovOyBpIDwgaW5pdGlhbFN0eWxpbmcubGVuZ3RoOykge1xuICAgICAgICB2YXIga2V5ID0gaW5pdGlhbFN0eWxpbmdbaV07XG4gICAgICAgIGlmIChrZXkgPT09IHByb3ApIHtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ1ZhbHVlID0gaW5pdGlhbFN0eWxpbmdbaSArIDEgLyogVmFsdWVPZmZzZXQgKi9dO1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgc3R5bGUgdmFsdWUgKHdoZW4gYG51bGxgKSBvciBubyBwcmV2aW91cyBjbGFzc1xuICAgICAgICAgICAgLy8gYXBwbGllZCAod2hlbiBgZmFsc2VgKSB0aGVuIHdlIHVwZGF0ZSB0aGUgdGhlIG5ld2x5IGdpdmVuIHZhbHVlLlxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVmFsdWUgPT0gbnVsbCB8fCBleGlzdGluZ1ZhbHVlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbFN0eWxpbmdbaSArIDEgLyogVmFsdWVPZmZzZXQgKi9dID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaSA9IGkgKyAyIC8qIFNpemUgKi87XG4gICAgfVxuICAgIC8vIFdlIGRpZCBub3QgZmluZCBleGlzdGluZyBrZXksIGFkZCBhIG5ldyBvbmUuXG4gICAgaW5pdGlhbFN0eWxpbmcucHVzaChwcm9wLCB2YWx1ZSk7XG59XG4vKipcbiAqIFJ1bnMgdGhyb3VnaCB0aGUgaW5pdGlhbCBzdHlsaW5nIGRhdGEgcHJlc2VudCBpbiB0aGUgY29udGV4dCBhbmQgcmVuZGVyc1xuICogdGhlbSB2aWEgdGhlIHJlbmRlcmVyIG9uIHRoZSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiByZW5kZXJJbml0aWFsU3R5bGVzQW5kQ2xhc3NlcyhlbGVtZW50LCBjb250ZXh0LCByZW5kZXJlcikge1xuICAgIHZhciBpbml0aWFsQ2xhc3NlcyA9IGNvbnRleHRbMyAvKiBJbml0aWFsQ2xhc3NWYWx1ZXNQb3NpdGlvbiAqL107XG4gICAgcmVuZGVySW5pdGlhbFN0eWxpbmdWYWx1ZXMoZWxlbWVudCwgcmVuZGVyZXIsIGluaXRpYWxDbGFzc2VzLCB0cnVlKTtcbiAgICB2YXIgaW5pdGlhbFN0eWxlcyA9IGNvbnRleHRbMiAvKiBJbml0aWFsU3R5bGVWYWx1ZXNQb3NpdGlvbiAqL107XG4gICAgcmVuZGVySW5pdGlhbFN0eWxpbmdWYWx1ZXMoZWxlbWVudCwgcmVuZGVyZXIsIGluaXRpYWxTdHlsZXMsIGZhbHNlKTtcbn1cbi8qKlxuICogVGhpcyBpcyBhIGhlbHBlciBmdW5jdGlvbiBkZXNpZ25lZCB0byByZW5kZXIgZWFjaCBlbnRyeSBwcmVzZW50IHdpdGhpbiB0aGVcbiAqIHByb3ZpZGVkIGxpc3Qgb2YgaW5pdGlhbFN0eWxpbmdWYWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckluaXRpYWxTdHlsaW5nVmFsdWVzKGVsZW1lbnQsIHJlbmRlcmVyLCBpbml0aWFsU3R5bGluZ1ZhbHVlcywgaXNFbnRyeUNsYXNzQmFzZWQpIHtcbiAgICBmb3IgKHZhciBpID0gMSAvKiBLZXlWYWx1ZVN0YXJ0UG9zaXRpb24gKi87IGkgPCBpbml0aWFsU3R5bGluZ1ZhbHVlcy5sZW5ndGg7IGkgKz0gMiAvKiBTaXplICovKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGluaXRpYWxTdHlsaW5nVmFsdWVzW2kgKyAxIC8qIFZhbHVlT2Zmc2V0ICovXTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoaXNFbnRyeUNsYXNzQmFzZWQpIHtcbiAgICAgICAgICAgICAgICBzZXRDbGFzcyhlbGVtZW50LCBpbml0aWFsU3R5bGluZ1ZhbHVlc1tpICsgMCAvKiBQcm9wT2Zmc2V0ICovXSwgdHJ1ZSwgcmVuZGVyZXIsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0U3R5bGUoZWxlbWVudCwgaW5pdGlhbFN0eWxpbmdWYWx1ZXNbaSArIDAgLyogUHJvcE9mZnNldCAqL10sIHZhbHVlLCByZW5kZXJlciwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEFkZHMgaW4gbmV3IGJpbmRpbmcgdmFsdWVzIHRvIGEgc3R5bGluZyBjb250ZXh0LlxuICpcbiAqIElmIGEgZGlyZWN0aXZlIHZhbHVlIGlzIHByb3ZpZGVkIHRoZW4gYWxsIHByb3ZpZGVkIGNsYXNzL3N0eWxlIGJpbmRpbmcgbmFtZXMgd2lsbFxuICogcmVmZXJlbmNlIHRoZSBwcm92aWRlZCBkaXJlY3RpdmUuXG4gKlxuICogQHBhcmFtIGNvbnRleHQgdGhlIGV4aXN0aW5nIHN0eWxpbmcgY29udGV4dFxuICogQHBhcmFtIGRpcmVjdGl2ZVJlZiB0aGUgZGlyZWN0aXZlIHRoYXQgdGhlIG5ldyBiaW5kaW5ncyB3aWxsIHJlZmVyZW5jZVxuICogQHBhcmFtIGNsYXNzQmluZGluZ05hbWVzIGFuIGFycmF5IG9mIGNsYXNzIGJpbmRpbmcgbmFtZXMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0gc3R5bGVCaW5kaW5nTmFtZXMgYW4gYXJyYXkgb2Ygc3R5bGUgYmluZGluZyBuYW1lcyB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNvbnRleHRcbiAqIEBwYXJhbSBzdHlsZVNhbml0aXplciBhbiBvcHRpb25hbCBzYW5pdGl6ZXIgdGhhdCBoYW5kbGUgYWxsIHNhbml0aXphdGlvbiBvbiBmb3IgZWFjaCBvZlxuICogICAgdGhlIGJpbmRpbmdzIGFkZGVkIHRvIHRoZSBjb250ZXh0LiBOb3RlIHRoYXQgaWYgYSBkaXJlY3RpdmUgaXMgcHJvdmlkZWQgdGhlbiB0aGUgc2FuaXRpemVyXG4gKiAgICBpbnN0YW5jZSB3aWxsIG9ubHkgYmUgYWN0aXZlIGlmIGFuZCB3aGVuIHRoZSBkaXJlY3RpdmUgdXBkYXRlcyB0aGUgYmluZGluZ3MgdGhhdCBpdCBvd25zLlxuICovXG5mdW5jdGlvbiB1cGRhdGVDb250ZXh0V2l0aEJpbmRpbmdzKGNvbnRleHQsIGRpcmVjdGl2ZVJlZiwgY2xhc3NCaW5kaW5nTmFtZXMsIHN0eWxlQmluZGluZ05hbWVzLCBzdHlsZVNhbml0aXplciwgb25seVByb2Nlc3NTaW5nbGVDbGFzc2VzKSB7XG4gICAgaWYgKGNvbnRleHRbMCAvKiBNYXN0ZXJGbGFnUG9zaXRpb24gKi9dICYgMzIgLyogQmluZGluZ0FsbG9jYXRpb25Mb2NrZWQgKi8pXG4gICAgICAgIHJldHVybjtcbiAgICAvLyB0aGlzIG1lYW5zIHRoZSBjb250ZXh0IGhhcyBhbHJlYWR5IGJlZW4gcGF0Y2hlZCB3aXRoIHRoZSBkaXJlY3RpdmUncyBiaW5kaW5nc1xuICAgIHZhciBkaXJlY3RpdmVJbmRleCA9IGZpbmRPclBhdGNoRGlyZWN0aXZlSW50b1JlZ2lzdHJ5KGNvbnRleHQsIGRpcmVjdGl2ZVJlZiwgc3R5bGVTYW5pdGl6ZXIpO1xuICAgIGlmIChkaXJlY3RpdmVJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGUgZGlyZWN0aXZlIGhhcyBhbHJlYWR5IGJlZW4gcGF0Y2hlZCBpbiAuLi4gTm8gcG9pbnQgaW4gZG9pbmcgYW55dGhpbmdcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyB0aGVyZSBhcmUgYWxvdCBvZiB2YXJpYWJsZXMgYmVpbmcgdXNlZCBiZWxvdyB0byB0cmFjayB3aGVyZSBpbiB0aGUgY29udGV4dCB0aGUgbmV3XG4gICAgLy8gYmluZGluZyB2YWx1ZXMgd2lsbCBiZSBwbGFjZWQuIEJlY2F1c2UgdGhlIGNvbnRleHQgY29uc2lzdHMgb2YgbXVsdGlwbGUgdHlwZXMgb2ZcbiAgICAvLyBlbnRyaWVzIChzaW5nbGUgY2xhc3Nlcy9zdHlsZXMgYW5kIG11bHRpIGNsYXNzZXMvc3R5bGVzKSBhbG90IG9mIHRoZSBpbmRleCBwb3NpdGlvbnNcbiAgICAvLyBuZWVkIHRvIGJlIGNvbXB1dGVkIGFoZWFkIG9mIHRpbWUgYW5kIHRoZSBjb250ZXh0IG5lZWRzIHRvIGJlIGV4dGVuZGVkIGJlZm9yZSB0aGUgdmFsdWVzXG4gICAgLy8gYXJlIGluc2VydGVkIGluLlxuICAgIHZhciBzaW5nbGVQcm9wT2Zmc2V0VmFsdWVzID0gY29udGV4dFs0IC8qIFNpbmdsZVByb3BPZmZzZXRQb3NpdGlvbnMgKi9dO1xuICAgIHZhciB0b3RhbEN1cnJlbnRDbGFzc0JpbmRpbmdzID0gc2luZ2xlUHJvcE9mZnNldFZhbHVlc1sxIC8qIENsYXNzZXNDb3VudFBvc2l0aW9uICovXTtcbiAgICB2YXIgdG90YWxDdXJyZW50U3R5bGVCaW5kaW5ncyA9IHNpbmdsZVByb3BPZmZzZXRWYWx1ZXNbMCAvKiBTdHlsZXNDb3VudFBvc2l0aW9uICovXTtcbiAgICB2YXIgY2xhc3Nlc09mZnNldCA9IHRvdGFsQ3VycmVudENsYXNzQmluZGluZ3MgKiA0IC8qIFNpemUgKi87XG4gICAgdmFyIHN0eWxlc09mZnNldCA9IHRvdGFsQ3VycmVudFN0eWxlQmluZGluZ3MgKiA0IC8qIFNpemUgKi87XG4gICAgdmFyIHNpbmdsZVN0eWxlc1N0YXJ0SW5kZXggPSA5IC8qIFNpbmdsZVN0eWxlc1N0YXJ0UG9zaXRpb24gKi87XG4gICAgdmFyIHNpbmdsZUNsYXNzZXNTdGFydEluZGV4ID0gc2luZ2xlU3R5bGVzU3RhcnRJbmRleCArIHN0eWxlc09mZnNldDtcbiAgICB2YXIgbXVsdGlTdHlsZXNTdGFydEluZGV4ID0gc2luZ2xlQ2xhc3Nlc1N0YXJ0SW5kZXggKyBjbGFzc2VzT2Zmc2V0O1xuICAgIHZhciBtdWx0aUNsYXNzZXNTdGFydEluZGV4ID0gbXVsdGlTdHlsZXNTdGFydEluZGV4ICsgc3R5bGVzT2Zmc2V0O1xuICAgIC8vIGJlY2F1c2Ugd2UncmUgaW5zZXJ0aW5nIG1vcmUgYmluZGluZ3MgaW50byB0aGUgY29udGV4dCwgdGhpcyBtZWFucyB0aGF0IHRoZVxuICAgIC8vIGJpbmRpbmcgdmFsdWVzIG5lZWQgdG8gYmUgcmVmZXJlbmNlZCB0aGUgc2luZ2xlUHJvcE9mZnNldFZhbHVlcyBhcnJheSBzbyB0aGF0XG4gICAgLy8gdGhlIHRlbXBsYXRlL2RpcmVjdGl2ZSBjYW4gZWFzaWx5IGZpbmQgdGhlbSBpbnNpZGUgb2YgdGhlIGBlbGVtZW50U3R5bGVQcm9wYFxuICAgIC8vIGFuZCB0aGUgYGVsZW1lbnRDbGFzc1Byb3BgIGZ1bmN0aW9ucyB3aXRob3V0IGl0ZXJhdGluZyB0aHJvdWdoIHRoZSBlbnRpcmUgY29udGV4dC5cbiAgICAvLyBUaGUgZmlyc3Qgc3RlcCB0byBzZXR0aW5nIHVwIHRoZXNlIHJlZmVyZW5jZSBwb2ludHMgaXMgdG8gbWFyayBob3cgbWFueSBiaW5kaW5nc1xuICAgIC8vIGFyZSBiZWluZyBhZGRlZC4gRXZlbiBpZiB0aGVzZSBiaW5kaW5ncyBhbHJlYWR5IGV4aXN0IGluIHRoZSBjb250ZXh0LCB0aGUgZGlyZWN0aXZlXG4gICAgLy8gb3IgdGVtcGxhdGUgY29kZSB3aWxsIHN0aWxsIGNhbGwgdGhlbSB1bmtub3dpbmdseS4gVGhlcmVmb3JlIHRoZSB0b3RhbCB2YWx1ZXMgbmVlZFxuICAgIC8vIHRvIGJlIHJlZ2lzdGVyZWQgc28gdGhhdCB3ZSBrbm93IGhvdyBtYW55IGJpbmRpbmdzIGFyZSBhc3NpZ25lZCB0byBlYWNoIGRpcmVjdGl2ZS5cbiAgICB2YXIgY3VycmVudFNpbmdsZVByb3BzTGVuZ3RoID0gc2luZ2xlUHJvcE9mZnNldFZhbHVlcy5sZW5ndGg7XG4gICAgc2luZ2xlUHJvcE9mZnNldFZhbHVlcy5wdXNoKHN0eWxlQmluZGluZ05hbWVzID8gc3R5bGVCaW5kaW5nTmFtZXMubGVuZ3RoIDogMCwgY2xhc3NCaW5kaW5nTmFtZXMgPyBjbGFzc0JpbmRpbmdOYW1lcy5sZW5ndGggOiAwKTtcbiAgICAvLyB0aGUgY29kZSBiZWxvdyB3aWxsIGNoZWNrIHRvIHNlZSBpZiBhIG5ldyBzdHlsZSBiaW5kaW5nIGFscmVhZHkgZXhpc3RzIGluIHRoZSBjb250ZXh0XG4gICAgLy8gaWYgc28gdGhlbiB0aGVyZSBpcyBubyBwb2ludCBpbiBpbnNlcnRpbmcgaXQgaW50byB0aGUgY29udGV4dCBhZ2Fpbi4gV2hldGhlciBvciBub3QgaXRcbiAgICAvLyBleGlzdHMgdGhlIHN0eWxpbmcgb2Zmc2V0IGNvZGUgd2lsbCBub3cga25vdyBleGFjdGx5IHdoZXJlIGl0IGlzXG4gICAgdmFyIGluc2VydGlvbk9mZnNldCA9IDA7XG4gICAgdmFyIGZpbHRlcmVkU3R5bGVCaW5kaW5nTmFtZXMgPSBbXTtcbiAgICBpZiAoc3R5bGVCaW5kaW5nTmFtZXMgJiYgc3R5bGVCaW5kaW5nTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IHN0eWxlQmluZGluZ05hbWVzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgIHZhciBuYW1lXzEgPSBzdHlsZUJpbmRpbmdOYW1lc1tpXzFdO1xuICAgICAgICAgICAgdmFyIHNpbmdsZVByb3BJbmRleCA9IGdldE1hdGNoaW5nQmluZGluZ0luZGV4KGNvbnRleHQsIG5hbWVfMSwgc2luZ2xlU3R5bGVzU3RhcnRJbmRleCwgc2luZ2xlQ2xhc3Nlc1N0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgaWYgKHNpbmdsZVByb3BJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHNpbmdsZVByb3BJbmRleCA9IHNpbmdsZUNsYXNzZXNTdGFydEluZGV4ICsgaW5zZXJ0aW9uT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGluc2VydGlvbk9mZnNldCArPSA0IC8qIFNpemUgKi87XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTdHlsZUJpbmRpbmdOYW1lcy5wdXNoKG5hbWVfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaW5nbGVQcm9wT2Zmc2V0VmFsdWVzLnB1c2goc2luZ2xlUHJvcEluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBqdXN0IGxpa2Ugd2l0aCB0aGUgc3R5bGUgYmluZGluZyBsb29wIGFib3ZlLCB0aGUgbmV3IGNsYXNzIGJpbmRpbmdzIGdldCB0aGUgc2FtZSB0cmVhdG1lbnQuLi5cbiAgICB2YXIgZmlsdGVyZWRDbGFzc0JpbmRpbmdOYW1lcyA9IFtdO1xuICAgIGlmIChjbGFzc0JpbmRpbmdOYW1lcyAmJiBjbGFzc0JpbmRpbmdOYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaV8yID0gMDsgaV8yIDwgY2xhc3NCaW5kaW5nTmFtZXMubGVuZ3RoOyBpXzIrKykge1xuICAgICAgICAgICAgdmFyIG5hbWVfMiA9IGNsYXNzQmluZGluZ05hbWVzW2lfMl07XG4gICAgICAgICAgICB2YXIgc2luZ2xlUHJvcEluZGV4ID0gZ2V0TWF0Y2hpbmdCaW5kaW5nSW5kZXgoY29udGV4dCwgbmFtZV8yLCBzaW5nbGVDbGFzc2VzU3RhcnRJbmRleCwgbXVsdGlTdHlsZXNTdGFydEluZGV4KTtcbiAgICAgICAgICAgIGlmIChzaW5nbGVQcm9wSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzaW5nbGVQcm9wSW5kZXggPSBtdWx0aVN0eWxlc1N0YXJ0SW5kZXggKyBpbnNlcnRpb25PZmZzZXQ7XG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uT2Zmc2V0ICs9IDQgLyogU2l6ZSAqLztcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZENsYXNzQmluZGluZ05hbWVzLnB1c2gobmFtZV8yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNpbmdsZVByb3BJbmRleCArPSBmaWx0ZXJlZFN0eWxlQmluZGluZ05hbWVzLmxlbmd0aCAqIDQgLyogU2l6ZSAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNpbmdsZVByb3BPZmZzZXRWYWx1ZXMucHVzaChzaW5nbGVQcm9wSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGJlY2F1c2UgbmV3IHN0eWxlcyBhcmUgYmVpbmcgaW5zZXJ0ZWQsIHRoaXMgbWVhbnMgdGhlIGV4aXN0aW5nIGNvbGxlY3Rpb24gb2Ygc3R5bGUgb2Zmc2V0XG4gICAgLy8gaW5kZXggdmFsdWVzIGFyZSBpbmNvcnJlY3QgKHRoZXkgcG9pbnQgdG8gdGhlIHdyb25nIHZhbHVlcykuIFRoZSBjb2RlIGJlbG93IHdpbGwgcnVuIHRocm91Z2hcbiAgICAvLyB0aGUgZW50aXJlIG9mZnNldCBhcnJheSBhbmQgdXBkYXRlIHRoZSBleGlzdGluZyBzZXQgb2YgaW5kZXggdmFsdWVzIHRvIHBvaW50IHRvIHRoZWlyIG5ld1xuICAgIC8vIGxvY2F0aW9ucyB3aGlsZSB0YWtpbmcgdGhlIG5ldyBiaW5kaW5nIHZhbHVlcyBpbnRvIGNvbnNpZGVyYXRpb24uXG4gICAgdmFyIGkgPSAyIC8qIFZhbHVlU3RhcnRQb3NpdGlvbiAqLztcbiAgICBpZiAoZmlsdGVyZWRTdHlsZUJpbmRpbmdOYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgd2hpbGUgKGkgPCBjdXJyZW50U2luZ2xlUHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciB0b3RhbFN0eWxlcyA9IHNpbmdsZVByb3BPZmZzZXRWYWx1ZXNbaSArIDAgLyogU3R5bGVzQ291bnRQb3NpdGlvbiAqL107XG4gICAgICAgICAgICB2YXIgdG90YWxDbGFzc2VzID0gc2luZ2xlUHJvcE9mZnNldFZhbHVlc1tpICsgMSAvKiBDbGFzc2VzQ291bnRQb3NpdGlvbiAqL107XG4gICAgICAgICAgICBpZiAodG90YWxDbGFzc2VzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaSArIDIgLyogVmFsdWVTdGFydFBvc2l0aW9uICovICsgdG90YWxTdHlsZXM7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0OyBqIDwgc3RhcnQgKyB0b3RhbENsYXNzZXM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBzaW5nbGVQcm9wT2Zmc2V0VmFsdWVzW2pdICs9IGZpbHRlcmVkU3R5bGVCaW5kaW5nTmFtZXMubGVuZ3RoICogNCAvKiBTaXplICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHRvdGFsU3R5bGVzICsgdG90YWxDbGFzc2VzO1xuICAgICAgICAgICAgaSArPSAyIC8qIFZhbHVlU3RhcnRQb3NpdGlvbiAqLyArIHRvdGFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB0b3RhbE5ld0VudHJpZXMgPSBmaWx0ZXJlZENsYXNzQmluZGluZ05hbWVzLmxlbmd0aCArIGZpbHRlcmVkU3R5bGVCaW5kaW5nTmFtZXMubGVuZ3RoO1xuICAgIC8vIGluIHRoZSBldmVudCB0aGF0IHRoZXJlIGFyZSBuZXcgc3R5bGUgdmFsdWVzIGJlaW5nIGluc2VydGVkLCBhbGwgZXhpc3RpbmcgY2xhc3MgYW5kIHN0eWxlXG4gICAgLy8gYmluZGluZ3MgbmVlZCB0byBoYXZlIHRoZWlyIHBvaW50ZXIgdmFsdWVzIG9mZnNldHRlZCB3aXRoIHRoZSBuZXcgYW1vdW50IG9mIHNwYWNlIHRoYXQgaXNcbiAgICAvLyB1c2VkIGZvciB0aGUgbmV3IHN0eWxlL2NsYXNzIGJpbmRpbmdzLlxuICAgIGZvciAodmFyIGlfMyA9IHNpbmdsZVN0eWxlc1N0YXJ0SW5kZXg7IGlfMyA8IGNvbnRleHQubGVuZ3RoOyBpXzMgKz0gNCAvKiBTaXplICovKSB7XG4gICAgICAgIHZhciBpc011bHRpQmFzZWQgPSBpXzMgPj0gbXVsdGlTdHlsZXNTdGFydEluZGV4O1xuICAgICAgICB2YXIgaXNDbGFzc0Jhc2VkID0gaV8zID49IChpc011bHRpQmFzZWQgPyBtdWx0aUNsYXNzZXNTdGFydEluZGV4IDogc2luZ2xlQ2xhc3Nlc1N0YXJ0SW5kZXgpO1xuICAgICAgICB2YXIgZmxhZyA9IGdldFBvaW50ZXJzKGNvbnRleHQsIGlfMyk7XG4gICAgICAgIHZhciBzdGF0aWNJbmRleCA9IGdldEluaXRpYWxJbmRleChmbGFnKTtcbiAgICAgICAgdmFyIHNpbmdsZU9yTXVsdGlJbmRleCA9IGdldE11bHRpT3JTaW5nbGVJbmRleChmbGFnKTtcbiAgICAgICAgaWYgKGlzTXVsdGlCYXNlZCkge1xuICAgICAgICAgICAgc2luZ2xlT3JNdWx0aUluZGV4ICs9XG4gICAgICAgICAgICAgICAgaXNDbGFzc0Jhc2VkID8gKGZpbHRlcmVkU3R5bGVCaW5kaW5nTmFtZXMubGVuZ3RoICogNCAvKiBTaXplICovKSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5nbGVPck11bHRpSW5kZXggKz0gKHRvdGFsTmV3RW50cmllcyAqIDQgLyogU2l6ZSAqLykgK1xuICAgICAgICAgICAgICAgICgoaXNDbGFzc0Jhc2VkID8gZmlsdGVyZWRTdHlsZUJpbmRpbmdOYW1lcy5sZW5ndGggOiAwKSAqIDQgLyogU2l6ZSAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmxhZyhjb250ZXh0LCBpXzMsIHBvaW50ZXJzKGZsYWcsIHN0YXRpY0luZGV4LCBzaW5nbGVPck11bHRpSW5kZXgpKTtcbiAgICB9XG4gICAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBtYWtlIHNwYWNlIGluIHRoZSBjb250ZXh0IGZvciB0aGUgbmV3IHN0eWxlIGJpbmRpbmdzXG4gICAgZm9yICh2YXIgaV80ID0gMDsgaV80IDwgZmlsdGVyZWRTdHlsZUJpbmRpbmdOYW1lcy5sZW5ndGggKiA0IC8qIFNpemUgKi87IGlfNCsrKSB7XG4gICAgICAgIGNvbnRleHQuc3BsaWNlKG11bHRpQ2xhc3Nlc1N0YXJ0SW5kZXgsIDAsIG51bGwpO1xuICAgICAgICBjb250ZXh0LnNwbGljZShzaW5nbGVDbGFzc2VzU3RhcnRJbmRleCwgMCwgbnVsbCk7XG4gICAgICAgIHNpbmdsZUNsYXNzZXNTdGFydEluZGV4Kys7XG4gICAgICAgIG11bHRpU3R5bGVzU3RhcnRJbmRleCsrO1xuICAgICAgICBtdWx0aUNsYXNzZXNTdGFydEluZGV4ICs9IDI7IC8vIGJvdGggc2luZ2xlICsgbXVsdGkgc2xvdHMgd2VyZSBpbnNlcnRlZFxuICAgIH1cbiAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIG1ha2Ugc3BhY2UgaW4gdGhlIGNvbnRleHQgZm9yIHRoZSBuZXcgY2xhc3MgYmluZGluZ3NcbiAgICBmb3IgKHZhciBpXzUgPSAwOyBpXzUgPCBmaWx0ZXJlZENsYXNzQmluZGluZ05hbWVzLmxlbmd0aCAqIDQgLyogU2l6ZSAqLzsgaV81KyspIHtcbiAgICAgICAgY29udGV4dC5zcGxpY2UobXVsdGlTdHlsZXNTdGFydEluZGV4LCAwLCBudWxsKTtcbiAgICAgICAgY29udGV4dC5wdXNoKG51bGwpO1xuICAgICAgICBtdWx0aVN0eWxlc1N0YXJ0SW5kZXgrKztcbiAgICAgICAgbXVsdGlDbGFzc2VzU3RhcnRJbmRleCsrO1xuICAgIH1cbiAgICB2YXIgaW5pdGlhbENsYXNzZXMgPSBjb250ZXh0WzMgLyogSW5pdGlhbENsYXNzVmFsdWVzUG9zaXRpb24gKi9dO1xuICAgIHZhciBpbml0aWFsU3R5bGVzID0gY29udGV4dFsyIC8qIEluaXRpYWxTdHlsZVZhbHVlc1Bvc2l0aW9uICovXTtcbiAgICAvLyB0aGUgY29kZSBiZWxvdyB3aWxsIGluc2VydCBlYWNoIG5ldyBlbnRyeSBpbnRvIHRoZSBjb250ZXh0IGFuZCBhc3NpZ24gdGhlIGFwcHJvcHJpYXRlXG4gICAgLy8gZmxhZ3MgYW5kIGluZGV4IHZhbHVlcyB0byB0aGVtLiBJdCdzIGltcG9ydGFudCB0aGlzIHJ1bnMgYXQgdGhlIGVuZCBvZiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gYmVjYXVzZSB0aGUgY29udGV4dCwgcHJvcGVydHkgb2Zmc2V0IGFuZCBpbmRleCB2YWx1ZXMgaGF2ZSBhbGwgYmVlbiBjb21wdXRlZCBqdXN0IGJlZm9yZS5cbiAgICBmb3IgKHZhciBpXzYgPSAwOyBpXzYgPCB0b3RhbE5ld0VudHJpZXM7IGlfNisrKSB7XG4gICAgICAgIHZhciBlbnRyeUlzQ2xhc3NCYXNlZCA9IGlfNiA+PSBmaWx0ZXJlZFN0eWxlQmluZGluZ05hbWVzLmxlbmd0aDtcbiAgICAgICAgdmFyIGFkanVzdGVkSW5kZXggPSBlbnRyeUlzQ2xhc3NCYXNlZCA/IChpXzYgLSBmaWx0ZXJlZFN0eWxlQmluZGluZ05hbWVzLmxlbmd0aCkgOiBpXzY7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IGVudHJ5SXNDbGFzc0Jhc2VkID8gZmlsdGVyZWRDbGFzc0JpbmRpbmdOYW1lc1thZGp1c3RlZEluZGV4XSA6XG4gICAgICAgICAgICBmaWx0ZXJlZFN0eWxlQmluZGluZ05hbWVzW2FkanVzdGVkSW5kZXhdO1xuICAgICAgICB2YXIgbXVsdGlJbmRleCA9IHZvaWQgMCwgc2luZ2xlSW5kZXggPSB2b2lkIDA7XG4gICAgICAgIGlmIChlbnRyeUlzQ2xhc3NCYXNlZCkge1xuICAgICAgICAgICAgbXVsdGlJbmRleCA9IG11bHRpQ2xhc3Nlc1N0YXJ0SW5kZXggK1xuICAgICAgICAgICAgICAgICgodG90YWxDdXJyZW50Q2xhc3NCaW5kaW5ncyArIGFkanVzdGVkSW5kZXgpICogNCAvKiBTaXplICovKTtcbiAgICAgICAgICAgIHNpbmdsZUluZGV4ID0gc2luZ2xlQ2xhc3Nlc1N0YXJ0SW5kZXggK1xuICAgICAgICAgICAgICAgICgodG90YWxDdXJyZW50Q2xhc3NCaW5kaW5ncyArIGFkanVzdGVkSW5kZXgpICogNCAvKiBTaXplICovKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG11bHRpSW5kZXggPVxuICAgICAgICAgICAgICAgIG11bHRpU3R5bGVzU3RhcnRJbmRleCArICgodG90YWxDdXJyZW50U3R5bGVCaW5kaW5ncyArIGFkanVzdGVkSW5kZXgpICogNCAvKiBTaXplICovKTtcbiAgICAgICAgICAgIHNpbmdsZUluZGV4ID0gc2luZ2xlU3R5bGVzU3RhcnRJbmRleCArXG4gICAgICAgICAgICAgICAgKCh0b3RhbEN1cnJlbnRTdHlsZUJpbmRpbmdzICsgYWRqdXN0ZWRJbmRleCkgKiA0IC8qIFNpemUgKi8pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIGEgcHJvcGVydHkgaXMgbm90IGZvdW5kIGluIHRoZSBpbml0aWFsIHN0eWxlIHZhbHVlcyBsaXN0IHRoZW4gaXRcbiAgICAgICAgLy8gaXMgQUxXQVlTIGFkZGVkIGluY2FzZSBhIGZvbGxvdy11cCBkaXJlY3RpdmUgaW50cm9kdWNlcyB0aGUgc2FtZSBpbml0aWFsXG4gICAgICAgIC8vIHN0eWxlL2NsYXNzIHZhbHVlIGxhdGVyIG9uLlxuICAgICAgICB2YXIgaW5pdGlhbFZhbHVlc1RvTG9va3VwID0gZW50cnlJc0NsYXNzQmFzZWQgPyBpbml0aWFsQ2xhc3NlcyA6IGluaXRpYWxTdHlsZXM7XG4gICAgICAgIHZhciBpbmRleEZvckluaXRpYWwgPSBnZXRJbml0aWFsU3R5bGluZ1ZhbHVlc0luZGV4T2YoaW5pdGlhbFZhbHVlc1RvTG9va3VwLCBwcm9wTmFtZSk7XG4gICAgICAgIGlmIChpbmRleEZvckluaXRpYWwgPT09IC0xKSB7XG4gICAgICAgICAgICBpbmRleEZvckluaXRpYWwgPSBpbml0aWFsVmFsdWVzVG9Mb29rdXAubGVuZ3RoICsgMSAvKiBWYWx1ZU9mZnNldCAqLztcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZXNUb0xvb2t1cC5wdXNoKHByb3BOYW1lLCBlbnRyeUlzQ2xhc3NCYXNlZCA/IGZhbHNlIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbmRleEZvckluaXRpYWwgKz0gMSAvKiBWYWx1ZU9mZnNldCAqLztcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5pdGlhbEZsYWcgPSBwcmVwYXJlSW5pdGlhbEZsYWcoY29udGV4dCwgcHJvcE5hbWUsIGVudHJ5SXNDbGFzc0Jhc2VkLCBzdHlsZVNhbml0aXplciB8fCBudWxsKTtcbiAgICAgICAgc2V0RmxhZyhjb250ZXh0LCBzaW5nbGVJbmRleCwgcG9pbnRlcnMoaW5pdGlhbEZsYWcsIGluZGV4Rm9ySW5pdGlhbCwgbXVsdGlJbmRleCkpO1xuICAgICAgICBzZXRQcm9wKGNvbnRleHQsIHNpbmdsZUluZGV4LCBwcm9wTmFtZSk7XG4gICAgICAgIHNldFZhbHVlKGNvbnRleHQsIHNpbmdsZUluZGV4LCBudWxsKTtcbiAgICAgICAgc2V0UGxheWVyQnVpbGRlckluZGV4KGNvbnRleHQsIHNpbmdsZUluZGV4LCAwLCBkaXJlY3RpdmVJbmRleCk7XG4gICAgICAgIHNldEZsYWcoY29udGV4dCwgbXVsdGlJbmRleCwgcG9pbnRlcnMoaW5pdGlhbEZsYWcsIGluZGV4Rm9ySW5pdGlhbCwgc2luZ2xlSW5kZXgpKTtcbiAgICAgICAgc2V0UHJvcChjb250ZXh0LCBtdWx0aUluZGV4LCBwcm9wTmFtZSk7XG4gICAgICAgIHNldFZhbHVlKGNvbnRleHQsIG11bHRpSW5kZXgsIG51bGwpO1xuICAgICAgICBzZXRQbGF5ZXJCdWlsZGVySW5kZXgoY29udGV4dCwgbXVsdGlJbmRleCwgMCwgZGlyZWN0aXZlSW5kZXgpO1xuICAgIH1cbiAgICAvLyB0aGUgdG90YWwgY2xhc3Nlcy9zdHlsZSB2YWx1ZXMgYXJlIHVwZGF0ZWQgc28gdGhlIG5leHQgdGltZSB0aGUgY29udGV4dCBpcyBwYXRjaGVkXG4gICAgLy8gYWRkaXRpb25hbCBzdHlsZS9jbGFzcyBiaW5kaW5ncyBmcm9tIGFub3RoZXIgZGlyZWN0aXZlIHRoZW4gaXQga25vd3MgZXhhY3RseSB3aGVyZVxuICAgIC8vIHRvIGluc2VydCB0aGVtIGluIHRoZSBjb250ZXh0XG4gICAgc2luZ2xlUHJvcE9mZnNldFZhbHVlc1sxIC8qIENsYXNzZXNDb3VudFBvc2l0aW9uICovXSA9XG4gICAgICAgIHRvdGFsQ3VycmVudENsYXNzQmluZGluZ3MgKyBmaWx0ZXJlZENsYXNzQmluZGluZ05hbWVzLmxlbmd0aDtcbiAgICBzaW5nbGVQcm9wT2Zmc2V0VmFsdWVzWzAgLyogU3R5bGVzQ291bnRQb3NpdGlvbiAqL10gPVxuICAgICAgICB0b3RhbEN1cnJlbnRTdHlsZUJpbmRpbmdzICsgZmlsdGVyZWRTdHlsZUJpbmRpbmdOYW1lcy5sZW5ndGg7XG4gICAgLy8gdGhlcmUgaXMgbm8gaW5pdGlhbCB2YWx1ZSBmbGFnIGZvciB0aGUgbWFzdGVyIGluZGV4IHNpbmNlIGl0IGRvZXNuJ3RcbiAgICAvLyByZWZlcmVuY2UgYW4gaW5pdGlhbCBzdHlsZSB2YWx1ZVxuICAgIHZhciBtYXN0ZXJGbGFnID0gcG9pbnRlcnMoMCwgMCwgbXVsdGlTdHlsZXNTdGFydEluZGV4KSB8XG4gICAgICAgIChvbmx5UHJvY2Vzc1NpbmdsZUNsYXNzZXMgPyAxNiAvKiBPbmx5UHJvY2Vzc1NpbmdsZUNsYXNzZXMgKi8gOiAwKTtcbiAgICBzZXRGbGFnKGNvbnRleHQsIDAgLyogTWFzdGVyRmxhZ1Bvc2l0aW9uICovLCBtYXN0ZXJGbGFnKTtcbn1cbi8qKlxuICogU2VhcmNoZXMgdGhyb3VnaCB0aGUgZXhpc3RpbmcgcmVnaXN0cnkgb2YgZGlyZWN0aXZlc1xuICovXG5mdW5jdGlvbiBmaW5kT3JQYXRjaERpcmVjdGl2ZUludG9SZWdpc3RyeShjb250ZXh0LCBkaXJlY3RpdmVSZWYsIHN0eWxlU2FuaXRpemVyKSB7XG4gICAgdmFyIGRpcmVjdGl2ZVJlZnMgPSBjb250ZXh0WzEgLyogRGlyZWN0aXZlUmVnaXN0cnlQb3NpdGlvbiAqL107XG4gICAgdmFyIG5leHRPZmZzZXRJbnNlcnRpb25JbmRleCA9IGNvbnRleHRbNCAvKiBTaW5nbGVQcm9wT2Zmc2V0UG9zaXRpb25zICovXS5sZW5ndGg7XG4gICAgdmFyIGRpcmVjdGl2ZUluZGV4O1xuICAgIHZhciBkZXRlY3RlZEluZGV4ID0gZ2V0RGlyZWN0aXZlUmVnaXN0cnlWYWx1ZXNJbmRleE9mKGRpcmVjdGl2ZVJlZnMsIGRpcmVjdGl2ZVJlZik7XG4gICAgaWYgKGRldGVjdGVkSW5kZXggPT09IC0xKSB7XG4gICAgICAgIGRpcmVjdGl2ZUluZGV4ID0gZGlyZWN0aXZlUmVmcy5sZW5ndGggLyA0IC8qIFNpemUgKi87XG4gICAgICAgIGRpcmVjdGl2ZVJlZnMucHVzaChkaXJlY3RpdmVSZWYsIG5leHRPZmZzZXRJbnNlcnRpb25JbmRleCwgZmFsc2UsIHN0eWxlU2FuaXRpemVyIHx8IG51bGwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHNpbmdsZVByb3BTdGFydFBvc2l0aW9uID0gZGV0ZWN0ZWRJbmRleCArIDEgLyogU2luZ2xlUHJvcFZhbHVlc0luZGV4T2Zmc2V0ICovO1xuICAgICAgICBpZiAoZGlyZWN0aXZlUmVmc1tzaW5nbGVQcm9wU3RhcnRQb3NpdGlvbl0gPj0gMCkge1xuICAgICAgICAgICAgLy8gdGhlIGRpcmVjdGl2ZSBoYXMgYWxyZWFkeSBiZWVuIHBhdGNoZWQgaW50byB0aGUgY29udGV4dFxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGRpcmVjdGl2ZUluZGV4ID0gZGV0ZWN0ZWRJbmRleCAvIDQgLyogU2l6ZSAqLztcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgZGlyZWN0aXZlIGFscmVhZHkgZXhpc3RlZCB0aGlzIG1lYW5zIHRoYXQgaXQgd2FzIHNldCBkdXJpbmcgZWxlbWVudEhvc3RBdHRycyBvclxuICAgICAgICAvLyBlbGVtZW50U3RhcnQgd2hpY2ggbWVhbnMgdGhhdCB0aGUgYmluZGluZyB2YWx1ZXMgd2VyZSBub3QgaGVyZS4gVGhlcmVmb3JlLCB0aGUgdmFsdWVzIGJlbG93XG4gICAgICAgIC8vIG5lZWQgdG8gYmUgYXBwbGllZCBzbyB0aGF0IHNpbmdsZSBjbGFzcyBhbmQgc3R5bGUgcHJvcGVydGllcyBjYW4gYmUgYXNzaWduZWQgbGF0ZXIuXG4gICAgICAgIHZhciBzaW5nbGVQcm9wUG9zaXRpb25JbmRleCA9IGRldGVjdGVkSW5kZXggKyAxIC8qIFNpbmdsZVByb3BWYWx1ZXNJbmRleE9mZnNldCAqLztcbiAgICAgICAgZGlyZWN0aXZlUmVmc1tzaW5nbGVQcm9wUG9zaXRpb25JbmRleF0gPSBuZXh0T2Zmc2V0SW5zZXJ0aW9uSW5kZXg7XG4gICAgICAgIC8vIHRoZSBzYW5pdGl6ZXIgaXMgYWxzbyBhcGFydCBvZiB0aGUgYmluZGluZyBwcm9jZXNzIGFuZCB3aWxsIGJlIHVzZWQgd2hlbiBiaW5kaW5ncyBhcmVcbiAgICAgICAgLy8gYXBwbGllZC5cbiAgICAgICAgdmFyIHN0eWxlU2FuaXRpemVySW5kZXggPSBkZXRlY3RlZEluZGV4ICsgMyAvKiBTdHlsZVNhbml0aXplck9mZnNldCAqLztcbiAgICAgICAgZGlyZWN0aXZlUmVmc1tzdHlsZVNhbml0aXplckluZGV4XSA9IHN0eWxlU2FuaXRpemVyIHx8IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBkaXJlY3RpdmVJbmRleDtcbn1cbmZ1bmN0aW9uIGdldE1hdGNoaW5nQmluZGluZ0luZGV4KGNvbnRleHQsIGJpbmRpbmdOYW1lLCBzdGFydCwgZW5kKSB7XG4gICAgZm9yICh2YXIgaiA9IHN0YXJ0OyBqIDwgZW5kOyBqICs9IDQgLyogU2l6ZSAqLykge1xuICAgICAgICBpZiAoZ2V0UHJvcChjb250ZXh0LCBqKSA9PT0gYmluZGluZ05hbWUpXG4gICAgICAgICAgICByZXR1cm4gajtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLyoqXG4gKiBTZXRzIGFuZCByZXNvbHZlcyBhbGwgYG11bHRpYCBzdHlsaW5nIG9uIGFuIGBTdHlsaW5nQ29udGV4dGAgc28gdGhhdCB0aGV5IGNhbiBiZVxuICogYXBwbGllZCB0byB0aGUgZWxlbWVudCBvbmNlIGByZW5kZXJTdHlsaW5nYCBpcyBjYWxsZWQuXG4gKlxuICogQWxsIG1pc3Npbmcgc3R5bGVzL2NsYXNzIChhbnkgdmFsdWVzIHRoYXQgYXJlIG5vdCBwcm92aWRlZCBpbiB0aGUgbmV3IGBzdHlsZXNgXG4gKiBvciBgY2xhc3Nlc2AgcGFyYW1zKSB3aWxsIHJlc29sdmUgdG8gYG51bGxgIHdpdGhpbiB0aGVpciByZXNwZWN0aXZlIHBvc2l0aW9uc1xuICogaW4gdGhlIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIGNvbnRleHQgVGhlIHN0eWxpbmcgY29udGV4dCB0aGF0IHdpbGwgYmUgdXBkYXRlZCB3aXRoIHRoZVxuICogICAgbmV3bHkgcHJvdmlkZWQgc3R5bGUgdmFsdWVzLlxuICogQHBhcmFtIGNsYXNzZXNJbnB1dCBUaGUga2V5L3ZhbHVlIG1hcCBvZiBDU1MgY2xhc3MgbmFtZXMgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIHRoZSB1cGRhdGUuXG4gKiBAcGFyYW0gc3R5bGVzSW5wdXQgVGhlIGtleS92YWx1ZSBtYXAgb2YgQ1NTIHN0eWxlcyB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgdGhlIHVwZGF0ZS5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlU3R5bGluZ01hcChjb250ZXh0LCBjbGFzc2VzSW5wdXQsIHN0eWxlc0lucHV0LCBkaXJlY3RpdmVSZWYpIHtcbiAgICBzdHlsZXNJbnB1dCA9IHN0eWxlc0lucHV0IHx8IG51bGw7XG4gICAgdmFyIGRpcmVjdGl2ZUluZGV4ID0gZ2V0RGlyZWN0aXZlSW5kZXhGcm9tUmVnaXN0cnkoY29udGV4dCwgZGlyZWN0aXZlUmVmIHx8IG51bGwpO1xuICAgIHZhciBlbGVtZW50ID0gY29udGV4dFs1IC8qIEVsZW1lbnRQb3NpdGlvbiAqL107XG4gICAgdmFyIGNsYXNzZXNQbGF5ZXJCdWlsZGVyID0gY2xhc3Nlc0lucHV0IGluc3RhbmNlb2YgQm91bmRQbGF5ZXJGYWN0b3J5ID9cbiAgICAgICAgbmV3IENsYXNzQW5kU3R5bGVQbGF5ZXJCdWlsZGVyKGNsYXNzZXNJbnB1dCwgZWxlbWVudCwgMSAvKiBDbGFzcyAqLykgOlxuICAgICAgICBudWxsO1xuICAgIHZhciBzdHlsZXNQbGF5ZXJCdWlsZGVyID0gc3R5bGVzSW5wdXQgaW5zdGFuY2VvZiBCb3VuZFBsYXllckZhY3RvcnkgP1xuICAgICAgICBuZXcgQ2xhc3NBbmRTdHlsZVBsYXllckJ1aWxkZXIoc3R5bGVzSW5wdXQsIGVsZW1lbnQsIDIgLyogU3R5bGUgKi8pIDpcbiAgICAgICAgbnVsbDtcbiAgICB2YXIgY2xhc3Nlc1ZhbHVlID0gY2xhc3Nlc1BsYXllckJ1aWxkZXIgP1xuICAgICAgICBjbGFzc2VzSW5wdXQudmFsdWUgOlxuICAgICAgICBjbGFzc2VzSW5wdXQ7XG4gICAgdmFyIHN0eWxlc1ZhbHVlID0gc3R5bGVzUGxheWVyQnVpbGRlciA/IHN0eWxlc0lucHV0LnZhbHVlIDogc3R5bGVzSW5wdXQ7XG4gICAgLy8gZWFybHkgZXhpdCAodGhpcyBpcyB3aGF0J3MgZG9uZSB0byBhdm9pZCB1c2luZyBjdHguYmluZCgpIHRvIGNhY2hlIHRoZSB2YWx1ZSlcbiAgICB2YXIgaWdub3JlQWxsQ2xhc3NVcGRhdGVzID0gbGltaXRUb1NpbmdsZUNsYXNzZXMoY29udGV4dCkgfHwgY2xhc3Nlc1ZhbHVlID09PSBOT19DSEFOR0UgfHxcbiAgICAgICAgY2xhc3Nlc1ZhbHVlID09PSBjb250ZXh0WzYgLyogQ2FjaGVkQ2xhc3NWYWx1ZU9ySW5pdGlhbENsYXNzU3RyaW5nICovXTtcbiAgICB2YXIgaWdub3JlQWxsU3R5bGVVcGRhdGVzID0gc3R5bGVzVmFsdWUgPT09IE5PX0NIQU5HRSB8fCBzdHlsZXNWYWx1ZSA9PT0gY29udGV4dFs3IC8qIENhY2hlZFN0eWxlVmFsdWUgKi9dO1xuICAgIGlmIChpZ25vcmVBbGxDbGFzc1VwZGF0ZXMgJiYgaWdub3JlQWxsU3R5bGVVcGRhdGVzKVxuICAgICAgICByZXR1cm47XG4gICAgY29udGV4dFs2IC8qIENhY2hlZENsYXNzVmFsdWVPckluaXRpYWxDbGFzc1N0cmluZyAqL10gPSBjbGFzc2VzVmFsdWU7XG4gICAgY29udGV4dFs3IC8qIENhY2hlZFN0eWxlVmFsdWUgKi9dID0gc3R5bGVzVmFsdWU7XG4gICAgdmFyIGNsYXNzTmFtZXMgPSBFTVBUWV9BUlJBWTtcbiAgICB2YXIgYXBwbHlBbGxDbGFzc2VzID0gZmFsc2U7XG4gICAgdmFyIHBsYXllckJ1aWxkZXJzQXJlRGlydHkgPSBmYWxzZTtcbiAgICB2YXIgY2xhc3Nlc1BsYXllckJ1aWxkZXJJbmRleCA9IGNsYXNzZXNQbGF5ZXJCdWlsZGVyID8gMSAvKiBDbGFzc01hcFBsYXllckJ1aWxkZXJQb3NpdGlvbiAqLyA6IDA7XG4gICAgaWYgKGhhc1BsYXllckJ1aWxkZXJDaGFuZ2VkKGNvbnRleHQsIGNsYXNzZXNQbGF5ZXJCdWlsZGVyLCAxIC8qIENsYXNzTWFwUGxheWVyQnVpbGRlclBvc2l0aW9uICovKSkge1xuICAgICAgICBzZXRQbGF5ZXJCdWlsZGVyKGNvbnRleHQsIGNsYXNzZXNQbGF5ZXJCdWlsZGVyLCAxIC8qIENsYXNzTWFwUGxheWVyQnVpbGRlclBvc2l0aW9uICovKTtcbiAgICAgICAgcGxheWVyQnVpbGRlcnNBcmVEaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIHZhciBzdHlsZXNQbGF5ZXJCdWlsZGVySW5kZXggPSBzdHlsZXNQbGF5ZXJCdWlsZGVyID8gMyAvKiBTdHlsZU1hcFBsYXllckJ1aWxkZXJQb3NpdGlvbiAqLyA6IDA7XG4gICAgaWYgKGhhc1BsYXllckJ1aWxkZXJDaGFuZ2VkKGNvbnRleHQsIHN0eWxlc1BsYXllckJ1aWxkZXIsIDMgLyogU3R5bGVNYXBQbGF5ZXJCdWlsZGVyUG9zaXRpb24gKi8pKSB7XG4gICAgICAgIHNldFBsYXllckJ1aWxkZXIoY29udGV4dCwgc3R5bGVzUGxheWVyQnVpbGRlciwgMyAvKiBTdHlsZU1hcFBsYXllckJ1aWxkZXJQb3NpdGlvbiAqLyk7XG4gICAgICAgIHBsYXllckJ1aWxkZXJzQXJlRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBlYWNoIHRpbWUgYSBzdHJpbmctYmFzZWQgdmFsdWUgcG9wcyB1cCB0aGVuIGl0IHNob3VsZG4ndCByZXF1aXJlIGEgZGVlcFxuICAgIC8vIGNoZWNrIG9mIHdoYXQncyBjaGFuZ2VkLlxuICAgIGlmICghaWdub3JlQWxsQ2xhc3NVcGRhdGVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xhc3Nlc1ZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjbGFzc05hbWVzID0gY2xhc3Nlc1ZhbHVlLnNwbGl0KC9cXHMrLyk7XG4gICAgICAgICAgICAvLyB0aGlzIGJvb2xlYW4gaXMgdXNlZCB0byBhdm9pZCBoYXZpbmcgdG8gY3JlYXRlIGEga2V5L3ZhbHVlIG1hcCBvZiBgdHJ1ZWAgdmFsdWVzXG4gICAgICAgICAgICAvLyBzaW5jZSBhIGNsYXNzbmFtZSBzdHJpbmcgaW1wbGllcyB0aGF0IGFsbCB0aG9zZSBjbGFzc2VzIGFyZSBhZGRlZFxuICAgICAgICAgICAgYXBwbHlBbGxDbGFzc2VzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZXMgPSBjbGFzc2VzVmFsdWUgPyBPYmplY3Qua2V5cyhjbGFzc2VzVmFsdWUpIDogRU1QVFlfQVJSQVk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNsYXNzZXMgPSAoY2xhc3Nlc1ZhbHVlIHx8IEVNUFRZX09CSik7XG4gICAgdmFyIHN0eWxlUHJvcHMgPSBzdHlsZXNWYWx1ZSA/IE9iamVjdC5rZXlzKHN0eWxlc1ZhbHVlKSA6IEVNUFRZX0FSUkFZO1xuICAgIHZhciBzdHlsZXMgPSBzdHlsZXNWYWx1ZSB8fCBFTVBUWV9PQko7XG4gICAgdmFyIGNsYXNzZXNTdGFydEluZGV4ID0gc3R5bGVQcm9wcy5sZW5ndGg7XG4gICAgdmFyIG11bHRpU3RhcnRJbmRleCA9IGdldE11bHRpU3RhcnRJbmRleChjb250ZXh0KTtcbiAgICB2YXIgZGlydHkgPSBmYWxzZTtcbiAgICB2YXIgY3R4SW5kZXggPSBtdWx0aVN0YXJ0SW5kZXg7XG4gICAgdmFyIHByb3BJbmRleCA9IDA7XG4gICAgdmFyIHByb3BMaW1pdCA9IHN0eWxlUHJvcHMubGVuZ3RoICsgY2xhc3NOYW1lcy5sZW5ndGg7XG4gICAgLy8gdGhlIG1haW4gbG9vcCBoZXJlIHdpbGwgdHJ5IGFuZCBmaWd1cmUgb3V0IGhvdyB0aGUgc2hhcGUgb2YgdGhlIHByb3ZpZGVkXG4gICAgLy8gc3R5bGVzIGRpZmZlciB3aXRoIHJlc3BlY3QgdG8gdGhlIGNvbnRleHQuIExhdGVyIGlmIHRoZSBjb250ZXh0L3N0eWxlcy9jbGFzc2VzXG4gICAgLy8gYXJlIG9mZi1iYWxhbmNlIHRoZW4gdGhleSB3aWxsIGJlIGRlYWx0IGluIGFub3RoZXIgbG9vcCBhZnRlciB0aGlzIG9uZVxuICAgIHdoaWxlIChjdHhJbmRleCA8IGNvbnRleHQubGVuZ3RoICYmIHByb3BJbmRleCA8IHByb3BMaW1pdCkge1xuICAgICAgICB2YXIgaXNDbGFzc0Jhc2VkID0gcHJvcEluZGV4ID49IGNsYXNzZXNTdGFydEluZGV4O1xuICAgICAgICB2YXIgcHJvY2Vzc1ZhbHVlID0gKCFpc0NsYXNzQmFzZWQgJiYgIWlnbm9yZUFsbFN0eWxlVXBkYXRlcykgfHwgKGlzQ2xhc3NCYXNlZCAmJiAhaWdub3JlQWxsQ2xhc3NVcGRhdGVzKTtcbiAgICAgICAgLy8gd2hlbiB0aGVyZSBpcyBhIGNhY2hlLWhpdCBmb3IgYSBzdHJpbmctYmFzZWQgY2xhc3MgdGhlbiB3ZSBzaG91bGRcbiAgICAgICAgLy8gYXZvaWQgZG9pbmcgYW55IHdvcmsgZGlmZmluZyBhbnkgb2YgdGhlIGNoYW5nZXNcbiAgICAgICAgaWYgKHByb2Nlc3NWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGFkanVzdGVkUHJvcEluZGV4ID0gaXNDbGFzc0Jhc2VkID8gcHJvcEluZGV4IC0gY2xhc3Nlc1N0YXJ0SW5kZXggOiBwcm9wSW5kZXg7XG4gICAgICAgICAgICB2YXIgbmV3UHJvcCA9IGlzQ2xhc3NCYXNlZCA/IGNsYXNzTmFtZXNbYWRqdXN0ZWRQcm9wSW5kZXhdIDogc3R5bGVQcm9wc1thZGp1c3RlZFByb3BJbmRleF07XG4gICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBpc0NsYXNzQmFzZWQgPyAoYXBwbHlBbGxDbGFzc2VzID8gdHJ1ZSA6IGNsYXNzZXNbbmV3UHJvcF0pIDogc3R5bGVzW25ld1Byb3BdO1xuICAgICAgICAgICAgdmFyIHBsYXllckJ1aWxkZXJJbmRleCA9IGlzQ2xhc3NCYXNlZCA/IGNsYXNzZXNQbGF5ZXJCdWlsZGVySW5kZXggOiBzdHlsZXNQbGF5ZXJCdWlsZGVySW5kZXg7XG4gICAgICAgICAgICB2YXIgcHJvcCA9IGdldFByb3AoY29udGV4dCwgY3R4SW5kZXgpO1xuICAgICAgICAgICAgaWYgKHByb3AgPT09IG5ld1Byb3ApIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShjb250ZXh0LCBjdHhJbmRleCk7XG4gICAgICAgICAgICAgICAgdmFyIGZsYWcgPSBnZXRQb2ludGVycyhjb250ZXh0LCBjdHhJbmRleCk7XG4gICAgICAgICAgICAgICAgc2V0UGxheWVyQnVpbGRlckluZGV4KGNvbnRleHQsIGN0eEluZGV4LCBwbGF5ZXJCdWlsZGVySW5kZXgsIGRpcmVjdGl2ZUluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzVmFsdWVDaGFuZ2VkKGZsYWcsIHZhbHVlLCBuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoY29udGV4dCwgY3R4SW5kZXgsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyQnVpbGRlcnNBcmVEaXJ0eSA9IHBsYXllckJ1aWxkZXJzQXJlRGlydHkgfHwgISFwbGF5ZXJCdWlsZGVySW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbml0aWFsVmFsdWUgPSBnZXRJbml0aWFsVmFsdWUoY29udGV4dCwgZmxhZyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNLSVAgSUYgSU5JVElBTCBDSEVDS1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZm9ybWVyIGB2YWx1ZWAgaXMgYG51bGxgIHRoZW4gaXQgbWVhbnMgdGhhdCBhbiBpbml0aWFsIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvdWxkIGJlIGJlaW5nIHJlbmRlcmVkIG9uIHNjcmVlbi4gSWYgdGhhdCBpcyB0aGUgY2FzZSB0aGVuIHRoZXJlIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIHBvaW50IGluIHVwZGF0aW5nIHRoZSB2YWx1ZSBpbmNhc2UgaXQgbWF0Y2hlcy4gSW4gb3RoZXIgd29yZHMgaWYgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyB2YWx1ZSBpcyB0aGUgZXhhY3Qgc2FtZSBhcyB0aGUgcHJldmlvdXNseSByZW5kZXJlZCB2YWx1ZSAod2hpY2hcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFwcGVucyB0byBiZSB0aGUgaW5pdGlhbCB2YWx1ZSkgdGhlbiBkbyBub3RoaW5nLlxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCB8fCBoYXNWYWx1ZUNoYW5nZWQoZmxhZywgaW5pdGlhbFZhbHVlLCBuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERpcnR5KGNvbnRleHQsIGN0eEluZGV4LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleE9mRW50cnkgPSBmaW5kRW50cnlQb3NpdGlvbkJ5UHJvcChjb250ZXh0LCBuZXdQcm9wLCBjdHhJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4T2ZFbnRyeSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgd2FzIGZvdW5kIGF0IGEgbGF0ZXIgcG9pbnQgLi4uIGp1c3Qgc3dhcCB0aGUgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVRvQ29tcGFyZSA9IGdldFZhbHVlKGNvbnRleHQsIGluZGV4T2ZFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbGFnVG9Db21wYXJlID0gZ2V0UG9pbnRlcnMoY29udGV4dCwgaW5kZXhPZkVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgc3dhcE11bHRpQ29udGV4dEVudHJpZXMoY29udGV4dCwgY3R4SW5kZXgsIGluZGV4T2ZFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNWYWx1ZUNoYW5nZWQoZmxhZ1RvQ29tcGFyZSwgdmFsdWVUb0NvbXBhcmUsIG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGdldEluaXRpYWxWYWx1ZShjb250ZXh0LCBmbGFnVG9Db21wYXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGNvbnRleHQsIGN0eEluZGV4LCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzYW1lIGlmIHN0YXRlbWVudCBsb2dpYyBhcyBhYm92ZSAobG9vayBmb3IgU0tJUCBJRiBJTklUSUFMIENIRUNLKS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVRvQ29tcGFyZSAhPSBudWxsIHx8IGhhc1ZhbHVlQ2hhbmdlZChmbGFnVG9Db21wYXJlLCBpbml0aWFsVmFsdWUsIG5ld1ZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERpcnR5KGNvbnRleHQsIGN0eEluZGV4LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJCdWlsZGVyc0FyZURpcnR5ID0gcGxheWVyQnVpbGRlcnNBcmVEaXJ0eSB8fCAhIXBsYXllckJ1aWxkZXJJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG9ubHkgY2FyZSB0byBkbyB0aGlzIGlmIHRoZSBpbnNlcnRpb24gaXMgaW4gdGhlIG1pZGRsZVxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RmxhZyA9IHByZXBhcmVJbml0aWFsRmxhZyhjb250ZXh0LCBuZXdQcm9wLCBpc0NsYXNzQmFzZWQsIGdldFN0eWxlU2FuaXRpemVyKGNvbnRleHQsIGRpcmVjdGl2ZUluZGV4KSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckJ1aWxkZXJzQXJlRGlydHkgPSBwbGF5ZXJCdWlsZGVyc0FyZURpcnR5IHx8ICEhcGxheWVyQnVpbGRlckluZGV4O1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnROZXdNdWx0aVByb3BlcnR5KGNvbnRleHQsIGN0eEluZGV4LCBpc0NsYXNzQmFzZWQsIG5ld1Byb3AsIG5ld0ZsYWcsIG5ld1ZhbHVlLCBkaXJlY3RpdmVJbmRleCwgcGxheWVyQnVpbGRlckluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdHhJbmRleCArPSA0IC8qIFNpemUgKi87XG4gICAgICAgIHByb3BJbmRleCsrO1xuICAgIH1cbiAgICAvLyB0aGlzIG1lYW5zIHRoYXQgdGhlcmUgYXJlIGxlZnQtb3ZlciB2YWx1ZXMgaW4gdGhlIGNvbnRleHQgdGhhdFxuICAgIC8vIHdlcmUgbm90IGluY2x1ZGVkIGluIHRoZSBwcm92aWRlZCBzdHlsZXMvY2xhc3NlcyBhbmQgaW4gdGhpc1xuICAgIC8vIGNhc2UgdGhlICBnb2FsIGlzIHRvIFwicmVtb3ZlXCIgdGhlbSBmcm9tIHRoZSBjb250ZXh0IChieSBudWxsaWZ5aW5nKVxuICAgIHdoaWxlIChjdHhJbmRleCA8IGNvbnRleHQubGVuZ3RoKSB7XG4gICAgICAgIHZhciBmbGFnID0gZ2V0UG9pbnRlcnMoY29udGV4dCwgY3R4SW5kZXgpO1xuICAgICAgICB2YXIgaXNDbGFzc0Jhc2VkID0gKGZsYWcgJiAyIC8qIENsYXNzICovKSA9PT0gMiAvKiBDbGFzcyAqLztcbiAgICAgICAgdmFyIHByb2Nlc3NWYWx1ZSA9ICghaXNDbGFzc0Jhc2VkICYmICFpZ25vcmVBbGxTdHlsZVVwZGF0ZXMpIHx8IChpc0NsYXNzQmFzZWQgJiYgIWlnbm9yZUFsbENsYXNzVXBkYXRlcyk7XG4gICAgICAgIGlmIChwcm9jZXNzVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKGNvbnRleHQsIGN0eEluZGV4KTtcbiAgICAgICAgICAgIHZhciBkb1JlbW92ZVZhbHVlID0gdmFsdWVFeGlzdHModmFsdWUsIGlzQ2xhc3NCYXNlZCk7XG4gICAgICAgICAgICBpZiAoZG9SZW1vdmVWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHNldERpcnR5KGNvbnRleHQsIGN0eEluZGV4LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZShjb250ZXh0LCBjdHhJbmRleCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgLy8gd2Uga2VlcCB0aGUgcGxheWVyIGZhY3RvcnkgdGhlIHNhbWUgc28gdGhhdCB0aGUgYG51bGxlZGAgdmFsdWUgY2FuXG4gICAgICAgICAgICAgICAgLy8gYmUgaW5zdHJ1Y3RlZCBpbnRvIHRoZSBwbGF5ZXIgYmVjYXVzZSByZW1vdmluZyBhIHN0eWxlIGFuZC9vciBhIGNsYXNzXG4gICAgICAgICAgICAgICAgLy8gaXMgYSB2YWxpZCBhbmltYXRpb24gcGxheWVyIGluc3RydWN0aW9uLlxuICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJCdWlsZGVySW5kZXggPSBpc0NsYXNzQmFzZWQgPyBjbGFzc2VzUGxheWVyQnVpbGRlckluZGV4IDogc3R5bGVzUGxheWVyQnVpbGRlckluZGV4O1xuICAgICAgICAgICAgICAgIHNldFBsYXllckJ1aWxkZXJJbmRleChjb250ZXh0LCBjdHhJbmRleCwgcGxheWVyQnVpbGRlckluZGV4LCBkaXJlY3RpdmVJbmRleCk7XG4gICAgICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eEluZGV4ICs9IDQgLyogU2l6ZSAqLztcbiAgICB9XG4gICAgLy8gdGhpcyBtZWFucyB0aGF0IHRoZXJlIGFyZSBsZWZ0LW92ZXIgcHJvcGVydGllcyBpbiB0aGUgY29udGV4dCB0aGF0XG4gICAgLy8gd2VyZSBub3QgZGV0ZWN0ZWQgaW4gdGhlIGNvbnRleHQgZHVyaW5nIHRoZSBsb29wIGFib3ZlLiBJbiB0aGF0XG4gICAgLy8gY2FzZSB3ZSB3YW50IHRvIGFkZCB0aGUgbmV3IGVudHJpZXMgaW50byB0aGUgbGlzdFxuICAgIHZhciBzYW5pdGl6ZXIgPSBnZXRTdHlsZVNhbml0aXplcihjb250ZXh0LCBkaXJlY3RpdmVJbmRleCk7XG4gICAgd2hpbGUgKHByb3BJbmRleCA8IHByb3BMaW1pdCkge1xuICAgICAgICB2YXIgaXNDbGFzc0Jhc2VkID0gcHJvcEluZGV4ID49IGNsYXNzZXNTdGFydEluZGV4O1xuICAgICAgICB2YXIgcHJvY2Vzc1ZhbHVlID0gKCFpc0NsYXNzQmFzZWQgJiYgIWlnbm9yZUFsbFN0eWxlVXBkYXRlcykgfHwgKGlzQ2xhc3NCYXNlZCAmJiAhaWdub3JlQWxsQ2xhc3NVcGRhdGVzKTtcbiAgICAgICAgaWYgKHByb2Nlc3NWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGFkanVzdGVkUHJvcEluZGV4ID0gaXNDbGFzc0Jhc2VkID8gcHJvcEluZGV4IC0gY2xhc3Nlc1N0YXJ0SW5kZXggOiBwcm9wSW5kZXg7XG4gICAgICAgICAgICB2YXIgcHJvcCA9IGlzQ2xhc3NCYXNlZCA/IGNsYXNzTmFtZXNbYWRqdXN0ZWRQcm9wSW5kZXhdIDogc3R5bGVQcm9wc1thZGp1c3RlZFByb3BJbmRleF07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpc0NsYXNzQmFzZWQgPyAoYXBwbHlBbGxDbGFzc2VzID8gdHJ1ZSA6IGNsYXNzZXNbcHJvcF0pIDogc3R5bGVzW3Byb3BdO1xuICAgICAgICAgICAgdmFyIGZsYWcgPSBwcmVwYXJlSW5pdGlhbEZsYWcoY29udGV4dCwgcHJvcCwgaXNDbGFzc0Jhc2VkLCBzYW5pdGl6ZXIpIHwgMSAvKiBEaXJ0eSAqLztcbiAgICAgICAgICAgIHZhciBwbGF5ZXJCdWlsZGVySW5kZXggPSBpc0NsYXNzQmFzZWQgPyBjbGFzc2VzUGxheWVyQnVpbGRlckluZGV4IDogc3R5bGVzUGxheWVyQnVpbGRlckluZGV4O1xuICAgICAgICAgICAgdmFyIGN0eEluZGV4XzEgPSBjb250ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnRleHQucHVzaChmbGFnLCBwcm9wLCB2YWx1ZSwgMCk7XG4gICAgICAgICAgICBzZXRQbGF5ZXJCdWlsZGVySW5kZXgoY29udGV4dCwgY3R4SW5kZXhfMSwgcGxheWVyQnVpbGRlckluZGV4LCBkaXJlY3RpdmVJbmRleCk7XG4gICAgICAgICAgICBkaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcEluZGV4Kys7XG4gICAgfVxuICAgIGlmIChkaXJ0eSkge1xuICAgICAgICBzZXRDb250ZXh0RGlydHkoY29udGV4dCwgdHJ1ZSk7XG4gICAgICAgIHNldERpcmVjdGl2ZURpcnR5KGNvbnRleHQsIGRpcmVjdGl2ZUluZGV4LCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHBsYXllckJ1aWxkZXJzQXJlRGlydHkpIHtcbiAgICAgICAgc2V0Q29udGV4dFBsYXllcnNEaXJ0eShjb250ZXh0LCB0cnVlKTtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgbWV0aG9kIHdpbGwgdG9nZ2xlIHRoZSByZWZlcmVuY2VkIENTUyBjbGFzcyAoYnkgdGhlIHByb3ZpZGVkIGluZGV4KVxuICogd2l0aGluIHRoZSBnaXZlbiBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSBjb250ZXh0IFRoZSBzdHlsaW5nIGNvbnRleHQgdGhhdCB3aWxsIGJlIHVwZGF0ZWQgd2l0aCB0aGVcbiAqICAgIG5ld2x5IHByb3ZpZGVkIGNsYXNzIHZhbHVlLlxuICogQHBhcmFtIG9mZnNldCBUaGUgaW5kZXggb2YgdGhlIENTUyBjbGFzcyB3aGljaCBpcyBiZWluZyB1cGRhdGVkLlxuICogQHBhcmFtIGFkZE9yUmVtb3ZlIFdoZXRoZXIgb3Igbm90IHRvIGFkZCBvciByZW1vdmUgdGhlIENTUyBjbGFzc1xuICovXG5mdW5jdGlvbiB1cGRhdGVDbGFzc1Byb3AoY29udGV4dCwgb2Zmc2V0LCBhZGRPclJlbW92ZSwgZGlyZWN0aXZlUmVmKSB7XG4gICAgX3VwZGF0ZVNpbmdsZVN0eWxpbmdWYWx1ZShjb250ZXh0LCBvZmZzZXQsIGFkZE9yUmVtb3ZlLCB0cnVlLCBkaXJlY3RpdmVSZWYpO1xufVxuLyoqXG4gKiBTZXRzIGFuZCByZXNvbHZlcyBhIHNpbmdsZSBzdHlsZSB2YWx1ZSBvbiB0aGUgcHJvdmlkZWQgYFN0eWxpbmdDb250ZXh0YCBzb1xuICogdGhhdCB0aGV5IGNhbiBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IG9uY2UgYHJlbmRlclN0eWxpbmdgIGlzIGNhbGxlZC5cbiAqXG4gKiBOb3RlIHRoYXQgcHJvcC1sZXZlbCBzdHlsaW5nIHZhbHVlcyBhcmUgY29uc2lkZXJlZCBoaWdoZXIgcHJpb3JpdHkgdGhhbiBhbnkgc3R5bGluZyB0aGF0XG4gKiBoYXMgYmVlbiBhcHBsaWVkIHVzaW5nIGB1cGRhdGVTdHlsaW5nTWFwYCwgdGhlcmVmb3JlLCB3aGVuIHN0eWxpbmcgdmFsdWVzIGFyZSByZW5kZXJlZFxuICogdGhlbiBhbnkgc3R5bGVzL2NsYXNzZXMgdGhhdCBoYXZlIGJlZW4gYXBwbGllZCB1c2luZyB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY29uc2lkZXJlZCBmaXJzdFxuICogKHRoZW4gbXVsdGkgdmFsdWVzIHNlY29uZCBhbmQgdGhlbiBpbml0aWFsIHZhbHVlcyBhcyBhIGJhY2t1cCkuXG4gKlxuICogQHBhcmFtIGNvbnRleHQgVGhlIHN0eWxpbmcgY29udGV4dCB0aGF0IHdpbGwgYmUgdXBkYXRlZCB3aXRoIHRoZVxuICogICAgbmV3bHkgcHJvdmlkZWQgc3R5bGUgdmFsdWUuXG4gKiBAcGFyYW0gb2Zmc2V0IFRoZSBpbmRleCBvZiB0aGUgcHJvcGVydHkgd2hpY2ggaXMgYmVpbmcgdXBkYXRlZC5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgQ1NTIHN0eWxlIHZhbHVlIHRoYXQgd2lsbCBiZSBhc3NpZ25lZFxuICogQHBhcmFtIGRpcmVjdGl2ZVJlZiBhbiBvcHRpb25hbCByZWZlcmVuY2UgdG8gdGhlIGRpcmVjdGl2ZSByZXNwb25zaWJsZVxuICogICAgZm9yIHRoaXMgYmluZGluZyBjaGFuZ2UuIElmIHByZXNlbnQgdGhlbiBzdHlsZSBiaW5kaW5nIHdpbGwgb25seVxuICogICAgYWN0dWFsaXplIGlmIHRoZSBkaXJlY3RpdmUgaGFzIG93bmVyc2hpcCBvdmVyIHRoaXMgYmluZGluZ1xuICogICAgKHNlZSBzdHlsaW5nLnRzI2RpcmVjdGl2ZXMgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFsZ29yaXRobSkuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVN0eWxlUHJvcChjb250ZXh0LCBvZmZzZXQsIGlucHV0LCBkaXJlY3RpdmVSZWYpIHtcbiAgICBfdXBkYXRlU2luZ2xlU3R5bGluZ1ZhbHVlKGNvbnRleHQsIG9mZnNldCwgaW5wdXQsIGZhbHNlLCBkaXJlY3RpdmVSZWYpO1xufVxuZnVuY3Rpb24gX3VwZGF0ZVNpbmdsZVN0eWxpbmdWYWx1ZShjb250ZXh0LCBvZmZzZXQsIGlucHV0LCBpc0NsYXNzQmFzZWQsIGRpcmVjdGl2ZVJlZikge1xuICAgIHZhciBkaXJlY3RpdmVJbmRleCA9IGdldERpcmVjdGl2ZUluZGV4RnJvbVJlZ2lzdHJ5KGNvbnRleHQsIGRpcmVjdGl2ZVJlZiB8fCBudWxsKTtcbiAgICB2YXIgc2luZ2xlSW5kZXggPSBnZXRTaW5nbGVQcm9wSW5kZXhWYWx1ZShjb250ZXh0LCBkaXJlY3RpdmVJbmRleCwgb2Zmc2V0LCBpc0NsYXNzQmFzZWQpO1xuICAgIHZhciBjdXJyVmFsdWUgPSBnZXRWYWx1ZShjb250ZXh0LCBzaW5nbGVJbmRleCk7XG4gICAgdmFyIGN1cnJGbGFnID0gZ2V0UG9pbnRlcnMoY29udGV4dCwgc2luZ2xlSW5kZXgpO1xuICAgIHZhciBjdXJyRGlyZWN0aXZlID0gZ2V0RGlyZWN0aXZlSW5kZXhGcm9tRW50cnkoY29udGV4dCwgc2luZ2xlSW5kZXgpO1xuICAgIHZhciB2YWx1ZSA9IChpbnB1dCBpbnN0YW5jZW9mIEJvdW5kUGxheWVyRmFjdG9yeSkgPyBpbnB1dC52YWx1ZSA6IGlucHV0O1xuICAgIGlmIChoYXNWYWx1ZUNoYW5nZWQoY3VyckZsYWcsIGN1cnJWYWx1ZSwgdmFsdWUpICYmXG4gICAgICAgIGFsbG93VmFsdWVDaGFuZ2UoY3VyclZhbHVlLCB2YWx1ZSwgY3VyckRpcmVjdGl2ZSwgZGlyZWN0aXZlSW5kZXgpKSB7XG4gICAgICAgIHZhciBpc0NsYXNzQmFzZWRfMSA9IChjdXJyRmxhZyAmIDIgLyogQ2xhc3MgKi8pID09PSAyIC8qIENsYXNzICovO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGNvbnRleHRbNSAvKiBFbGVtZW50UG9zaXRpb24gKi9dO1xuICAgICAgICB2YXIgcGxheWVyQnVpbGRlciA9IGlucHV0IGluc3RhbmNlb2YgQm91bmRQbGF5ZXJGYWN0b3J5ID9cbiAgICAgICAgICAgIG5ldyBDbGFzc0FuZFN0eWxlUGxheWVyQnVpbGRlcihpbnB1dCwgZWxlbWVudCwgaXNDbGFzc0Jhc2VkXzEgPyAxIC8qIENsYXNzICovIDogMiAvKiBTdHlsZSAqLykgOlxuICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgdmFyIHZhbHVlXzEgPSAocGxheWVyQnVpbGRlciA/IGlucHV0LnZhbHVlIDogaW5wdXQpO1xuICAgICAgICB2YXIgY3VyclBsYXllckluZGV4ID0gZ2V0UGxheWVyQnVpbGRlckluZGV4KGNvbnRleHQsIHNpbmdsZUluZGV4KTtcbiAgICAgICAgdmFyIHBsYXllckJ1aWxkZXJzQXJlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIHBsYXllckJ1aWxkZXJJbmRleCA9IHBsYXllckJ1aWxkZXIgPyBjdXJyUGxheWVySW5kZXggOiAwO1xuICAgICAgICBpZiAoaGFzUGxheWVyQnVpbGRlckNoYW5nZWQoY29udGV4dCwgcGxheWVyQnVpbGRlciwgY3VyclBsYXllckluZGV4KSkge1xuICAgICAgICAgICAgdmFyIG5ld0luZGV4ID0gc2V0UGxheWVyQnVpbGRlcihjb250ZXh0LCBwbGF5ZXJCdWlsZGVyLCBjdXJyUGxheWVySW5kZXgpO1xuICAgICAgICAgICAgcGxheWVyQnVpbGRlckluZGV4ID0gcGxheWVyQnVpbGRlciA/IG5ld0luZGV4IDogMDtcbiAgICAgICAgICAgIHBsYXllckJ1aWxkZXJzQXJlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwbGF5ZXJCdWlsZGVyc0FyZURpcnR5IHx8IGN1cnJEaXJlY3RpdmUgIT09IGRpcmVjdGl2ZUluZGV4KSB7XG4gICAgICAgICAgICBzZXRQbGF5ZXJCdWlsZGVySW5kZXgoY29udGV4dCwgc2luZ2xlSW5kZXgsIHBsYXllckJ1aWxkZXJJbmRleCwgZGlyZWN0aXZlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyRGlyZWN0aXZlICE9PSBkaXJlY3RpdmVJbmRleCkge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBnZXRQcm9wKGNvbnRleHQsIHNpbmdsZUluZGV4KTtcbiAgICAgICAgICAgIHZhciBzYW5pdGl6ZXIgPSBnZXRTdHlsZVNhbml0aXplcihjb250ZXh0LCBkaXJlY3RpdmVJbmRleCk7XG4gICAgICAgICAgICBzZXRTYW5pdGl6ZUZsYWcoY29udGV4dCwgc2luZ2xlSW5kZXgsIChzYW5pdGl6ZXIgJiYgc2FuaXRpemVyKHByb3ApKSA/IHRydWUgOiBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIHZhbHVlIHdpbGwgYWx3YXlzIGdldCB1cGRhdGVkIChldmVuIGlmIHRoZSBkaXJ0eSBmbGFnIGlzIHNraXBwZWQpXG4gICAgICAgIHNldFZhbHVlKGNvbnRleHQsIHNpbmdsZUluZGV4LCB2YWx1ZV8xKTtcbiAgICAgICAgdmFyIGluZGV4Rm9yTXVsdGkgPSBnZXRNdWx0aU9yU2luZ2xlSW5kZXgoY3VyckZsYWcpO1xuICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgdGhlIHNhbWUgaW4gdGhlIG11bHRpLWFyZWEgdGhlbiB0aGVyZSdzIG5vIHBvaW50IGluIHJlLWFzc2VtYmxpbmdcbiAgICAgICAgdmFyIHZhbHVlRm9yTXVsdGkgPSBnZXRWYWx1ZShjb250ZXh0LCBpbmRleEZvck11bHRpKTtcbiAgICAgICAgaWYgKCF2YWx1ZUZvck11bHRpIHx8IGhhc1ZhbHVlQ2hhbmdlZChjdXJyRmxhZywgdmFsdWVGb3JNdWx0aSwgdmFsdWVfMSkpIHtcbiAgICAgICAgICAgIHZhciBtdWx0aURpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgc2luZ2xlRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIHRoZSB2YWx1ZSBpcyBzZXQgdG8gYG51bGxgIHNob3VsZCB0aGUgbXVsdGktdmFsdWUgZ2V0IGZsYWdnZWRcbiAgICAgICAgICAgIGlmICghdmFsdWVFeGlzdHModmFsdWVfMSwgaXNDbGFzc0Jhc2VkXzEpICYmIHZhbHVlRXhpc3RzKHZhbHVlRm9yTXVsdGksIGlzQ2xhc3NCYXNlZF8xKSkge1xuICAgICAgICAgICAgICAgIG11bHRpRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNpbmdsZURpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXREaXJ0eShjb250ZXh0LCBpbmRleEZvck11bHRpLCBtdWx0aURpcnR5KTtcbiAgICAgICAgICAgIHNldERpcnR5KGNvbnRleHQsIHNpbmdsZUluZGV4LCBzaW5nbGVEaXJ0eSk7XG4gICAgICAgICAgICBzZXREaXJlY3RpdmVEaXJ0eShjb250ZXh0LCBkaXJlY3RpdmVJbmRleCwgdHJ1ZSk7XG4gICAgICAgICAgICBzZXRDb250ZXh0RGlydHkoY29udGV4dCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBsYXllckJ1aWxkZXJzQXJlRGlydHkpIHtcbiAgICAgICAgICAgIHNldENvbnRleHRQbGF5ZXJzRGlydHkoY29udGV4dCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFJlbmRlcnMgYWxsIHF1ZXVlZCBzdHlsaW5nIHVzaW5nIGEgcmVuZGVyZXIgb250byB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHdvcmtzIGJ5IHJlbmRlcmluZyBhbnkgc3R5bGVzICh0aGF0IGhhdmUgYmVlbiBhcHBsaWVkXG4gKiB1c2luZyBgdXBkYXRlU3R5bGluZ01hcGApIGFuZCBhbnkgY2xhc3NlcyAodGhhdCBoYXZlIGJlZW4gYXBwbGllZCB1c2luZ1xuICogYHVwZGF0ZVN0eWxlUHJvcGApIG9udG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQgdXNpbmcgdGhlIHByb3ZpZGVkIHJlbmRlcmVyLlxuICogSnVzdCBiZWZvcmUgdGhlIHN0eWxlcy9jbGFzc2VzIGFyZSByZW5kZXJlZCBhIGZpbmFsIGtleS92YWx1ZSBzdHlsZSBtYXBcbiAqIHdpbGwgYmUgYXNzZW1ibGVkIChpZiBgc3R5bGVTdG9yZWAgb3IgYGNsYXNzU3RvcmVgIGFyZSBwcm92aWRlZCkuXG4gKlxuICogQHBhcmFtIGxFbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgdGhlIHN0eWxlcyB3aWxsIGJlIHJlbmRlcmVkIG9uXG4gKiBAcGFyYW0gY29udGV4dCBUaGUgc3R5bGluZyBjb250ZXh0IHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZVxuICogICAgICB3aGF0IHN0eWxlcyB3aWxsIGJlIHJlbmRlcmVkXG4gKiBAcGFyYW0gcmVuZGVyZXIgdGhlIHJlbmRlcmVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGFwcGx5IHRoZSBzdHlsaW5nXG4gKiBAcGFyYW0gY2xhc3Nlc1N0b3JlIGlmIHByb3ZpZGVkLCB0aGUgdXBkYXRlZCBjbGFzcyB2YWx1ZXMgd2lsbCBiZSBhcHBsaWVkXG4gKiAgICB0byB0aGlzIGtleS92YWx1ZSBtYXAgaW5zdGVhZCBvZiBiZWluZyByZW5kZXJlcmVkIHZpYSB0aGUgcmVuZGVyZXIuXG4gKiBAcGFyYW0gc3R5bGVzU3RvcmUgaWYgcHJvdmlkZWQsIHRoZSB1cGRhdGVkIHN0eWxlIHZhbHVlcyB3aWxsIGJlIGFwcGxpZWRcbiAqICAgIHRvIHRoaXMga2V5L3ZhbHVlIG1hcCBpbnN0ZWFkIG9mIGJlaW5nIHJlbmRlcmVyZWQgdmlhIHRoZSByZW5kZXJlci5cbiAqIEBwYXJhbSBkaXJlY3RpdmVSZWYgYW4gb3B0aW9uYWwgZGlyZWN0aXZlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHRhcmdldCB3aGljaFxuICogICAgc3R5bGluZyB2YWx1ZXMgYXJlIHJlbmRlcmVkLiBJZiBsZWZ0IGVtcHR5LCBvbmx5IHRoZSBiaW5kaW5ncyB0aGF0IGFyZVxuICogICAgcmVnaXN0ZXJlZCBvbiB0aGUgdGVtcGxhdGUgd2lsbCBiZSByZW5kZXJlZC5cbiAqIEByZXR1cm5zIG51bWJlciB0aGUgdG90YWwgYW1vdW50IG9mIHBsYXllcnMgdGhhdCBnb3QgcXVldWVkIGZvciBhbmltYXRpb24gKGlmIGFueSlcbiAqL1xuZnVuY3Rpb24gcmVuZGVyU3R5bGluZyhjb250ZXh0LCByZW5kZXJlciwgcm9vdE9yVmlldywgaXNGaXJzdFJlbmRlciwgY2xhc3Nlc1N0b3JlLCBzdHlsZXNTdG9yZSwgZGlyZWN0aXZlUmVmKSB7XG4gICAgdmFyIHRvdGFsUGxheWVyc1F1ZXVlZCA9IDA7XG4gICAgdmFyIHRhcmdldERpcmVjdGl2ZUluZGV4ID0gZ2V0RGlyZWN0aXZlSW5kZXhGcm9tUmVnaXN0cnkoY29udGV4dCwgZGlyZWN0aXZlUmVmIHx8IG51bGwpO1xuICAgIGlmIChpc0NvbnRleHREaXJ0eShjb250ZXh0KSAmJiBpc0RpcmVjdGl2ZURpcnR5KGNvbnRleHQsIHRhcmdldERpcmVjdGl2ZUluZGV4KSkge1xuICAgICAgICB2YXIgZmx1c2hQbGF5ZXJCdWlsZGVycyA9IGNvbnRleHRbMCAvKiBNYXN0ZXJGbGFnUG9zaXRpb24gKi9dICYgOCAvKiBQbGF5ZXJCdWlsZGVyc0RpcnR5ICovO1xuICAgICAgICB2YXIgbmF0aXZlID0gY29udGV4dFs1IC8qIEVsZW1lbnRQb3NpdGlvbiAqL107XG4gICAgICAgIHZhciBtdWx0aVN0YXJ0SW5kZXggPSBnZXRNdWx0aVN0YXJ0SW5kZXgoY29udGV4dCk7XG4gICAgICAgIHZhciBvbmx5U2luZ2xlQ2xhc3NlcyA9IGxpbWl0VG9TaW5nbGVDbGFzc2VzKGNvbnRleHQpO1xuICAgICAgICB2YXIgc3RpbGxEaXJ0eSA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gOSAvKiBTaW5nbGVTdHlsZXNTdGFydFBvc2l0aW9uICovOyBpIDwgY29udGV4dC5sZW5ndGg7IGkgKz0gNCAvKiBTaXplICovKSB7XG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBwb2ludCBpbiByZW5kZXJpbmcgc3R5bGVzIHRoYXQgaGF2ZSBub3QgY2hhbmdlZCBvbiBzY3JlZW5cbiAgICAgICAgICAgIGlmIChpc0RpcnR5KGNvbnRleHQsIGkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZsYWcgPSBnZXRQb2ludGVycyhjb250ZXh0LCBpKTtcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlSW5kZXggPSBnZXREaXJlY3RpdmVJbmRleEZyb21FbnRyeShjb250ZXh0LCBpKTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0RGlyZWN0aXZlSW5kZXggIT09IGRpcmVjdGl2ZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0aWxsRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSBnZXRQcm9wKGNvbnRleHQsIGkpO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKGNvbnRleHQsIGkpO1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZVNhbml0aXplciA9IChmbGFnICYgNCAvKiBTYW5pdGl6ZSAqLykgPyBnZXRTdHlsZVNhbml0aXplcihjb250ZXh0LCBkaXJlY3RpdmVJbmRleCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJCdWlsZGVyID0gZ2V0UGxheWVyQnVpbGRlcihjb250ZXh0LCBpKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNDbGFzc0Jhc2VkID0gZmxhZyAmIDIgLyogQ2xhc3MgKi8gPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIGlzSW5TaW5nbGVSZWdpb24gPSBpIDwgbXVsdGlTdGFydEluZGV4O1xuICAgICAgICAgICAgICAgIHZhciByZWFkSW5pdGlhbFZhbHVlID0gIWlzQ2xhc3NCYXNlZCB8fCAhb25seVNpbmdsZUNsYXNzZXM7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlVG9BcHBseSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIC8vIFZBTFVFIERFRkVSIENBU0UgMTogVXNlIGEgbXVsdGkgdmFsdWUgaW5zdGVhZCBvZiBhIG51bGwgc2luZ2xlIHZhbHVlXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjaGVjayBpbXBsaWVzIHRoYXQgYSBzaW5nbGUgdmFsdWUgd2FzIHJlbW92ZWQgYW5kIHdlXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIG5vdyBkZWZlciB0byBhIG11bHRpIHZhbHVlIGFuZCB1c2UgdGhhdCAoaWYgc2V0KS5cbiAgICAgICAgICAgICAgICBpZiAoaXNJblNpbmdsZVJlZ2lvbiAmJiAhdmFsdWVFeGlzdHModmFsdWVUb0FwcGx5LCBpc0NsYXNzQmFzZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZSB2YWx1ZXMgQUxXQVlTIGhhdmUgYSByZWZlcmVuY2UgdG8gYSBtdWx0aSBpbmRleFxuICAgICAgICAgICAgICAgICAgICB2YXIgbXVsdGlJbmRleCA9IGdldE11bHRpT3JTaW5nbGVJbmRleChmbGFnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUb0FwcGx5ID0gZ2V0VmFsdWUoY29udGV4dCwgbXVsdGlJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFZBTFVFIERFRkVSIENBU0UgMjogVXNlIHRoZSBpbml0aWFsIHZhbHVlIGlmIGFsbCBlbHNlIGZhaWxzIChpcyBmYWxzeSlcbiAgICAgICAgICAgICAgICAvLyB0aGUgaW5pdGlhbCB2YWx1ZSB3aWxsIGFsd2F5cyBiZSBhIHN0cmluZyBvciBudWxsLFxuICAgICAgICAgICAgICAgIC8vIHRoZXJlZm9yZSB3ZSBjYW4gc2FmZWx5IGFkb3B0IGl0IGluY2FzZSB0aGVyZSdzIG5vdGhpbmcgZWxzZVxuICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhhdCB0aGlzIHNob3VsZCBhbHdheXMgYmUgYSBmYWxzeSBjaGVjayBzaW5jZSBgZmFsc2VgIGlzIHVzZWRcbiAgICAgICAgICAgICAgICAvLyBmb3IgYm90aCBjbGFzcyBhbmQgc3R5bGUgY29tcGFyaXNvbnMgKHN0eWxlcyBjYW4ndCBiZSBmYWxzZSBhbmQgZmFsc2VcbiAgICAgICAgICAgICAgICAvLyBjbGFzc2VzIGFyZSB0dXJuZWQgb2ZmIGFuZCBzaG91bGQgdGhlcmVmb3JlIGRlZmVyIHRvIHRoZWlyIGluaXRpYWwgdmFsdWVzKVxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBpZ25vcmUgY2xhc3MtYmFzZWQgZGVmZXJhbHMgYmVjYXVzZSBvdGhlcndpc2UgYSBjbGFzcyBjYW4gbmV2ZXJcbiAgICAgICAgICAgICAgICAvLyBiZSByZW1vdmVkIGluIHRoZSBjYXNlIHRoYXQgaXQgZXhpc3RzIGFzIHRydWUgaW4gdGhlIGluaXRpYWwgY2xhc3NlcyBsaXN0Li4uXG4gICAgICAgICAgICAgICAgaWYgKCFpc0NsYXNzQmFzZWQgJiYgIXZhbHVlRXhpc3RzKHZhbHVlVG9BcHBseSwgaXNDbGFzc0Jhc2VkKSAmJiByZWFkSW5pdGlhbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVG9BcHBseSA9IGdldEluaXRpYWxWYWx1ZShjb250ZXh0LCBmbGFnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGZpcnN0IHJlbmRlciBpcyB0cnVlIHRoZW4gd2UgZG8gbm90IHdhbnQgdG8gc3RhcnQgYXBwbHlpbmcgZmFsc3lcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZXMgdG8gdGhlIERPTSBlbGVtZW50J3Mgc3R5bGluZy4gT3RoZXJ3aXNlIHRoZW4gd2Uga25vdyB0aGVyZSBoYXNcbiAgICAgICAgICAgICAgICAvLyBiZWVuIGEgY2hhbmdlIGFuZCBldmVuIGlmIGl0J3MgZmFsc3kgdGhlbiBpdCdzIHJlbW92aW5nIHNvbWV0aGluZyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gd2FzIHRydXRoeSBiZWZvcmUuXG4gICAgICAgICAgICAgICAgdmFyIGRvQXBwbHlWYWx1ZSA9IGlzRmlyc3RSZW5kZXIgPyB2YWx1ZVRvQXBwbHkgOiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChkb0FwcGx5VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2xhc3NCYXNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2xhc3MobmF0aXZlLCBwcm9wLCB2YWx1ZVRvQXBwbHkgPyB0cnVlIDogZmFsc2UsIHJlbmRlcmVyLCBjbGFzc2VzU3RvcmUsIHBsYXllckJ1aWxkZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUobmF0aXZlLCBwcm9wLCB2YWx1ZVRvQXBwbHksIHJlbmRlcmVyLCBzdHlsZVNhbml0aXplciwgc3R5bGVzU3RvcmUsIHBsYXllckJ1aWxkZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldERpcnR5KGNvbnRleHQsIGksIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmx1c2hQbGF5ZXJCdWlsZGVycykge1xuICAgICAgICAgICAgdmFyIHJvb3RDb250ZXh0ID0gQXJyYXkuaXNBcnJheShyb290T3JWaWV3KSA/IGdldFJvb3RDb250ZXh0KHJvb3RPclZpZXcpIDogcm9vdE9yVmlldztcbiAgICAgICAgICAgIHZhciBwbGF5ZXJDb250ZXh0ID0gZ2V0UGxheWVyQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIHZhciBwbGF5ZXJzU3RhcnRJbmRleCA9IHBsYXllckNvbnRleHRbMCAvKiBOb25CdWlsZGVyUGxheWVyc1N0YXJ0ICovXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxIC8qIFBsYXllckJ1aWxkZXJzU3RhcnRQb3NpdGlvbiAqLzsgaSA8IHBsYXllcnNTdGFydEluZGV4OyBpICs9IDIgLyogUGxheWVyQW5kUGxheWVyQnVpbGRlcnNUdXBsZVNpemUgKi8pIHtcbiAgICAgICAgICAgICAgICB2YXIgYnVpbGRlciA9IHBsYXllckNvbnRleHRbaV07XG4gICAgICAgICAgICAgICAgdmFyIHBsYXllckluc2VydGlvbkluZGV4ID0gaSArIDEgLyogUGxheWVyT2Zmc2V0UG9zaXRpb24gKi87XG4gICAgICAgICAgICAgICAgdmFyIG9sZFBsYXllciA9IHBsYXllckNvbnRleHRbcGxheWVySW5zZXJ0aW9uSW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChidWlsZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBidWlsZGVyLmJ1aWxkUGxheWVyKG9sZFBsYXllciwgaXNGaXJzdFJlbmRlcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdhc1F1ZXVlZCA9IGFkZFBsYXllckludGVybmFsKHBsYXllckNvbnRleHQsIHJvb3RDb250ZXh0LCBuYXRpdmUsIHBsYXllciwgcGxheWVySW5zZXJ0aW9uSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhc1F1ZXVlZCAmJiB0b3RhbFBsYXllcnNRdWV1ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRQbGF5ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRQbGF5ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9sZFBsYXllcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcGxheWVyIGJ1aWxkZXIgaGFzIGJlZW4gcmVtb3ZlZCAuLi4gdGhlcmVmb3JlIHdlIHNob3VsZCBkZWxldGUgdGhlIGFzc29jaWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gcGxheWVyXG4gICAgICAgICAgICAgICAgICAgIG9sZFBsYXllci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q29udGV4dFBsYXllcnNEaXJ0eShjb250ZXh0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0RGlyZWN0aXZlRGlydHkoY29udGV4dCwgdGFyZ2V0RGlyZWN0aXZlSW5kZXgsIGZhbHNlKTtcbiAgICAgICAgc2V0Q29udGV4dERpcnR5KGNvbnRleHQsIHN0aWxsRGlydHkpO1xuICAgIH1cbiAgICByZXR1cm4gdG90YWxQbGF5ZXJzUXVldWVkO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHJlbmRlcnMgYSBnaXZlbiBDU1MgcHJvcC92YWx1ZSBlbnRyeSB1c2luZyB0aGVcbiAqIHByb3ZpZGVkIHJlbmRlcmVyLiBJZiBhIGBzdG9yZWAgdmFsdWUgaXMgcHJvdmlkZWQgdGhlblxuICogdGhhdCB3aWxsIGJlIHVzZWQgYSByZW5kZXIgY29udGV4dCBpbnN0ZWFkIG9mIHRoZSBwcm92aWRlZFxuICogcmVuZGVyZXIuXG4gKlxuICogQHBhcmFtIG5hdGl2ZSB0aGUgRE9NIEVsZW1lbnRcbiAqIEBwYXJhbSBwcm9wIHRoZSBDU1Mgc3R5bGUgcHJvcGVydHkgdGhhdCB3aWxsIGJlIHJlbmRlcmVkXG4gKiBAcGFyYW0gdmFsdWUgdGhlIENTUyBzdHlsZSB2YWx1ZSB0aGF0IHdpbGwgYmUgcmVuZGVyZWRcbiAqIEBwYXJhbSByZW5kZXJlclxuICogQHBhcmFtIHN0b3JlIGFuIG9wdGlvbmFsIGtleS92YWx1ZSBtYXAgdGhhdCB3aWxsIGJlIHVzZWQgYXMgYSBjb250ZXh0IHRvIHJlbmRlciBzdHlsZXMgb25cbiAqL1xuZnVuY3Rpb24gc2V0U3R5bGUobmF0aXZlLCBwcm9wLCB2YWx1ZSwgcmVuZGVyZXIsIHNhbml0aXplciwgc3RvcmUsIHBsYXllckJ1aWxkZXIpIHtcbiAgICB2YWx1ZSA9IHNhbml0aXplciAmJiB2YWx1ZSA/IHNhbml0aXplcihwcm9wLCB2YWx1ZSkgOiB2YWx1ZTtcbiAgICBpZiAoc3RvcmUgfHwgcGxheWVyQnVpbGRlcikge1xuICAgICAgICBpZiAoc3RvcmUpIHtcbiAgICAgICAgICAgIHN0b3JlLnNldFZhbHVlKHByb3AsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGxheWVyQnVpbGRlcikge1xuICAgICAgICAgICAgcGxheWVyQnVpbGRlci5zZXRWYWx1ZShwcm9wLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpOyAvLyBvcGFjaXR5LCB6LWluZGV4IGFuZCBmbGV4Ym94IGFsbCBoYXZlIG51bWJlciB2YWx1ZXMgd2hpY2ggbWF5IG5vdFxuICAgICAgICAvLyBhc3NpZ24gYXMgbnVtYmVyc1xuICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0U3R5bGUrKztcbiAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID9cbiAgICAgICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKG5hdGl2ZSwgcHJvcCwgdmFsdWUsIFJlbmRlcmVyU3R5bGVGbGFnczMuRGFzaENhc2UpIDpcbiAgICAgICAgICAgIG5hdGl2ZVsnc3R5bGUnXS5zZXRQcm9wZXJ0eShwcm9wLCB2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyUmVtb3ZlU3R5bGUrKztcbiAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID9cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbW92ZVN0eWxlKG5hdGl2ZSwgcHJvcCwgUmVuZGVyZXJTdHlsZUZsYWdzMy5EYXNoQ2FzZSkgOlxuICAgICAgICAgICAgbmF0aXZlWydzdHlsZSddLnJlbW92ZVByb3BlcnR5KHByb3ApO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZW5kZXJzIGEgZ2l2ZW4gQ1NTIGNsYXNzIHZhbHVlIHVzaW5nIHRoZSBwcm92aWRlZFxuICogcmVuZGVyZXIgKGJ5IGFkZGluZyBvciByZW1vdmluZyBpdCBmcm9tIHRoZSBwcm92aWRlZCBlbGVtZW50KS5cbiAqIElmIGEgYHN0b3JlYCB2YWx1ZSBpcyBwcm92aWRlZCB0aGVuIHRoYXQgd2lsbCBiZSB1c2VkIGEgcmVuZGVyXG4gKiBjb250ZXh0IGluc3RlYWQgb2YgdGhlIHByb3ZpZGVkIHJlbmRlcmVyLlxuICpcbiAqIEBwYXJhbSBuYXRpdmUgdGhlIERPTSBFbGVtZW50XG4gKiBAcGFyYW0gcHJvcCB0aGUgQ1NTIHN0eWxlIHByb3BlcnR5IHRoYXQgd2lsbCBiZSByZW5kZXJlZFxuICogQHBhcmFtIHZhbHVlIHRoZSBDU1Mgc3R5bGUgdmFsdWUgdGhhdCB3aWxsIGJlIHJlbmRlcmVkXG4gKiBAcGFyYW0gcmVuZGVyZXJcbiAqIEBwYXJhbSBzdG9yZSBhbiBvcHRpb25hbCBrZXkvdmFsdWUgbWFwIHRoYXQgd2lsbCBiZSB1c2VkIGFzIGEgY29udGV4dCB0byByZW5kZXIgc3R5bGVzIG9uXG4gKi9cbmZ1bmN0aW9uIHNldENsYXNzKG5hdGl2ZSwgY2xhc3NOYW1lLCBhZGQsIHJlbmRlcmVyLCBzdG9yZSwgcGxheWVyQnVpbGRlcikge1xuICAgIGlmIChzdG9yZSB8fCBwbGF5ZXJCdWlsZGVyKSB7XG4gICAgICAgIGlmIChzdG9yZSkge1xuICAgICAgICAgICAgc3RvcmUuc2V0VmFsdWUoY2xhc3NOYW1lLCBhZGQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwbGF5ZXJCdWlsZGVyKSB7XG4gICAgICAgICAgICBwbGF5ZXJCdWlsZGVyLnNldFZhbHVlKGNsYXNzTmFtZSwgYWRkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhZGQpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckFkZENsYXNzKys7XG4gICAgICAgIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLmFkZENsYXNzKG5hdGl2ZSwgY2xhc3NOYW1lKSA6XG4gICAgICAgICAgICBuYXRpdmVbJ2NsYXNzTGlzdCddLmFkZChjbGFzc05hbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclJlbW92ZUNsYXNzKys7XG4gICAgICAgIGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSA/IHJlbmRlcmVyLnJlbW92ZUNsYXNzKG5hdGl2ZSwgY2xhc3NOYW1lKSA6XG4gICAgICAgICAgICBuYXRpdmVbJ2NsYXNzTGlzdCddLnJlbW92ZShjbGFzc05hbWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldFNhbml0aXplRmxhZyhjb250ZXh0LCBpbmRleCwgc2FuaXRpemVZZXMpIHtcbiAgICBpZiAoc2FuaXRpemVZZXMpIHtcbiAgICAgICAgY29udGV4dFtpbmRleF0gfD0gNCAvKiBTYW5pdGl6ZSAqLztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRleHRbaW5kZXhdICY9IH40IC8qIFNhbml0aXplICovO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldERpcnR5KGNvbnRleHQsIGluZGV4LCBpc0RpcnR5WWVzKSB7XG4gICAgdmFyIGFkanVzdGVkSW5kZXggPSBpbmRleCA+PSA5IC8qIFNpbmdsZVN0eWxlc1N0YXJ0UG9zaXRpb24gKi8gPyAoaW5kZXggKyAwIC8qIEZsYWdzT2Zmc2V0ICovKSA6IGluZGV4O1xuICAgIGlmIChpc0RpcnR5WWVzKSB7XG4gICAgICAgIGNvbnRleHRbYWRqdXN0ZWRJbmRleF0gfD0gMSAvKiBEaXJ0eSAqLztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRleHRbYWRqdXN0ZWRJbmRleF0gJj0gfjEgLyogRGlydHkgKi87XG4gICAgfVxufVxuZnVuY3Rpb24gaXNEaXJ0eShjb250ZXh0LCBpbmRleCkge1xuICAgIHZhciBhZGp1c3RlZEluZGV4ID0gaW5kZXggPj0gOSAvKiBTaW5nbGVTdHlsZXNTdGFydFBvc2l0aW9uICovID8gKGluZGV4ICsgMCAvKiBGbGFnc09mZnNldCAqLykgOiBpbmRleDtcbiAgICByZXR1cm4gKGNvbnRleHRbYWRqdXN0ZWRJbmRleF0gJiAxIC8qIERpcnR5ICovKSA9PSAxIC8qIERpcnR5ICovO1xufVxuZnVuY3Rpb24gaXNDbGFzc0Jhc2VkVmFsdWUoY29udGV4dCwgaW5kZXgpIHtcbiAgICB2YXIgYWRqdXN0ZWRJbmRleCA9IGluZGV4ID49IDkgLyogU2luZ2xlU3R5bGVzU3RhcnRQb3NpdGlvbiAqLyA/IChpbmRleCArIDAgLyogRmxhZ3NPZmZzZXQgKi8pIDogaW5kZXg7XG4gICAgcmV0dXJuIChjb250ZXh0W2FkanVzdGVkSW5kZXhdICYgMiAvKiBDbGFzcyAqLykgPT0gMiAvKiBDbGFzcyAqLztcbn1cbmZ1bmN0aW9uIGlzU2FuaXRpemFibGUoY29udGV4dCwgaW5kZXgpIHtcbiAgICB2YXIgYWRqdXN0ZWRJbmRleCA9IGluZGV4ID49IDkgLyogU2luZ2xlU3R5bGVzU3RhcnRQb3NpdGlvbiAqLyA/IChpbmRleCArIDAgLyogRmxhZ3NPZmZzZXQgKi8pIDogaW5kZXg7XG4gICAgcmV0dXJuIChjb250ZXh0W2FkanVzdGVkSW5kZXhdICYgNCAvKiBTYW5pdGl6ZSAqLykgPT0gNCAvKiBTYW5pdGl6ZSAqLztcbn1cbmZ1bmN0aW9uIHBvaW50ZXJzKGNvbmZpZ0ZsYWcsIHN0YXRpY0luZGV4LCBkeW5hbWljSW5kZXgpIHtcbiAgICByZXR1cm4gKGNvbmZpZ0ZsYWcgJiA2MyAvKiBCaXRNYXNrICovKSB8IChzdGF0aWNJbmRleCA8PCA2IC8qIEJpdENvdW50U2l6ZSAqLykgfFxuICAgICAgICAoZHluYW1pY0luZGV4IDw8ICgxNCAvKiBCaXRDb3VudFNpemUgKi8gKyA2IC8qIEJpdENvdW50U2l6ZSAqLykpO1xufVxuZnVuY3Rpb24gZ2V0SW5pdGlhbFZhbHVlKGNvbnRleHQsIGZsYWcpIHtcbiAgICB2YXIgaW5kZXggPSBnZXRJbml0aWFsSW5kZXgoZmxhZyk7XG4gICAgdmFyIGVudHJ5SXNDbGFzc0Jhc2VkID0gZmxhZyAmIDIgLyogQ2xhc3MgKi87XG4gICAgdmFyIGluaXRpYWxWYWx1ZXMgPSBlbnRyeUlzQ2xhc3NCYXNlZCA/IGNvbnRleHRbMyAvKiBJbml0aWFsQ2xhc3NWYWx1ZXNQb3NpdGlvbiAqL10gOlxuICAgICAgICBjb250ZXh0WzIgLyogSW5pdGlhbFN0eWxlVmFsdWVzUG9zaXRpb24gKi9dO1xuICAgIHJldHVybiBpbml0aWFsVmFsdWVzW2luZGV4XTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxJbmRleChmbGFnKSB7XG4gICAgcmV0dXJuIChmbGFnID4+IDYgLyogQml0Q291bnRTaXplICovKSAmIDE2MzgzIC8qIEJpdE1hc2sgKi87XG59XG5mdW5jdGlvbiBnZXRNdWx0aU9yU2luZ2xlSW5kZXgoZmxhZykge1xuICAgIHZhciBpbmRleCA9IChmbGFnID4+ICgxNCAvKiBCaXRDb3VudFNpemUgKi8gKyA2IC8qIEJpdENvdW50U2l6ZSAqLykpICYgMTYzODMgLyogQml0TWFzayAqLztcbiAgICByZXR1cm4gaW5kZXggPj0gOSAvKiBTaW5nbGVTdHlsZXNTdGFydFBvc2l0aW9uICovID8gaW5kZXggOiAtMTtcbn1cbmZ1bmN0aW9uIGdldE11bHRpU3RhcnRJbmRleChjb250ZXh0KSB7XG4gICAgcmV0dXJuIGdldE11bHRpT3JTaW5nbGVJbmRleChjb250ZXh0WzAgLyogTWFzdGVyRmxhZ1Bvc2l0aW9uICovXSk7XG59XG5mdW5jdGlvbiBzZXRQcm9wKGNvbnRleHQsIGluZGV4LCBwcm9wKSB7XG4gICAgY29udGV4dFtpbmRleCArIDEgLyogUHJvcGVydHlPZmZzZXQgKi9dID0gcHJvcDtcbn1cbmZ1bmN0aW9uIHNldFZhbHVlKGNvbnRleHQsIGluZGV4LCB2YWx1ZSkge1xuICAgIGNvbnRleHRbaW5kZXggKyAyIC8qIFZhbHVlT2Zmc2V0ICovXSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gaGFzUGxheWVyQnVpbGRlckNoYW5nZWQoY29udGV4dCwgYnVpbGRlciwgaW5kZXgpIHtcbiAgICB2YXIgcGxheWVyQ29udGV4dCA9IGNvbnRleHRbOCAvKiBQbGF5ZXJDb250ZXh0ICovXTtcbiAgICBpZiAoYnVpbGRlcikge1xuICAgICAgICBpZiAoIXBsYXllckNvbnRleHQgfHwgaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCFwbGF5ZXJDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHBsYXllckNvbnRleHRbaW5kZXhdICE9PSBidWlsZGVyO1xufVxuZnVuY3Rpb24gc2V0UGxheWVyQnVpbGRlcihjb250ZXh0LCBidWlsZGVyLCBpbnNlcnRpb25JbmRleCkge1xuICAgIHZhciBwbGF5ZXJDb250ZXh0ID0gY29udGV4dFs4IC8qIFBsYXllckNvbnRleHQgKi9dIHx8IGFsbG9jUGxheWVyQ29udGV4dChjb250ZXh0KTtcbiAgICBpZiAoaW5zZXJ0aW9uSW5kZXggPiAwKSB7XG4gICAgICAgIHBsYXllckNvbnRleHRbaW5zZXJ0aW9uSW5kZXhdID0gYnVpbGRlcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGluc2VydGlvbkluZGV4ID0gcGxheWVyQ29udGV4dFswIC8qIE5vbkJ1aWxkZXJQbGF5ZXJzU3RhcnQgKi9dO1xuICAgICAgICBwbGF5ZXJDb250ZXh0LnNwbGljZShpbnNlcnRpb25JbmRleCwgMCwgYnVpbGRlciwgbnVsbCk7XG4gICAgICAgIHBsYXllckNvbnRleHRbMCAvKiBOb25CdWlsZGVyUGxheWVyc1N0YXJ0ICovXSArPVxuICAgICAgICAgICAgMiAvKiBQbGF5ZXJBbmRQbGF5ZXJCdWlsZGVyc1R1cGxlU2l6ZSAqLztcbiAgICB9XG4gICAgcmV0dXJuIGluc2VydGlvbkluZGV4O1xufVxuZnVuY3Rpb24gZGlyZWN0aXZlT3duZXJQb2ludGVycyhkaXJlY3RpdmVJbmRleCwgcGxheWVySW5kZXgpIHtcbiAgICByZXR1cm4gKHBsYXllckluZGV4IDw8IDE2IC8qIEJpdENvdW50U2l6ZSAqLykgfCBkaXJlY3RpdmVJbmRleDtcbn1cbmZ1bmN0aW9uIHNldFBsYXllckJ1aWxkZXJJbmRleChjb250ZXh0LCBpbmRleCwgcGxheWVyQnVpbGRlckluZGV4LCBkaXJlY3RpdmVJbmRleCkge1xuICAgIHZhciB2YWx1ZSA9IGRpcmVjdGl2ZU93bmVyUG9pbnRlcnMoZGlyZWN0aXZlSW5kZXgsIHBsYXllckJ1aWxkZXJJbmRleCk7XG4gICAgY29udGV4dFtpbmRleCArIDMgLyogUGxheWVyQnVpbGRlckluZGV4T2Zmc2V0ICovXSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gZ2V0UGxheWVyQnVpbGRlckluZGV4KGNvbnRleHQsIGluZGV4KSB7XG4gICAgdmFyIGZsYWcgPSBjb250ZXh0W2luZGV4ICsgMyAvKiBQbGF5ZXJCdWlsZGVySW5kZXhPZmZzZXQgKi9dO1xuICAgIHZhciBwbGF5ZXJCdWlsZGVySW5kZXggPSAoZmxhZyA+PiAxNiAvKiBCaXRDb3VudFNpemUgKi8pICZcbiAgICAgICAgNjU1MzUgLyogQml0TWFzayAqLztcbiAgICByZXR1cm4gcGxheWVyQnVpbGRlckluZGV4O1xufVxuZnVuY3Rpb24gZ2V0UGxheWVyQnVpbGRlcihjb250ZXh0LCBpbmRleCkge1xuICAgIHZhciBwbGF5ZXJCdWlsZGVySW5kZXggPSBnZXRQbGF5ZXJCdWlsZGVySW5kZXgoY29udGV4dCwgaW5kZXgpO1xuICAgIGlmIChwbGF5ZXJCdWlsZGVySW5kZXgpIHtcbiAgICAgICAgdmFyIHBsYXllckNvbnRleHQgPSBjb250ZXh0WzggLyogUGxheWVyQ29udGV4dCAqL107XG4gICAgICAgIGlmIChwbGF5ZXJDb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gcGxheWVyQ29udGV4dFtwbGF5ZXJCdWlsZGVySW5kZXhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gc2V0RmxhZyhjb250ZXh0LCBpbmRleCwgZmxhZykge1xuICAgIHZhciBhZGp1c3RlZEluZGV4ID0gaW5kZXggPT09IDAgLyogTWFzdGVyRmxhZ1Bvc2l0aW9uICovID8gaW5kZXggOiAoaW5kZXggKyAwIC8qIEZsYWdzT2Zmc2V0ICovKTtcbiAgICBjb250ZXh0W2FkanVzdGVkSW5kZXhdID0gZmxhZztcbn1cbmZ1bmN0aW9uIGdldFBvaW50ZXJzKGNvbnRleHQsIGluZGV4KSB7XG4gICAgdmFyIGFkanVzdGVkSW5kZXggPSBpbmRleCA9PT0gMCAvKiBNYXN0ZXJGbGFnUG9zaXRpb24gKi8gPyBpbmRleCA6IChpbmRleCArIDAgLyogRmxhZ3NPZmZzZXQgKi8pO1xuICAgIHJldHVybiBjb250ZXh0W2FkanVzdGVkSW5kZXhdO1xufVxuZnVuY3Rpb24gZ2V0VmFsdWUoY29udGV4dCwgaW5kZXgpIHtcbiAgICByZXR1cm4gY29udGV4dFtpbmRleCArIDIgLyogVmFsdWVPZmZzZXQgKi9dO1xufVxuZnVuY3Rpb24gZ2V0UHJvcChjb250ZXh0LCBpbmRleCkge1xuICAgIHJldHVybiBjb250ZXh0W2luZGV4ICsgMSAvKiBQcm9wZXJ0eU9mZnNldCAqL107XG59XG5mdW5jdGlvbiBpc0NvbnRleHREaXJ0eShjb250ZXh0KSB7XG4gICAgcmV0dXJuIGlzRGlydHkoY29udGV4dCwgMCAvKiBNYXN0ZXJGbGFnUG9zaXRpb24gKi8pO1xufVxuZnVuY3Rpb24gbGltaXRUb1NpbmdsZUNsYXNzZXMoY29udGV4dCkge1xuICAgIHJldHVybiBjb250ZXh0WzAgLyogTWFzdGVyRmxhZ1Bvc2l0aW9uICovXSAmIDE2IC8qIE9ubHlQcm9jZXNzU2luZ2xlQ2xhc3NlcyAqLztcbn1cbmZ1bmN0aW9uIHNldENvbnRleHREaXJ0eShjb250ZXh0LCBpc0RpcnR5WWVzKSB7XG4gICAgc2V0RGlydHkoY29udGV4dCwgMCAvKiBNYXN0ZXJGbGFnUG9zaXRpb24gKi8sIGlzRGlydHlZZXMpO1xufVxuZnVuY3Rpb24gc2V0Q29udGV4dFBsYXllcnNEaXJ0eShjb250ZXh0LCBpc0RpcnR5WWVzKSB7XG4gICAgaWYgKGlzRGlydHlZZXMpIHtcbiAgICAgICAgY29udGV4dFswIC8qIE1hc3RlckZsYWdQb3NpdGlvbiAqL10gfD0gOCAvKiBQbGF5ZXJCdWlsZGVyc0RpcnR5ICovO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGV4dFswIC8qIE1hc3RlckZsYWdQb3NpdGlvbiAqL10gJj0gfjggLyogUGxheWVyQnVpbGRlcnNEaXJ0eSAqLztcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kRW50cnlQb3NpdGlvbkJ5UHJvcChjb250ZXh0LCBwcm9wLCBzdGFydEluZGV4KSB7XG4gICAgZm9yICh2YXIgaSA9IChzdGFydEluZGV4IHx8IDApICsgMSAvKiBQcm9wZXJ0eU9mZnNldCAqLzsgaSA8IGNvbnRleHQubGVuZ3RoOyBpICs9IDQgLyogU2l6ZSAqLykge1xuICAgICAgICB2YXIgdGhpc1Byb3AgPSBjb250ZXh0W2ldO1xuICAgICAgICBpZiAodGhpc1Byb3AgPT0gcHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuIGkgLSAxIC8qIFByb3BlcnR5T2Zmc2V0ICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIHN3YXBNdWx0aUNvbnRleHRFbnRyaWVzKGNvbnRleHQsIGluZGV4QSwgaW5kZXhCKSB7XG4gICAgdmFyIHRtcFZhbHVlID0gZ2V0VmFsdWUoY29udGV4dCwgaW5kZXhBKTtcbiAgICB2YXIgdG1wUHJvcCA9IGdldFByb3AoY29udGV4dCwgaW5kZXhBKTtcbiAgICB2YXIgdG1wRmxhZyA9IGdldFBvaW50ZXJzKGNvbnRleHQsIGluZGV4QSk7XG4gICAgdmFyIHRtcFBsYXllckJ1aWxkZXJJbmRleCA9IGdldFBsYXllckJ1aWxkZXJJbmRleChjb250ZXh0LCBpbmRleEEpO1xuICAgIHZhciBmbGFnQSA9IHRtcEZsYWc7XG4gICAgdmFyIGZsYWdCID0gZ2V0UG9pbnRlcnMoY29udGV4dCwgaW5kZXhCKTtcbiAgICB2YXIgc2luZ2xlSW5kZXhBID0gZ2V0TXVsdGlPclNpbmdsZUluZGV4KGZsYWdBKTtcbiAgICBpZiAoc2luZ2xlSW5kZXhBID49IDApIHtcbiAgICAgICAgdmFyIF9mbGFnID0gZ2V0UG9pbnRlcnMoY29udGV4dCwgc2luZ2xlSW5kZXhBKTtcbiAgICAgICAgdmFyIF9pbml0aWFsID0gZ2V0SW5pdGlhbEluZGV4KF9mbGFnKTtcbiAgICAgICAgc2V0RmxhZyhjb250ZXh0LCBzaW5nbGVJbmRleEEsIHBvaW50ZXJzKF9mbGFnLCBfaW5pdGlhbCwgaW5kZXhCKSk7XG4gICAgfVxuICAgIHZhciBzaW5nbGVJbmRleEIgPSBnZXRNdWx0aU9yU2luZ2xlSW5kZXgoZmxhZ0IpO1xuICAgIGlmIChzaW5nbGVJbmRleEIgPj0gMCkge1xuICAgICAgICB2YXIgX2ZsYWcgPSBnZXRQb2ludGVycyhjb250ZXh0LCBzaW5nbGVJbmRleEIpO1xuICAgICAgICB2YXIgX2luaXRpYWwgPSBnZXRJbml0aWFsSW5kZXgoX2ZsYWcpO1xuICAgICAgICBzZXRGbGFnKGNvbnRleHQsIHNpbmdsZUluZGV4QiwgcG9pbnRlcnMoX2ZsYWcsIF9pbml0aWFsLCBpbmRleEEpKTtcbiAgICB9XG4gICAgc2V0VmFsdWUoY29udGV4dCwgaW5kZXhBLCBnZXRWYWx1ZShjb250ZXh0LCBpbmRleEIpKTtcbiAgICBzZXRQcm9wKGNvbnRleHQsIGluZGV4QSwgZ2V0UHJvcChjb250ZXh0LCBpbmRleEIpKTtcbiAgICBzZXRGbGFnKGNvbnRleHQsIGluZGV4QSwgZ2V0UG9pbnRlcnMoY29udGV4dCwgaW5kZXhCKSk7XG4gICAgdmFyIHBsYXllckluZGV4QSA9IGdldFBsYXllckJ1aWxkZXJJbmRleChjb250ZXh0LCBpbmRleEIpO1xuICAgIHZhciBkaXJlY3RpdmVJbmRleEEgPSAwO1xuICAgIHNldFBsYXllckJ1aWxkZXJJbmRleChjb250ZXh0LCBpbmRleEEsIHBsYXllckluZGV4QSwgZGlyZWN0aXZlSW5kZXhBKTtcbiAgICBzZXRWYWx1ZShjb250ZXh0LCBpbmRleEIsIHRtcFZhbHVlKTtcbiAgICBzZXRQcm9wKGNvbnRleHQsIGluZGV4QiwgdG1wUHJvcCk7XG4gICAgc2V0RmxhZyhjb250ZXh0LCBpbmRleEIsIHRtcEZsYWcpO1xuICAgIHNldFBsYXllckJ1aWxkZXJJbmRleChjb250ZXh0LCBpbmRleEIsIHRtcFBsYXllckJ1aWxkZXJJbmRleCwgZGlyZWN0aXZlSW5kZXhBKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVNpbmdsZVBvaW50ZXJWYWx1ZXMoY29udGV4dCwgaW5kZXhTdGFydFBvc2l0aW9uKSB7XG4gICAgZm9yICh2YXIgaSA9IGluZGV4U3RhcnRQb3NpdGlvbjsgaSA8IGNvbnRleHQubGVuZ3RoOyBpICs9IDQgLyogU2l6ZSAqLykge1xuICAgICAgICB2YXIgbXVsdGlGbGFnID0gZ2V0UG9pbnRlcnMoY29udGV4dCwgaSk7XG4gICAgICAgIHZhciBzaW5nbGVJbmRleCA9IGdldE11bHRpT3JTaW5nbGVJbmRleChtdWx0aUZsYWcpO1xuICAgICAgICBpZiAoc2luZ2xlSW5kZXggPiAwKSB7XG4gICAgICAgICAgICB2YXIgc2luZ2xlRmxhZyA9IGdldFBvaW50ZXJzKGNvbnRleHQsIHNpbmdsZUluZGV4KTtcbiAgICAgICAgICAgIHZhciBpbml0aWFsSW5kZXhGb3JTaW5nbGUgPSBnZXRJbml0aWFsSW5kZXgoc2luZ2xlRmxhZyk7XG4gICAgICAgICAgICB2YXIgZmxhZ1ZhbHVlID0gKGlzRGlydHkoY29udGV4dCwgc2luZ2xlSW5kZXgpID8gMSAvKiBEaXJ0eSAqLyA6IDAgLyogTm9uZSAqLykgfFxuICAgICAgICAgICAgICAgIChpc0NsYXNzQmFzZWRWYWx1ZShjb250ZXh0LCBzaW5nbGVJbmRleCkgPyAyIC8qIENsYXNzICovIDogMCAvKiBOb25lICovKSB8XG4gICAgICAgICAgICAgICAgKGlzU2FuaXRpemFibGUoY29udGV4dCwgc2luZ2xlSW5kZXgpID8gNCAvKiBTYW5pdGl6ZSAqLyA6IDAgLyogTm9uZSAqLyk7XG4gICAgICAgICAgICB2YXIgdXBkYXRlZEZsYWcgPSBwb2ludGVycyhmbGFnVmFsdWUsIGluaXRpYWxJbmRleEZvclNpbmdsZSwgaSk7XG4gICAgICAgICAgICBzZXRGbGFnKGNvbnRleHQsIHNpbmdsZUluZGV4LCB1cGRhdGVkRmxhZyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpbnNlcnROZXdNdWx0aVByb3BlcnR5KGNvbnRleHQsIGluZGV4LCBjbGFzc0Jhc2VkLCBuYW1lLCBmbGFnLCB2YWx1ZSwgZGlyZWN0aXZlSW5kZXgsIHBsYXllckluZGV4KSB7XG4gICAgdmFyIGRvU2hpZnQgPSBpbmRleCA8IGNvbnRleHQubGVuZ3RoO1xuICAgIC8vIHByb3AgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGxpc3QsIGFkZCBpdCBpblxuICAgIGNvbnRleHQuc3BsaWNlKGluZGV4LCAwLCBmbGFnIHwgMSAvKiBEaXJ0eSAqLyB8IChjbGFzc0Jhc2VkID8gMiAvKiBDbGFzcyAqLyA6IDAgLyogTm9uZSAqLyksIG5hbWUsIHZhbHVlLCAwKTtcbiAgICBzZXRQbGF5ZXJCdWlsZGVySW5kZXgoY29udGV4dCwgaW5kZXgsIHBsYXllckluZGV4LCBkaXJlY3RpdmVJbmRleCk7XG4gICAgaWYgKGRvU2hpZnQpIHtcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgdmFsdWUgd2FzIGluc2VydGVkIG1pZHdheSBpbnRvIHRoZSBhcnJheSB0aGVuIHdlXG4gICAgICAgIC8vIG5lZWQgdG8gdXBkYXRlIGFsbCB0aGUgc2hpZnRlZCBtdWx0aSB2YWx1ZXMnIHNpbmdsZSB2YWx1ZVxuICAgICAgICAvLyBwb2ludGVycyB0byBwb2ludCB0byB0aGUgbmV3bHkgc2hpZnRlZCBsb2NhdGlvblxuICAgICAgICB1cGRhdGVTaW5nbGVQb2ludGVyVmFsdWVzKGNvbnRleHQsIGluZGV4ICsgNCAvKiBTaXplICovKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWx1ZUV4aXN0cyh2YWx1ZSwgaXNDbGFzc0Jhc2VkKSB7XG4gICAgaWYgKGlzQ2xhc3NCYXNlZCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIHByZXBhcmVJbml0aWFsRmxhZyhjb250ZXh0LCBwcm9wLCBlbnRyeUlzQ2xhc3NCYXNlZCwgc2FuaXRpemVyKSB7XG4gICAgdmFyIGZsYWcgPSAoc2FuaXRpemVyICYmIHNhbml0aXplcihwcm9wKSkgPyA0IC8qIFNhbml0aXplICovIDogMCAvKiBOb25lICovO1xuICAgIHZhciBpbml0aWFsSW5kZXg7XG4gICAgaWYgKGVudHJ5SXNDbGFzc0Jhc2VkKSB7XG4gICAgICAgIGZsYWcgfD0gMiAvKiBDbGFzcyAqLztcbiAgICAgICAgaW5pdGlhbEluZGV4ID1cbiAgICAgICAgICAgIGdldEluaXRpYWxTdHlsaW5nVmFsdWVzSW5kZXhPZihjb250ZXh0WzMgLyogSW5pdGlhbENsYXNzVmFsdWVzUG9zaXRpb24gKi9dLCBwcm9wKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGluaXRpYWxJbmRleCA9XG4gICAgICAgICAgICBnZXRJbml0aWFsU3R5bGluZ1ZhbHVlc0luZGV4T2YoY29udGV4dFsyIC8qIEluaXRpYWxTdHlsZVZhbHVlc1Bvc2l0aW9uICovXSwgcHJvcCk7XG4gICAgfVxuICAgIGluaXRpYWxJbmRleCA9IGluaXRpYWxJbmRleCA+IDAgPyAoaW5pdGlhbEluZGV4ICsgMSAvKiBWYWx1ZU9mZnNldCAqLykgOiAwO1xuICAgIHJldHVybiBwb2ludGVycyhmbGFnLCBpbml0aWFsSW5kZXgsIDApO1xufVxuZnVuY3Rpb24gaGFzVmFsdWVDaGFuZ2VkKGZsYWcsIGEsIGIpIHtcbiAgICB2YXIgaXNDbGFzc0Jhc2VkID0gZmxhZyAmIDIgLyogQ2xhc3MgKi87XG4gICAgdmFyIGhhc1ZhbHVlcyA9IGEgJiYgYjtcbiAgICB2YXIgdXNlc1Nhbml0aXplciA9IGZsYWcgJiA0IC8qIFNhbml0aXplICovO1xuICAgIC8vIHRoZSB0b1N0cmluZygpIGNvbXBhcmlzb24gZW5zdXJlcyB0aGF0IGEgdmFsdWUgaXMgY2hlY2tlZFxuICAgIC8vIC4uLiBvdGhlcndpc2UgKGR1cmluZyBzYW5pdGl6YXRpb24gYnlwYXNzaW5nKSB0aGUgPT09IGNvbXBhcnNpb25cbiAgICAvLyB3b3VsZCBmYWlsIHNpbmNlIGEgbmV3IFN0cmluZygpIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICBpZiAoIWlzQ2xhc3NCYXNlZCAmJiBoYXNWYWx1ZXMgJiYgdXNlc1Nhbml0aXplcikge1xuICAgICAgICAvLyB3ZSBrbm93IGZvciBzdXJlIHdlJ3JlIGRlYWxpbmcgd2l0aCBzdHJpbmdzIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKSAhPT0gYi50b1N0cmluZygpO1xuICAgIH1cbiAgICAvLyBldmVyeXRoaW5nIGVsc2UgaXMgc2FmZSB0byBjaGVjayB3aXRoIGEgbm9ybWFsIGVxdWFsaXR5IGNoZWNrXG4gICAgcmV0dXJuIGEgIT09IGI7XG59XG52YXIgQ2xhc3NBbmRTdHlsZVBsYXllckJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2xhc3NBbmRTdHlsZVBsYXllckJ1aWxkZXIoZmFjdG9yeSwgX2VsZW1lbnQsIF90eXBlKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBfZWxlbWVudDtcbiAgICAgICAgdGhpcy5fdHlwZSA9IF90eXBlO1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgfVxuICAgIENsYXNzQW5kU3R5bGVQbGF5ZXJCdWlsZGVyLnByb3RvdHlwZS5zZXRWYWx1ZSA9IGZ1bmN0aW9uIChwcm9wLCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fdmFsdWVzW3Byb3BdICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdmFsdWVzW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENsYXNzQW5kU3R5bGVQbGF5ZXJCdWlsZGVyLnByb3RvdHlwZS5idWlsZFBsYXllciA9IGZ1bmN0aW9uIChjdXJyZW50UGxheWVyLCBpc0ZpcnN0UmVuZGVyKSB7XG4gICAgICAgIC8vIGlmIG5vIHZhbHVlcyBoYXZlIGJlZW4gc2V0IGhlcmUgdGhlbiB0aGlzIG1lYW5zIHRoZSBiaW5kaW5nIGRpZG4ndFxuICAgICAgICAvLyBjaGFuZ2UgYW5kIHRoZXJlZm9yZSB0aGUgYmluZGluZyB2YWx1ZXMgd2VyZSBub3QgdXBkYXRlZCB0aHJvdWdoXG4gICAgICAgIC8vIGBzZXRWYWx1ZWAgd2hpY2ggbWVhbnMgbm8gbmV3IHBsYXllciB3aWxsIGJlIHByb3ZpZGVkLlxuICAgICAgICBpZiAodGhpcy5fZGlydHkpIHtcbiAgICAgICAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLl9mYWN0b3J5LmZuKHRoaXMuX2VsZW1lbnQsIHRoaXMuX3R5cGUsIHRoaXMuX3ZhbHVlcywgaXNGaXJzdFJlbmRlciwgY3VycmVudFBsYXllciB8fCBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiBDbGFzc0FuZFN0eWxlUGxheWVyQnVpbGRlcjtcbn0oKSk7XG5mdW5jdGlvbiBnZXREaXJlY3RpdmVJbmRleEZyb21FbnRyeShjb250ZXh0LCBpbmRleCkge1xuICAgIHZhciB2YWx1ZSA9IGNvbnRleHRbaW5kZXggKyAzIC8qIFBsYXllckJ1aWxkZXJJbmRleE9mZnNldCAqL107XG4gICAgcmV0dXJuIHZhbHVlICYgNjU1MzUgLyogQml0TWFzayAqLztcbn1cbmZ1bmN0aW9uIGdldERpcmVjdGl2ZUluZGV4RnJvbVJlZ2lzdHJ5KGNvbnRleHQsIGRpcmVjdGl2ZSkge1xuICAgIHZhciBpbmRleCA9IGdldERpcmVjdGl2ZVJlZ2lzdHJ5VmFsdWVzSW5kZXhPZihjb250ZXh0WzEgLyogRGlyZWN0aXZlUmVnaXN0cnlQb3NpdGlvbiAqL10sIGRpcmVjdGl2ZSk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydE5vdEVxdWFsKGluZGV4LCAtMSwgXCJUaGUgcHJvdmlkZWQgZGlyZWN0aXZlIFwiICsgZGlyZWN0aXZlICsgXCIgaGFzIG5vdCBiZWVuIGFsbG9jYXRlZCB0byB0aGUgZWxlbWVudCdzIHN0eWxlL2NsYXNzIGJpbmRpbmdzXCIpO1xuICAgIHJldHVybiBpbmRleCA+IDAgPyBpbmRleCAvIDQgLyogU2l6ZSAqLyA6IDA7XG4gICAgLy8gcmV0dXJuIGluZGV4IC8gRGlyZWN0aXZlUmVnaXN0cnlWYWx1ZXNJbmRleC5TaXplO1xufVxuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlUmVnaXN0cnlWYWx1ZXNJbmRleE9mKGRpcmVjdGl2ZXMsIGRpcmVjdGl2ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkgKz0gNCAvKiBTaXplICovKSB7XG4gICAgICAgIGlmIChkaXJlY3RpdmVzW2ldID09PSBkaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxTdHlsaW5nVmFsdWVzSW5kZXhPZihrZXlWYWx1ZXMsIGtleSkge1xuICAgIGZvciAodmFyIGkgPSAxIC8qIEtleVZhbHVlU3RhcnRQb3NpdGlvbiAqLzsgaSA8IGtleVZhbHVlcy5sZW5ndGg7IGkgKz0gMiAvKiBTaXplICovKSB7XG4gICAgICAgIGlmIChrZXlWYWx1ZXNbaV0gPT09IGtleSlcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5mdW5jdGlvbiBnZXRTaW5nbGVQcm9wSW5kZXhWYWx1ZShjb250ZXh0LCBkaXJlY3RpdmVJbmRleCwgb2Zmc2V0LCBpc0NsYXNzQmFzZWQpIHtcbiAgICB2YXIgc2luZ2xlUHJvcE9mZnNldFJlZ2lzdHJ5SW5kZXggPSBjb250ZXh0WzEgLyogRGlyZWN0aXZlUmVnaXN0cnlQb3NpdGlvbiAqL11bKGRpcmVjdGl2ZUluZGV4ICogNCAvKiBTaXplICovKSArXG4gICAgICAgIDEgLyogU2luZ2xlUHJvcFZhbHVlc0luZGV4T2Zmc2V0ICovXTtcbiAgICB2YXIgb2Zmc2V0cyA9IGNvbnRleHRbNCAvKiBTaW5nbGVQcm9wT2Zmc2V0UG9zaXRpb25zICovXTtcbiAgICB2YXIgaW5kZXhGb3JPZmZzZXQgPSBzaW5nbGVQcm9wT2Zmc2V0UmVnaXN0cnlJbmRleCArXG4gICAgICAgIDIgLyogVmFsdWVTdGFydFBvc2l0aW9uICovICtcbiAgICAgICAgKGlzQ2xhc3NCYXNlZCA/XG4gICAgICAgICAgICBvZmZzZXRzW3NpbmdsZVByb3BPZmZzZXRSZWdpc3RyeUluZGV4ICsgMCAvKiBTdHlsZXNDb3VudFBvc2l0aW9uICovXSA6XG4gICAgICAgICAgICAwKSArXG4gICAgICAgIG9mZnNldDtcbiAgICByZXR1cm4gb2Zmc2V0c1tpbmRleEZvck9mZnNldF07XG59XG5mdW5jdGlvbiBnZXRTdHlsZVNhbml0aXplcihjb250ZXh0LCBkaXJlY3RpdmVJbmRleCkge1xuICAgIHZhciBkaXJzID0gY29udGV4dFsxIC8qIERpcmVjdGl2ZVJlZ2lzdHJ5UG9zaXRpb24gKi9dO1xuICAgIHZhciB2YWx1ZSA9IGRpcnNbZGlyZWN0aXZlSW5kZXggKiA0IC8qIFNpemUgKi8gK1xuICAgICAgICAzIC8qIFN0eWxlU2FuaXRpemVyT2Zmc2V0ICovXSB8fFxuICAgICAgICBkaXJzWzMgLyogU3R5bGVTYW5pdGl6ZXJPZmZzZXQgKi9dIHx8IG51bGw7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gaXNEaXJlY3RpdmVEaXJ0eShjb250ZXh0LCBkaXJlY3RpdmVJbmRleCkge1xuICAgIHZhciBkaXJzID0gY29udGV4dFsxIC8qIERpcmVjdGl2ZVJlZ2lzdHJ5UG9zaXRpb24gKi9dO1xuICAgIHJldHVybiBkaXJzW2RpcmVjdGl2ZUluZGV4ICogNCAvKiBTaXplICovICtcbiAgICAgICAgMiAvKiBEaXJ0eUZsYWdPZmZzZXQgKi9dO1xufVxuZnVuY3Rpb24gc2V0RGlyZWN0aXZlRGlydHkoY29udGV4dCwgZGlyZWN0aXZlSW5kZXgsIGRpcnR5WWVzKSB7XG4gICAgdmFyIGRpcnMgPSBjb250ZXh0WzEgLyogRGlyZWN0aXZlUmVnaXN0cnlQb3NpdGlvbiAqL107XG4gICAgZGlyc1tkaXJlY3RpdmVJbmRleCAqIDQgLyogU2l6ZSAqLyArXG4gICAgICAgIDIgLyogRGlydHlGbGFnT2Zmc2V0ICovXSA9IGRpcnR5WWVzO1xufVxuZnVuY3Rpb24gYWxsb3dWYWx1ZUNoYW5nZShjdXJyZW50VmFsdWUsIG5ld1ZhbHVlLCBjdXJyZW50RGlyZWN0aXZlT3duZXIsIG5ld0RpcmVjdGl2ZU93bmVyKSB7XG4gICAgLy8gdGhlIGNvZGUgYmVsb3cgcmVsaWVzIHRoZSBpbXBvcnRhbmNlIG9mIGRpcmVjdGl2ZSdzIGJlaW5nIHRpZWQgdG8gdGhlaXJcbiAgICAvLyBpbmRleCB2YWx1ZS4gVGhlIGluZGV4IHZhbHVlcyBmb3IgZWFjaCBkaXJlY3RpdmUgYXJlIGRlcml2ZWQgZnJvbSBiZWluZ1xuICAgIC8vIHJlZ2lzdGVyZWQgaW50byB0aGUgc3R5bGluZyBjb250ZXh0IGRpcmVjdGl2ZSByZWdpc3RyeS4gVGhlIG1vc3QgaW1wb3J0YW50XG4gICAgLy8gZGlyZWN0aXZlIGlzIHRoZSBwYXJlbnQgY29tcG9uZW50IGRpcmVjdGl2ZSAodGhlIHRlbXBsYXRlKSBhbmQgZWFjaCBkaXJlY3RpdmVcbiAgICAvLyB0aGF0IGlzIGFkZGVkIGFmdGVyIGlzIGNvbnNpZGVyZWQgbGVzcyBpbXBvcnRhbnQgdGhhbiB0aGUgcHJldmlvdXMgZW50cnkuIFRoaXNcbiAgICAvLyBwcmlvcml0aXphdGlvbiBvZiBkaXJlY3RpdmVzIGVuYWJsZXMgdGhlIHN0eWxpbmcgYWxnb3JpdGhtIHRvIGRlY2lkZSBpZiBhIHN0eWxlXG4gICAgLy8gb3IgY2xhc3Mgc2hvdWxkIGJlIGFsbG93ZWQgdG8gYmUgdXBkYXRlZC9yZXBsYWNlZCBpbmNhc2UgYW4gZWFybGllciBkaXJlY3RpdmVcbiAgICAvLyBhbHJlYWR5IHdyb3RlIHRvIHRoZSBleGFjdCBzYW1lIHN0eWxlLXByb3BlcnR5IG9yIGNsYXNzTmFtZSB2YWx1ZS4gSW4gb3RoZXIgd29yZHNcbiAgICAvLyAuLi4gdGhpcyBkZWNpZGVzIHdoYXQgdG8gZG8gaWYgYW5kIHdoZW4gdGhlcmUgaXMgYSBjb2xsaXNpb24uXG4gICAgaWYgKGN1cnJlbnRWYWx1ZSkge1xuICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgIC8vIGlmIGEgZGlyZWN0aXZlIGluZGV4IGlzIGxvd2VyIHRoYW4gaXQgYWx3YXlzIGhhcyBwcmlvcml0eSBvdmVyIHRoZVxuICAgICAgICAgICAgLy8gcHJldmlvdXMgZGlyZWN0aXZlJ3MgdmFsdWUuLi5cbiAgICAgICAgICAgIHJldHVybiBuZXdEaXJlY3RpdmVPd25lciA8PSBjdXJyZW50RGlyZWN0aXZlT3duZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBvbmx5IHdyaXRlIGEgbnVsbCB2YWx1ZSBpbmNhc2UgaXQncyB0aGUgc2FtZSBvd25lciB3cml0aW5nIGl0LlxuICAgICAgICAgICAgLy8gdGhpcyBhdm9pZHMgaGF2aW5nIGEgaGlnaGVyLXByaW9yaXR5IGRpcmVjdGl2ZSB3cml0ZSB0byBudWxsXG4gICAgICAgICAgICAvLyBvbmx5IHRvIGhhdmUgYSBsZXNzZXItcHJpb3JpdHkgZGlyZWN0aXZlIGNoYW5nZSByaWdodCB0byBhXG4gICAgICAgICAgICAvLyBub24tbnVsbCB2YWx1ZSBpbW1lZGlhdGVseSBhZnRlcndhcmRzLlxuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnREaXJlY3RpdmVPd25lciA9PT0gbmV3RGlyZWN0aXZlT3duZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgb25seSBkZXNpZ25lZCB0byBiZSBjYWxsZWQgZm9yIGBbY2xhc3NdYCBiaW5kaW5ncyB3aGVuXG4gKiBgW25nQ2xhc3NdYCAob3Igc29tZXRoaW5nIHRoYXQgdXNlcyBgY2xhc3NgIGFzIGFuIGlucHV0KSBpcyBwcmVzZW50LiBPbmNlXG4gKiBkaXJlY3RpdmUgaG9zdCBiaW5kaW5ncyBmdWxseSB3b3JrIGZvciBgW2NsYXNzXWAgYW5kIGBbc3R5bGVdYCBpbnB1dHNcbiAqIHRoZW4gdGhpcyBjYW4gYmUgZGVsZXRlZC5cbiAqL1xuZnVuY3Rpb24gZ2V0SW5pdGlhbENsYXNzTmFtZVZhbHVlKGNvbnRleHQpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gY29udGV4dFs2IC8qIENhY2hlZENsYXNzVmFsdWVPckluaXRpYWxDbGFzc1N0cmluZyAqL107XG4gICAgaWYgKGNsYXNzTmFtZSA9PSBudWxsKSB7XG4gICAgICAgIGNsYXNzTmFtZSA9ICcnO1xuICAgICAgICB2YXIgaW5pdGlhbENsYXNzVmFsdWVzID0gY29udGV4dFszIC8qIEluaXRpYWxDbGFzc1ZhbHVlc1Bvc2l0aW9uICovXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEgLyogS2V5VmFsdWVTdGFydFBvc2l0aW9uICovOyBpIDwgaW5pdGlhbENsYXNzVmFsdWVzLmxlbmd0aDsgaSArPSAyIC8qIFNpemUgKi8pIHtcbiAgICAgICAgICAgIHZhciBpc1ByZXNlbnQgPSBpbml0aWFsQ2xhc3NWYWx1ZXNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCkge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSArPSAoY2xhc3NOYW1lLmxlbmd0aCA/ICcgJyA6ICcnKSArIGluaXRpYWxDbGFzc1ZhbHVlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0WzYgLyogQ2FjaGVkQ2xhc3NWYWx1ZU9ySW5pdGlhbENsYXNzU3RyaW5nICovXSA9IGNsYXNzTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGNsYXNzTmFtZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHBlcm1hbmVudCBtYXJrZXIgcHJvbWlzZSB3aGljaCBzaWduaWZpZXMgdGhhdCB0aGUgY3VycmVudCBDRCB0cmVlIGlzXG4gKiBjbGVhbi5cbiAqL1xudmFyIF9DTEVBTl9QUk9NSVNFID0gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuLyoqXG4gKiBSZWZyZXNoZXMgdGhlIHZpZXcsIGV4ZWN1dGluZyB0aGUgZm9sbG93aW5nIHN0ZXBzIGluIHRoYXQgb3JkZXI6XG4gKiB0cmlnZ2VycyBpbml0IGhvb2tzLCByZWZyZXNoZXMgZHluYW1pYyBlbWJlZGRlZCB2aWV3cywgdHJpZ2dlcnMgY29udGVudCBob29rcywgc2V0cyBob3N0XG4gKiBiaW5kaW5ncywgcmVmcmVzaGVzIGNoaWxkIGNvbXBvbmVudHMuXG4gKiBOb3RlOiB2aWV3IGhvb2tzIGFyZSB0cmlnZ2VyZWQgbGF0ZXIgd2hlbiBsZWF2aW5nIHRoZSB2aWV3LlxuICovXG5mdW5jdGlvbiByZWZyZXNoRGVzY2VuZGFudFZpZXdzKGxWaWV3KSB7XG4gICAgdmFyIHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgc2V0IGJlZm9yZSBjaGlsZHJlbiBhcmUgcHJvY2Vzc2VkIHRvIHN1cHBvcnQgcmVjdXJzaXZlIGNvbXBvbmVudHNcbiAgICB0Vmlldy5maXJzdFRlbXBsYXRlUGFzcyA9IGZhbHNlO1xuICAgIHNldEZpcnN0VGVtcGxhdGVQYXNzKGZhbHNlKTtcbiAgICAvLyBJZiB0aGlzIGlzIGEgY3JlYXRpb24gcGFzcywgd2Ugc2hvdWxkIG5vdCBjYWxsIGxpZmVjeWNsZSBob29rcyBvciBldmFsdWF0ZSBiaW5kaW5ncy5cbiAgICAvLyBUaGlzIHdpbGwgYmUgZG9uZSBpbiB0aGUgdXBkYXRlIHBhc3MuXG4gICAgaWYgKCFpc0NyZWF0aW9uTW9kZShsVmlldykpIHtcbiAgICAgICAgdmFyIGNoZWNrTm9DaGFuZ2VzTW9kZSA9IGdldENoZWNrTm9DaGFuZ2VzTW9kZSgpO1xuICAgICAgICBleGVjdXRlSW5pdEhvb2tzKGxWaWV3LCB0VmlldywgY2hlY2tOb0NoYW5nZXNNb2RlKTtcbiAgICAgICAgcmVmcmVzaER5bmFtaWNFbWJlZGRlZFZpZXdzKGxWaWV3KTtcbiAgICAgICAgLy8gQ29udGVudCBxdWVyeSByZXN1bHRzIG11c3QgYmUgcmVmcmVzaGVkIGJlZm9yZSBjb250ZW50IGhvb2tzIGFyZSBjYWxsZWQuXG4gICAgICAgIHJlZnJlc2hDb250ZW50UXVlcmllcyh0Vmlldyk7XG4gICAgICAgIGV4ZWN1dGVIb29rcyhsVmlldywgdFZpZXcuY29udGVudEhvb2tzLCB0Vmlldy5jb250ZW50Q2hlY2tIb29rcywgY2hlY2tOb0NoYW5nZXNNb2RlKTtcbiAgICAgICAgc2V0SG9zdEJpbmRpbmdzKHRWaWV3LCBsVmlldyk7XG4gICAgfVxuICAgIHJlZnJlc2hDaGlsZENvbXBvbmVudHModFZpZXcuY29tcG9uZW50cyk7XG59XG4vKiogU2V0cyB0aGUgaG9zdCBiaW5kaW5ncyBmb3IgdGhlIGN1cnJlbnQgdmlldy4gKi9cbmZ1bmN0aW9uIHNldEhvc3RCaW5kaW5ncyh0Vmlldywgdmlld0RhdGEpIHtcbiAgICBpZiAodFZpZXcuZXhwYW5kb0luc3RydWN0aW9ucykge1xuICAgICAgICB2YXIgYmluZGluZ1Jvb3RJbmRleCA9IHZpZXdEYXRhW0JJTkRJTkdfSU5ERVhdID0gdFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXg7XG4gICAgICAgIHNldEJpbmRpbmdSb290KGJpbmRpbmdSb290SW5kZXgpO1xuICAgICAgICB2YXIgY3VycmVudERpcmVjdGl2ZUluZGV4ID0gLTE7XG4gICAgICAgIHZhciBjdXJyZW50RWxlbWVudEluZGV4ID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdFZpZXcuZXhwYW5kb0luc3RydWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGluc3RydWN0aW9uID0gdFZpZXcuZXhwYW5kb0luc3RydWN0aW9uc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdHJ1Y3Rpb24gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluc3RydWN0aW9uIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmVnYXRpdmUgbnVtYmVycyBtZWFuIHRoYXQgd2UgYXJlIHN0YXJ0aW5nIG5ldyBFWFBBTkRPIGJsb2NrIGFuZCBuZWVkIHRvIHVwZGF0ZVxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY3VycmVudCBlbGVtZW50IGFuZCBkaXJlY3RpdmUgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50SW5kZXggPSAtaW5zdHJ1Y3Rpb247XG4gICAgICAgICAgICAgICAgICAgIC8vIEluamVjdG9yIGJsb2NrIGFuZCBwcm92aWRlcnMgYXJlIHRha2VuIGludG8gYWNjb3VudC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVyQ291bnQgPSB0Vmlldy5leHBhbmRvSW5zdHJ1Y3Rpb25zWysraV07XG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdSb290SW5kZXggKz0gSU5KRUNUT1JfQkxPT01fUEFSRU5UX1NJWkUgKyBwcm92aWRlckNvdW50O1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGlyZWN0aXZlSW5kZXggPSBiaW5kaW5nUm9vdEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBlaXRoZXIgdGhlIGluamVjdG9yIHNpemUgKHNvIHRoZSBiaW5kaW5nIHJvb3QgY2FuIHNraXAgb3ZlciBkaXJlY3RpdmVzXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBnZXQgdG8gdGhlIGZpcnN0IHNldCBvZiBob3N0IGJpbmRpbmdzIG9uIHRoaXMgbm9kZSkgb3IgdGhlIGhvc3QgdmFyIGNvdW50XG4gICAgICAgICAgICAgICAgICAgIC8vICh0byBnZXQgdG8gdGhlIG5leHQgc2V0IG9mIGhvc3QgYmluZGluZ3Mgb24gdGhpcyBub2RlKS5cbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ1Jvb3RJbmRleCArPSBpbnN0cnVjdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0QmluZGluZ1Jvb3QoYmluZGluZ1Jvb3RJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIG5vdCBhIG51bWJlciwgaXQncyBhIGhvc3QgYmluZGluZyBmdW5jdGlvbiB0aGF0IG5lZWRzIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3RGF0YVtCSU5ESU5HX0lOREVYXSA9IGJpbmRpbmdSb290SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGluc3RydWN0aW9uKDIgLyogVXBkYXRlICovLCByZWFkRWxlbWVudFZhbHVlKHZpZXdEYXRhW2N1cnJlbnREaXJlY3RpdmVJbmRleF0pLCBjdXJyZW50RWxlbWVudEluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudERpcmVjdGl2ZUluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKiogUmVmcmVzaGVzIGNvbnRlbnQgcXVlcmllcyBmb3IgYWxsIGRpcmVjdGl2ZXMgaW4gdGhlIGdpdmVuIHZpZXcuICovXG5mdW5jdGlvbiByZWZyZXNoQ29udGVudFF1ZXJpZXModFZpZXcpIHtcbiAgICBpZiAodFZpZXcuY29udGVudFF1ZXJpZXMgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRWaWV3LmNvbnRlbnRRdWVyaWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlRGVmSWR4ID0gdFZpZXcuY29udGVudFF1ZXJpZXNbaV07XG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlRGVmID0gdFZpZXcuZGF0YVtkaXJlY3RpdmVEZWZJZHhdO1xuICAgICAgICAgICAgZGlyZWN0aXZlRGVmLmNvbnRlbnRRdWVyaWVzUmVmcmVzaChkaXJlY3RpdmVEZWZJZHggLSBIRUFERVJfT0ZGU0VULCB0Vmlldy5jb250ZW50UXVlcmllc1tpICsgMV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqIFJlZnJlc2hlcyBjaGlsZCBjb21wb25lbnRzIGluIHRoZSBjdXJyZW50IHZpZXcuICovXG5mdW5jdGlvbiByZWZyZXNoQ2hpbGRDb21wb25lbnRzKGNvbXBvbmVudHMpIHtcbiAgICBpZiAoY29tcG9uZW50cyAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29tcG9uZW50UmVmcmVzaChjb21wb25lbnRzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUxWaWV3KHBhcmVudExWaWV3LCB0VmlldywgY29udGV4dCwgZmxhZ3MsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXIsIHNhbml0aXplciwgaW5qZWN0b3IpIHtcbiAgICB2YXIgbFZpZXcgPSB0Vmlldy5ibHVlcHJpbnQuc2xpY2UoKTtcbiAgICBsVmlld1tGTEFHU10gPSBmbGFncyB8IDEgLyogQ3JlYXRpb25Nb2RlICovIHwgMTYgLyogQXR0YWNoZWQgKi8gfCAzMiAvKiBSdW5Jbml0ICovIHxcbiAgICAgICAgMiAvKiBGaXJzdExWaWV3UGFzcyAqLztcbiAgICBsVmlld1tQQVJFTlRdID0gbFZpZXdbREVDTEFSQVRJT05fVklFV10gPSBwYXJlbnRMVmlldztcbiAgICBsVmlld1tDT05URVhUXSA9IGNvbnRleHQ7XG4gICAgbFZpZXdbUkVOREVSRVJfRkFDVE9SWV0gPSAocmVuZGVyZXJGYWN0b3J5IHx8IHBhcmVudExWaWV3ICYmIHBhcmVudExWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChsVmlld1tSRU5ERVJFUl9GQUNUT1JZXSwgJ1JlbmRlcmVyRmFjdG9yeSBpcyByZXF1aXJlZCcpO1xuICAgIGxWaWV3W1JFTkRFUkVSXSA9IChyZW5kZXJlciB8fCBwYXJlbnRMVmlldyAmJiBwYXJlbnRMVmlld1tSRU5ERVJFUl0pO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGxWaWV3W1JFTkRFUkVSXSwgJ1JlbmRlcmVyIGlzIHJlcXVpcmVkJyk7XG4gICAgbFZpZXdbU0FOSVRJWkVSXSA9IHNhbml0aXplciB8fCBwYXJlbnRMVmlldyAmJiBwYXJlbnRMVmlld1tTQU5JVElaRVJdIHx8IG51bGw7XG4gICAgbFZpZXdbSU5KRUNUT1JdID0gaW5qZWN0b3IgfHwgcGFyZW50TFZpZXcgJiYgcGFyZW50TFZpZXdbSU5KRUNUT1JdIHx8IG51bGw7XG4gICAgcmV0dXJuIGxWaWV3O1xufVxuZnVuY3Rpb24gY3JlYXRlTm9kZUF0SW5kZXgoaW5kZXgsIHR5cGUsIG5hdGl2ZSwgbmFtZSwgYXR0cnMpIHtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHZhciB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICB2YXIgYWRqdXN0ZWRJbmRleCA9IGluZGV4ICsgSEVBREVSX09GRlNFVDtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0TGVzc1RoYW4oYWRqdXN0ZWRJbmRleCwgbFZpZXcubGVuZ3RoLCBcIlNsb3Qgc2hvdWxkIGhhdmUgYmVlbiBpbml0aWFsaXplZCB3aXRoIG51bGxcIik7XG4gICAgbFZpZXdbYWRqdXN0ZWRJbmRleF0gPSBuYXRpdmU7XG4gICAgdmFyIHROb2RlID0gdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XTtcbiAgICBpZiAodE5vZGUgPT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPKG1pc2tvKTogUmVmYWN0b3IgY3JlYXRlVE5vZGUgc28gdGhhdCBpdCBkb2VzIG5vdCBkZXBlbmQgb24gTFZpZXcuXG4gICAgICAgIHROb2RlID0gdFZpZXcuZGF0YVthZGp1c3RlZEluZGV4XSA9IGNyZWF0ZVROb2RlKGxWaWV3LCB0eXBlLCBhZGp1c3RlZEluZGV4LCBuYW1lLCBhdHRycywgbnVsbCk7XG4gICAgfVxuICAgIC8vIE5vdyBsaW5rIG91cnNlbHZlcyBpbnRvIHRoZSB0cmVlLlxuICAgIC8vIFdlIG5lZWQgdGhpcyBldmVuIGlmIHROb2RlIGV4aXN0cywgb3RoZXJ3aXNlIHdlIG1pZ2h0IGVuZCB1cCBwb2ludGluZyB0byB1bmV4aXN0aW5nIHROb2RlcyB3aGVuXG4gICAgLy8gd2UgdXNlIGkxOG4gKGVzcGVjaWFsbHkgd2l0aCBJQ1UgZXhwcmVzc2lvbnMgdGhhdCB1cGRhdGUgdGhlIERPTSBkdXJpbmcgdGhlIHVwZGF0ZSBwaGFzZSkuXG4gICAgdmFyIHByZXZpb3VzT3JQYXJlbnRUTm9kZSA9IGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpO1xuICAgIHZhciBpc1BhcmVudCA9IGdldElzUGFyZW50KCk7XG4gICAgaWYgKHByZXZpb3VzT3JQYXJlbnRUTm9kZSkge1xuICAgICAgICBpZiAoaXNQYXJlbnQgJiYgcHJldmlvdXNPclBhcmVudFROb2RlLmNoaWxkID09IG51bGwgJiZcbiAgICAgICAgICAgICh0Tm9kZS5wYXJlbnQgIT09IG51bGwgfHwgcHJldmlvdXNPclBhcmVudFROb2RlLnR5cGUgPT09IDIgLyogVmlldyAqLykpIHtcbiAgICAgICAgICAgIC8vIFdlIGFyZSBpbiB0aGUgc2FtZSB2aWV3LCB3aGljaCBtZWFucyB3ZSBhcmUgYWRkaW5nIGNvbnRlbnQgbm9kZSB0byB0aGUgcGFyZW50IHZpZXcuXG4gICAgICAgICAgICBwcmV2aW91c09yUGFyZW50VE5vZGUuY2hpbGQgPSB0Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaXNQYXJlbnQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzT3JQYXJlbnRUTm9kZS5uZXh0ID0gdE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRWaWV3LmZpcnN0Q2hpbGQgPT0gbnVsbCkge1xuICAgICAgICB0Vmlldy5maXJzdENoaWxkID0gdE5vZGU7XG4gICAgfVxuICAgIHNldFByZXZpb3VzT3JQYXJlbnRUTm9kZSh0Tm9kZSk7XG4gICAgc2V0SXNQYXJlbnQodHJ1ZSk7XG4gICAgcmV0dXJuIHROb2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlVmlld05vZGUoaW5kZXgsIHZpZXcpIHtcbiAgICAvLyBWaWV3IG5vZGVzIGFyZSBub3Qgc3RvcmVkIGluIGRhdGEgYmVjYXVzZSB0aGV5IGNhbiBiZSBhZGRlZCAvIHJlbW92ZWQgYXQgcnVudGltZSAod2hpY2hcbiAgICAvLyB3b3VsZCBjYXVzZSBpbmRpY2VzIHRvIGNoYW5nZSkuIFRoZWlyIFROb2RlcyBhcmUgaW5zdGVhZCBzdG9yZWQgaW4gdFZpZXcubm9kZS5cbiAgICBpZiAodmlld1tUVklFV10ubm9kZSA9PSBudWxsKSB7XG4gICAgICAgIHZpZXdbVFZJRVddLm5vZGUgPSBjcmVhdGVUTm9kZSh2aWV3LCAyIC8qIFZpZXcgKi8sIGluZGV4LCBudWxsLCBudWxsLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdbSE9TVF9OT0RFXSA9IHZpZXdbVFZJRVddLm5vZGU7XG59XG4vKipcbiAqIFdoZW4gZWxlbWVudHMgYXJlIGNyZWF0ZWQgZHluYW1pY2FsbHkgYWZ0ZXIgYSB2aWV3IGJsdWVwcmludCBpcyBjcmVhdGVkIChlLmcuIHRocm91Z2hcbiAqIGkxOG5BcHBseSgpIG9yIENvbXBvbmVudEZhY3RvcnkuY3JlYXRlKSwgd2UgbmVlZCB0byBhZGp1c3QgdGhlIGJsdWVwcmludCBmb3IgZnV0dXJlXG4gKiB0ZW1wbGF0ZSBwYXNzZXMuXG4gKi9cbmZ1bmN0aW9uIGFsbG9jRXhwYW5kbyh2aWV3KSB7XG4gICAgdmFyIHRWaWV3ID0gdmlld1tUVklFV107XG4gICAgaWYgKHRWaWV3LmZpcnN0VGVtcGxhdGVQYXNzKSB7XG4gICAgICAgIHRWaWV3LmV4cGFuZG9TdGFydEluZGV4Kys7XG4gICAgICAgIHRWaWV3LmJsdWVwcmludC5wdXNoKG51bGwpO1xuICAgICAgICB0Vmlldy5kYXRhLnB1c2gobnVsbCk7XG4gICAgICAgIHZpZXcucHVzaChudWxsKTtcbiAgICB9XG59XG4vKipcbiAqIFVzZWQgZm9yIGNyZWF0aW5nIHRoZSBMVmlld05vZGUgb2YgYSBkeW5hbWljIGVtYmVkZGVkIHZpZXcsXG4gKiBlaXRoZXIgdGhyb3VnaCBWaWV3Q29udGFpbmVyUmVmLmNyZWF0ZUVtYmVkZGVkVmlldygpIG9yIFRlbXBsYXRlUmVmLmNyZWF0ZUVtYmVkZGVkVmlldygpLlxuICogU3VjaCBsVmlld05vZGUgd2lsbCB0aGVuIGJlIHJlbmRlcmVyIHdpdGggcmVuZGVyRW1iZWRkZWRUZW1wbGF0ZSgpIChzZWUgYmVsb3cpLlxuICovXG5mdW5jdGlvbiBjcmVhdGVFbWJlZGRlZFZpZXdBbmROb2RlKHRWaWV3LCBjb250ZXh0LCBkZWNsYXJhdGlvblZpZXcsIHJlbmRlcmVyLCBxdWVyaWVzLCBpbmplY3RvckluZGV4KSB7XG4gICAgdmFyIF9pc1BhcmVudCA9IGdldElzUGFyZW50KCk7XG4gICAgdmFyIF9wcmV2aW91c09yUGFyZW50VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICBzZXRJc1BhcmVudCh0cnVlKTtcbiAgICBzZXRQcmV2aW91c09yUGFyZW50VE5vZGUobnVsbCk7XG4gICAgdmFyIGxWaWV3ID0gY3JlYXRlTFZpZXcoZGVjbGFyYXRpb25WaWV3LCB0VmlldywgY29udGV4dCwgNCAvKiBDaGVja0Fsd2F5cyAqLyk7XG4gICAgbFZpZXdbREVDTEFSQVRJT05fVklFV10gPSBkZWNsYXJhdGlvblZpZXc7XG4gICAgaWYgKHF1ZXJpZXMpIHtcbiAgICAgICAgbFZpZXdbUVVFUklFU10gPSBxdWVyaWVzLmNyZWF0ZVZpZXcoKTtcbiAgICB9XG4gICAgY3JlYXRlVmlld05vZGUoLTEsIGxWaWV3KTtcbiAgICBpZiAodFZpZXcuZmlyc3RUZW1wbGF0ZVBhc3MpIHtcbiAgICAgICAgdFZpZXcubm9kZS5pbmplY3RvckluZGV4ID0gaW5qZWN0b3JJbmRleDtcbiAgICB9XG4gICAgc2V0SXNQYXJlbnQoX2lzUGFyZW50KTtcbiAgICBzZXRQcmV2aW91c09yUGFyZW50VE5vZGUoX3ByZXZpb3VzT3JQYXJlbnRUTm9kZSk7XG4gICAgcmV0dXJuIGxWaWV3O1xufVxuLyoqXG4gKiBVc2VkIGZvciByZW5kZXJpbmcgZW1iZWRkZWQgdmlld3MgKGUuZy4gZHluYW1pY2FsbHkgY3JlYXRlZCB2aWV3cylcbiAqXG4gKiBEeW5hbWljYWxseSBjcmVhdGVkIHZpZXdzIG11c3Qgc3RvcmUvcmV0cmlldmUgdGhlaXIgVFZpZXdzIGRpZmZlcmVudGx5IGZyb20gY29tcG9uZW50IHZpZXdzXG4gKiBiZWNhdXNlIHRoZWlyIHRlbXBsYXRlIGZ1bmN0aW9ucyBhcmUgbmVzdGVkIGluIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbnMgb2YgdGhlaXIgaG9zdHMsIGNyZWF0aW5nXG4gKiBjbG9zdXJlcy4gSWYgdGhlaXIgaG9zdCB0ZW1wbGF0ZSBoYXBwZW5zIHRvIGJlIGFuIGVtYmVkZGVkIHRlbXBsYXRlIGluIGEgbG9vcCAoZS5nLiBuZ0ZvciBpbnNpZGVcbiAqIGFuIG5nRm9yKSwgdGhlIG5lc3Rpbmcgd291bGQgbWVhbiB3ZSdkIGhhdmUgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIHRoZSB0ZW1wbGF0ZSBmdW5jdGlvbiwgc28gd2VcbiAqIGNhbid0IHN0b3JlIFRWaWV3cyBpbiB0aGUgdGVtcGxhdGUgZnVuY3Rpb24gaXRzZWxmIChhcyB3ZSBkbyBmb3IgY29tcHMpLiBJbnN0ZWFkLCB3ZSBzdG9yZSB0aGVcbiAqIFRWaWV3IGZvciBkeW5hbWljYWxseSBjcmVhdGVkIHZpZXdzIG9uIHRoZWlyIGhvc3QgVE5vZGUsIHdoaWNoIG9ubHkgaGFzIG9uZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyRW1iZWRkZWRUZW1wbGF0ZSh2aWV3VG9SZW5kZXIsIHRWaWV3LCBjb250ZXh0KSB7XG4gICAgdmFyIF9pc1BhcmVudCA9IGdldElzUGFyZW50KCk7XG4gICAgdmFyIF9wcmV2aW91c09yUGFyZW50VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICBzZXRJc1BhcmVudCh0cnVlKTtcbiAgICBzZXRQcmV2aW91c09yUGFyZW50VE5vZGUobnVsbCk7XG4gICAgdmFyIG9sZFZpZXc7XG4gICAgaWYgKHZpZXdUb1JlbmRlcltGTEFHU10gJiAxMjggLyogSXNSb290ICovKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSByb290IHZpZXcgaW5zaWRlIHRoZSB2aWV3IHRyZWVcbiAgICAgICAgdGlja1Jvb3RDb250ZXh0KGdldFJvb3RDb250ZXh0KHZpZXdUb1JlbmRlcikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldElzUGFyZW50KHRydWUpO1xuICAgICAgICAgICAgc2V0UHJldmlvdXNPclBhcmVudFROb2RlKG51bGwpO1xuICAgICAgICAgICAgb2xkVmlldyA9IGVudGVyVmlldyh2aWV3VG9SZW5kZXIsIHZpZXdUb1JlbmRlcltIT1NUX05PREVdKTtcbiAgICAgICAgICAgIG5hbWVzcGFjZUhUTUwoKTtcbiAgICAgICAgICAgIHRWaWV3LnRlbXBsYXRlKGdldFJlbmRlckZsYWdzKHZpZXdUb1JlbmRlciksIGNvbnRleHQpO1xuICAgICAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHNldCB0byBmYWxzZSBpbW1lZGlhdGVseSBhZnRlciB0aGUgZmlyc3QgY3JlYXRpb24gcnVuIGJlY2F1c2UgaW4gYW5cbiAgICAgICAgICAgIC8vIG5nRm9yIGxvb3AsIGFsbCB0aGUgdmlld3Mgd2lsbCBiZSBjcmVhdGVkIHRvZ2V0aGVyIGJlZm9yZSB1cGRhdGUgbW9kZSBydW5zIGFuZCB0dXJuc1xuICAgICAgICAgICAgLy8gb2ZmIGZpcnN0VGVtcGxhdGVQYXNzLiBJZiB3ZSBkb24ndCBzZXQgaXQgaGVyZSwgaW5zdGFuY2VzIHdpbGwgcGVyZm9ybSBkaXJlY3RpdmVcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nLCBldGMgYWdhaW4gYW5kIGFnYWluLlxuICAgICAgICAgICAgdmlld1RvUmVuZGVyW1RWSUVXXS5maXJzdFRlbXBsYXRlUGFzcyA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0Rmlyc3RUZW1wbGF0ZVBhc3MoZmFsc2UpO1xuICAgICAgICAgICAgcmVmcmVzaERlc2NlbmRhbnRWaWV3cyh2aWV3VG9SZW5kZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgbGVhdmVWaWV3KG9sZFZpZXcpO1xuICAgICAgICAgICAgc2V0SXNQYXJlbnQoX2lzUGFyZW50KTtcbiAgICAgICAgICAgIHNldFByZXZpb3VzT3JQYXJlbnRUTm9kZShfcHJldmlvdXNPclBhcmVudFROb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0cmlldmVzIGEgY29udGV4dCBhdCB0aGUgbGV2ZWwgc3BlY2lmaWVkIGFuZCBzYXZlcyBpdCBhcyB0aGUgZ2xvYmFsLCBjb250ZXh0Vmlld0RhdGEuXG4gKiBXaWxsIGdldCB0aGUgbmV4dCBsZXZlbCB1cCBpZiBsZXZlbCBpcyBub3Qgc3BlY2lmaWVkLlxuICpcbiAqIFRoaXMgaXMgdXNlZCB0byBzYXZlIGNvbnRleHRzIG9mIHBhcmVudCB2aWV3cyBzbyB0aGV5IGNhbiBiZSBib3VuZCBpbiBlbWJlZGRlZCB2aWV3cywgb3JcbiAqIGluIGNvbmp1bmN0aW9uIHdpdGggcmVmZXJlbmNlKCkgdG8gYmluZCBhIHJlZiBmcm9tIGEgcGFyZW50IHZpZXcuXG4gKlxuICogQHBhcmFtIGxldmVsIFRoZSByZWxhdGl2ZSBsZXZlbCBvZiB0aGUgdmlldyBmcm9tIHdoaWNoIHRvIGdyYWIgY29udGV4dCBjb21wYXJlZCB0byBjb250ZXh0VmV3RGF0YVxuICogQHJldHVybnMgY29udGV4dFxuICovXG5mdW5jdGlvbiBuZXh0Q29udGV4dChsZXZlbCkge1xuICAgIGlmIChsZXZlbCA9PT0gdm9pZCAwKSB7IGxldmVsID0gMTsgfVxuICAgIHJldHVybiBuZXh0Q29udGV4dEltcGwobGV2ZWwpO1xufVxuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50T3JUZW1wbGF0ZShob3N0VmlldywgY29udGV4dCwgdGVtcGxhdGVGbikge1xuICAgIHZhciByZW5kZXJlckZhY3RvcnkgPSBob3N0Vmlld1tSRU5ERVJFUl9GQUNUT1JZXTtcbiAgICB2YXIgb2xkVmlldyA9IGVudGVyVmlldyhob3N0VmlldywgaG9zdFZpZXdbSE9TVF9OT0RFXSk7XG4gICAgdmFyIG5vcm1hbEV4ZWN1dGlvblBhdGggPSAhZ2V0Q2hlY2tOb0NoYW5nZXNNb2RlKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKG5vcm1hbEV4ZWN1dGlvblBhdGggJiYgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKSB7XG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuYmVnaW4oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDcmVhdGlvbk1vZGUoaG9zdFZpZXcpKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGlvbiBtb2RlIHBhc3NcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZUZuKSB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlSFRNTCgpO1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlRm4oMSAvKiBDcmVhdGUgKi8sIGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVmcmVzaERlc2NlbmRhbnRWaWV3cyhob3N0Vmlldyk7XG4gICAgICAgICAgICBob3N0Vmlld1tGTEFHU10gJj0gfjEgLyogQ3JlYXRpb25Nb2RlICovO1xuICAgICAgICB9XG4gICAgICAgIC8vIHVwZGF0ZSBtb2RlIHBhc3NcbiAgICAgICAgdGVtcGxhdGVGbiAmJiB0ZW1wbGF0ZUZuKDIgLyogVXBkYXRlICovLCBjb250ZXh0KTtcbiAgICAgICAgcmVmcmVzaERlc2NlbmRhbnRWaWV3cyhob3N0Vmlldyk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBpZiAobm9ybWFsRXhlY3V0aW9uUGF0aCAmJiByZW5kZXJlckZhY3RvcnkuZW5kKSB7XG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuZW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVhdmVWaWV3KG9sZFZpZXcpO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gb2YgcmVuZGVyaW5nIGZsYWdzIGRlcGVuZGluZyBvbiB3aGVuIHRoZVxuICogdGVtcGxhdGUgaXMgaW4gY3JlYXRpb24gbW9kZSBvciB1cGRhdGUgbW9kZS4gVXBkYXRlIGJsb2NrIGFuZCBjcmVhdGUgYmxvY2sgYXJlXG4gKiBhbHdheXMgcnVuIHNlcGFyYXRlbHkuXG4gKi9cbmZ1bmN0aW9uIGdldFJlbmRlckZsYWdzKHZpZXcpIHtcbiAgICByZXR1cm4gaXNDcmVhdGlvbk1vZGUodmlldykgPyAxIC8qIENyZWF0ZSAqLyA6IDIgLyogVXBkYXRlICovO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gTmFtZXNwYWNlXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIF9jdXJyZW50TmFtZXNwYWNlID0gbnVsbDtcbmZ1bmN0aW9uIG5hbWVzcGFjZVNWRygpIHtcbiAgICBfY3VycmVudE5hbWVzcGFjZSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG59XG5mdW5jdGlvbiBuYW1lc3BhY2VNYXRoTUwoKSB7XG4gICAgX2N1cnJlbnROYW1lc3BhY2UgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoTUwvJztcbn1cbmZ1bmN0aW9uIG5hbWVzcGFjZUhUTUwoKSB7XG4gICAgX2N1cnJlbnROYW1lc3BhY2UgPSBudWxsO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gRWxlbWVudFxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8qKlxuICogQ3JlYXRlcyBhbiBlbXB0eSBlbGVtZW50IHVzaW5nIHtAbGluayBlbGVtZW50U3RhcnR9IGFuZCB7QGxpbmsgZWxlbWVudEVuZH1cbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIERPTSBOb2RlXG4gKiBAcGFyYW0gYXR0cnMgU3RhdGljYWxseSBib3VuZCBzZXQgb2YgYXR0cmlidXRlcywgY2xhc3NlcywgYW5kIHN0eWxlcyB0byBiZSB3cml0dGVuIGludG8gdGhlIERPTVxuICogICAgICAgICAgICAgIGVsZW1lbnQgb24gY3JlYXRpb24uIFVzZSBbQXR0cmlidXRlTWFya2VyXSB0byBkZW5vdGUgdGhlIG1lYW5pbmcgb2YgdGhpcyBhcnJheS5cbiAqIEBwYXJhbSBsb2NhbFJlZnMgQSBzZXQgb2YgbG9jYWwgcmVmZXJlbmNlIGJpbmRpbmdzIG9uIHRoZSBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBlbGVtZW50KGluZGV4LCBuYW1lLCBhdHRycywgbG9jYWxSZWZzKSB7XG4gICAgZWxlbWVudFN0YXJ0KGluZGV4LCBuYW1lLCBhdHRycywgbG9jYWxSZWZzKTtcbiAgICBlbGVtZW50RW5kKCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBsb2dpY2FsIGNvbnRhaW5lciBmb3Igb3RoZXIgbm9kZXMgKDxuZy1jb250YWluZXI+KSBiYWNrZWQgYnkgYSBjb21tZW50IG5vZGUgaW4gdGhlIERPTS5cbiAqIFRoZSBpbnN0cnVjdGlvbiBtdXN0IGxhdGVyIGJlIGZvbGxvd2VkIGJ5IGBlbGVtZW50Q29udGFpbmVyRW5kKClgIGNhbGwuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBMVmlldyBhcnJheVxuICogQHBhcmFtIGF0dHJzIFNldCBvZiBhdHRyaWJ1dGVzIHRvIGJlIHVzZWQgd2hlbiBtYXRjaGluZyBkaXJlY3RpdmVzLlxuICogQHBhcmFtIGxvY2FsUmVmcyBBIHNldCBvZiBsb2NhbCByZWZlcmVuY2UgYmluZGluZ3Mgb24gdGhlIGVsZW1lbnQuXG4gKlxuICogRXZlbiBpZiB0aGlzIGluc3RydWN0aW9uIGFjY2VwdHMgYSBzZXQgb2YgYXR0cmlidXRlcyBubyBhY3R1YWwgYXR0cmlidXRlIHZhbHVlcyBhcmUgcHJvcGFnYXRlZCB0b1xuICogdGhlIERPTSAoYXMgYSBjb21tZW50IG5vZGUgY2FuJ3QgaGF2ZSBhdHRyaWJ1dGVzKS4gQXR0cmlidXRlcyBhcmUgaGVyZSBvbmx5IGZvciBkaXJlY3RpdmVcbiAqIG1hdGNoaW5nIHB1cnBvc2VzIGFuZCBzZXR0aW5nIGluaXRpYWwgaW5wdXRzIG9mIGRpcmVjdGl2ZXMuXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRDb250YWluZXJTdGFydChpbmRleCwgYXR0cnMsIGxvY2FsUmVmcykge1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgdmFyIHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIHZhciByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICB2YXIgdGFnTmFtZSA9ICduZy1jb250YWluZXInO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChsVmlld1tCSU5ESU5HX0lOREVYXSwgdFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgsICdlbGVtZW50IGNvbnRhaW5lcnMgc2hvdWxkIGJlIGNyZWF0ZWQgYmVmb3JlIGFueSBiaW5kaW5ncycpO1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJDcmVhdGVDb21tZW50Kys7XG4gICAgdmFyIG5hdGl2ZSA9IHJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQobmdEZXZNb2RlID8gdGFnTmFtZSA6ICcnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGF0YUluUmFuZ2UobFZpZXcsIGluZGV4IC0gMSk7XG4gICAgdmFyIHROb2RlID0gY3JlYXRlTm9kZUF0SW5kZXgoaW5kZXgsIDQgLyogRWxlbWVudENvbnRhaW5lciAqLywgbmF0aXZlLCB0YWdOYW1lLCBhdHRycyB8fCBudWxsKTtcbiAgICBhcHBlbmRDaGlsZChuYXRpdmUsIHROb2RlLCBsVmlldyk7XG4gICAgY3JlYXRlRGlyZWN0aXZlc0FuZExvY2Fscyh0VmlldywgbFZpZXcsIGxvY2FsUmVmcyk7XG4gICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgbFZpZXcpO1xufVxuLyoqIE1hcmsgdGhlIGVuZCBvZiB0aGUgPG5nLWNvbnRhaW5lcj4uICovXG5mdW5jdGlvbiBlbGVtZW50Q29udGFpbmVyRW5kKCkge1xuICAgIHZhciBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHZhciB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBpZiAoZ2V0SXNQYXJlbnQoKSkge1xuICAgICAgICBzZXRJc1BhcmVudChmYWxzZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0SGFzUGFyZW50KGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpKTtcbiAgICAgICAgcHJldmlvdXNPclBhcmVudFROb2RlID0gcHJldmlvdXNPclBhcmVudFROb2RlLnBhcmVudDtcbiAgICAgICAgc2V0UHJldmlvdXNPclBhcmVudFROb2RlKHByZXZpb3VzT3JQYXJlbnRUTm9kZSk7XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb2RlVHlwZShwcmV2aW91c09yUGFyZW50VE5vZGUsIDQgLyogRWxlbWVudENvbnRhaW5lciAqLyk7XG4gICAgdmFyIGN1cnJlbnRRdWVyaWVzID0gbFZpZXdbUVVFUklFU107XG4gICAgaWYgKGN1cnJlbnRRdWVyaWVzKSB7XG4gICAgICAgIGxWaWV3W1FVRVJJRVNdID0gY3VycmVudFF1ZXJpZXMuYWRkTm9kZShwcmV2aW91c09yUGFyZW50VE5vZGUpO1xuICAgIH1cbiAgICBxdWV1ZUxpZmVjeWNsZUhvb2tzKHRWaWV3LCBwcmV2aW91c09yUGFyZW50VE5vZGUpO1xufVxuLyoqXG4gKiBDcmVhdGUgRE9NIGVsZW1lbnQuIFRoZSBpbnN0cnVjdGlvbiBtdXN0IGxhdGVyIGJlIGZvbGxvd2VkIGJ5IGBlbGVtZW50RW5kKClgIGNhbGwuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBMVmlldyBhcnJheVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgRE9NIE5vZGVcbiAqIEBwYXJhbSBhdHRycyBTdGF0aWNhbGx5IGJvdW5kIHNldCBvZiBhdHRyaWJ1dGVzLCBjbGFzc2VzLCBhbmQgc3R5bGVzIHRvIGJlIHdyaXR0ZW4gaW50byB0aGUgRE9NXG4gKiAgICAgICAgICAgICAgZWxlbWVudCBvbiBjcmVhdGlvbi4gVXNlIFtBdHRyaWJ1dGVNYXJrZXJdIHRvIGRlbm90ZSB0aGUgbWVhbmluZyBvZiB0aGlzIGFycmF5LlxuICogQHBhcmFtIGxvY2FsUmVmcyBBIHNldCBvZiBsb2NhbCByZWZlcmVuY2UgYmluZGluZ3Mgb24gdGhlIGVsZW1lbnQuXG4gKlxuICogQXR0cmlidXRlcyBhbmQgbG9jYWxSZWZzIGFyZSBwYXNzZWQgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aGVyZSBlbGVtZW50cyB3aXRoIGFuIGV2ZW4gaW5kZXhcbiAqIGhvbGQgYW4gYXR0cmlidXRlIG5hbWUgYW5kIGVsZW1lbnRzIHdpdGggYW4gb2RkIGluZGV4IGhvbGQgYW4gYXR0cmlidXRlIHZhbHVlLCBleC46XG4gKiBbJ2lkJywgJ3dhcm5pbmc1JywgJ2NsYXNzJywgJ2FsZXJ0J11cbiAqL1xuZnVuY3Rpb24gZWxlbWVudFN0YXJ0KGluZGV4LCBuYW1lLCBhdHRycywgbG9jYWxSZWZzKSB7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGxWaWV3W0JJTkRJTkdfSU5ERVhdLCB0Vmlldy5iaW5kaW5nU3RhcnRJbmRleCwgJ2VsZW1lbnRzIHNob3VsZCBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgYmluZGluZ3MgJyk7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUVsZW1lbnQrKztcbiAgICB2YXIgbmF0aXZlID0gZWxlbWVudENyZWF0ZShuYW1lKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGF0YUluUmFuZ2UobFZpZXcsIGluZGV4IC0gMSk7XG4gICAgdmFyIHROb2RlID0gY3JlYXRlTm9kZUF0SW5kZXgoaW5kZXgsIDMgLyogRWxlbWVudCAqLywgbmF0aXZlLCBuYW1lLCBhdHRycyB8fCBudWxsKTtcbiAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgLy8gaXQncyBpbXBvcnRhbnQgdG8gb25seSBwcmVwYXJlIHN0eWxpbmctcmVsYXRlZCBkYXRhc3RydWN0dXJlcyBvbmNlIGZvciBhIGdpdmVuXG4gICAgICAgIC8vIHROb2RlIGFuZCBub3QgZWFjaCB0aW1lIGFuIGVsZW1lbnQgaXMgY3JlYXRlZC4gQWxzbywgdGhlIHN0eWxpbmcgY29kZSBpcyBkZXNpZ25lZFxuICAgICAgICAvLyB0byBiZSBwYXRjaGVkIGFuZCBjb25zdHJ1Y3RlZCBhdCB2YXJpb3VzIHBvaW50cywgYnV0IG9ubHkgdXAgdW50aWwgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgLy8gaXMgY3JlYXRlZC4gVGhlbiB0aGUgc3R5bGluZyBjb250ZXh0IGlzIGxvY2tlZCBhbmQgY2FuIG9ubHkgYmUgaW5zdGFudGlhdGVkIGZvciBlYWNoXG4gICAgICAgIC8vIHN1Y2Nlc3NpdmUgZWxlbWVudCB0aGF0IGlzIGNyZWF0ZWQuXG4gICAgICAgIGlmICh0Vmlldy5maXJzdFRlbXBsYXRlUGFzcyAmJiAhdE5vZGUuc3R5bGluZ1RlbXBsYXRlICYmIGhhc1N0eWxpbmcoYXR0cnMpKSB7XG4gICAgICAgICAgICB0Tm9kZS5zdHlsaW5nVGVtcGxhdGUgPSBpbml0aWFsaXplU3RhdGljQ29udGV4dChhdHRycyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VXBBdHRyaWJ1dGVzKG5hdGl2ZSwgYXR0cnMpO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChuYXRpdmUsIHROb2RlLCBsVmlldyk7XG4gICAgY3JlYXRlRGlyZWN0aXZlc0FuZExvY2Fscyh0VmlldywgbFZpZXcsIGxvY2FsUmVmcyk7XG4gICAgLy8gYW55IGltbWVkaWF0ZSBjaGlsZHJlbiBvZiBhIGNvbXBvbmVudCBvciB0ZW1wbGF0ZSBjb250YWluZXIgbXVzdCBiZSBwcmUtZW1wdGl2ZWx5XG4gICAgLy8gbW9ua2V5LXBhdGNoZWQgd2l0aCB0aGUgY29tcG9uZW50IHZpZXcgZGF0YSBzbyB0aGF0IHRoZSBlbGVtZW50IGNhbiBiZSBpbnNwZWN0ZWRcbiAgICAvLyBsYXRlciBvbiB1c2luZyBhbnkgZWxlbWVudCBkaXNjb3ZlcnkgdXRpbGl0eSBtZXRob2RzIChzZWUgYGVsZW1lbnRfZGlzY292ZXJ5LnRzYClcbiAgICBpZiAoZ2V0RWxlbWVudERlcHRoQ291bnQoKSA9PT0gMCkge1xuICAgICAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgfVxuICAgIGluY3JlYXNlRWxlbWVudERlcHRoQ291bnQoKTtcbiAgICAvLyBpZiBhIGRpcmVjdGl2ZSBjb250YWlucyBhIGhvc3QgYmluZGluZyBmb3IgXCJjbGFzc1wiIHRoZW4gYWxsIGNsYXNzLWJhc2VkIGRhdGEgd2lsbFxuICAgIC8vIGZsb3cgdGhyb3VnaCB0aGF0IChleGNlcHQgZm9yIGBbY2xhc3MucHJvcF1gIGJpbmRpbmdzKS4gVGhpcyBhbHNvIGluY2x1ZGVzIGluaXRpYWxcbiAgICAvLyBzdGF0aWMgY2xhc3MgdmFsdWVzIGFzIHdlbGwuIChOb3RlIHRoYXQgdGhpcyB3aWxsIGJlIGZpeGVkIG9uY2UgbWFwLWJhc2VkIGBbc3R5bGVdYFxuICAgIC8vIGFuZCBgW2NsYXNzXWAgYmluZGluZ3Mgd29yayBmb3IgbXVsdGlwbGUgZGlyZWN0aXZlcy4pXG4gICAgaWYgKHRWaWV3LmZpcnN0VGVtcGxhdGVQYXNzKSB7XG4gICAgICAgIHZhciBpbnB1dERhdGEgPSBpbml0aWFsaXplVE5vZGVJbnB1dHModE5vZGUpO1xuICAgICAgICBpZiAoaW5wdXREYXRhICYmIGlucHV0RGF0YS5oYXNPd25Qcm9wZXJ0eSgnY2xhc3MnKSkge1xuICAgICAgICAgICAgdE5vZGUuZmxhZ3MgfD0gOCAvKiBoYXNDbGFzc0lucHV0ICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRoZXJlIGlzIG5vIHBvaW50IGluIHJlbmRlcmluZyBzdHlsZXMgd2hlbiBhIGNsYXNzIGRpcmVjdGl2ZSBpcyBwcmVzZW50IHNpbmNlXG4gICAgLy8gaXQgd2lsbCB0YWtlIHRoYXQgb3ZlciBmb3IgdXMgKHRoaXMgd2lsbCBiZSByZW1vdmVkIG9uY2UgI0ZXLTg4MiBpcyBpbikuXG4gICAgaWYgKHROb2RlLnN0eWxpbmdUZW1wbGF0ZSAmJiAodE5vZGUuZmxhZ3MgJiA4IC8qIGhhc0NsYXNzSW5wdXQgKi8pID09PSAwKSB7XG4gICAgICAgIHJlbmRlckluaXRpYWxTdHlsZXNBbmRDbGFzc2VzKG5hdGl2ZSwgdE5vZGUuc3R5bGluZ1RlbXBsYXRlLCBsVmlld1tSRU5ERVJFUl0pO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5hdGl2ZSBlbGVtZW50IGZyb20gYSB0YWcgbmFtZSwgdXNpbmcgYSByZW5kZXJlci5cbiAqIEBwYXJhbSBuYW1lIHRoZSB0YWcgbmFtZVxuICogQHBhcmFtIG92ZXJyaWRkZW5SZW5kZXJlciBPcHRpb25hbCBBIHJlbmRlcmVyIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IG9uZVxuICogQHJldHVybnMgdGhlIGVsZW1lbnQgY3JlYXRlZFxuICovXG5mdW5jdGlvbiBlbGVtZW50Q3JlYXRlKG5hbWUsIG92ZXJyaWRkZW5SZW5kZXJlcikge1xuICAgIHZhciBuYXRpdmU7XG4gICAgdmFyIHJlbmRlcmVyVG9Vc2UgPSBvdmVycmlkZGVuUmVuZGVyZXIgfHwgZ2V0TFZpZXcoKVtSRU5ERVJFUl07XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyVG9Vc2UpKSB7XG4gICAgICAgIG5hdGl2ZSA9IHJlbmRlcmVyVG9Vc2UuY3JlYXRlRWxlbWVudChuYW1lLCBfY3VycmVudE5hbWVzcGFjZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoX2N1cnJlbnROYW1lc3BhY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG5hdGl2ZSA9IHJlbmRlcmVyVG9Vc2UuY3JlYXRlRWxlbWVudChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hdGl2ZSA9IHJlbmRlcmVyVG9Vc2UuY3JlYXRlRWxlbWVudE5TKF9jdXJyZW50TmFtZXNwYWNlLCBuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmF0aXZlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGRpcmVjdGl2ZSBpbnN0YW5jZXMgYW5kIHBvcHVsYXRlcyBsb2NhbCByZWZzLlxuICpcbiAqIEBwYXJhbSBsb2NhbFJlZnMgTG9jYWwgcmVmcyBvZiB0aGUgbm9kZSBpbiBxdWVzdGlvblxuICogQHBhcmFtIGxvY2FsUmVmRXh0cmFjdG9yIG1hcHBpbmcgZnVuY3Rpb24gdGhhdCBleHRyYWN0cyBsb2NhbCByZWYgdmFsdWUgZnJvbSBUTm9kZVxuICovXG5mdW5jdGlvbiBjcmVhdGVEaXJlY3RpdmVzQW5kTG9jYWxzKHRWaWV3LCB2aWV3RGF0YSwgbG9jYWxSZWZzLCBsb2NhbFJlZkV4dHJhY3Rvcikge1xuICAgIGlmIChsb2NhbFJlZkV4dHJhY3RvciA9PT0gdm9pZCAwKSB7IGxvY2FsUmVmRXh0cmFjdG9yID0gZ2V0TmF0aXZlQnlUTm9kZTsgfVxuICAgIGlmICghZ2V0QmluZGluZ3NFbmFibGVkKCkpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgcHJldmlvdXNPclBhcmVudFROb2RlID0gZ2V0UHJldmlvdXNPclBhcmVudFROb2RlKCk7XG4gICAgaWYgKGdldEZpcnN0VGVtcGxhdGVQYXNzKCkpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5maXJzdFRlbXBsYXRlUGFzcysrO1xuICAgICAgICByZXNvbHZlRGlyZWN0aXZlcyh0Vmlldywgdmlld0RhdGEsIGZpbmREaXJlY3RpdmVNYXRjaGVzKHRWaWV3LCB2aWV3RGF0YSwgcHJldmlvdXNPclBhcmVudFROb2RlKSwgcHJldmlvdXNPclBhcmVudFROb2RlLCBsb2NhbFJlZnMgfHwgbnVsbCk7XG4gICAgfVxuICAgIGluc3RhbnRpYXRlQWxsRGlyZWN0aXZlcyh0Vmlldywgdmlld0RhdGEsIHByZXZpb3VzT3JQYXJlbnRUTm9kZSk7XG4gICAgaW52b2tlRGlyZWN0aXZlc0hvc3RCaW5kaW5ncyh0Vmlldywgdmlld0RhdGEsIHByZXZpb3VzT3JQYXJlbnRUTm9kZSk7XG4gICAgc2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhKHZpZXdEYXRhLCBwcmV2aW91c09yUGFyZW50VE5vZGUsIGxvY2FsUmVmRXh0cmFjdG9yKTtcbn1cbi8qKlxuICogVGFrZXMgYSBsaXN0IG9mIGxvY2FsIG5hbWVzIGFuZCBpbmRpY2VzIGFuZCBwdXNoZXMgdGhlIHJlc29sdmVkIGxvY2FsIHZhcmlhYmxlIHZhbHVlc1xuICogdG8gTFZpZXcgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhleSBhcmUgbG9hZGVkIGluIHRoZSB0ZW1wbGF0ZSB3aXRoIGxvYWQoKS5cbiAqL1xuZnVuY3Rpb24gc2F2ZVJlc29sdmVkTG9jYWxzSW5EYXRhKHZpZXdEYXRhLCB0Tm9kZSwgbG9jYWxSZWZFeHRyYWN0b3IpIHtcbiAgICB2YXIgbG9jYWxOYW1lcyA9IHROb2RlLmxvY2FsTmFtZXM7XG4gICAgaWYgKGxvY2FsTmFtZXMpIHtcbiAgICAgICAgdmFyIGxvY2FsSW5kZXggPSB0Tm9kZS5pbmRleCArIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYWxOYW1lcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbG9jYWxOYW1lc1tpICsgMV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA9PT0gLTEgP1xuICAgICAgICAgICAgICAgIGxvY2FsUmVmRXh0cmFjdG9yKHROb2RlLCB2aWV3RGF0YSkgOlxuICAgICAgICAgICAgICAgIHZpZXdEYXRhW2luZGV4XTtcbiAgICAgICAgICAgIHZpZXdEYXRhW2xvY2FsSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogR2V0cyBUVmlldyBmcm9tIGEgdGVtcGxhdGUgZnVuY3Rpb24gb3IgY3JlYXRlcyBhIG5ldyBUVmlld1xuICogaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0LlxuICpcbiAqIEBwYXJhbSB0ZW1wbGF0ZUZuIFRoZSB0ZW1wbGF0ZSBmcm9tIHdoaWNoIHRvIGdldCBzdGF0aWMgZGF0YVxuICogQHBhcmFtIGNvbnN0cyBUaGUgbnVtYmVyIG9mIG5vZGVzLCBsb2NhbCByZWZzLCBhbmQgcGlwZXMgaW4gdGhpcyB2aWV3XG4gKiBAcGFyYW0gdmFycyBUaGUgbnVtYmVyIG9mIGJpbmRpbmdzIGFuZCBwdXJlIGZ1bmN0aW9uIGJpbmRpbmdzIGluIHRoaXMgdmlld1xuICogQHBhcmFtIGRpcmVjdGl2ZXMgRGlyZWN0aXZlIGRlZnMgdGhhdCBzaG91bGQgYmUgc2F2ZWQgb24gVFZpZXdcbiAqIEBwYXJhbSBwaXBlcyBQaXBlIGRlZnMgdGhhdCBzaG91bGQgYmUgc2F2ZWQgb24gVFZpZXdcbiAqIEByZXR1cm5zIFRWaWV3XG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlVFZpZXcodGVtcGxhdGVGbiwgY29uc3RzLCB2YXJzLCBkaXJlY3RpdmVzLCBwaXBlcywgdmlld1F1ZXJ5KSB7XG4gICAgLy8gVE9ETyhtaXNrbyk6IHJlYWRpbmcgYG5nUHJpdmF0ZURhdGFgIGhlcmUgaXMgcHJvYmxlbWF0aWMgZm9yIHR3byByZWFzb25zXG4gICAgLy8gMS4gSXQgaXMgYSBtZWdhbW9ycGhpYyBjYWxsIG9uIGVhY2ggaW52b2NhdGlvbi5cbiAgICAvLyAyLiBGb3IgbmVzdGVkIGVtYmVkZGVkIHZpZXdzIChuZ0ZvciBpbnNpZGUgbmdGb3IpIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSBpcyBwZXJcbiAgICAvLyAgICBvdXRlciB0ZW1wbGF0ZSBpbnZvY2F0aW9uLCB3aGljaCBtZWFucyB0aGF0IG5vIHN1Y2ggcHJvcGVydHkgd2lsbCBleGlzdFxuICAgIC8vIENvcnJlY3Qgc29sdXRpb24gaXMgdG8gb25seSBwdXQgYG5nUHJpdmF0ZURhdGFgIG9uIHRoZSBDb21wb25lbnQgdGVtcGxhdGVcbiAgICAvLyBhbmQgbm90IG9uIGVtYmVkZGVkIHRlbXBsYXRlcy5cbiAgICByZXR1cm4gdGVtcGxhdGVGbi5uZ1ByaXZhdGVEYXRhIHx8XG4gICAgICAgICh0ZW1wbGF0ZUZuLm5nUHJpdmF0ZURhdGEgPVxuICAgICAgICAgICAgY3JlYXRlVFZpZXcoLTEsIHRlbXBsYXRlRm4sIGNvbnN0cywgdmFycywgZGlyZWN0aXZlcywgcGlwZXMsIHZpZXdRdWVyeSkpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgVFZpZXcgaW5zdGFuY2VcbiAqXG4gKiBAcGFyYW0gdmlld0luZGV4IFRoZSB2aWV3QmxvY2tJZCBmb3IgaW5saW5lIHZpZXdzLCBvciAtMSBpZiBpdCdzIGEgY29tcG9uZW50L2R5bmFtaWNcbiAqIEBwYXJhbSB0ZW1wbGF0ZUZuIFRlbXBsYXRlIGZ1bmN0aW9uXG4gKiBAcGFyYW0gY29uc3RzIFRoZSBudW1iZXIgb2Ygbm9kZXMsIGxvY2FsIHJlZnMsIGFuZCBwaXBlcyBpbiB0aGlzIHRlbXBsYXRlXG4gKiBAcGFyYW0gZGlyZWN0aXZlcyBSZWdpc3RyeSBvZiBkaXJlY3RpdmVzIGZvciB0aGlzIHZpZXdcbiAqIEBwYXJhbSBwaXBlcyBSZWdpc3RyeSBvZiBwaXBlcyBmb3IgdGhpcyB2aWV3XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRWaWV3KHZpZXdJbmRleCwgdGVtcGxhdGVGbiwgY29uc3RzLCB2YXJzLCBkaXJlY3RpdmVzLCBwaXBlcywgdmlld1F1ZXJ5KSB7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS50VmlldysrO1xuICAgIHZhciBiaW5kaW5nU3RhcnRJbmRleCA9IEhFQURFUl9PRkZTRVQgKyBjb25zdHM7XG4gICAgLy8gVGhpcyBsZW5ndGggZG9lcyBub3QgeWV0IGNvbnRhaW4gaG9zdCBiaW5kaW5ncyBmcm9tIGNoaWxkIGRpcmVjdGl2ZXMgYmVjYXVzZSBhdCB0aGlzIHBvaW50LFxuICAgIC8vIHdlIGRvbid0IGtub3cgd2hpY2ggZGlyZWN0aXZlcyBhcmUgYWN0aXZlIG9uIHRoaXMgdGVtcGxhdGUuIEFzIHNvb24gYXMgYSBkaXJlY3RpdmUgaXMgbWF0Y2hlZFxuICAgIC8vIHRoYXQgaGFzIGEgaG9zdCBiaW5kaW5nLCB3ZSB3aWxsIHVwZGF0ZSB0aGUgYmx1ZXByaW50IHdpdGggdGhhdCBkZWYncyBob3N0VmFycyBjb3VudC5cbiAgICB2YXIgaW5pdGlhbFZpZXdMZW5ndGggPSBiaW5kaW5nU3RhcnRJbmRleCArIHZhcnM7XG4gICAgdmFyIGJsdWVwcmludCA9IGNyZWF0ZVZpZXdCbHVlcHJpbnQoYmluZGluZ1N0YXJ0SW5kZXgsIGluaXRpYWxWaWV3TGVuZ3RoKTtcbiAgICByZXR1cm4gYmx1ZXByaW50W1RWSUVXXSA9IHtcbiAgICAgICAgaWQ6IHZpZXdJbmRleCxcbiAgICAgICAgYmx1ZXByaW50OiBibHVlcHJpbnQsXG4gICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZUZuLFxuICAgICAgICB2aWV3UXVlcnk6IHZpZXdRdWVyeSxcbiAgICAgICAgbm9kZTogbnVsbCxcbiAgICAgICAgZGF0YTogYmx1ZXByaW50LnNsaWNlKCksXG4gICAgICAgIGNoaWxkSW5kZXg6IC0xLFxuICAgICAgICBiaW5kaW5nU3RhcnRJbmRleDogYmluZGluZ1N0YXJ0SW5kZXgsXG4gICAgICAgIGV4cGFuZG9TdGFydEluZGV4OiBpbml0aWFsVmlld0xlbmd0aCxcbiAgICAgICAgZXhwYW5kb0luc3RydWN0aW9uczogbnVsbCxcbiAgICAgICAgZmlyc3RUZW1wbGF0ZVBhc3M6IHRydWUsXG4gICAgICAgIGluaXRIb29rczogbnVsbCxcbiAgICAgICAgY2hlY2tIb29rczogbnVsbCxcbiAgICAgICAgY29udGVudEhvb2tzOiBudWxsLFxuICAgICAgICBjb250ZW50Q2hlY2tIb29rczogbnVsbCxcbiAgICAgICAgdmlld0hvb2tzOiBudWxsLFxuICAgICAgICB2aWV3Q2hlY2tIb29rczogbnVsbCxcbiAgICAgICAgZGVzdHJveUhvb2tzOiBudWxsLFxuICAgICAgICBwaXBlRGVzdHJveUhvb2tzOiBudWxsLFxuICAgICAgICBjbGVhbnVwOiBudWxsLFxuICAgICAgICBjb250ZW50UXVlcmllczogbnVsbCxcbiAgICAgICAgY29tcG9uZW50czogbnVsbCxcbiAgICAgICAgZGlyZWN0aXZlUmVnaXN0cnk6IHR5cGVvZiBkaXJlY3RpdmVzID09PSAnZnVuY3Rpb24nID8gZGlyZWN0aXZlcygpIDogZGlyZWN0aXZlcyxcbiAgICAgICAgcGlwZVJlZ2lzdHJ5OiB0eXBlb2YgcGlwZXMgPT09ICdmdW5jdGlvbicgPyBwaXBlcygpIDogcGlwZXMsXG4gICAgICAgIGZpcnN0Q2hpbGQ6IG51bGwsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdCbHVlcHJpbnQoYmluZGluZ1N0YXJ0SW5kZXgsIGluaXRpYWxWaWV3TGVuZ3RoKSB7XG4gICAgdmFyIGJsdWVwcmludCA9IG5ldyBBcnJheShpbml0aWFsVmlld0xlbmd0aClcbiAgICAgICAgLmZpbGwobnVsbCwgMCwgYmluZGluZ1N0YXJ0SW5kZXgpXG4gICAgICAgIC5maWxsKE5PX0NIQU5HRSwgYmluZGluZ1N0YXJ0SW5kZXgpO1xuICAgIGJsdWVwcmludFtDT05UQUlORVJfSU5ERVhdID0gLTE7XG4gICAgYmx1ZXByaW50W0JJTkRJTkdfSU5ERVhdID0gYmluZGluZ1N0YXJ0SW5kZXg7XG4gICAgcmV0dXJuIGJsdWVwcmludDtcbn1cbmZ1bmN0aW9uIHNldFVwQXR0cmlidXRlcyhuYXRpdmUsIGF0dHJzKSB7XG4gICAgdmFyIHJlbmRlcmVyID0gZ2V0TFZpZXcoKVtSRU5ERVJFUl07XG4gICAgdmFyIGlzUHJvYyA9IGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhdHRycy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGF0dHJOYW1lID0gYXR0cnNbaSsrXTtcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRyTmFtZSA9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAwIC8qIE5hbWVzcGFjZVVSSSAqLykge1xuICAgICAgICAgICAgICAgIC8vIE5hbWVzcGFjZWQgYXR0cmlidXRlc1xuICAgICAgICAgICAgICAgIHZhciBuYW1lc3BhY2VVUkkgPSBhdHRyc1tpKytdO1xuICAgICAgICAgICAgICAgIHZhciBhdHRyTmFtZV8xID0gYXR0cnNbaSsrXTtcbiAgICAgICAgICAgICAgICB2YXIgYXR0clZhbCA9IGF0dHJzW2krK107XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldEF0dHJpYnV0ZSsrO1xuICAgICAgICAgICAgICAgIGlzUHJvYyA/XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0QXR0cmlidXRlKG5hdGl2ZSwgYXR0ck5hbWVfMSwgYXR0clZhbCwgbmFtZXNwYWNlVVJJKSA6XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZS5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2VVUkksIGF0dHJOYW1lXzEsIGF0dHJWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQWxsIG90aGVyIGBBdHRyaWJ1dGVNYXJrZXJgcyBhcmUgaWdub3JlZCBoZXJlLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8vIGF0dHJOYW1lIGlzIHN0cmluZztcbiAgICAgICAgICAgIHZhciBhdHRyVmFsID0gYXR0cnNbaSsrXTtcbiAgICAgICAgICAgIGlmIChhdHRyTmFtZSAhPT0gTkdfUFJPSkVDVF9BU19BVFRSX05BTUUpIHtcbiAgICAgICAgICAgICAgICAvLyBTdGFuZGFyZCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclNldEF0dHJpYnV0ZSsrO1xuICAgICAgICAgICAgICAgIGlmIChpc0FuaW1hdGlvblByb3AoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1Byb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldFByb3BlcnR5KG5hdGl2ZSwgYXR0ck5hbWUsIGF0dHJWYWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpc1Byb2MgP1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0QXR0cmlidXRlKG5hdGl2ZSwgYXR0ck5hbWUsIGF0dHJWYWwpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZS5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIGF0dHJWYWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yKHRleHQsIHRva2VuKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihcIlJlbmRlcmVyOiBcIiArIHRleHQgKyBcIiBbXCIgKyBzdHJpbmdpZnkkMSh0b2tlbikgKyBcIl1cIik7XG59XG4vKipcbiAqIExvY2F0ZXMgdGhlIGhvc3QgbmF0aXZlIGVsZW1lbnQsIHVzZWQgZm9yIGJvb3RzdHJhcHBpbmcgZXhpc3Rpbmcgbm9kZXMgaW50byByZW5kZXJpbmcgcGlwZWxpbmUuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRPclNlbGVjdG9yIFJlbmRlciBlbGVtZW50IG9yIENTUyBzZWxlY3RvciB0byBsb2NhdGUgdGhlIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGxvY2F0ZUhvc3RFbGVtZW50KGZhY3RvcnksIGVsZW1lbnRPclNlbGVjdG9yKSB7XG4gICAgdmFyIGRlZmF1bHRSZW5kZXJlciA9IGZhY3RvcnkuY3JlYXRlUmVuZGVyZXIobnVsbCwgbnVsbCk7XG4gICAgdmFyIHJOb2RlID0gdHlwZW9mIGVsZW1lbnRPclNlbGVjdG9yID09PSAnc3RyaW5nJyA/XG4gICAgICAgIChpc1Byb2NlZHVyYWxSZW5kZXJlcihkZWZhdWx0UmVuZGVyZXIpID9cbiAgICAgICAgICAgIGRlZmF1bHRSZW5kZXJlci5zZWxlY3RSb290RWxlbWVudChlbGVtZW50T3JTZWxlY3RvcikgOlxuICAgICAgICAgICAgZGVmYXVsdFJlbmRlcmVyLnF1ZXJ5U2VsZWN0b3IoZWxlbWVudE9yU2VsZWN0b3IpKSA6XG4gICAgICAgIGVsZW1lbnRPclNlbGVjdG9yO1xuICAgIGlmIChuZ0Rldk1vZGUgJiYgIXJOb2RlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudE9yU2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSG9zdCBub2RlIHdpdGggc2VsZWN0b3Igbm90IGZvdW5kOicsIGVsZW1lbnRPclNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdIb3N0IG5vZGUgaXMgcmVxdWlyZWQ6JywgZWxlbWVudE9yU2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByTm9kZTtcbn1cbi8qKlxuICogQWRkcyBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgY3VycmVudCBub2RlLlxuICpcbiAqIElmIGFuIG91dHB1dCBleGlzdHMgb24gb25lIG9mIHRoZSBub2RlJ3MgZGlyZWN0aXZlcywgaXQgYWxzbyBzdWJzY3JpYmVzIHRvIHRoZSBvdXRwdXRcbiAqIGFuZCBzYXZlcyB0aGUgc3Vic2NyaXB0aW9uIGZvciBsYXRlciBjbGVhbnVwLlxuICpcbiAqIEBwYXJhbSBldmVudE5hbWUgTmFtZSBvZiB0aGUgZXZlbnRcbiAqIEBwYXJhbSBsaXN0ZW5lckZuIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBldmVudCBlbWl0c1xuICogQHBhcmFtIHVzZUNhcHR1cmUgV2hldGhlciBvciBub3QgdG8gdXNlIGNhcHR1cmUgaW4gZXZlbnQgbGlzdGVuZXIuXG4gKi9cbmZ1bmN0aW9uIGxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXJGbiwgdXNlQ2FwdHVyZSkge1xuICAgIGlmICh1c2VDYXB0dXJlID09PSB2b2lkIDApIHsgdXNlQ2FwdHVyZSA9IGZhbHNlOyB9XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgdE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICB2YXIgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgdmFyIGZpcnN0VGVtcGxhdGVQYXNzID0gdFZpZXcuZmlyc3RUZW1wbGF0ZVBhc3M7XG4gICAgdmFyIHRDbGVhbnVwID0gZmlyc3RUZW1wbGF0ZVBhc3MgJiYgKHRWaWV3LmNsZWFudXAgfHwgKHRWaWV3LmNsZWFudXAgPSBbXSkpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb2RlT2ZQb3NzaWJsZVR5cGVzKHROb2RlLCAzIC8qIEVsZW1lbnQgKi8sIDAgLyogQ29udGFpbmVyICovLCA0IC8qIEVsZW1lbnRDb250YWluZXIgKi8pO1xuICAgIC8vIGFkZCBuYXRpdmUgZXZlbnQgbGlzdGVuZXIgLSBhcHBsaWNhYmxlIHRvIGVsZW1lbnRzIG9ubHlcbiAgICBpZiAodE5vZGUudHlwZSA9PT0gMyAvKiBFbGVtZW50ICovKSB7XG4gICAgICAgIHZhciBuYXRpdmUgPSBnZXROYXRpdmVCeVROb2RlKHROb2RlLCBsVmlldyk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJBZGRFdmVudExpc3RlbmVyKys7XG4gICAgICAgIHZhciByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgdmFyIGxDbGVhbnVwID0gZ2V0Q2xlYW51cChsVmlldyk7XG4gICAgICAgIHZhciBsQ2xlYW51cEluZGV4ID0gbENsZWFudXAubGVuZ3RoO1xuICAgICAgICB2YXIgdXNlQ2FwdHVyZU9yU3ViSWR4ID0gdXNlQ2FwdHVyZTtcbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gbWF0Y2ggY3VycmVudCBiZWhhdmlvciwgbmF0aXZlIERPTSBldmVudCBsaXN0ZW5lcnMgbXVzdCBiZSBhZGRlZCBmb3IgYWxsXG4gICAgICAgIC8vIGV2ZW50cyAoaW5jbHVkaW5nIG91dHB1dHMpLlxuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgICAgICB2YXIgY2xlYW51cEZuID0gcmVuZGVyZXIubGlzdGVuKG5hdGl2ZSwgZXZlbnROYW1lLCBsaXN0ZW5lckZuKTtcbiAgICAgICAgICAgIGxDbGVhbnVwLnB1c2gobGlzdGVuZXJGbiwgY2xlYW51cEZuKTtcbiAgICAgICAgICAgIHVzZUNhcHR1cmVPclN1YklkeCA9IGxDbGVhbnVwSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHdyYXBwZWRMaXN0ZW5lciA9IHdyYXBMaXN0ZW5lcldpdGhQcmV2ZW50RGVmYXVsdChsaXN0ZW5lckZuKTtcbiAgICAgICAgICAgIG5hdGl2ZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgd3JhcHBlZExpc3RlbmVyLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgICAgIGxDbGVhbnVwLnB1c2god3JhcHBlZExpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0Q2xlYW51cCAmJiB0Q2xlYW51cC5wdXNoKGV2ZW50TmFtZSwgdE5vZGUuaW5kZXgsIGxDbGVhbnVwSW5kZXgsIHVzZUNhcHR1cmVPclN1YklkeCk7XG4gICAgfVxuICAgIC8vIHN1YnNjcmliZSB0byBkaXJlY3RpdmUgb3V0cHV0c1xuICAgIGlmICh0Tm9kZS5vdXRwdXRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gaWYgd2UgY3JlYXRlIFROb2RlIGhlcmUsIGlucHV0cyBtdXN0IGJlIHVuZGVmaW5lZCBzbyB3ZSBrbm93IHRoZXkgc3RpbGwgbmVlZCB0byBiZVxuICAgICAgICAvLyBjaGVja2VkXG4gICAgICAgIHROb2RlLm91dHB1dHMgPSBnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyh0Tm9kZSwgMSAvKiBPdXRwdXQgKi8pO1xuICAgIH1cbiAgICB2YXIgb3V0cHV0cyA9IHROb2RlLm91dHB1dHM7XG4gICAgdmFyIHByb3BzO1xuICAgIGlmIChvdXRwdXRzICYmIChwcm9wcyA9IG91dHB1dHNbZXZlbnROYW1lXSkpIHtcbiAgICAgICAgdmFyIHByb3BzTGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgICBpZiAocHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBsQ2xlYW51cCA9IGdldENsZWFudXAobFZpZXcpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wc0xlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERhdGFJblJhbmdlKGxWaWV3LCBwcm9wc1tpXSk7XG4gICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IGxWaWV3W3Byb3BzW2ldXVtwcm9wc1tpICsgMV1dLnN1YnNjcmliZShsaXN0ZW5lckZuKTtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gbENsZWFudXAubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxDbGVhbnVwLnB1c2gobGlzdGVuZXJGbiwgc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB0Q2xlYW51cCAmJiB0Q2xlYW51cC5wdXNoKGV2ZW50TmFtZSwgdE5vZGUuaW5kZXgsIGlkeCwgLShpZHggKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFNhdmVzIGNvbnRleHQgZm9yIHRoaXMgY2xlYW51cCBmdW5jdGlvbiBpbiBMVmlldy5jbGVhbnVwSW5zdGFuY2VzLlxuICpcbiAqIE9uIHRoZSBmaXJzdCB0ZW1wbGF0ZSBwYXNzLCBzYXZlcyBpbiBUVmlldzpcbiAqIC0gQ2xlYW51cCBmdW5jdGlvblxuICogLSBJbmRleCBvZiBjb250ZXh0IHdlIGp1c3Qgc2F2ZWQgaW4gTFZpZXcuY2xlYW51cEluc3RhbmNlc1xuICovXG5mdW5jdGlvbiBzdG9yZUNsZWFudXBXaXRoQ29udGV4dChsVmlldywgY29udGV4dCwgY2xlYW51cEZuKSB7XG4gICAgdmFyIGxDbGVhbnVwID0gZ2V0Q2xlYW51cChsVmlldyk7XG4gICAgbENsZWFudXAucHVzaChjb250ZXh0KTtcbiAgICBpZiAobFZpZXdbVFZJRVddLmZpcnN0VGVtcGxhdGVQYXNzKSB7XG4gICAgICAgIGdldFRWaWV3Q2xlYW51cChsVmlldykucHVzaChjbGVhbnVwRm4sIGxDbGVhbnVwLmxlbmd0aCAtIDEpO1xuICAgIH1cbn1cbi8qKlxuICogU2F2ZXMgdGhlIGNsZWFudXAgZnVuY3Rpb24gaXRzZWxmIGluIExWaWV3LmNsZWFudXBJbnN0YW5jZXMuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgZm9yIGZ1bmN0aW9ucyB0aGF0IGFyZSB3cmFwcGVkIHdpdGggdGhlaXIgY29udGV4dHMsIGxpa2UgaW4gcmVuZGVyZXIyXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogT24gdGhlIGZpcnN0IHRlbXBsYXRlIHBhc3MsIHRoZSBpbmRleCBvZiB0aGUgY2xlYW51cCBmdW5jdGlvbiBpcyBzYXZlZCBpbiBUVmlldy5cbiAqL1xuZnVuY3Rpb24gc3RvcmVDbGVhbnVwRm4odmlldywgY2xlYW51cEZuKSB7XG4gICAgZ2V0Q2xlYW51cCh2aWV3KS5wdXNoKGNsZWFudXBGbik7XG4gICAgaWYgKHZpZXdbVFZJRVddLmZpcnN0VGVtcGxhdGVQYXNzKSB7XG4gICAgICAgIGdldFRWaWV3Q2xlYW51cCh2aWV3KS5wdXNoKHZpZXdbQ0xFQU5VUF0ubGVuZ3RoIC0gMSwgbnVsbCk7XG4gICAgfVxufVxuLyoqIE1hcmsgdGhlIGVuZCBvZiB0aGUgZWxlbWVudC4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRFbmQoKSB7XG4gICAgdmFyIHByZXZpb3VzT3JQYXJlbnRUTm9kZSA9IGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpO1xuICAgIGlmIChnZXRJc1BhcmVudCgpKSB7XG4gICAgICAgIHNldElzUGFyZW50KGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRIYXNQYXJlbnQoZ2V0UHJldmlvdXNPclBhcmVudFROb2RlKCkpO1xuICAgICAgICBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBwcmV2aW91c09yUGFyZW50VE5vZGUucGFyZW50O1xuICAgICAgICBzZXRQcmV2aW91c09yUGFyZW50VE5vZGUocHJldmlvdXNPclBhcmVudFROb2RlKTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVUeXBlKHByZXZpb3VzT3JQYXJlbnRUTm9kZSwgMyAvKiBFbGVtZW50ICovKTtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHZhciBjdXJyZW50UXVlcmllcyA9IGxWaWV3W1FVRVJJRVNdO1xuICAgIGlmIChjdXJyZW50UXVlcmllcykge1xuICAgICAgICBsVmlld1tRVUVSSUVTXSA9IGN1cnJlbnRRdWVyaWVzLmFkZE5vZGUocHJldmlvdXNPclBhcmVudFROb2RlKTtcbiAgICB9XG4gICAgcXVldWVMaWZlY3ljbGVIb29rcyhnZXRMVmlldygpW1RWSUVXXSwgcHJldmlvdXNPclBhcmVudFROb2RlKTtcbiAgICBkZWNyZWFzZUVsZW1lbnREZXB0aENvdW50KCk7XG4gICAgLy8gdGhpcyBpcyBmaXJlZCBhdCB0aGUgZW5kIG9mIGVsZW1lbnRFbmQgYmVjYXVzZSBBTEwgb2YgdGhlIHN0eWxpbmdCaW5kaW5ncyBjb2RlXG4gICAgLy8gKGZvciBkaXJlY3RpdmVzIGFuZCB0aGUgdGVtcGxhdGUpIGhhdmUgbm93IGV4ZWN1dGVkIHdoaWNoIG1lYW5zIHRoZSBzdHlsaW5nXG4gICAgLy8gY29udGV4dCBjYW4gYmUgaW5zdGFudGlhdGVkIHByb3Blcmx5LlxuICAgIGlmIChoYXNDbGFzc0lucHV0KHByZXZpb3VzT3JQYXJlbnRUTm9kZSkpIHtcbiAgICAgICAgdmFyIHN0eWxpbmdDb250ZXh0ID0gZ2V0U3R5bGluZ0NvbnRleHQocHJldmlvdXNPclBhcmVudFROb2RlLmluZGV4LCBsVmlldyk7XG4gICAgICAgIHNldElucHV0c0ZvclByb3BlcnR5KGxWaWV3LCBwcmV2aW91c09yUGFyZW50VE5vZGUuaW5wdXRzWydjbGFzcyddLCBnZXRJbml0aWFsQ2xhc3NOYW1lVmFsdWUoc3R5bGluZ0NvbnRleHQpKTtcbiAgICB9XG59XG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIHJlbW92ZXMgYW4gYXR0cmlidXRlIG9uIGFuIEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIG51bWJlciBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSBuYW1lIG5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB2YWx1ZSB2YWx1ZSBUaGUgYXR0cmlidXRlIGlzIHJlbW92ZWQgd2hlbiB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gKiAgICAgICAgICAgICAgICAgIE90aGVyd2lzZSB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHNldCB0byB0aGUgc3RyaW5naWZpZWQgdmFsdWUuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlLlxuICovXG5mdW5jdGlvbiBlbGVtZW50QXR0cmlidXRlKGluZGV4LCBuYW1lLCB2YWx1ZSwgc2FuaXRpemVyKSB7XG4gICAgaWYgKHZhbHVlICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gbFZpZXdbUkVOREVSRVJdO1xuICAgICAgICB2YXIgZWxlbWVudF8xID0gZ2V0TmF0aXZlQnlJbmRleChpbmRleCwgbFZpZXcpO1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlclJlbW92ZUF0dHJpYnV0ZSsrO1xuICAgICAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKGVsZW1lbnRfMSwgbmFtZSkgOlxuICAgICAgICAgICAgICAgIGVsZW1lbnRfMS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0QXR0cmlidXRlKys7XG4gICAgICAgICAgICB2YXIgc3RyVmFsdWUgPSBzYW5pdGl6ZXIgPT0gbnVsbCA/IHN0cmluZ2lmeSQxKHZhbHVlKSA6IHNhbml0aXplcih2YWx1ZSk7XG4gICAgICAgICAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgPyByZW5kZXJlci5zZXRBdHRyaWJ1dGUoZWxlbWVudF8xLCBuYW1lLCBzdHJWYWx1ZSkgOlxuICAgICAgICAgICAgICAgIGVsZW1lbnRfMS5zZXRBdHRyaWJ1dGUobmFtZSwgc3RyVmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBVcGRhdGUgYSBwcm9wZXJ0eSBvbiBhbiBlbGVtZW50LlxuICpcbiAqIElmIHRoZSBwcm9wZXJ0eSBuYW1lIGFsc28gZXhpc3RzIGFzIGFuIGlucHV0IHByb3BlcnR5IG9uIG9uZSBvZiB0aGUgZWxlbWVudCdzIGRpcmVjdGl2ZXMsXG4gKiB0aGUgY29tcG9uZW50IHByb3BlcnR5IHdpbGwgYmUgc2V0IGluc3RlYWQgb2YgdGhlIGVsZW1lbnQgcHJvcGVydHkuIFRoaXMgY2hlY2sgbXVzdFxuICogYmUgY29uZHVjdGVkIGF0IHJ1bnRpbWUgc28gY2hpbGQgY29tcG9uZW50cyB0aGF0IGFkZCBuZXcgQElucHV0cyBkb24ndCBoYXZlIHRvIGJlIHJlLWNvbXBpbGVkLlxuICpcbiAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gdXBkYXRlIGluIHRoZSBkYXRhIGFycmF5XG4gKiBAcGFyYW0gcHJvcE5hbWUgTmFtZSBvZiBwcm9wZXJ0eS4gQmVjYXVzZSBpdCBpcyBnb2luZyB0byBET00sIHRoaXMgaXMgbm90IHN1YmplY3QgdG9cbiAqICAgICAgICByZW5hbWluZyBhcyBwYXJ0IG9mIG1pbmlmaWNhdGlvbi5cbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gd3JpdGUuXG4gKiBAcGFyYW0gc2FuaXRpemVyIEFuIG9wdGlvbmFsIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHZhbHVlLlxuICogQHBhcmFtIG5hdGl2ZU9ubHkgV2hldGhlciBvciBub3Qgd2Ugc2hvdWxkIG9ubHkgc2V0IG5hdGl2ZSBwcm9wZXJ0aWVzIGFuZCBza2lwIGlucHV0IGNoZWNrXG4gKiAodGhpcyBpcyBuZWNlc3NhcnkgZm9yIGhvc3QgcHJvcGVydHkgYmluZGluZ3MpXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRQcm9wZXJ0eShpbmRleCwgcHJvcE5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIsIG5hdGl2ZU9ubHkpIHtcbiAgICBlbGVtZW50UHJvcGVydHlJbnRlcm5hbChpbmRleCwgcHJvcE5hbWUsIHZhbHVlLCBzYW5pdGl6ZXIsIG5hdGl2ZU9ubHkpO1xufVxuLyoqXG4gKiBVcGRhdGVzIGEgc3ludGhldGljIGhvc3QgYmluZGluZyAoZS5nLiBgW0Bmb29dYCkgb24gYSBjb21wb25lbnQuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBmb3IgY29tcGF0aWJpbGl0eSBwdXJwb3NlcyBhbmQgaXMgZGVzaWduZWQgdG8gZW5zdXJlIHRoYXQgYVxuICogc3ludGhldGljIGhvc3QgYmluZGluZyAoZS5nLiBgQEhvc3RCaW5kaW5nKCdAZm9vJylgKSBwcm9wZXJseSBnZXRzIHJlbmRlcmVkIGluXG4gKiB0aGUgY29tcG9uZW50J3MgcmVuZGVyZXIuIE5vcm1hbGx5IGFsbCBob3N0IGJpbmRpbmdzIGFyZSBldmFsdWF0ZWQgd2l0aCB0aGUgcGFyZW50XG4gKiBjb21wb25lbnQncyByZW5kZXJlciwgYnV0LCBpbiB0aGUgY2FzZSBvZiBhbmltYXRpb24gQHRyaWdnZXJzLCB0aGV5IG5lZWQgdG8gYmVcbiAqIGV2YWx1YXRlZCB3aXRoIHRoZSBzdWIgY29tcG9uZW50cyByZW5kZXJlciAoYmVjYXVzZSB0aGF0J3Mgd2hlcmUgdGhlIGFuaW1hdGlvblxuICogdHJpZ2dlcnMgYXJlIGRlZmluZWQpLlxuICpcbiAqIERvIG5vdCB1c2UgdGhpcyBpbnN0cnVjdGlvbiBhcyBhIHJlcGxhY2VtZW50IGZvciBgZWxlbWVudFByb3BlcnR5YC4gVGhpcyBpbnN0cnVjdGlvblxuICogb25seSBleGlzdHMgdG8gZW5zdXJlIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgVmlld0VuZ2luZSdzIGhvc3QgYmluZGluZyBiZWhhdmlvci5cbiAqXG4gKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHVwZGF0ZSBpbiB0aGUgZGF0YSBhcnJheVxuICogQHBhcmFtIHByb3BOYW1lIE5hbWUgb2YgcHJvcGVydHkuIEJlY2F1c2UgaXQgaXMgZ29pbmcgdG8gRE9NLCB0aGlzIGlzIG5vdCBzdWJqZWN0IHRvXG4gKiAgICAgICAgcmVuYW1pbmcgYXMgcGFydCBvZiBtaW5pZmljYXRpb24uXG4gKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIHRvIHdyaXRlLlxuICogQHBhcmFtIHNhbml0aXplciBBbiBvcHRpb25hbCBmdW5jdGlvbiB1c2VkIHRvIHNhbml0aXplIHRoZSB2YWx1ZS5cbiAqIEBwYXJhbSBuYXRpdmVPbmx5IFdoZXRoZXIgb3Igbm90IHdlIHNob3VsZCBvbmx5IHNldCBuYXRpdmUgcHJvcGVydGllcyBhbmQgc2tpcCBpbnB1dCBjaGVja1xuICogKHRoaXMgaXMgbmVjZXNzYXJ5IGZvciBob3N0IHByb3BlcnR5IGJpbmRpbmdzKVxuICovXG5mdW5jdGlvbiBjb21wb25lbnRIb3N0U3ludGhldGljUHJvcGVydHkoaW5kZXgsIHByb3BOYW1lLCB2YWx1ZSwgc2FuaXRpemVyLCBuYXRpdmVPbmx5KSB7XG4gICAgZWxlbWVudFByb3BlcnR5SW50ZXJuYWwoaW5kZXgsIHByb3BOYW1lLCB2YWx1ZSwgc2FuaXRpemVyLCBuYXRpdmVPbmx5LCBsb2FkQ29tcG9uZW50UmVuZGVyZXIpO1xufVxuZnVuY3Rpb24gbG9hZENvbXBvbmVudFJlbmRlcmVyKHROb2RlLCBsVmlldykge1xuICAgIHZhciBjb21wb25lbnRMVmlldyA9IGxWaWV3W3ROb2RlLmluZGV4XTtcbiAgICByZXR1cm4gY29tcG9uZW50TFZpZXdbUkVOREVSRVJdO1xufVxuZnVuY3Rpb24gZWxlbWVudFByb3BlcnR5SW50ZXJuYWwoaW5kZXgsIHByb3BOYW1lLCB2YWx1ZSwgc2FuaXRpemVyLCBuYXRpdmVPbmx5LCBsb2FkUmVuZGVyZXJGbikge1xuICAgIGlmICh2YWx1ZSA9PT0gTk9fQ0hBTkdFKVxuICAgICAgICByZXR1cm47XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgZWxlbWVudCA9IGdldE5hdGl2ZUJ5SW5kZXgoaW5kZXgsIGxWaWV3KTtcbiAgICB2YXIgdE5vZGUgPSBnZXRUTm9kZShpbmRleCwgbFZpZXcpO1xuICAgIHZhciBpbnB1dERhdGE7XG4gICAgdmFyIGRhdGFWYWx1ZTtcbiAgICBpZiAoIW5hdGl2ZU9ubHkgJiYgKGlucHV0RGF0YSA9IGluaXRpYWxpemVUTm9kZUlucHV0cyh0Tm9kZSkpICYmXG4gICAgICAgIChkYXRhVmFsdWUgPSBpbnB1dERhdGFbcHJvcE5hbWVdKSkge1xuICAgICAgICBzZXRJbnB1dHNGb3JQcm9wZXJ0eShsVmlldywgZGF0YVZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIGlmIChpc0NvbXBvbmVudCh0Tm9kZSkpXG4gICAgICAgICAgICBtYXJrRGlydHlJZk9uUHVzaChsVmlldywgaW5kZXggKyBIRUFERVJfT0ZGU0VUKTtcbiAgICAgICAgaWYgKG5nRGV2TW9kZSkge1xuICAgICAgICAgICAgaWYgKHROb2RlLnR5cGUgPT09IDMgLyogRWxlbWVudCAqLyB8fCB0Tm9kZS50eXBlID09PSAwIC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICAgICAgICAgIHNldE5nUmVmbGVjdFByb3BlcnRpZXMobFZpZXcsIGVsZW1lbnQsIHROb2RlLnR5cGUsIGRhdGFWYWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHROb2RlLnR5cGUgPT09IDMgLyogRWxlbWVudCAqLykge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSBsb2FkUmVuZGVyZXJGbiA/IGxvYWRSZW5kZXJlckZuKHROb2RlLCBsVmlldykgOiBsVmlld1tSRU5ERVJFUl07XG4gICAgICAgIC8vIEl0IGlzIGFzc3VtZWQgdGhhdCB0aGUgc2FuaXRpemVyIGlzIG9ubHkgYWRkZWQgd2hlbiB0aGUgY29tcGlsZXIgZGV0ZXJtaW5lcyB0aGF0IHRoZSBwcm9wZXJ0eVxuICAgICAgICAvLyBpcyByaXNreSwgc28gc2FuaXRpemF0aW9uIGNhbiBiZSBkb25lIHdpdGhvdXQgZnVydGhlciBjaGVja3MuXG4gICAgICAgIHZhbHVlID0gc2FuaXRpemVyICE9IG51bGwgPyBzYW5pdGl6ZXIodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRQcm9wZXJ0eSsrO1xuICAgICAgICBpZiAoaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpKSB7XG4gICAgICAgICAgICByZW5kZXJlci5zZXRQcm9wZXJ0eShlbGVtZW50LCBwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpc0FuaW1hdGlvblByb3AocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldFByb3BlcnR5ID8gZWxlbWVudC5zZXRQcm9wZXJ0eShwcm9wTmFtZSwgdmFsdWUpIDpcbiAgICAgICAgICAgICAgICBlbGVtZW50W3Byb3BOYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgVE5vZGUgb2JqZWN0IGZyb20gdGhlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gdHlwZSBUaGUgdHlwZSBvZiB0aGUgbm9kZVxuICogQHBhcmFtIGFkanVzdGVkSW5kZXggVGhlIGluZGV4IG9mIHRoZSBUTm9kZSBpbiBUVmlldy5kYXRhLCBhZGp1c3RlZCBmb3IgSEVBREVSX09GRlNFVFxuICogQHBhcmFtIHRhZ05hbWUgVGhlIHRhZyBuYW1lIG9mIHRoZSBub2RlXG4gKiBAcGFyYW0gYXR0cnMgVGhlIGF0dHJpYnV0ZXMgZGVmaW5lZCBvbiB0aGlzIG5vZGVcbiAqIEBwYXJhbSB0Vmlld3MgQW55IFRWaWV3cyBhdHRhY2hlZCB0byB0aGlzIG5vZGVcbiAqIEByZXR1cm5zIHRoZSBUTm9kZSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVE5vZGUobFZpZXcsIHR5cGUsIGFkanVzdGVkSW5kZXgsIHRhZ05hbWUsIGF0dHJzLCB0Vmlld3MpIHtcbiAgICB2YXIgcHJldmlvdXNPclBhcmVudFROb2RlID0gZ2V0UHJldmlvdXNPclBhcmVudFROb2RlKCk7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS50Tm9kZSsrO1xuICAgIHZhciBwYXJlbnQgPSBnZXRJc1BhcmVudCgpID8gcHJldmlvdXNPclBhcmVudFROb2RlIDogcHJldmlvdXNPclBhcmVudFROb2RlICYmIHByZXZpb3VzT3JQYXJlbnRUTm9kZS5wYXJlbnQ7XG4gICAgLy8gUGFyZW50cyBjYW5ub3QgY3Jvc3MgY29tcG9uZW50IGJvdW5kYXJpZXMgYmVjYXVzZSBjb21wb25lbnRzIHdpbGwgYmUgdXNlZCBpbiBtdWx0aXBsZSBwbGFjZXMsXG4gICAgLy8gc28gaXQncyBvbmx5IHNldCBpZiB0aGUgdmlldyBpcyB0aGUgc2FtZS5cbiAgICB2YXIgcGFyZW50SW5TYW1lVmlldyA9IHBhcmVudCAmJiBsVmlldyAmJiBwYXJlbnQgIT09IGxWaWV3W0hPU1RfTk9ERV07XG4gICAgdmFyIHRQYXJlbnQgPSBwYXJlbnRJblNhbWVWaWV3ID8gcGFyZW50IDogbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBpbmRleDogYWRqdXN0ZWRJbmRleCxcbiAgICAgICAgaW5qZWN0b3JJbmRleDogdFBhcmVudCA/IHRQYXJlbnQuaW5qZWN0b3JJbmRleCA6IC0xLFxuICAgICAgICBkaXJlY3RpdmVTdGFydDogLTEsXG4gICAgICAgIGRpcmVjdGl2ZUVuZDogLTEsXG4gICAgICAgIGZsYWdzOiAwLFxuICAgICAgICBwcm92aWRlckluZGV4ZXM6IDAsXG4gICAgICAgIHRhZ05hbWU6IHRhZ05hbWUsXG4gICAgICAgIGF0dHJzOiBhdHRycyxcbiAgICAgICAgbG9jYWxOYW1lczogbnVsbCxcbiAgICAgICAgaW5pdGlhbElucHV0czogdW5kZWZpbmVkLFxuICAgICAgICBpbnB1dHM6IHVuZGVmaW5lZCxcbiAgICAgICAgb3V0cHV0czogdW5kZWZpbmVkLFxuICAgICAgICB0Vmlld3M6IHRWaWV3cyxcbiAgICAgICAgbmV4dDogbnVsbCxcbiAgICAgICAgY2hpbGQ6IG51bGwsXG4gICAgICAgIHBhcmVudDogdFBhcmVudCxcbiAgICAgICAgZGV0YWNoZWQ6IG51bGwsXG4gICAgICAgIHN0eWxpbmdUZW1wbGF0ZTogbnVsbCxcbiAgICAgICAgcHJvamVjdGlvbjogbnVsbFxuICAgIH07XG59XG4vKipcbiAqIEdpdmVuIGEgbGlzdCBvZiBkaXJlY3RpdmUgaW5kaWNlcyBhbmQgbWluaWZpZWQgaW5wdXQgbmFtZXMsIHNldHMgdGhlXG4gKiBpbnB1dCBwcm9wZXJ0aWVzIG9uIHRoZSBjb3JyZXNwb25kaW5nIGRpcmVjdGl2ZXMuXG4gKi9cbmZ1bmN0aW9uIHNldElucHV0c0ZvclByb3BlcnR5KGxWaWV3LCBpbnB1dHMsIHZhbHVlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERhdGFJblJhbmdlKGxWaWV3LCBpbnB1dHNbaV0pO1xuICAgICAgICBsVmlld1tpbnB1dHNbaV1dW2lucHV0c1tpICsgMV1dID0gdmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0TmdSZWZsZWN0UHJvcGVydGllcyhsVmlldywgZWxlbWVudCwgdHlwZSwgaW5wdXRzLCB2YWx1ZSkge1xuICAgIHZhciBfYTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSBsVmlld1tSRU5ERVJFUl07XG4gICAgICAgIHZhciBhdHRyTmFtZSA9IG5vcm1hbGl6ZURlYnVnQmluZGluZ05hbWUoaW5wdXRzW2kgKyAxXSk7XG4gICAgICAgIHZhciBkZWJ1Z1ZhbHVlID0gbm9ybWFsaXplRGVidWdCaW5kaW5nVmFsdWUodmFsdWUpO1xuICAgICAgICBpZiAodHlwZSA9PT0gMyAvKiBFbGVtZW50ICovKSB7XG4gICAgICAgICAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgP1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbGVtZW50LCBhdHRyTmFtZSwgZGVidWdWYWx1ZSkgOlxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBkZWJ1Z1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVfMSA9IFwiYmluZGluZ3M9XCIgKyBKU09OLnN0cmluZ2lmeSgoX2EgPSB7fSwgX2FbYXR0ck5hbWVdID0gZGVidWdWYWx1ZSwgX2EpLCBudWxsLCAyKTtcbiAgICAgICAgICAgIGlmIChpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5zZXRWYWx1ZShlbGVtZW50LCB2YWx1ZV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB2YWx1ZV8xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDb25zb2xpZGF0ZXMgYWxsIGlucHV0cyBvciBvdXRwdXRzIG9mIGFsbCBkaXJlY3RpdmVzIG9uIHRoaXMgbG9naWNhbCBub2RlLlxuICpcbiAqIEBwYXJhbSB0Tm9kZUZsYWdzIG5vZGUgZmxhZ3NcbiAqIEBwYXJhbSBkaXJlY3Rpb24gd2hldGhlciB0byBjb25zaWRlciBpbnB1dHMgb3Igb3V0cHV0c1xuICogQHJldHVybnMgUHJvcGVydHlBbGlhc2VzfG51bGwgYWdncmVnYXRlIG9mIGFsbCBwcm9wZXJ0aWVzIGlmIGFueSwgYG51bGxgIG90aGVyd2lzZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVByb3BlcnR5QWxpYXNlcyh0Tm9kZSwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIHRWaWV3ID0gZ2V0TFZpZXcoKVtUVklFV107XG4gICAgdmFyIHByb3BTdG9yZSA9IG51bGw7XG4gICAgdmFyIHN0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgdmFyIGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBpZiAoZW5kID4gc3RhcnQpIHtcbiAgICAgICAgdmFyIGlzSW5wdXQgPSBkaXJlY3Rpb24gPT09IDAgLyogSW5wdXQgKi87XG4gICAgICAgIHZhciBkZWZzID0gdFZpZXcuZGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmVEZWYgPSBkZWZzW2ldO1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5QWxpYXNNYXAgPSBpc0lucHV0ID8gZGlyZWN0aXZlRGVmLmlucHV0cyA6IGRpcmVjdGl2ZURlZi5vdXRwdXRzO1xuICAgICAgICAgICAgZm9yICh2YXIgcHVibGljTmFtZSBpbiBwcm9wZXJ0eUFsaWFzTWFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5QWxpYXNNYXAuaGFzT3duUHJvcGVydHkocHVibGljTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcFN0b3JlID0gcHJvcFN0b3JlIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJuYWxOYW1lID0gcHJvcGVydHlBbGlhc01hcFtwdWJsaWNOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc1Byb3BlcnR5ID0gcHJvcFN0b3JlLmhhc093blByb3BlcnR5KHB1YmxpY05hbWUpO1xuICAgICAgICAgICAgICAgICAgICBoYXNQcm9wZXJ0eSA/IHByb3BTdG9yZVtwdWJsaWNOYW1lXS5wdXNoKGksIGludGVybmFsTmFtZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgKHByb3BTdG9yZVtwdWJsaWNOYW1lXSA9IFtpLCBpbnRlcm5hbE5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BTdG9yZTtcbn1cbi8qKlxuICogQXNzaWduIGFueSBpbmxpbmUgc3R5bGUgdmFsdWVzIHRvIHRoZSBlbGVtZW50IGR1cmluZyBjcmVhdGlvbiBtb2RlLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gaXMgbWVhbnQgdG8gYmUgY2FsbGVkIGR1cmluZyBjcmVhdGlvbiBtb2RlIHRvIHJlZ2lzdGVyIGFsbFxuICogZHluYW1pYyBzdHlsZSBhbmQgY2xhc3MgYmluZGluZ3Mgb24gdGhlIGVsZW1lbnQuIE5vdGUgZm9yIHN0YXRpYyB2YWx1ZXMgKG5vIGJpbmRpbmcpXG4gKiBzZWUgYGVsZW1lbnRTdGFydGAgYW5kIGBlbGVtZW50SG9zdEF0dHJzYC5cbiAqXG4gKiBAcGFyYW0gY2xhc3NCaW5kaW5nTmFtZXMgQW4gYXJyYXkgY29udGFpbmluZyBiaW5kYWJsZSBjbGFzcyBuYW1lcy5cbiAqICAgICAgICBUaGUgYGVsZW1lbnRDbGFzc1Byb3BgIHJlZmVycyB0byB0aGUgY2xhc3MgbmFtZSBieSBpbmRleCBpbiB0aGlzIGFycmF5LlxuICogICAgICAgIChpLmUuIGBbJ2ZvbycsICdiYXInXWAgbWVhbnMgYGZvbz0wYCBhbmQgYGJhcj0xYCkuXG4gKiBAcGFyYW0gc3R5bGVCaW5kaW5nTmFtZXMgQW4gYXJyYXkgY29udGFpbmluZyBiaW5kYWJsZSBzdHlsZSBwcm9wZXJ0aWVzLlxuICogICAgICAgIFRoZSBgZWxlbWVudFN0eWxlUHJvcGAgcmVmZXJzIHRvIHRoZSBjbGFzcyBuYW1lIGJ5IGluZGV4IGluIHRoaXMgYXJyYXkuXG4gKiAgICAgICAgKGkuZS4gYFsnd2lkdGgnLCAnaGVpZ2h0J11gIG1lYW5zIGB3aWR0aD0wYCBhbmQgYGhlaWdodD0xYCkuXG4gKiBAcGFyYW0gc3R5bGVTYW5pdGl6ZXIgQW4gb3B0aW9uYWwgc2FuaXRpemVyIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHNhbml0aXplIGFueSBDU1NcbiAqICAgICAgICBwcm9wZXJ0eSB2YWx1ZXMgdGhhdCBhcmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCAoZHVyaW5nIHJlbmRlcmluZykuXG4gKiAgICAgICAgTm90ZSB0aGF0IHRoZSBzYW5pdGl6ZXIgaW5zdGFuY2UgaXRzZWxmIGlzIHRpZWQgdG8gdGhlIGBkaXJlY3RpdmVgIChpZiAgcHJvdmlkZWQpLlxuICogQHBhcmFtIGRpcmVjdGl2ZSBBIGRpcmVjdGl2ZSBpbnN0YW5jZSB0aGUgc3R5bGluZyBpcyBhc3NvY2lhdGVkIHdpdGguIElmIG5vdCBwcm92aWRlZFxuICogICAgICAgIGN1cnJlbnQgdmlldydzIGNvbnRyb2xsZXIgaW5zdGFuY2UgaXMgYXNzdW1lZC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRTdHlsaW5nKGNsYXNzQmluZGluZ05hbWVzLCBzdHlsZUJpbmRpbmdOYW1lcywgc3R5bGVTYW5pdGl6ZXIsIGRpcmVjdGl2ZSkge1xuICAgIHZhciB0Tm9kZSA9IGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpO1xuICAgIGlmICghdE5vZGUuc3R5bGluZ1RlbXBsYXRlKSB7XG4gICAgICAgIHROb2RlLnN0eWxpbmdUZW1wbGF0ZSA9IGNyZWF0ZUVtcHR5U3R5bGluZ0NvbnRleHQoKTtcbiAgICB9XG4gICAgdXBkYXRlQ29udGV4dFdpdGhCaW5kaW5ncyh0Tm9kZS5zdHlsaW5nVGVtcGxhdGUsIGRpcmVjdGl2ZSB8fCBudWxsLCBjbGFzc0JpbmRpbmdOYW1lcywgc3R5bGVCaW5kaW5nTmFtZXMsIHN0eWxlU2FuaXRpemVyLCBoYXNDbGFzc0lucHV0KHROb2RlKSk7XG59XG4vKipcbiAqIEFzc2lnbiBzdGF0aWMgc3R5bGluZyB2YWx1ZXMgdG8gYSBob3N0IGVsZW1lbnQuXG4gKlxuICogTk9URTogVGhpcyBpbnN0cnVjdGlvbiBpcyBtZWFudCB0byB1c2VkIGZyb20gYGhvc3RCaW5kaW5nc2AgZnVuY3Rpb24gb25seS5cbiAqXG4gKiBAcGFyYW0gZGlyZWN0aXZlIEEgZGlyZWN0aXZlIGluc3RhbmNlIHRoZSBzdHlsaW5nIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAqIEBwYXJhbSBhdHRycyBBbiBhcnJheSBjb250YWluaW5nIGNsYXNzIGFuZCBzdHlsaW5nIGluZm9ybWF0aW9uLiBUaGUgdmFsdWVzIG11c3QgYmUgbWFya2VkIHdpdGhcbiAqICAgICAgICAgICAgICBgQXR0cmlidXRlTWFya2VyYC5cbiAqXG4gKiAgICAgICAgYGBgXG4gKiAgICAgICAgdmFyIGF0dHJzID0gW0F0dHJpYnV0ZU1hcmtlci5DbGFzc2VzLCAnZm9vJywgJ2JhcicsXG4gKiAgICAgICAgICAgICAgICAgICAgIEF0dHJpYnV0ZU1hcmtlci5TdHlsZXMsICd3aWR0aCcsICcxMDBweCcsICdoZWlnaHQsICcyMDBweCddXG4gKiAgICAgICAgZWxlbWVudEhvc3RBdHRycyhkaXJlY3RpdmUsIGF0dHJzKTtcbiAqICAgICAgICBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGVsZW1lbnRIb3N0QXR0cnMoZGlyZWN0aXZlLCBhdHRycykge1xuICAgIHZhciB0Tm9kZSA9IGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpO1xuICAgIGlmICghdE5vZGUuc3R5bGluZ1RlbXBsYXRlKSB7XG4gICAgICAgIHROb2RlLnN0eWxpbmdUZW1wbGF0ZSA9IGluaXRpYWxpemVTdGF0aWNDb250ZXh0KGF0dHJzKTtcbiAgICB9XG4gICAgcGF0Y2hDb250ZXh0V2l0aFN0YXRpY0F0dHJzKHROb2RlLnN0eWxpbmdUZW1wbGF0ZSwgYXR0cnMsIGRpcmVjdGl2ZSk7XG59XG4vKipcbiAqIEFwcGx5IHN0eWxpbmcgYmluZGluZyB0byB0aGUgZWxlbWVudC5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIG1lYW50IHRvIGJlIHJ1biBhZnRlciBgZWxlbWVudFN0eWxlYCBhbmQvb3IgYGVsZW1lbnRTdHlsZVByb3BgLlxuICogaWYgYW55IHN0eWxpbmcgYmluZGluZ3MgaGF2ZSBjaGFuZ2VkIHRoZW4gdGhlIGNoYW5nZXMgYXJlIGZsdXNoZWQgdG8gdGhlIGVsZW1lbnQuXG4gKlxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCdzIHdpdGggd2hpY2ggc3R5bGluZyBpcyBhc3NvY2lhdGVkLlxuICogQHBhcmFtIGRpcmVjdGl2ZSBEaXJlY3RpdmUgaW5zdGFuY2UgdGhhdCBpcyBhdHRlbXB0aW5nIHRvIGNoYW5nZSBzdHlsaW5nLiAoRGVmYXVsdHMgdG8gdGhlXG4gKiAgICAgICAgY29tcG9uZW50IG9mIHRoZSBjdXJyZW50IHZpZXcpLlxuY29tcG9uZW50c1xuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZWxlbWVudFN0eWxpbmdBcHBseShpbmRleCwgZGlyZWN0aXZlKSB7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgaXNGaXJzdFJlbmRlciA9IChsVmlld1tGTEFHU10gJiAyIC8qIEZpcnN0TFZpZXdQYXNzICovKSAhPT0gMDtcbiAgICB2YXIgdG90YWxQbGF5ZXJzUXVldWVkID0gcmVuZGVyU3R5bGluZyhnZXRTdHlsaW5nQ29udGV4dChpbmRleCArIEhFQURFUl9PRkZTRVQsIGxWaWV3KSwgbFZpZXdbUkVOREVSRVJdLCBsVmlldywgaXNGaXJzdFJlbmRlciwgbnVsbCwgbnVsbCwgZGlyZWN0aXZlKTtcbiAgICBpZiAodG90YWxQbGF5ZXJzUXVldWVkID4gMCkge1xuICAgICAgICB2YXIgcm9vdENvbnRleHQgPSBnZXRSb290Q29udGV4dChsVmlldyk7XG4gICAgICAgIHNjaGVkdWxlVGljayhyb290Q29udGV4dCwgMiAvKiBGbHVzaFBsYXllcnMgKi8pO1xuICAgIH1cbn1cbi8qKlxuICogVXBkYXRlIGEgc3R5bGUgYmluZGluZ3MgdmFsdWUgb24gYW4gZWxlbWVudC5cbiAqXG4gKiBJZiB0aGUgc3R5bGUgdmFsdWUgaXMgYG51bGxgIHRoZW4gaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnRcbiAqIChvciBhc3NpZ25lZCBhIGRpZmZlcmVudCB2YWx1ZSBkZXBlbmRpbmcgaWYgdGhlcmUgYXJlIGFueSBzdHlsZXMgcGxhY2VkXG4gKiBvbiB0aGUgZWxlbWVudCB3aXRoIGBlbGVtZW50U3R5bGVgIG9yIGFueSBzdHlsZXMgdGhhdCBhcmUgcHJlc2VudFxuICogZnJvbSB3aGVuIHRoZSBlbGVtZW50IHdhcyBjcmVhdGVkICh3aXRoIGBlbGVtZW50U3R5bGluZ2ApLlxuICpcbiAqIChOb3RlIHRoYXQgdGhlIHN0eWxpbmcgZWxlbWVudCBpcyB1cGRhdGVkIGFzIHBhcnQgb2YgYGVsZW1lbnRTdHlsaW5nQXBwbHlgLilcbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQncyB3aXRoIHdoaWNoIHN0eWxpbmcgaXMgYXNzb2NpYXRlZC5cbiAqIEBwYXJhbSBzdHlsZUluZGV4IEluZGV4IG9mIHN0eWxlIHRvIHVwZGF0ZS4gVGhpcyBpbmRleCB2YWx1ZSByZWZlcnMgdG8gdGhlXG4gKiAgICAgICAgaW5kZXggb2YgdGhlIHN0eWxlIGluIHRoZSBzdHlsZSBiaW5kaW5ncyBhcnJheSB0aGF0IHdhcyBwYXNzZWQgaW50b1xuICogICAgICAgIGBlbGVtZW50U3RseWluZ0JpbmRpbmdzYC5cbiAqIEBwYXJhbSB2YWx1ZSBOZXcgdmFsdWUgdG8gd3JpdGUgKG51bGwgdG8gcmVtb3ZlKS4gTm90ZSB0aGF0IGlmIGEgZGlyZWN0aXZlIGFsc29cbiAqICAgICAgICBhdHRlbXB0cyB0byB3cml0ZSB0byB0aGUgc2FtZSBiaW5kaW5nIHZhbHVlIHRoZW4gaXQgd2lsbCBvbmx5IGJlIGFibGUgdG9cbiAqICAgICAgICBkbyBzbyBpZiB0aGUgdGVtcGxhdGUgYmluZGluZyB2YWx1ZSBpcyBgbnVsbGAgKG9yIGRvZXNuJ3QgZXhpc3QgYXQgYWxsKS5cbiAqIEBwYXJhbSBzdWZmaXggT3B0aW9uYWwgc3VmZml4LiBVc2VkIHdpdGggc2NhbGFyIHZhbHVlcyB0byBhZGQgdW5pdCBzdWNoIGFzIGBweGAuXG4gKiAgICAgICAgTm90ZSB0aGF0IHdoZW4gYSBzdWZmaXggaXMgcHJvdmlkZWQgdGhlbiB0aGUgdW5kZXJseWluZyBzYW5pdGl6ZXIgd2lsbFxuICogICAgICAgIGJlIGlnbm9yZWQuXG4gKiBAcGFyYW0gZGlyZWN0aXZlIERpcmVjdGl2ZSBpbnN0YW5jZSB0aGF0IGlzIGF0dGVtcHRpbmcgdG8gY2hhbmdlIHN0eWxpbmcuIChEZWZhdWx0cyB0byB0aGVcbiAqICAgICAgICBjb21wb25lbnQgb2YgdGhlIGN1cnJlbnQgdmlldykuXG5jb21wb25lbnRzXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBlbGVtZW50U3R5bGVQcm9wKGluZGV4LCBzdHlsZUluZGV4LCB2YWx1ZSwgc3VmZml4LCBkaXJlY3RpdmUpIHtcbiAgICB2YXIgdmFsdWVUb0FkZCA9IG51bGw7XG4gICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChzdWZmaXgpIHtcbiAgICAgICAgICAgIC8vIHdoZW4gYSBzdWZmaXggaXMgYXBwbGllZCB0aGVuIGl0IHdpbGwgYnlwYXNzXG4gICAgICAgICAgICAvLyBzYW5pdGl6YXRpb24gZW50aXJlbHkgKGIvYyBhIG5ldyBzdHJpbmcgaXMgY3JlYXRlZClcbiAgICAgICAgICAgIHZhbHVlVG9BZGQgPSBzdHJpbmdpZnkkMSh2YWx1ZSkgKyBzdWZmaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzYW5pdGl6YXRpb24gaGFwcGVucyBieSBkZWFsaW5nIHdpdGggYSBTdHJpbmcgdmFsdWVcbiAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB0aGUgc3RyaW5nIHZhbHVlIHdpbGwgYmUgcGFzc2VkIHRocm91Z2hcbiAgICAgICAgICAgIC8vIGludG8gdGhlIHN0eWxlIHJlbmRlcmluZyBsYXRlciAod2hpY2ggaXMgd2hlcmUgdGhlIHZhbHVlXG4gICAgICAgICAgICAvLyB3aWxsIGJlIHNhbml0aXplZCBiZWZvcmUgaXQgaXMgYXBwbGllZClcbiAgICAgICAgICAgIHZhbHVlVG9BZGQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVTdHlsZVByb3AoZ2V0U3R5bGluZ0NvbnRleHQoaW5kZXggKyBIRUFERVJfT0ZGU0VULCBnZXRMVmlldygpKSwgc3R5bGVJbmRleCwgdmFsdWVUb0FkZCwgZGlyZWN0aXZlKTtcbn1cbi8qKlxuICogQWRkIG9yIHJlbW92ZSBhIGNsYXNzIHZpYSBhIGNsYXNzIGJpbmRpbmcgb24gYSBET00gZWxlbWVudC5cbiAqXG4gKiBUaGlzIGluc3RydWN0aW9uIGlzIG1lYW50IHRvIGhhbmRsZSB0aGUgW2NsYXNzLmZvb109XCJleHBcIiBjYXNlIGFuZCwgdGhlcmVmb3JlLFxuICogdGhlIGNsYXNzIGl0c2VsZiBtdXN0IGFscmVhZHkgYmUgYXBwbGllZCB1c2luZyBgZWxlbWVudFN0eWxpbmdgIHdpdGhpblxuICogdGhlIGNyZWF0aW9uIGJsb2NrLlxuICpcbiAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0aGUgZWxlbWVudCdzIHdpdGggd2hpY2ggc3R5bGluZyBpcyBhc3NvY2lhdGVkLlxuICogQHBhcmFtIGNsYXNzSW5kZXggSW5kZXggb2YgY2xhc3MgdG8gdG9nZ2xlLiBUaGlzIGluZGV4IHZhbHVlIHJlZmVycyB0byB0aGVcbiAqICAgICAgICBpbmRleCBvZiB0aGUgY2xhc3MgaW4gdGhlIGNsYXNzIGJpbmRpbmdzIGFycmF5IHRoYXQgd2FzIHBhc3NlZCBpbnRvXG4gKiAgICAgICAgYGVsZW1lbnRTdGx5aW5nQmluZGluZ3NgICh3aGljaCBpcyBtZWFudCB0byBiZSBjYWxsZWQgYmVmb3JlIHRoaXNcbiAqICAgICAgICBmdW5jdGlvbiBpcykuXG4gKiBAcGFyYW0gdmFsdWUgQSB0cnVlL2ZhbHNlIHZhbHVlIHdoaWNoIHdpbGwgdHVybiB0aGUgY2xhc3Mgb24gb3Igb2ZmLlxuICogQHBhcmFtIGRpcmVjdGl2ZSBEaXJlY3RpdmUgaW5zdGFuY2UgdGhhdCBpcyBhdHRlbXB0aW5nIHRvIGNoYW5nZSBzdHlsaW5nLiAoRGVmYXVsdHMgdG8gdGhlXG4gKiAgICAgICAgY29tcG9uZW50IG9mIHRoZSBjdXJyZW50IHZpZXcpLlxuY29tcG9uZW50c1xuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZWxlbWVudENsYXNzUHJvcChpbmRleCwgY2xhc3NJbmRleCwgdmFsdWUsIGRpcmVjdGl2ZSkge1xuICAgIHZhciBvbk9yT2ZmQ2xhc3NWYWx1ZSA9ICh2YWx1ZSBpbnN0YW5jZW9mIEJvdW5kUGxheWVyRmFjdG9yeSkgPyB2YWx1ZSA6ICghIXZhbHVlKTtcbiAgICB1cGRhdGVDbGFzc1Byb3AoZ2V0U3R5bGluZ0NvbnRleHQoaW5kZXggKyBIRUFERVJfT0ZGU0VULCBnZXRMVmlldygpKSwgY2xhc3NJbmRleCwgb25Pck9mZkNsYXNzVmFsdWUsIGRpcmVjdGl2ZSk7XG59XG4vKipcbiAqIFVwZGF0ZSBzdHlsZSBhbmQvb3IgY2xhc3MgYmluZGluZ3MgdXNpbmcgb2JqZWN0IGxpdGVyYWwuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBpcyBtZWFudCBhcHBseSBzdHlsaW5nIHZpYSB0aGUgYFtzdHlsZV09XCJleHBcImAgYW5kIGBbY2xhc3NdPVwiZXhwXCJgIHRlbXBsYXRlXG4gKiBiaW5kaW5ncy4gV2hlbiBzdHlsZXMgYXJlIGFwcGxpZWQgdG8gdGhlIEVsZW1lbnQgdGhleSB3aWxsIHRoZW4gYmUgcGxhY2VkIHdpdGggcmVzcGVjdCB0b1xuICogYW55IHN0eWxlcyBzZXQgd2l0aCBgZWxlbWVudFN0eWxlUHJvcGAuIElmIGFueSBzdHlsZXMgYXJlIHNldCB0byBgbnVsbGAgdGhlbiB0aGV5IHdpbGwgYmVcbiAqIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudC5cbiAqXG4gKiAoTm90ZSB0aGF0IHRoZSBzdHlsaW5nIGluc3RydWN0aW9uIHdpbGwgbm90IGJlIGFwcGxpZWQgdW50aWwgYGVsZW1lbnRTdHlsaW5nQXBwbHlgIGlzIGNhbGxlZC4pXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIHRoZSBlbGVtZW50J3Mgd2l0aCB3aGljaCBzdHlsaW5nIGlzIGFzc29jaWF0ZWQuXG4gKiBAcGFyYW0gY2xhc3NlcyBBIGtleS92YWx1ZSBzdHlsZSBtYXAgb2YgQ1NTIGNsYXNzZXMgdGhhdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxuICogICAgICAgIEFueSBtaXNzaW5nIGNsYXNzZXMgKHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0aGUgZWxlbWVudCBiZWZvcmVoYW5kKSB3aWxsIGJlXG4gKiAgICAgICAgcmVtb3ZlZCAodW5zZXQpIGZyb20gdGhlIGVsZW1lbnQncyBsaXN0IG9mIENTUyBjbGFzc2VzLlxuICogQHBhcmFtIHN0eWxlcyBBIGtleS92YWx1ZSBzdHlsZSBtYXAgb2YgdGhlIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAqICAgICAgICBBbnkgbWlzc2luZyBzdHlsZXMgKHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0aGUgZWxlbWVudCBiZWZvcmVoYW5kKSB3aWxsIGJlXG4gKiAgICAgICAgcmVtb3ZlZCAodW5zZXQpIGZyb20gdGhlIGVsZW1lbnQncyBzdHlsaW5nLlxuICogQHBhcmFtIGRpcmVjdGl2ZSBEaXJlY3RpdmUgaW5zdGFuY2UgdGhhdCBpcyBhdHRlbXB0aW5nIHRvIGNoYW5nZSBzdHlsaW5nLiAoRGVmYXVsdHMgdG8gdGhlXG4gKiAgICAgICAgY29tcG9uZW50IG9mIHRoZSBjdXJyZW50IHZpZXcpLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZWxlbWVudFN0eWxpbmdNYXAoaW5kZXgsIGNsYXNzZXMsIHN0eWxlcywgZGlyZWN0aXZlKSB7XG4gICAgaWYgKGRpcmVjdGl2ZSAhPSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBoYWNrSW1wbGVtZW50YXRpb25PZkVsZW1lbnRTdHlsaW5nTWFwKGluZGV4LCBjbGFzc2VzLCBzdHlsZXMsIGRpcmVjdGl2ZSk7IC8vIHN1cHBvcnRlZCBpbiBuZXh0IFBSXG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgdE5vZGUgPSBnZXRUTm9kZShpbmRleCwgbFZpZXcpO1xuICAgIHZhciBzdHlsaW5nQ29udGV4dCA9IGdldFN0eWxpbmdDb250ZXh0KGluZGV4ICsgSEVBREVSX09GRlNFVCwgbFZpZXcpO1xuICAgIGlmIChoYXNDbGFzc0lucHV0KHROb2RlKSAmJiBjbGFzc2VzICE9PSBOT19DSEFOR0UpIHtcbiAgICAgICAgdmFyIGluaXRpYWxDbGFzc2VzID0gZ2V0SW5pdGlhbENsYXNzTmFtZVZhbHVlKHN0eWxpbmdDb250ZXh0KTtcbiAgICAgICAgdmFyIGNsYXNzSW5wdXRWYWwgPSAoaW5pdGlhbENsYXNzZXMubGVuZ3RoID8gKGluaXRpYWxDbGFzc2VzICsgJyAnKSA6ICcnKSArIGNsYXNzZXM7XG4gICAgICAgIHNldElucHV0c0ZvclByb3BlcnR5KGxWaWV3LCB0Tm9kZS5pbnB1dHNbJ2NsYXNzJ10sIGNsYXNzSW5wdXRWYWwpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdXBkYXRlU3R5bGluZ01hcChzdHlsaW5nQ29udGV4dCwgY2xhc3Nlcywgc3R5bGVzKTtcbiAgICB9XG59XG4vKiBTVEFSVCBPRiBIQUNLIEJMT0NLICovXG5mdW5jdGlvbiBoYWNrSW1wbGVtZW50YXRpb25PZkVsZW1lbnRTdHlsaW5nTWFwKGluZGV4LCBjbGFzc2VzLCBzdHlsZXMsIGRpcmVjdGl2ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigndW5pbXBsZW1lbnRlZC4gU2hvdWxkIG5vdCBiZSBuZWVkZWQgYnkgVmlld0VuZ2luZSBjb21wYXRpYmlsaXR5Jyk7XG59XG4vKiBFTkQgT0YgSEFDSyBCTE9DSyAqL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gVGV4dFxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8qKlxuICogQ3JlYXRlIHN0YXRpYyB0ZXh0IG5vZGVcbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIG5vZGUgaW4gdGhlIGRhdGEgYXJyYXlcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byB3cml0ZS4gVGhpcyB2YWx1ZSB3aWxsIGJlIHN0cmluZ2lmaWVkLlxuICovXG5mdW5jdGlvbiB0ZXh0KGluZGV4LCB2YWx1ZSkge1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGxWaWV3W0JJTkRJTkdfSU5ERVhdLCBsVmlld1tUVklFV10uYmluZGluZ1N0YXJ0SW5kZXgsICd0ZXh0IG5vZGVzIHNob3VsZCBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgYmluZGluZ3MnKTtcbiAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlVGV4dE5vZGUrKztcbiAgICB2YXIgdGV4dE5hdGl2ZSA9IGNyZWF0ZVRleHROb2RlKHZhbHVlLCBsVmlld1tSRU5ERVJFUl0pO1xuICAgIHZhciB0Tm9kZSA9IGNyZWF0ZU5vZGVBdEluZGV4KGluZGV4LCAzIC8qIEVsZW1lbnQgKi8sIHRleHROYXRpdmUsIG51bGwsIG51bGwpO1xuICAgIC8vIFRleHQgbm9kZXMgYXJlIHNlbGYgY2xvc2luZy5cbiAgICBzZXRJc1BhcmVudChmYWxzZSk7XG4gICAgYXBwZW5kQ2hpbGQodGV4dE5hdGl2ZSwgdE5vZGUsIGxWaWV3KTtcbn1cbi8qKlxuICogQ3JlYXRlIHRleHQgbm9kZSB3aXRoIGJpbmRpbmdcbiAqIEJpbmRpbmdzIHNob3VsZCBiZSBoYW5kbGVkIGV4dGVybmFsbHkgd2l0aCB0aGUgcHJvcGVyIGludGVycG9sYXRpb24oMS04KSBtZXRob2RcbiAqXG4gKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGhlIG5vZGUgaW4gdGhlIGRhdGEgYXJyYXkuXG4gKiBAcGFyYW0gdmFsdWUgU3RyaW5naWZpZWQgdmFsdWUgdG8gd3JpdGUuXG4gKi9cbmZ1bmN0aW9uIHRleHRCaW5kaW5nKGluZGV4LCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gTk9fQ0hBTkdFKSB7XG4gICAgICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREYXRhSW5SYW5nZShsVmlldywgaW5kZXggKyBIRUFERVJfT0ZGU0VUKTtcbiAgICAgICAgdmFyIGVsZW1lbnRfMiA9IGdldE5hdGl2ZUJ5SW5kZXgoaW5kZXgsIGxWaWV3KTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZWxlbWVudF8yLCAnbmF0aXZlIGVsZW1lbnQgc2hvdWxkIGV4aXN0Jyk7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJTZXRUZXh0Kys7XG4gICAgICAgIHZhciByZW5kZXJlciA9IGxWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgaXNQcm9jZWR1cmFsUmVuZGVyZXIocmVuZGVyZXIpID8gcmVuZGVyZXIuc2V0VmFsdWUoZWxlbWVudF8yLCBzdHJpbmdpZnkkMSh2YWx1ZSkpIDpcbiAgICAgICAgICAgIGVsZW1lbnRfMi50ZXh0Q29udGVudCA9IHN0cmluZ2lmeSQxKHZhbHVlKTtcbiAgICB9XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLyBEaXJlY3RpdmVcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vKipcbiAqIEluc3RhbnRpYXRlIGEgcm9vdCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRlUm9vdENvbXBvbmVudCh0Vmlldywgdmlld0RhdGEsIGRlZikge1xuICAgIHZhciByb290VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICBpZiAodFZpZXcuZmlyc3RUZW1wbGF0ZVBhc3MpIHtcbiAgICAgICAgaWYgKGRlZi5wcm92aWRlcnNSZXNvbHZlcilcbiAgICAgICAgICAgIGRlZi5wcm92aWRlcnNSZXNvbHZlcihkZWYpO1xuICAgICAgICBnZW5lcmF0ZUV4cGFuZG9JbnN0cnVjdGlvbkJsb2NrKHRWaWV3LCByb290VE5vZGUsIDEpO1xuICAgICAgICBiYXNlUmVzb2x2ZURpcmVjdGl2ZSh0Vmlldywgdmlld0RhdGEsIGRlZiwgZGVmLmZhY3RvcnkpO1xuICAgIH1cbiAgICB2YXIgZGlyZWN0aXZlID0gZ2V0Tm9kZUluamVjdGFibGUodFZpZXcuZGF0YSwgdmlld0RhdGEsIHZpZXdEYXRhLmxlbmd0aCAtIDEsIHJvb3RUTm9kZSk7XG4gICAgcG9zdFByb2Nlc3NCYXNlRGlyZWN0aXZlKHZpZXdEYXRhLCByb290VE5vZGUsIGRpcmVjdGl2ZSwgZGVmKTtcbiAgICByZXR1cm4gZGlyZWN0aXZlO1xufVxuLyoqXG4gKiBSZXNvbHZlIHRoZSBtYXRjaGVkIGRpcmVjdGl2ZXMgb24gYSBub2RlLlxuICovXG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlcyh0Vmlldywgdmlld0RhdGEsIGRpcmVjdGl2ZXMsIHROb2RlLCBsb2NhbFJlZnMpIHtcbiAgICAvLyBQbGVhc2UgbWFrZSBzdXJlIHRvIGhhdmUgZXhwbGljaXQgdHlwZSBmb3IgYGV4cG9ydHNNYXBgLiBJbmZlcnJlZCB0eXBlIHRyaWdnZXJzIGJ1ZyBpbiB0c2lja2xlLlxuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChnZXRGaXJzdFRlbXBsYXRlUGFzcygpLCB0cnVlLCAnc2hvdWxkIHJ1biBvbiBmaXJzdCB0ZW1wbGF0ZSBwYXNzIG9ubHknKTtcbiAgICB2YXIgZXhwb3J0c01hcCA9IGxvY2FsUmVmcyA/IHsgJyc6IC0xIH0gOiBudWxsO1xuICAgIGlmIChkaXJlY3RpdmVzKSB7XG4gICAgICAgIGluaXROb2RlRmxhZ3ModE5vZGUsIHRWaWV3LmRhdGEubGVuZ3RoLCBkaXJlY3RpdmVzLmxlbmd0aCk7XG4gICAgICAgIC8vIFdoZW4gdGhlIHNhbWUgdG9rZW4gaXMgcHJvdmlkZWQgYnkgc2V2ZXJhbCBkaXJlY3RpdmVzIG9uIHRoZSBzYW1lIG5vZGUsIHNvbWUgcnVsZXMgYXBwbHkgaW5cbiAgICAgICAgLy8gdGhlIHZpZXdFbmdpbmU6XG4gICAgICAgIC8vIC0gdmlld1Byb3ZpZGVycyBoYXZlIHByaW9yaXR5IG92ZXIgcHJvdmlkZXJzXG4gICAgICAgIC8vIC0gdGhlIGxhc3QgZGlyZWN0aXZlIGluIE5nTW9kdWxlLmRlY2xhcmF0aW9ucyBoYXMgcHJpb3JpdHkgb3ZlciB0aGUgcHJldmlvdXMgb25lXG4gICAgICAgIC8vIFNvIHRvIG1hdGNoIHRoZXNlIHJ1bGVzLCB0aGUgb3JkZXIgaW4gd2hpY2ggcHJvdmlkZXJzIGFyZSBhZGRlZCBpbiB0aGUgYXJyYXlzIGlzIHZlcnlcbiAgICAgICAgLy8gaW1wb3J0YW50LlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkZWYgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICAgICAgaWYgKGRlZi5wcm92aWRlcnNSZXNvbHZlcilcbiAgICAgICAgICAgICAgICBkZWYucHJvdmlkZXJzUmVzb2x2ZXIoZGVmKTtcbiAgICAgICAgfVxuICAgICAgICBnZW5lcmF0ZUV4cGFuZG9JbnN0cnVjdGlvbkJsb2NrKHRWaWV3LCB0Tm9kZSwgZGlyZWN0aXZlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkZWYgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZURlZklkeCA9IHRWaWV3LmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgYmFzZVJlc29sdmVEaXJlY3RpdmUodFZpZXcsIHZpZXdEYXRhLCBkZWYsIGRlZi5mYWN0b3J5KTtcbiAgICAgICAgICAgIHNhdmVOYW1lVG9FeHBvcnRNYXAodFZpZXcuZGF0YS5sZW5ndGggLSAxLCBkZWYsIGV4cG9ydHNNYXApO1xuICAgICAgICAgICAgLy8gSW5pdCBob29rcyBhcmUgcXVldWVkIG5vdyBzbyBuZ09uSW5pdCBpcyBjYWxsZWQgaW4gaG9zdCBjb21wb25lbnRzIGJlZm9yZVxuICAgICAgICAgICAgLy8gYW55IHByb2plY3RlZCBjb21wb25lbnRzLlxuICAgICAgICAgICAgcXVldWVJbml0SG9va3MoZGlyZWN0aXZlRGVmSWR4LCBkZWYub25Jbml0LCBkZWYuZG9DaGVjaywgdFZpZXcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChleHBvcnRzTWFwKVxuICAgICAgICBjYWNoZU1hdGNoaW5nTG9jYWxOYW1lcyh0Tm9kZSwgbG9jYWxSZWZzLCBleHBvcnRzTWFwKTtcbn1cbi8qKlxuICogSW5zdGFudGlhdGUgYWxsIHRoZSBkaXJlY3RpdmVzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlc29sdmVkIG9uIHRoZSBjdXJyZW50IG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRlQWxsRGlyZWN0aXZlcyh0VmlldywgbFZpZXcsIHROb2RlKSB7XG4gICAgdmFyIHN0YXJ0ID0gdE5vZGUuZGlyZWN0aXZlU3RhcnQ7XG4gICAgdmFyIGVuZCA9IHROb2RlLmRpcmVjdGl2ZUVuZDtcbiAgICBpZiAoIWdldEZpcnN0VGVtcGxhdGVQYXNzKCkgJiYgc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCBsVmlldyk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIHZhciBkZWYgPSB0Vmlldy5kYXRhW2ldO1xuICAgICAgICBpZiAoaXNDb21wb25lbnREZWYoZGVmKSkge1xuICAgICAgICAgICAgYWRkQ29tcG9uZW50TG9naWMobFZpZXcsIHROb2RlLCBkZWYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSBnZXROb2RlSW5qZWN0YWJsZSh0Vmlldy5kYXRhLCBsVmlldywgaSwgdE5vZGUpO1xuICAgICAgICBwb3N0UHJvY2Vzc0RpcmVjdGl2ZShsVmlldywgZGlyZWN0aXZlLCBkZWYsIGkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZXNIb3N0QmluZGluZ3ModFZpZXcsIHZpZXdEYXRhLCB0Tm9kZSkge1xuICAgIHZhciBzdGFydCA9IHROb2RlLmRpcmVjdGl2ZVN0YXJ0O1xuICAgIHZhciBlbmQgPSB0Tm9kZS5kaXJlY3RpdmVFbmQ7XG4gICAgdmFyIGV4cGFuZG8gPSB0Vmlldy5leHBhbmRvSW5zdHJ1Y3Rpb25zO1xuICAgIHZhciBmaXJzdFRlbXBsYXRlUGFzcyA9IGdldEZpcnN0VGVtcGxhdGVQYXNzKCk7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgdmFyIGRlZiA9IHRWaWV3LmRhdGFbaV07XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB2aWV3RGF0YVtpXTtcbiAgICAgICAgaWYgKGRlZi5ob3N0QmluZGluZ3MpIHtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c0V4cGFuZG9MZW5ndGggPSBleHBhbmRvLmxlbmd0aDtcbiAgICAgICAgICAgIHNldEN1cnJlbnREaXJlY3RpdmVEZWYoZGVmKTtcbiAgICAgICAgICAgIGRlZi5ob3N0QmluZGluZ3MoMSAvKiBDcmVhdGUgKi8sIGRpcmVjdGl2ZSwgdE5vZGUuaW5kZXggLSBIRUFERVJfT0ZGU0VUKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnREaXJlY3RpdmVEZWYobnVsbCk7XG4gICAgICAgICAgICAvLyBgaG9zdEJpbmRpbmdzYCBmdW5jdGlvbiBtYXkgb3IgbWF5IG5vdCBjb250YWluIGBhbGxvY0hvc3RWYXJzYCBjYWxsXG4gICAgICAgICAgICAvLyAoZS5nLiBpdCBtYXkgbm90IGlmIGl0IG9ubHkgY29udGFpbnMgaG9zdCBsaXN0ZW5lcnMpLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIHdoZXRoZXJcbiAgICAgICAgICAgIC8vIGBleHBhbmRvSW5zdHJ1Y3Rpb25zYCBoYXMgY2hhbmdlZCBhbmQgaWYgbm90IC0gd2Ugc3RpbGwgcHVzaCBgaG9zdEJpbmRpbmdzYCB0b1xuICAgICAgICAgICAgLy8gZXhwYW5kbyBibG9jaywgdG8gbWFrZSBzdXJlIHdlIGV4ZWN1dGUgaXQgZm9yIERJIGN5Y2xlXG4gICAgICAgICAgICBpZiAocHJldmlvdXNFeHBhbmRvTGVuZ3RoID09PSBleHBhbmRvLmxlbmd0aCAmJiBmaXJzdFRlbXBsYXRlUGFzcykge1xuICAgICAgICAgICAgICAgIGV4cGFuZG8ucHVzaChkZWYuaG9zdEJpbmRpbmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaXJzdFRlbXBsYXRlUGFzcykge1xuICAgICAgICAgICAgZXhwYW5kby5wdXNoKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4qIEdlbmVyYXRlcyBhIG5ldyBibG9jayBpbiBUVmlldy5leHBhbmRvSW5zdHJ1Y3Rpb25zIGZvciB0aGlzIG5vZGUuXG4qXG4qIEVhY2ggZXhwYW5kbyBibG9jayBzdGFydHMgd2l0aCB0aGUgZWxlbWVudCBpbmRleCAodHVybmVkIG5lZ2F0aXZlIHNvIHdlIGNhbiBkaXN0aW5ndWlzaFxuKiBpdCBmcm9tIHRoZSBob3N0VmFyIGNvdW50KSBhbmQgdGhlIGRpcmVjdGl2ZSBjb3VudC4gU2VlIG1vcmUgaW4gVklFV19EQVRBLm1kLlxuKi9cbmZ1bmN0aW9uIGdlbmVyYXRlRXhwYW5kb0luc3RydWN0aW9uQmxvY2sodFZpZXcsIHROb2RlLCBkaXJlY3RpdmVDb3VudCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0Vmlldy5maXJzdFRlbXBsYXRlUGFzcywgdHJ1ZSwgJ0V4cGFuZG8gYmxvY2sgc2hvdWxkIG9ubHkgYmUgZ2VuZXJhdGVkIG9uIGZpcnN0IHRlbXBsYXRlIHBhc3MuJyk7XG4gICAgdmFyIGVsZW1lbnRJbmRleCA9IC0odE5vZGUuaW5kZXggLSBIRUFERVJfT0ZGU0VUKTtcbiAgICB2YXIgcHJvdmlkZXJTdGFydEluZGV4ID0gdE5vZGUucHJvdmlkZXJJbmRleGVzICYgNjU1MzUgLyogUHJvdmlkZXJzU3RhcnRJbmRleE1hc2sgKi87XG4gICAgdmFyIHByb3ZpZGVyQ291bnQgPSB0Vmlldy5kYXRhLmxlbmd0aCAtIHByb3ZpZGVyU3RhcnRJbmRleDtcbiAgICAodFZpZXcuZXhwYW5kb0luc3RydWN0aW9ucyB8fCAodFZpZXcuZXhwYW5kb0luc3RydWN0aW9ucyA9IFtdKSkucHVzaChlbGVtZW50SW5kZXgsIHByb3ZpZGVyQ291bnQsIGRpcmVjdGl2ZUNvdW50KTtcbn1cbi8qKlxuKiBPbiB0aGUgZmlyc3QgdGVtcGxhdGUgcGFzcywgd2UgbmVlZCB0byByZXNlcnZlIHNwYWNlIGZvciBob3N0IGJpbmRpbmcgdmFsdWVzXG4qIGFmdGVyIGRpcmVjdGl2ZXMgYXJlIG1hdGNoZWQgKHNvIGFsbCBkaXJlY3RpdmVzIGFyZSBzYXZlZCwgdGhlbiBiaW5kaW5ncykuXG4qIEJlY2F1c2Ugd2UgYXJlIHVwZGF0aW5nIHRoZSBibHVlcHJpbnQsIHdlIG9ubHkgbmVlZCB0byBkbyB0aGlzIG9uY2UuXG4qL1xuZnVuY3Rpb24gcHJlZmlsbEhvc3RWYXJzKHRWaWV3LCBsVmlldywgdG90YWxIb3N0VmFycykge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChnZXRGaXJzdFRlbXBsYXRlUGFzcygpLCB0cnVlLCAnU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGZpcnN0IHRlbXBsYXRlIHBhc3MuJyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEhvc3RWYXJzOyBpKyspIHtcbiAgICAgICAgbFZpZXcucHVzaChOT19DSEFOR0UpO1xuICAgICAgICB0Vmlldy5ibHVlcHJpbnQucHVzaChOT19DSEFOR0UpO1xuICAgICAgICB0Vmlldy5kYXRhLnB1c2gobnVsbCk7XG4gICAgfVxufVxuLyoqXG4gKiBQcm9jZXNzIGEgZGlyZWN0aXZlIG9uIHRoZSBjdXJyZW50IG5vZGUgYWZ0ZXIgaXRzIGNyZWF0aW9uLlxuICovXG5mdW5jdGlvbiBwb3N0UHJvY2Vzc0RpcmVjdGl2ZSh2aWV3RGF0YSwgZGlyZWN0aXZlLCBkZWYsIGRpcmVjdGl2ZURlZklkeCkge1xuICAgIHZhciBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICBwb3N0UHJvY2Vzc0Jhc2VEaXJlY3RpdmUodmlld0RhdGEsIHByZXZpb3VzT3JQYXJlbnRUTm9kZSwgZGlyZWN0aXZlLCBkZWYpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHByZXZpb3VzT3JQYXJlbnRUTm9kZSwgJ3ByZXZpb3VzT3JQYXJlbnRUTm9kZScpO1xuICAgIGlmIChwcmV2aW91c09yUGFyZW50VE5vZGUgJiYgcHJldmlvdXNPclBhcmVudFROb2RlLmF0dHJzKSB7XG4gICAgICAgIHNldElucHV0c0Zyb21BdHRycyhkaXJlY3RpdmVEZWZJZHgsIGRpcmVjdGl2ZSwgZGVmLmlucHV0cywgcHJldmlvdXNPclBhcmVudFROb2RlKTtcbiAgICB9XG4gICAgaWYgKGRlZi5jb250ZW50UXVlcmllcykge1xuICAgICAgICBkZWYuY29udGVudFF1ZXJpZXMoZGlyZWN0aXZlRGVmSWR4KTtcbiAgICB9XG4gICAgaWYgKGlzQ29tcG9uZW50RGVmKGRlZikpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRWaWV3QnlJbmRleChwcmV2aW91c09yUGFyZW50VE5vZGUuaW5kZXgsIHZpZXdEYXRhKTtcbiAgICAgICAgY29tcG9uZW50Vmlld1tDT05URVhUXSA9IGRpcmVjdGl2ZTtcbiAgICB9XG59XG4vKipcbiAqIEEgbGlnaHRlciB2ZXJzaW9uIG9mIHBvc3RQcm9jZXNzRGlyZWN0aXZlKCkgdGhhdCBpcyB1c2VkIGZvciB0aGUgcm9vdCBjb21wb25lbnQuXG4gKi9cbmZ1bmN0aW9uIHBvc3RQcm9jZXNzQmFzZURpcmVjdGl2ZShsVmlldywgcHJldmlvdXNPclBhcmVudFROb2RlLCBkaXJlY3RpdmUsIGRlZikge1xuICAgIHZhciBuYXRpdmUgPSBnZXROYXRpdmVCeVROb2RlKHByZXZpb3VzT3JQYXJlbnRUTm9kZSwgbFZpZXcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChsVmlld1tCSU5ESU5HX0lOREVYXSwgbFZpZXdbVFZJRVddLmJpbmRpbmdTdGFydEluZGV4LCAnZGlyZWN0aXZlcyBzaG91bGQgYmUgY3JlYXRlZCBiZWZvcmUgYW55IGJpbmRpbmdzJyk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydFByZXZpb3VzSXNQYXJlbnQoZ2V0SXNQYXJlbnQoKSk7XG4gICAgYXR0YWNoUGF0Y2hEYXRhKGRpcmVjdGl2ZSwgbFZpZXcpO1xuICAgIGlmIChuYXRpdmUpIHtcbiAgICAgICAgYXR0YWNoUGF0Y2hEYXRhKG5hdGl2ZSwgbFZpZXcpO1xuICAgIH1cbiAgICAvLyBUT0RPKG1pc2tvKTogc2V0VXBBdHRyaWJ1dGVzIHNob3VsZCBiZSBhIGZlYXR1cmUgZm9yIGJldHRlciB0cmVlc2hha2FiaWxpdHkuXG4gICAgaWYgKGRlZi5hdHRyaWJ1dGVzICE9IG51bGwgJiYgcHJldmlvdXNPclBhcmVudFROb2RlLnR5cGUgPT0gMyAvKiBFbGVtZW50ICovKSB7XG4gICAgICAgIHNldFVwQXR0cmlidXRlcyhuYXRpdmUsIGRlZi5hdHRyaWJ1dGVzKTtcbiAgICB9XG59XG4vKipcbiogTWF0Y2hlcyB0aGUgY3VycmVudCBub2RlIGFnYWluc3QgYWxsIGF2YWlsYWJsZSBzZWxlY3RvcnMuXG4qIElmIGEgY29tcG9uZW50IGlzIG1hdGNoZWQgKGF0IG1vc3Qgb25lKSwgaXQgaXMgcmV0dXJuZWQgaW4gZmlyc3QgcG9zaXRpb24gaW4gdGhlIGFycmF5LlxuKi9cbmZ1bmN0aW9uIGZpbmREaXJlY3RpdmVNYXRjaGVzKHRWaWV3LCB2aWV3RGF0YSwgdE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoZ2V0Rmlyc3RUZW1wbGF0ZVBhc3MoKSwgdHJ1ZSwgJ3Nob3VsZCBydW4gb24gZmlyc3QgdGVtcGxhdGUgcGFzcyBvbmx5Jyk7XG4gICAgdmFyIHJlZ2lzdHJ5ID0gdFZpZXcuZGlyZWN0aXZlUmVnaXN0cnk7XG4gICAgdmFyIG1hdGNoZXMgPSBudWxsO1xuICAgIGlmIChyZWdpc3RyeSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZ2lzdHJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGVmID0gcmVnaXN0cnlbaV07XG4gICAgICAgICAgICBpZiAoaXNOb2RlTWF0Y2hpbmdTZWxlY3Rvckxpc3QodE5vZGUsIGRlZi5zZWxlY3RvcnMsIC8qIGlzUHJvamVjdGlvbk1vZGUgKi8gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcyB8fCAobWF0Y2hlcyA9IFtdKTtcbiAgICAgICAgICAgICAgICBkaVB1YmxpY0luSW5qZWN0b3IoZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpLCB2aWV3RGF0YSksIHZpZXdEYXRhLCBkZWYudHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ29tcG9uZW50RGVmKGRlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHROb2RlLmZsYWdzICYgMSAvKiBpc0NvbXBvbmVudCAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93TXVsdGlwbGVDb21wb25lbnRFcnJvcih0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHROb2RlLmZsYWdzID0gMSAvKiBpc0NvbXBvbmVudCAqLztcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNvbXBvbmVudCBpcyBhbHdheXMgc3RvcmVkIGZpcnN0IHdpdGggZGlyZWN0aXZlcyBhZnRlci5cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy51bnNoaWZ0KGRlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goZGVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoZXM7XG59XG4vKiogU3RvcmVzIGluZGV4IG9mIGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudCBzbyBpdCB3aWxsIGJlIHF1ZXVlZCBmb3IgdmlldyByZWZyZXNoIGR1cmluZyBDRC4gKi9cbmZ1bmN0aW9uIHF1ZXVlQ29tcG9uZW50SW5kZXhGb3JDaGVjayhwcmV2aW91c09yUGFyZW50VE5vZGUpIHtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwoZ2V0Rmlyc3RUZW1wbGF0ZVBhc3MoKSwgdHJ1ZSwgJ1Nob3VsZCBvbmx5IGJlIGNhbGxlZCBpbiBmaXJzdCB0ZW1wbGF0ZSBwYXNzLicpO1xuICAgIHZhciB0VmlldyA9IGdldExWaWV3KClbVFZJRVddO1xuICAgICh0Vmlldy5jb21wb25lbnRzIHx8ICh0Vmlldy5jb21wb25lbnRzID0gW10pKS5wdXNoKHByZXZpb3VzT3JQYXJlbnRUTm9kZS5pbmRleCk7XG59XG4vKipcbiAqIFN0b3JlcyBob3N0IGJpbmRpbmcgZm4gYW5kIG51bWJlciBvZiBob3N0IHZhcnMgc28gaXQgd2lsbCBiZSBxdWV1ZWQgZm9yIGJpbmRpbmcgcmVmcmVzaCBkdXJpbmdcbiAqIENELlxuKi9cbmZ1bmN0aW9uIHF1ZXVlSG9zdEJpbmRpbmdGb3JDaGVjayh0VmlldywgZGVmLCBob3N0VmFycykge1xuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChnZXRGaXJzdFRlbXBsYXRlUGFzcygpLCB0cnVlLCAnU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGZpcnN0IHRlbXBsYXRlIHBhc3MuJyk7XG4gICAgdmFyIGV4cGFuZG8gPSB0Vmlldy5leHBhbmRvSW5zdHJ1Y3Rpb25zO1xuICAgIHZhciBsZW5ndGggPSBleHBhbmRvLmxlbmd0aDtcbiAgICAvLyBDaGVjayB3aGV0aGVyIGEgZ2l2ZW4gYGhvc3RCaW5kaW5nc2AgZnVuY3Rpb24gYWxyZWFkeSBleGlzdHMgaW4gZXhwYW5kb0luc3RydWN0aW9ucyxcbiAgICAvLyB3aGljaCBjYW4gaGFwcGVuIGluIGNhc2UgZGlyZWN0aXZlIGRlZmluaXRpb24gd2FzIGV4dGVuZGVkIGZyb20gYmFzZSBkZWZpbml0aW9uIChhcyBhIHBhcnQgb2ZcbiAgICAvLyB0aGUgYEluaGVyaXREZWZpbml0aW9uRmVhdHVyZWAgbG9naWMpLiBJZiB3ZSBmb3VuZCB0aGUgc2FtZSBgaG9zdEJpbmRpbmdzYCBmdW5jdGlvbiBpbiB0aGVcbiAgICAvLyBsaXN0LCB3ZSBqdXN0IGluY3JlYXNlIHRoZSBudW1iZXIgb2YgaG9zdCB2YXJzIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGZ1bmN0aW9uLCBidXQgZG8gbm90IGFkZCBpdFxuICAgIC8vIGludG8gdGhlIGxpc3QgYWdhaW4uXG4gICAgaWYgKGxlbmd0aCA+PSAyICYmIGV4cGFuZG9bbGVuZ3RoIC0gMl0gPT09IGRlZi5ob3N0QmluZGluZ3MpIHtcbiAgICAgICAgZXhwYW5kb1tsZW5ndGggLSAxXSA9IGV4cGFuZG9bbGVuZ3RoIC0gMV0gKyBob3N0VmFycztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4cGFuZG8ucHVzaChkZWYuaG9zdEJpbmRpbmdzLCBob3N0VmFycyk7XG4gICAgfVxufVxuLyoqIENhY2hlcyBsb2NhbCBuYW1lcyBhbmQgdGhlaXIgbWF0Y2hpbmcgZGlyZWN0aXZlIGluZGljZXMgZm9yIHF1ZXJ5IGFuZCB0ZW1wbGF0ZSBsb29rdXBzLiAqL1xuZnVuY3Rpb24gY2FjaGVNYXRjaGluZ0xvY2FsTmFtZXModE5vZGUsIGxvY2FsUmVmcywgZXhwb3J0c01hcCkge1xuICAgIGlmIChsb2NhbFJlZnMpIHtcbiAgICAgICAgdmFyIGxvY2FsTmFtZXMgPSB0Tm9kZS5sb2NhbE5hbWVzID0gW107XG4gICAgICAgIC8vIExvY2FsIG5hbWVzIG11c3QgYmUgc3RvcmVkIGluIHROb2RlIGluIHRoZSBzYW1lIG9yZGVyIHRoYXQgbG9jYWxSZWZzIGFyZSBkZWZpbmVkXG4gICAgICAgIC8vIGluIHRoZSB0ZW1wbGF0ZSB0byBlbnN1cmUgdGhlIGRhdGEgaXMgbG9hZGVkIGluIHRoZSBzYW1lIHNsb3RzIGFzIHRoZWlyIHJlZnNcbiAgICAgICAgLy8gaW4gdGhlIHRlbXBsYXRlIChmb3IgdGVtcGxhdGUgcXVlcmllcykuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYWxSZWZzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBleHBvcnRzTWFwW2xvY2FsUmVmc1tpICsgMV1dO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwb3J0IG9mIG5hbWUgJ1wiICsgbG9jYWxSZWZzW2kgKyAxXSArIFwiJyBub3QgZm91bmQhXCIpO1xuICAgICAgICAgICAgbG9jYWxOYW1lcy5wdXNoKGxvY2FsUmVmc1tpXSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4qIEJ1aWxkcyB1cCBhbiBleHBvcnQgbWFwIGFzIGRpcmVjdGl2ZXMgYXJlIGNyZWF0ZWQsIHNvIGxvY2FsIHJlZnMgY2FuIGJlIHF1aWNrbHkgbWFwcGVkXG4qIHRvIHRoZWlyIGRpcmVjdGl2ZSBpbnN0YW5jZXMuXG4qL1xuZnVuY3Rpb24gc2F2ZU5hbWVUb0V4cG9ydE1hcChpbmRleCwgZGVmLCBleHBvcnRzTWFwKSB7XG4gICAgaWYgKGV4cG9ydHNNYXApIHtcbiAgICAgICAgaWYgKGRlZi5leHBvcnRBcylcbiAgICAgICAgICAgIGV4cG9ydHNNYXBbZGVmLmV4cG9ydEFzXSA9IGluZGV4O1xuICAgICAgICBpZiAoZGVmLnRlbXBsYXRlKVxuICAgICAgICAgICAgZXhwb3J0c01hcFsnJ10gPSBpbmRleDtcbiAgICB9XG59XG4vKipcbiAqIEluaXRpYWxpemVzIHRoZSBmbGFncyBvbiB0aGUgY3VycmVudCBub2RlLCBzZXR0aW5nIGFsbCBpbmRpY2VzIHRvIHRoZSBpbml0aWFsIGluZGV4LFxuICogdGhlIGRpcmVjdGl2ZSBjb3VudCB0byAwLCBhbmQgYWRkaW5nIHRoZSBpc0NvbXBvbmVudCBmbGFnLlxuICogQHBhcmFtIGluZGV4IHRoZSBpbml0aWFsIGluZGV4XG4gKi9cbmZ1bmN0aW9uIGluaXROb2RlRmxhZ3ModE5vZGUsIGluZGV4LCBudW1iZXJPZkRpcmVjdGl2ZXMpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoZ2V0Rmlyc3RUZW1wbGF0ZVBhc3MoKSwgdHJ1ZSwgJ2V4cGVjdGVkIGZpcnN0VGVtcGxhdGVQYXNzIHRvIGJlIHRydWUnKTtcbiAgICB2YXIgZmxhZ3MgPSB0Tm9kZS5mbGFncztcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwoZmxhZ3MgPT09IDAgfHwgZmxhZ3MgPT09IDEgLyogaXNDb21wb25lbnQgKi8sIHRydWUsICdleHBlY3RlZCBub2RlIGZsYWdzIHRvIG5vdCBiZSBpbml0aWFsaXplZCcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb3RFcXVhbChudW1iZXJPZkRpcmVjdGl2ZXMsIHROb2RlLmRpcmVjdGl2ZUVuZCAtIHROb2RlLmRpcmVjdGl2ZVN0YXJ0LCAnUmVhY2hlZCB0aGUgbWF4IG51bWJlciBvZiBkaXJlY3RpdmVzJyk7XG4gICAgLy8gV2hlbiB0aGUgZmlyc3QgZGlyZWN0aXZlIGlzIGNyZWF0ZWQgb24gYSBub2RlLCBzYXZlIHRoZSBpbmRleFxuICAgIHROb2RlLmZsYWdzID0gZmxhZ3MgJiAxIC8qIGlzQ29tcG9uZW50ICovO1xuICAgIHROb2RlLmRpcmVjdGl2ZVN0YXJ0ID0gaW5kZXg7XG4gICAgdE5vZGUuZGlyZWN0aXZlRW5kID0gaW5kZXggKyBudW1iZXJPZkRpcmVjdGl2ZXM7XG4gICAgdE5vZGUucHJvdmlkZXJJbmRleGVzID0gaW5kZXg7XG59XG5mdW5jdGlvbiBiYXNlUmVzb2x2ZURpcmVjdGl2ZSh0Vmlldywgdmlld0RhdGEsIGRlZiwgZGlyZWN0aXZlRmFjdG9yeSkge1xuICAgIHRWaWV3LmRhdGEucHVzaChkZWYpO1xuICAgIHZhciBub2RlSW5qZWN0b3JGYWN0b3J5ID0gbmV3IE5vZGVJbmplY3RvckZhY3RvcnkoZGlyZWN0aXZlRmFjdG9yeSwgaXNDb21wb25lbnREZWYoZGVmKSwgbnVsbCk7XG4gICAgdFZpZXcuYmx1ZXByaW50LnB1c2gobm9kZUluamVjdG9yRmFjdG9yeSk7XG4gICAgdmlld0RhdGEucHVzaChub2RlSW5qZWN0b3JGYWN0b3J5KTtcbn1cbmZ1bmN0aW9uIGFkZENvbXBvbmVudExvZ2ljKGxWaWV3LCBwcmV2aW91c09yUGFyZW50VE5vZGUsIGRlZikge1xuICAgIHZhciBuYXRpdmUgPSBnZXROYXRpdmVCeVROb2RlKHByZXZpb3VzT3JQYXJlbnRUTm9kZSwgbFZpZXcpO1xuICAgIHZhciB0VmlldyA9IGdldE9yQ3JlYXRlVFZpZXcoZGVmLnRlbXBsYXRlLCBkZWYuY29uc3RzLCBkZWYudmFycywgZGVmLmRpcmVjdGl2ZURlZnMsIGRlZi5waXBlRGVmcywgZGVmLnZpZXdRdWVyeSk7XG4gICAgLy8gT25seSBjb21wb25lbnQgdmlld3Mgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSB2aWV3IHRyZWUgZGlyZWN0bHkuIEVtYmVkZGVkIHZpZXdzIGFyZVxuICAgIC8vIGFjY2Vzc2VkIHRocm91Z2ggdGhlaXIgY29udGFpbmVycyBiZWNhdXNlIHRoZXkgbWF5IGJlIHJlbW92ZWQgLyByZS1hZGRlZCBsYXRlci5cbiAgICB2YXIgcmVuZGVyZXJGYWN0b3J5ID0gbFZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgdmFyIGNvbXBvbmVudFZpZXcgPSBhZGRUb1ZpZXdUcmVlKGxWaWV3LCBwcmV2aW91c09yUGFyZW50VE5vZGUuaW5kZXgsIGNyZWF0ZUxWaWV3KGxWaWV3LCB0VmlldywgbnVsbCwgZGVmLm9uUHVzaCA/IDggLyogRGlydHkgKi8gOiA0IC8qIENoZWNrQWx3YXlzICovLCByZW5kZXJlckZhY3RvcnksIGxWaWV3W1JFTkRFUkVSX0ZBQ1RPUlldLmNyZWF0ZVJlbmRlcmVyKG5hdGl2ZSwgZGVmKSkpO1xuICAgIGNvbXBvbmVudFZpZXdbSE9TVF9OT0RFXSA9IHByZXZpb3VzT3JQYXJlbnRUTm9kZTtcbiAgICAvLyBDb21wb25lbnQgdmlldyB3aWxsIGFsd2F5cyBiZSBjcmVhdGVkIGJlZm9yZSBhbnkgaW5qZWN0ZWQgTENvbnRhaW5lcnMsXG4gICAgLy8gc28gdGhpcyBpcyBhIHJlZ3VsYXIgZWxlbWVudCwgd3JhcCBpdCB3aXRoIHRoZSBjb21wb25lbnQgdmlld1xuICAgIGNvbXBvbmVudFZpZXdbSE9TVF0gPSBsVmlld1twcmV2aW91c09yUGFyZW50VE5vZGUuaW5kZXhdO1xuICAgIGxWaWV3W3ByZXZpb3VzT3JQYXJlbnRUTm9kZS5pbmRleF0gPSBjb21wb25lbnRWaWV3O1xuICAgIGlmIChnZXRGaXJzdFRlbXBsYXRlUGFzcygpKSB7XG4gICAgICAgIHF1ZXVlQ29tcG9uZW50SW5kZXhGb3JDaGVjayhwcmV2aW91c09yUGFyZW50VE5vZGUpO1xuICAgIH1cbn1cbi8qKlxuICogU2V0cyBpbml0aWFsIGlucHV0IHByb3BlcnRpZXMgb24gZGlyZWN0aXZlIGluc3RhbmNlcyBmcm9tIGF0dHJpYnV0ZSBkYXRhXG4gKlxuICogQHBhcmFtIGRpcmVjdGl2ZUluZGV4IEluZGV4IG9mIHRoZSBkaXJlY3RpdmUgaW4gZGlyZWN0aXZlcyBhcnJheVxuICogQHBhcmFtIGluc3RhbmNlIEluc3RhbmNlIG9mIHRoZSBkaXJlY3RpdmUgb24gd2hpY2ggdG8gc2V0IHRoZSBpbml0aWFsIGlucHV0c1xuICogQHBhcmFtIGlucHV0cyBUaGUgbGlzdCBvZiBpbnB1dHMgZnJvbSB0aGUgZGlyZWN0aXZlIGRlZlxuICogQHBhcmFtIHROb2RlIFRoZSBzdGF0aWMgZGF0YSBmb3IgdGhpcyBub2RlXG4gKi9cbmZ1bmN0aW9uIHNldElucHV0c0Zyb21BdHRycyhkaXJlY3RpdmVJbmRleCwgaW5zdGFuY2UsIGlucHV0cywgdE5vZGUpIHtcbiAgICB2YXIgaW5pdGlhbElucHV0RGF0YSA9IHROb2RlLmluaXRpYWxJbnB1dHM7XG4gICAgaWYgKGluaXRpYWxJbnB1dERhdGEgPT09IHVuZGVmaW5lZCB8fCBkaXJlY3RpdmVJbmRleCA+PSBpbml0aWFsSW5wdXREYXRhLmxlbmd0aCkge1xuICAgICAgICBpbml0aWFsSW5wdXREYXRhID0gZ2VuZXJhdGVJbml0aWFsSW5wdXRzKGRpcmVjdGl2ZUluZGV4LCBpbnB1dHMsIHROb2RlKTtcbiAgICB9XG4gICAgdmFyIGluaXRpYWxJbnB1dHMgPSBpbml0aWFsSW5wdXREYXRhW2RpcmVjdGl2ZUluZGV4XTtcbiAgICBpZiAoaW5pdGlhbElucHV0cykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxJbnB1dHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGluc3RhbmNlW2luaXRpYWxJbnB1dHNbaV1dID0gaW5pdGlhbElucHV0c1tpICsgMV07XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEdlbmVyYXRlcyBpbml0aWFsSW5wdXREYXRhIGZvciBhIG5vZGUgYW5kIHN0b3JlcyBpdCBpbiB0aGUgdGVtcGxhdGUncyBzdGF0aWMgc3RvcmFnZVxuICogc28gc3Vic2VxdWVudCB0ZW1wbGF0ZSBpbnZvY2F0aW9ucyBkb24ndCBoYXZlIHRvIHJlY2FsY3VsYXRlIGl0LlxuICpcbiAqIGluaXRpYWxJbnB1dERhdGEgaXMgYW4gYXJyYXkgY29udGFpbmluZyB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHNldCBhcyBpbnB1dCBwcm9wZXJ0aWVzXG4gKiBmb3IgZGlyZWN0aXZlcyBvbiB0aGlzIG5vZGUsIGJ1dCBvbmx5IG9uY2Ugb24gY3JlYXRpb24uIFdlIG5lZWQgdGhpcyBhcnJheSB0byBzdXBwb3J0XG4gKiB0aGUgY2FzZSB3aGVyZSB5b3Ugc2V0IGFuIEBJbnB1dCBwcm9wZXJ0eSBvZiBhIGRpcmVjdGl2ZSB1c2luZyBhdHRyaWJ1dGUtbGlrZSBzeW50YXguXG4gKiBlLmcuIGlmIHlvdSBoYXZlIGEgYG5hbWVgIEBJbnB1dCwgeW91IGNhbiBzZXQgaXQgb25jZSBsaWtlIHRoaXM6XG4gKlxuICogPG15LWNvbXBvbmVudCBuYW1lPVwiQmVzc1wiPjwvbXktY29tcG9uZW50PlxuICpcbiAqIEBwYXJhbSBkaXJlY3RpdmVJbmRleCBJbmRleCB0byBzdG9yZSB0aGUgaW5pdGlhbCBpbnB1dCBkYXRhXG4gKiBAcGFyYW0gaW5wdXRzIFRoZSBsaXN0IG9mIGlucHV0cyBmcm9tIHRoZSBkaXJlY3RpdmUgZGVmXG4gKiBAcGFyYW0gdE5vZGUgVGhlIHN0YXRpYyBkYXRhIG9uIHRoaXMgbm9kZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUluaXRpYWxJbnB1dHMoZGlyZWN0aXZlSW5kZXgsIGlucHV0cywgdE5vZGUpIHtcbiAgICB2YXIgaW5pdGlhbElucHV0RGF0YSA9IHROb2RlLmluaXRpYWxJbnB1dHMgfHwgKHROb2RlLmluaXRpYWxJbnB1dHMgPSBbXSk7XG4gICAgaW5pdGlhbElucHV0RGF0YVtkaXJlY3RpdmVJbmRleF0gPSBudWxsO1xuICAgIHZhciBhdHRycyA9IHROb2RlLmF0dHJzO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGF0dHJzLmxlbmd0aCkge1xuICAgICAgICB2YXIgYXR0ck5hbWUgPSBhdHRyc1tpXTtcbiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAzIC8qIFNlbGVjdE9ubHkgKi8pXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKGF0dHJOYW1lID09PSAwIC8qIE5hbWVzcGFjZVVSSSAqLykge1xuICAgICAgICAgICAgLy8gV2UgZG8gbm90IGFsbG93IGlucHV0cyBvbiBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMuXG4gICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluaWZpZWRJbnB1dE5hbWUgPSBpbnB1dHNbYXR0ck5hbWVdO1xuICAgICAgICB2YXIgYXR0clZhbHVlID0gYXR0cnNbaSArIDFdO1xuICAgICAgICBpZiAobWluaWZpZWRJbnB1dE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGlucHV0c1RvU3RvcmUgPSBpbml0aWFsSW5wdXREYXRhW2RpcmVjdGl2ZUluZGV4XSB8fCAoaW5pdGlhbElucHV0RGF0YVtkaXJlY3RpdmVJbmRleF0gPSBbXSk7XG4gICAgICAgICAgICBpbnB1dHNUb1N0b3JlLnB1c2gobWluaWZpZWRJbnB1dE5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaSArPSAyO1xuICAgIH1cbiAgICByZXR1cm4gaW5pdGlhbElucHV0RGF0YTtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vIFZpZXdDb250YWluZXIgJiBWaWV3XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqXG4gKiBDcmVhdGVzIGEgTENvbnRhaW5lciwgZWl0aGVyIGZyb20gYSBjb250YWluZXIgaW5zdHJ1Y3Rpb24sIG9yIGZvciBhIFZpZXdDb250YWluZXJSZWYuXG4gKlxuICogQHBhcmFtIGhvc3ROYXRpdmUgVGhlIGhvc3QgZWxlbWVudCBmb3IgdGhlIExDb250YWluZXJcbiAqIEBwYXJhbSBob3N0VE5vZGUgVGhlIGhvc3QgVE5vZGUgZm9yIHRoZSBMQ29udGFpbmVyXG4gKiBAcGFyYW0gY3VycmVudFZpZXcgVGhlIHBhcmVudCB2aWV3IG9mIHRoZSBMQ29udGFpbmVyXG4gKiBAcGFyYW0gbmF0aXZlIFRoZSBuYXRpdmUgY29tbWVudCBlbGVtZW50XG4gKiBAcGFyYW0gaXNGb3JWaWV3Q29udGFpbmVyUmVmIE9wdGlvbmFsIGEgZmxhZyBpbmRpY2F0aW5nIHRoZSBWaWV3Q29udGFpbmVyUmVmIGNhc2VcbiAqIEByZXR1cm5zIExDb250YWluZXJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTENvbnRhaW5lcihob3N0TmF0aXZlLCBob3N0VE5vZGUsIGN1cnJlbnRWaWV3LCBuYXRpdmUsIGlzRm9yVmlld0NvbnRhaW5lclJlZikge1xuICAgIHJldHVybiBbXG4gICAgICAgIGlzRm9yVmlld0NvbnRhaW5lclJlZiA/IC0xIDogMCxcbiAgICAgICAgW10sXG4gICAgICAgIGN1cnJlbnRWaWV3LFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBob3N0TmF0aXZlLFxuICAgICAgICBuYXRpdmUsXG4gICAgICAgIGdldFJlbmRlclBhcmVudChob3N0VE5vZGUsIGN1cnJlbnRWaWV3KSAvLyByZW5kZXJQYXJlbnRcbiAgICBdO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIExDb250YWluZXIgZm9yIGFuIG5nLXRlbXBsYXRlIChkeW5hbWljYWxseS1pbnNlcnRlZCB2aWV3KSwgZS5nLlxuICpcbiAqIDxuZy10ZW1wbGF0ZSAjZm9vPlxuICogICAgPGRpdj48L2Rpdj5cbiAqIDwvbmctdGVtcGxhdGU+XG4gKlxuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgY29udGFpbmVyIGluIHRoZSBkYXRhIGFycmF5XG4gKiBAcGFyYW0gdGVtcGxhdGVGbiBJbmxpbmUgdGVtcGxhdGVcbiAqIEBwYXJhbSBjb25zdHMgVGhlIG51bWJlciBvZiBub2RlcywgbG9jYWwgcmVmcywgYW5kIHBpcGVzIGZvciB0aGlzIHRlbXBsYXRlXG4gKiBAcGFyYW0gdmFycyBUaGUgbnVtYmVyIG9mIGJpbmRpbmdzIGZvciB0aGlzIHRlbXBsYXRlXG4gKiBAcGFyYW0gdGFnTmFtZSBUaGUgbmFtZSBvZiB0aGUgY29udGFpbmVyIGVsZW1lbnQsIGlmIGFwcGxpY2FibGVcbiAqIEBwYXJhbSBhdHRycyBUaGUgYXR0cnMgYXR0YWNoZWQgdG8gdGhlIGNvbnRhaW5lciwgaWYgYXBwbGljYWJsZVxuICogQHBhcmFtIGxvY2FsUmVmcyBBIHNldCBvZiBsb2NhbCByZWZlcmVuY2UgYmluZGluZ3Mgb24gdGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0gbG9jYWxSZWZFeHRyYWN0b3IgQSBmdW5jdGlvbiB3aGljaCBleHRyYWN0cyBsb2NhbC1yZWZzIHZhbHVlcyBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAqICAgICAgICBEZWZhdWx0cyB0byB0aGUgY3VycmVudCBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgbG9jYWwtcmVmLlxuICovXG5mdW5jdGlvbiB0ZW1wbGF0ZShpbmRleCwgdGVtcGxhdGVGbiwgY29uc3RzLCB2YXJzLCB0YWdOYW1lLCBhdHRycywgbG9jYWxSZWZzLCBsb2NhbFJlZkV4dHJhY3Rvcikge1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgdmFyIHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIC8vIFRPRE86IGNvbnNpZGVyIGEgc2VwYXJhdGUgbm9kZSB0eXBlIGZvciB0ZW1wbGF0ZXNcbiAgICB2YXIgdE5vZGUgPSBjb250YWluZXJJbnRlcm5hbChpbmRleCwgdGFnTmFtZSB8fCBudWxsLCBhdHRycyB8fCBudWxsKTtcbiAgICBpZiAoZ2V0Rmlyc3RUZW1wbGF0ZVBhc3MoKSkge1xuICAgICAgICB0Tm9kZS50Vmlld3MgPSBjcmVhdGVUVmlldygtMSwgdGVtcGxhdGVGbiwgY29uc3RzLCB2YXJzLCB0Vmlldy5kaXJlY3RpdmVSZWdpc3RyeSwgdFZpZXcucGlwZVJlZ2lzdHJ5LCBudWxsKTtcbiAgICB9XG4gICAgY3JlYXRlRGlyZWN0aXZlc0FuZExvY2Fscyh0VmlldywgbFZpZXcsIGxvY2FsUmVmcywgbG9jYWxSZWZFeHRyYWN0b3IpO1xuICAgIHZhciBjdXJyZW50UXVlcmllcyA9IGxWaWV3W1FVRVJJRVNdO1xuICAgIHZhciBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICB2YXIgbmF0aXZlID0gZ2V0TmF0aXZlQnlUTm9kZShwcmV2aW91c09yUGFyZW50VE5vZGUsIGxWaWV3KTtcbiAgICBhdHRhY2hQYXRjaERhdGEobmF0aXZlLCBsVmlldyk7XG4gICAgaWYgKGN1cnJlbnRRdWVyaWVzKSB7XG4gICAgICAgIGxWaWV3W1FVRVJJRVNdID0gY3VycmVudFF1ZXJpZXMuYWRkTm9kZShwcmV2aW91c09yUGFyZW50VE5vZGUpO1xuICAgIH1cbiAgICBxdWV1ZUxpZmVjeWNsZUhvb2tzKHRWaWV3LCB0Tm9kZSk7XG4gICAgc2V0SXNQYXJlbnQoZmFsc2UpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIExDb250YWluZXIgZm9yIGlubGluZSB2aWV3cywgZS5nLlxuICpcbiAqICUgaWYgKHNob3dpbmcpIHtcbiAqICAgPGRpdj48L2Rpdj5cbiAqICUgfVxuICpcbiAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGNvbnRhaW5lciBpbiB0aGUgZGF0YSBhcnJheVxuICovXG5mdW5jdGlvbiBjb250YWluZXIoaW5kZXgpIHtcbiAgICB2YXIgdE5vZGUgPSBjb250YWluZXJJbnRlcm5hbChpbmRleCwgbnVsbCwgbnVsbCk7XG4gICAgZ2V0Rmlyc3RUZW1wbGF0ZVBhc3MoKSAmJiAodE5vZGUudFZpZXdzID0gW10pO1xuICAgIHNldElzUGFyZW50KGZhbHNlKTtcbn1cbmZ1bmN0aW9uIGNvbnRhaW5lckludGVybmFsKGluZGV4LCB0YWdOYW1lLCBhdHRycykge1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKGxWaWV3W0JJTkRJTkdfSU5ERVhdLCBsVmlld1tUVklFV10uYmluZGluZ1N0YXJ0SW5kZXgsICdjb250YWluZXIgbm9kZXMgc2hvdWxkIGJlIGNyZWF0ZWQgYmVmb3JlIGFueSBiaW5kaW5ncycpO1xuICAgIHZhciBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIHZhciBjb21tZW50ID0gbFZpZXdbUkVOREVSRVJdLmNyZWF0ZUNvbW1lbnQobmdEZXZNb2RlID8gJ2NvbnRhaW5lcicgOiAnJyk7XG4gICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUNvbW1lbnQrKztcbiAgICB2YXIgdE5vZGUgPSBjcmVhdGVOb2RlQXRJbmRleChpbmRleCwgMCAvKiBDb250YWluZXIgKi8sIGNvbW1lbnQsIHRhZ05hbWUsIGF0dHJzKTtcbiAgICB2YXIgbENvbnRhaW5lciA9IGxWaWV3W2FkanVzdGVkSW5kZXhdID1cbiAgICAgICAgY3JlYXRlTENvbnRhaW5lcihsVmlld1thZGp1c3RlZEluZGV4XSwgdE5vZGUsIGxWaWV3LCBjb21tZW50KTtcbiAgICBhcHBlbmRDaGlsZChjb21tZW50LCB0Tm9kZSwgbFZpZXcpO1xuICAgIC8vIENvbnRhaW5lcnMgYXJlIGFkZGVkIHRvIHRoZSBjdXJyZW50IHZpZXcgdHJlZSBpbnN0ZWFkIG9mIHRoZWlyIGVtYmVkZGVkIHZpZXdzXG4gICAgLy8gYmVjYXVzZSB2aWV3cyBjYW4gYmUgcmVtb3ZlZCBhbmQgcmUtaW5zZXJ0ZWQuXG4gICAgYWRkVG9WaWV3VHJlZShsVmlldywgaW5kZXggKyBIRUFERVJfT0ZGU0VULCBsQ29udGFpbmVyKTtcbiAgICB2YXIgY3VycmVudFF1ZXJpZXMgPSBsVmlld1tRVUVSSUVTXTtcbiAgICBpZiAoY3VycmVudFF1ZXJpZXMpIHtcbiAgICAgICAgLy8gcHJlcGFyZSBwbGFjZSBmb3IgbWF0Y2hpbmcgbm9kZXMgZnJvbSB2aWV3cyBpbnNlcnRlZCBpbnRvIGEgZ2l2ZW4gY29udGFpbmVyXG4gICAgICAgIGxDb250YWluZXJbUVVFUklFU10gPSBjdXJyZW50UXVlcmllcy5jb250YWluZXIoKTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVUeXBlKGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpLCAwIC8qIENvbnRhaW5lciAqLyk7XG4gICAgcmV0dXJuIHROb2RlO1xufVxuLyoqXG4gKiBTZXRzIGEgY29udGFpbmVyIHVwIHRvIHJlY2VpdmUgdmlld3MuXG4gKlxuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgY29udGFpbmVyIGluIHRoZSBkYXRhIGFycmF5XG4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5lclJlZnJlc2hTdGFydChpbmRleCkge1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgdmFyIHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIHZhciBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBsb2FkSW50ZXJuYWwodFZpZXcuZGF0YSwgaW5kZXgpO1xuICAgIHNldFByZXZpb3VzT3JQYXJlbnRUTm9kZShwcmV2aW91c09yUGFyZW50VE5vZGUpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb2RlVHlwZShwcmV2aW91c09yUGFyZW50VE5vZGUsIDAgLyogQ29udGFpbmVyICovKTtcbiAgICBzZXRJc1BhcmVudCh0cnVlKTtcbiAgICBsVmlld1tpbmRleCArIEhFQURFUl9PRkZTRVRdW0FDVElWRV9JTkRFWF0gPSAwO1xuICAgIC8vIFdlIG5lZWQgdG8gZXhlY3V0ZSBpbml0IGhvb2tzIGhlcmUgc28gbmdPbkluaXQgaG9va3MgYXJlIGNhbGxlZCBpbiB0b3AgbGV2ZWwgdmlld3NcbiAgICAvLyBiZWZvcmUgdGhleSBhcmUgY2FsbGVkIGluIGVtYmVkZGVkIHZpZXdzIChmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkpLlxuICAgIGV4ZWN1dGVJbml0SG9va3MobFZpZXcsIHRWaWV3LCBnZXRDaGVja05vQ2hhbmdlc01vZGUoKSk7XG59XG4vKipcbiAqIE1hcmtzIHRoZSBlbmQgb2YgdGhlIExDb250YWluZXIuXG4gKlxuICogTWFya2luZyB0aGUgZW5kIG9mIExDb250YWluZXIgaXMgdGhlIHRpbWUgd2hlbiB0byBjaGlsZCB2aWV3cyBnZXQgaW5zZXJ0ZWQgb3IgcmVtb3ZlZC5cbiAqL1xuZnVuY3Rpb24gY29udGFpbmVyUmVmcmVzaEVuZCgpIHtcbiAgICB2YXIgcHJldmlvdXNPclBhcmVudFROb2RlID0gZ2V0UHJldmlvdXNPclBhcmVudFROb2RlKCk7XG4gICAgaWYgKGdldElzUGFyZW50KCkpIHtcbiAgICAgICAgc2V0SXNQYXJlbnQoZmFsc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVUeXBlKHByZXZpb3VzT3JQYXJlbnRUTm9kZSwgMiAvKiBWaWV3ICovKTtcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEhhc1BhcmVudChwcmV2aW91c09yUGFyZW50VE5vZGUpO1xuICAgICAgICBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBwcmV2aW91c09yUGFyZW50VE5vZGUucGFyZW50O1xuICAgICAgICBzZXRQcmV2aW91c09yUGFyZW50VE5vZGUocHJldmlvdXNPclBhcmVudFROb2RlKTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVUeXBlKHByZXZpb3VzT3JQYXJlbnRUTm9kZSwgMCAvKiBDb250YWluZXIgKi8pO1xuICAgIHZhciBsQ29udGFpbmVyID0gZ2V0TFZpZXcoKVtwcmV2aW91c09yUGFyZW50VE5vZGUuaW5kZXhdO1xuICAgIHZhciBuZXh0SW5kZXggPSBsQ29udGFpbmVyW0FDVElWRV9JTkRFWF07XG4gICAgLy8gcmVtb3ZlIGV4dHJhIHZpZXdzIGF0IHRoZSBlbmQgb2YgdGhlIGNvbnRhaW5lclxuICAgIHdoaWxlIChuZXh0SW5kZXggPCBsQ29udGFpbmVyW1ZJRVdTXS5sZW5ndGgpIHtcbiAgICAgICAgcmVtb3ZlVmlldyhsQ29udGFpbmVyLCBwcmV2aW91c09yUGFyZW50VE5vZGUsIG5leHRJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBHb2VzIG92ZXIgZHluYW1pYyBlbWJlZGRlZCB2aWV3cyAob25lcyBjcmVhdGVkIHRocm91Z2ggVmlld0NvbnRhaW5lclJlZiBBUElzKSBhbmQgcmVmcmVzaGVzIHRoZW1cbiAqIGJ5IGV4ZWN1dGluZyBhbiBhc3NvY2lhdGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiByZWZyZXNoRHluYW1pY0VtYmVkZGVkVmlld3MobFZpZXcpIHtcbiAgICBmb3IgKHZhciBjdXJyZW50ID0gZ2V0TFZpZXdDaGlsZChsVmlldyk7IGN1cnJlbnQgIT09IG51bGw7IGN1cnJlbnQgPSBjdXJyZW50W05FWFRdKSB7XG4gICAgICAgIC8vIE5vdGU6IGN1cnJlbnQgY2FuIGJlIGFuIExWaWV3IG9yIGFuIExDb250YWluZXIgaW5zdGFuY2UsIGJ1dCBoZXJlIHdlIGFyZSBvbmx5IGludGVyZXN0ZWRcbiAgICAgICAgLy8gaW4gTENvbnRhaW5lci4gV2UgY2FuIHRlbGwgaXQncyBhbiBMQ29udGFpbmVyIGJlY2F1c2UgaXRzIGxlbmd0aCBpcyBsZXNzIHRoYW4gdGhlIExWaWV3XG4gICAgICAgIC8vIGhlYWRlci5cbiAgICAgICAgaWYgKGN1cnJlbnQubGVuZ3RoIDwgSEVBREVSX09GRlNFVCAmJiBjdXJyZW50W0FDVElWRV9JTkRFWF0gPT09IC0xKSB7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyXzEgPSBjdXJyZW50O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250YWluZXJfMVtWSUVXU10ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZHluYW1pY1ZpZXdEYXRhID0gY29udGFpbmVyXzFbVklFV1NdW2ldO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBkaXJlY3RpdmVzIGFuZCBwaXBlcyBhcmUgbm90IG5lZWRlZCBoZXJlIGFzIGFuIGV4aXN0aW5nIHZpZXcgaXMgb25seSBiZWluZyByZWZyZXNoZWQuXG4gICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQoZHluYW1pY1ZpZXdEYXRhW1RWSUVXXSwgJ1RWaWV3IG11c3QgYmUgYWxsb2NhdGVkJyk7XG4gICAgICAgICAgICAgICAgcmVuZGVyRW1iZWRkZWRUZW1wbGF0ZShkeW5hbWljVmlld0RhdGEsIGR5bmFtaWNWaWV3RGF0YVtUVklFV10sIGR5bmFtaWNWaWV3RGF0YVtDT05URVhUXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIExvb2tzIGZvciBhIHZpZXcgd2l0aCBhIGdpdmVuIHZpZXcgYmxvY2sgaWQgaW5zaWRlIGEgcHJvdmlkZWQgTENvbnRhaW5lci5cbiAqIFJlbW92ZXMgdmlld3MgdGhhdCBuZWVkIHRvIGJlIGRlbGV0ZWQgaW4gdGhlIHByb2Nlc3MuXG4gKlxuICogQHBhcmFtIGxDb250YWluZXIgdG8gc2VhcmNoIGZvciB2aWV3c1xuICogQHBhcmFtIHRDb250YWluZXJOb2RlIHRvIHNlYXJjaCBmb3Igdmlld3NcbiAqIEBwYXJhbSBzdGFydElkeCBzdGFydGluZyBpbmRleCBpbiB0aGUgdmlld3MgYXJyYXkgdG8gc2VhcmNoIGZyb21cbiAqIEBwYXJhbSB2aWV3QmxvY2tJZCBleGFjdCB2aWV3IGJsb2NrIGlkIHRvIGxvb2sgZm9yXG4gKiBAcmV0dXJucyBpbmRleCBvZiBhIGZvdW5kIHZpZXcgb3IgLTEgaWYgbm90IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIHNjYW5Gb3JWaWV3KGxDb250YWluZXIsIHRDb250YWluZXJOb2RlLCBzdGFydElkeCwgdmlld0Jsb2NrSWQpIHtcbiAgICB2YXIgdmlld3MgPSBsQ29udGFpbmVyW1ZJRVdTXTtcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJZHg7IGkgPCB2aWV3cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdmlld0F0UG9zaXRpb25JZCA9IHZpZXdzW2ldW1RWSUVXXS5pZDtcbiAgICAgICAgaWYgKHZpZXdBdFBvc2l0aW9uSWQgPT09IHZpZXdCbG9ja0lkKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlld3NbaV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmlld0F0UG9zaXRpb25JZCA8IHZpZXdCbG9ja0lkKSB7XG4gICAgICAgICAgICAvLyBmb3VuZCBhIHZpZXcgdGhhdCBzaG91bGQgbm90IGJlIGF0IHRoaXMgcG9zaXRpb24gLSByZW1vdmVcbiAgICAgICAgICAgIHJlbW92ZVZpZXcobENvbnRhaW5lciwgdENvbnRhaW5lck5vZGUsIGkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZm91bmQgYSB2aWV3IHdpdGggaWQgZ3JlYXRlciB0aGFuIHRoZSBvbmUgd2UgYXJlIHNlYXJjaGluZyBmb3JcbiAgICAgICAgICAgIC8vIHdoaWNoIG1lYW5zIHRoYXQgcmVxdWlyZWQgdmlldyBkb2Vzbid0IGV4aXN0IGFuZCBjYW4ndCBiZSBmb3VuZCBhdFxuICAgICAgICAgICAgLy8gbGF0ZXIgcG9zaXRpb25zIGluIHRoZSB2aWV3cyBhcnJheSAtIHN0b3AgdGhlIHNlYXJjaGRlZi5jb250IGhlcmVcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBNYXJrcyB0aGUgc3RhcnQgb2YgYW4gZW1iZWRkZWQgdmlldy5cbiAqXG4gKiBAcGFyYW0gdmlld0Jsb2NrSWQgVGhlIElEIG9mIHRoaXMgdmlld1xuICogQHJldHVybiBib29sZWFuIFdoZXRoZXIgb3Igbm90IHRoaXMgdmlldyBpcyBpbiBjcmVhdGlvbiBtb2RlXG4gKi9cbmZ1bmN0aW9uIGVtYmVkZGVkVmlld1N0YXJ0KHZpZXdCbG9ja0lkLCBjb25zdHMsIHZhcnMpIHtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHZhciBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICAvLyBUaGUgcHJldmlvdXMgbm9kZSBjYW4gYmUgYSB2aWV3IG5vZGUgaWYgd2UgYXJlIHByb2Nlc3NpbmcgYW4gaW5saW5lIGZvciBsb29wXG4gICAgdmFyIGNvbnRhaW5lclROb2RlID0gcHJldmlvdXNPclBhcmVudFROb2RlLnR5cGUgPT09IDIgLyogVmlldyAqLyA/XG4gICAgICAgIHByZXZpb3VzT3JQYXJlbnRUTm9kZS5wYXJlbnQgOlxuICAgICAgICBwcmV2aW91c09yUGFyZW50VE5vZGU7XG4gICAgdmFyIGxDb250YWluZXIgPSBsVmlld1tjb250YWluZXJUTm9kZS5pbmRleF07XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVUeXBlKGNvbnRhaW5lclROb2RlLCAwIC8qIENvbnRhaW5lciAqLyk7XG4gICAgdmFyIHZpZXdUb1JlbmRlciA9IHNjYW5Gb3JWaWV3KGxDb250YWluZXIsIGNvbnRhaW5lclROb2RlLCBsQ29udGFpbmVyW0FDVElWRV9JTkRFWF0sIHZpZXdCbG9ja0lkKTtcbiAgICBpZiAodmlld1RvUmVuZGVyKSB7XG4gICAgICAgIHNldElzUGFyZW50KHRydWUpO1xuICAgICAgICBlbnRlclZpZXcodmlld1RvUmVuZGVyLCB2aWV3VG9SZW5kZXJbVFZJRVddLm5vZGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gV2hlbiB3ZSBjcmVhdGUgYSBuZXcgTFZpZXcsIHdlIGFsd2F5cyByZXNldCB0aGUgc3RhdGUgb2YgdGhlIGluc3RydWN0aW9ucy5cbiAgICAgICAgdmlld1RvUmVuZGVyID0gY3JlYXRlTFZpZXcobFZpZXcsIGdldE9yQ3JlYXRlRW1iZWRkZWRUVmlldyh2aWV3QmxvY2tJZCwgY29uc3RzLCB2YXJzLCBjb250YWluZXJUTm9kZSksIG51bGwsIDQgLyogQ2hlY2tBbHdheXMgKi8pO1xuICAgICAgICBpZiAobENvbnRhaW5lcltRVUVSSUVTXSkge1xuICAgICAgICAgICAgdmlld1RvUmVuZGVyW1FVRVJJRVNdID0gbENvbnRhaW5lcltRVUVSSUVTXS5jcmVhdGVWaWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlVmlld05vZGUodmlld0Jsb2NrSWQsIHZpZXdUb1JlbmRlcik7XG4gICAgICAgIGVudGVyVmlldyh2aWV3VG9SZW5kZXIsIHZpZXdUb1JlbmRlcltUVklFV10ubm9kZSk7XG4gICAgfVxuICAgIGlmIChsQ29udGFpbmVyKSB7XG4gICAgICAgIGlmIChpc0NyZWF0aW9uTW9kZSh2aWV3VG9SZW5kZXIpKSB7XG4gICAgICAgICAgICAvLyBpdCBpcyBhIG5ldyB2aWV3LCBpbnNlcnQgaXQgaW50byBjb2xsZWN0aW9uIG9mIHZpZXdzIGZvciBhIGdpdmVuIGNvbnRhaW5lclxuICAgICAgICAgICAgaW5zZXJ0Vmlldyh2aWV3VG9SZW5kZXIsIGxDb250YWluZXIsIGxWaWV3LCBsQ29udGFpbmVyW0FDVElWRV9JTkRFWF0sIC0xKTtcbiAgICAgICAgfVxuICAgICAgICBsQ29udGFpbmVyW0FDVElWRV9JTkRFWF0rKztcbiAgICB9XG4gICAgcmV0dXJuIGlzQ3JlYXRpb25Nb2RlKHZpZXdUb1JlbmRlcikgPyAxIC8qIENyZWF0ZSAqLyB8IDIgLyogVXBkYXRlICovIDpcbiAgICAgICAgMiAvKiBVcGRhdGUgKi87XG59XG4vKipcbiAqIEluaXRpYWxpemUgdGhlIFRWaWV3IChlLmcuIHN0YXRpYyBkYXRhKSBmb3IgdGhlIGFjdGl2ZSBlbWJlZGRlZCB2aWV3LlxuICpcbiAqIEVhY2ggZW1iZWRkZWQgdmlldyBibG9jayBtdXN0IGNyZWF0ZSBvciByZXRyaWV2ZSBpdHMgb3duIFRWaWV3LiBPdGhlcndpc2UsIHRoZSBlbWJlZGRlZCB2aWV3J3NcbiAqIHN0YXRpYyBkYXRhIGZvciBhIHBhcnRpY3VsYXIgbm9kZSB3b3VsZCBvdmVyd3JpdGUgdGhlIHN0YXRpYyBkYXRhIGZvciBhIG5vZGUgaW4gdGhlIHZpZXcgYWJvdmVcbiAqIGl0IHdpdGggdGhlIHNhbWUgaW5kZXggKHNpbmNlIGl0J3MgaW4gdGhlIHNhbWUgdGVtcGxhdGUpLlxuICpcbiAqIEBwYXJhbSB2aWV3SW5kZXggVGhlIGluZGV4IG9mIHRoZSBUVmlldyBpbiBUTm9kZS50Vmlld3NcbiAqIEBwYXJhbSBjb25zdHMgVGhlIG51bWJlciBvZiBub2RlcywgbG9jYWwgcmVmcywgYW5kIHBpcGVzIGluIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSB2YXJzIFRoZSBudW1iZXIgb2YgYmluZGluZ3MgYW5kIHB1cmUgZnVuY3Rpb24gYmluZGluZ3MgaW4gdGhpcyB0ZW1wbGF0ZVxuICogQHBhcmFtIGNvbnRhaW5lciBUaGUgcGFyZW50IGNvbnRhaW5lciBpbiB3aGljaCB0byBsb29rIGZvciB0aGUgdmlldydzIHN0YXRpYyBkYXRhXG4gKiBAcmV0dXJucyBUVmlld1xuICovXG5mdW5jdGlvbiBnZXRPckNyZWF0ZUVtYmVkZGVkVFZpZXcodmlld0luZGV4LCBjb25zdHMsIHZhcnMsIHBhcmVudCkge1xuICAgIHZhciB0VmlldyA9IGdldExWaWV3KClbVFZJRVddO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnROb2RlVHlwZShwYXJlbnQsIDAgLyogQ29udGFpbmVyICovKTtcbiAgICB2YXIgY29udGFpbmVyVFZpZXdzID0gcGFyZW50LnRWaWV3cztcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChjb250YWluZXJUVmlld3MsICdUVmlldyBleHBlY3RlZCcpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbChBcnJheS5pc0FycmF5KGNvbnRhaW5lclRWaWV3cyksIHRydWUsICdUVmlld3Mgc2hvdWxkIGJlIGluIGFuIGFycmF5Jyk7XG4gICAgaWYgKHZpZXdJbmRleCA+PSBjb250YWluZXJUVmlld3MubGVuZ3RoIHx8IGNvbnRhaW5lclRWaWV3c1t2aWV3SW5kZXhdID09IG51bGwpIHtcbiAgICAgICAgY29udGFpbmVyVFZpZXdzW3ZpZXdJbmRleF0gPSBjcmVhdGVUVmlldyh2aWV3SW5kZXgsIG51bGwsIGNvbnN0cywgdmFycywgdFZpZXcuZGlyZWN0aXZlUmVnaXN0cnksIHRWaWV3LnBpcGVSZWdpc3RyeSwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBjb250YWluZXJUVmlld3Nbdmlld0luZGV4XTtcbn1cbi8qKiBNYXJrcyB0aGUgZW5kIG9mIGFuIGVtYmVkZGVkIHZpZXcuICovXG5mdW5jdGlvbiBlbWJlZGRlZFZpZXdFbmQoKSB7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgdmlld0hvc3QgPSBsVmlld1tIT1NUX05PREVdO1xuICAgIGlmIChpc0NyZWF0aW9uTW9kZShsVmlldykpIHtcbiAgICAgICAgcmVmcmVzaERlc2NlbmRhbnRWaWV3cyhsVmlldyk7IC8vIGNyZWF0aW9uIG1vZGUgcGFzc1xuICAgICAgICBsVmlld1tGTEFHU10gJj0gfjEgLyogQ3JlYXRpb25Nb2RlICovO1xuICAgIH1cbiAgICByZWZyZXNoRGVzY2VuZGFudFZpZXdzKGxWaWV3KTsgLy8gdXBkYXRlIG1vZGUgcGFzc1xuICAgIGxlYXZlVmlldyhsVmlld1tQQVJFTlRdKTtcbiAgICBzZXRQcmV2aW91c09yUGFyZW50VE5vZGUodmlld0hvc3QpO1xuICAgIHNldElzUGFyZW50KGZhbHNlKTtcbn1cbi8vLy8vLy8vLy8vLy9cbi8qKlxuICogUmVmcmVzaGVzIGNvbXBvbmVudHMgYnkgZW50ZXJpbmcgdGhlIGNvbXBvbmVudCB2aWV3IGFuZCBwcm9jZXNzaW5nIGl0cyBiaW5kaW5ncywgcXVlcmllcywgZXRjLlxuICpcbiAqIEBwYXJhbSBhZGp1c3RlZEVsZW1lbnRJbmRleCAgRWxlbWVudCBpbmRleCBpbiBMVmlld1tdIChhZGp1c3RlZCBmb3IgSEVBREVSX09GRlNFVClcbiAqL1xuZnVuY3Rpb24gY29tcG9uZW50UmVmcmVzaChhZGp1c3RlZEVsZW1lbnRJbmRleCkge1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERhdGFJblJhbmdlKGxWaWV3LCBhZGp1c3RlZEVsZW1lbnRJbmRleCk7XG4gICAgdmFyIGhvc3RWaWV3ID0gZ2V0Q29tcG9uZW50Vmlld0J5SW5kZXgoYWRqdXN0ZWRFbGVtZW50SW5kZXgsIGxWaWV3KTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Tm9kZVR5cGUobFZpZXdbVFZJRVddLmRhdGFbYWRqdXN0ZWRFbGVtZW50SW5kZXhdLCAzIC8qIEVsZW1lbnQgKi8pO1xuICAgIC8vIE9ubHkgYXR0YWNoZWQgQ2hlY2tBbHdheXMgY29tcG9uZW50cyBvciBhdHRhY2hlZCwgZGlydHkgT25QdXNoIGNvbXBvbmVudHMgc2hvdWxkIGJlIGNoZWNrZWRcbiAgICBpZiAodmlld0F0dGFjaGVkKGhvc3RWaWV3KSAmJiBob3N0Vmlld1tGTEFHU10gJiAoNCAvKiBDaGVja0Fsd2F5cyAqLyB8IDggLyogRGlydHkgKi8pKSB7XG4gICAgICAgIHN5bmNWaWV3V2l0aEJsdWVwcmludChob3N0Vmlldyk7XG4gICAgICAgIGNoZWNrVmlldyhob3N0VmlldywgaG9zdFZpZXdbQ09OVEVYVF0pO1xuICAgIH1cbn1cbi8qKlxuICogU3luY3MgYW4gTFZpZXcgaW5zdGFuY2Ugd2l0aCBpdHMgYmx1ZXByaW50IGlmIHRoZXkgaGF2ZSBnb3R0ZW4gb3V0IG9mIHN5bmMuXG4gKlxuICogVHlwaWNhbGx5LCBibHVlcHJpbnRzIGFuZCB0aGVpciB2aWV3IGluc3RhbmNlcyBzaG91bGQgYWx3YXlzIGJlIGluIHN5bmMsIHNvIHRoZSBsb29wIGhlcmVcbiAqIHdpbGwgYmUgc2tpcHBlZC4gSG93ZXZlciwgY29uc2lkZXIgdGhpcyBjYXNlIG9mIHR3byBjb21wb25lbnRzIHNpZGUtYnktc2lkZTpcbiAqXG4gKiBBcHAgdGVtcGxhdGU6XG4gKiBgYGBcbiAqIDxjb21wPjwvY29tcD5cbiAqIDxjb21wPjwvY29tcD5cbiAqIGBgYFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgd2lsbCBoYXBwZW46XG4gKiAxLiBBcHAgdGVtcGxhdGUgYmVnaW5zIHByb2Nlc3NpbmcuXG4gKiAyLiBGaXJzdCA8Y29tcD4gaXMgbWF0Y2hlZCBhcyBhIGNvbXBvbmVudCBhbmQgaXRzIExWaWV3IGlzIGNyZWF0ZWQuXG4gKiAzLiBTZWNvbmQgPGNvbXA+IGlzIG1hdGNoZWQgYXMgYSBjb21wb25lbnQgYW5kIGl0cyBMVmlldyBpcyBjcmVhdGVkLlxuICogNC4gQXBwIHRlbXBsYXRlIGNvbXBsZXRlcyBwcm9jZXNzaW5nLCBzbyBpdCdzIHRpbWUgdG8gY2hlY2sgY2hpbGQgdGVtcGxhdGVzLlxuICogNS4gRmlyc3QgPGNvbXA+IHRlbXBsYXRlIGlzIGNoZWNrZWQuIEl0IGhhcyBhIGRpcmVjdGl2ZSwgc28gaXRzIGRlZiBpcyBwdXNoZWQgdG8gYmx1ZXByaW50LlxuICogNi4gU2Vjb25kIDxjb21wPiB0ZW1wbGF0ZSBpcyBjaGVja2VkLiBJdHMgYmx1ZXByaW50IGhhcyBiZWVuIHVwZGF0ZWQgYnkgdGhlIGZpcnN0XG4gKiA8Y29tcD4gdGVtcGxhdGUsIGJ1dCBpdHMgTFZpZXcgd2FzIGNyZWF0ZWQgYmVmb3JlIHRoaXMgdXBkYXRlLCBzbyBpdCBpcyBvdXQgb2Ygc3luYy5cbiAqXG4gKiBOb3RlIHRoYXQgZW1iZWRkZWQgdmlld3MgaW5zaWRlIG5nRm9yIGxvb3BzIHdpbGwgbmV2ZXIgYmUgb3V0IG9mIHN5bmMgYmVjYXVzZSB0aGVzZSB2aWV3c1xuICogYXJlIHByb2Nlc3NlZCBhcyBzb29uIGFzIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudFZpZXcgVGhlIHZpZXcgdG8gc3luY1xuICovXG5mdW5jdGlvbiBzeW5jVmlld1dpdGhCbHVlcHJpbnQoY29tcG9uZW50Vmlldykge1xuICAgIHZhciBjb21wb25lbnRUVmlldyA9IGNvbXBvbmVudFZpZXdbVFZJRVddO1xuICAgIGZvciAodmFyIGkgPSBjb21wb25lbnRWaWV3Lmxlbmd0aDsgaSA8IGNvbXBvbmVudFRWaWV3LmJsdWVwcmludC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb21wb25lbnRWaWV3W2ldID0gY29tcG9uZW50VFZpZXcuYmx1ZXByaW50W2ldO1xuICAgIH1cbn1cbi8qKiBSZXR1cm5zIGEgYm9vbGVhbiBmb3Igd2hldGhlciB0aGUgdmlldyBpcyBhdHRhY2hlZCAqL1xuZnVuY3Rpb24gdmlld0F0dGFjaGVkKHZpZXcpIHtcbiAgICByZXR1cm4gKHZpZXdbRkxBR1NdICYgMTYgLyogQXR0YWNoZWQgKi8pID09PSAxNiAvKiBBdHRhY2hlZCAqLztcbn1cbi8qKlxuICogSW5zdHJ1Y3Rpb24gdG8gZGlzdHJpYnV0ZSBwcm9qZWN0YWJsZSBub2RlcyBhbW9uZyA8bmctY29udGVudD4gb2NjdXJyZW5jZXMgaW4gYSBnaXZlbiB0ZW1wbGF0ZS5cbiAqIEl0IHRha2VzIGFsbCB0aGUgc2VsZWN0b3JzIGZyb20gdGhlIGVudGlyZSBjb21wb25lbnQncyB0ZW1wbGF0ZSBhbmQgZGVjaWRlcyB3aGVyZVxuICogZWFjaCBwcm9qZWN0ZWQgbm9kZSBiZWxvbmdzIChpdCByZS1kaXN0cmlidXRlcyBub2RlcyBhbW9uZyBcImJ1Y2tldHNcIiB3aGVyZSBlYWNoIFwiYnVja2V0XCIgaXNcbiAqIGJhY2tlZCBieSBhIHNlbGVjdG9yKS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIENTUyBzZWxlY3RvcnMgdG8gYmUgcHJvdmlkZWQgaW4gMiBmb3JtczogcGFyc2VkIChieSBhIGNvbXBpbGVyKSBhbmQgdGV4dCxcbiAqIHVuLXBhcnNlZCBmb3JtLlxuICpcbiAqIFRoZSBwYXJzZWQgZm9ybSBpcyBuZWVkZWQgZm9yIGVmZmljaWVudCBtYXRjaGluZyBvZiBhIG5vZGUgYWdhaW5zdCBhIGdpdmVuIENTUyBzZWxlY3Rvci5cbiAqIFRoZSB1bi1wYXJzZWQsIHRleHR1YWwgZm9ybSBpcyBuZWVkZWQgZm9yIHN1cHBvcnQgb2YgdGhlIG5nUHJvamVjdEFzIGF0dHJpYnV0ZS5cbiAqXG4gKiBIYXZpbmcgYSBDU1Mgc2VsZWN0b3IgaW4gMiBkaWZmZXJlbnQgZm9ybWF0cyBpcyBub3QgaWRlYWwsIGJ1dCBhbHRlcm5hdGl2ZXMgaGF2ZSBldmVuIG1vcmVcbiAqIGRyYXdiYWNrczpcbiAqIC0gaGF2aW5nIG9ubHkgYSB0ZXh0dWFsIGZvcm0gd291bGQgcmVxdWlyZSBydW50aW1lIHBhcnNpbmcgb2YgQ1NTIHNlbGVjdG9ycztcbiAqIC0gd2UgY2FuJ3QgaGF2ZSBvbmx5IGEgcGFyc2VkIGFzIHdlIGNhbid0IHJlLWNvbnN0cnVjdCB0ZXh0dWFsIGZvcm0gZnJvbSBpdCAoYXMgZW50ZXJlZCBieSBhXG4gKiB0ZW1wbGF0ZSBhdXRob3IpLlxuICpcbiAqIEBwYXJhbSBzZWxlY3RvcnMgQSBjb2xsZWN0aW9uIG9mIHBhcnNlZCBDU1Mgc2VsZWN0b3JzXG4gKiBAcGFyYW0gcmF3U2VsZWN0b3JzIEEgY29sbGVjdGlvbiBvZiBDU1Mgc2VsZWN0b3JzIGluIHRoZSByYXcsIHVuLXBhcnNlZCBmb3JtXG4gKi9cbmZ1bmN0aW9uIHByb2plY3Rpb25EZWYoc2VsZWN0b3JzLCB0ZXh0U2VsZWN0b3JzKSB7XG4gICAgdmFyIGNvbXBvbmVudE5vZGUgPSBmaW5kQ29tcG9uZW50VmlldyhnZXRMVmlldygpKVtIT1NUX05PREVdO1xuICAgIGlmICghY29tcG9uZW50Tm9kZS5wcm9qZWN0aW9uKSB7XG4gICAgICAgIHZhciBub09mTm9kZUJ1Y2tldHMgPSBzZWxlY3RvcnMgPyBzZWxlY3RvcnMubGVuZ3RoICsgMSA6IDE7XG4gICAgICAgIHZhciBwRGF0YSA9IGNvbXBvbmVudE5vZGUucHJvamVjdGlvbiA9XG4gICAgICAgICAgICBuZXcgQXJyYXkobm9PZk5vZGVCdWNrZXRzKS5maWxsKG51bGwpO1xuICAgICAgICB2YXIgdGFpbHMgPSBwRGF0YS5zbGljZSgpO1xuICAgICAgICB2YXIgY29tcG9uZW50Q2hpbGQgPSBjb21wb25lbnROb2RlLmNoaWxkO1xuICAgICAgICB3aGlsZSAoY29tcG9uZW50Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBidWNrZXRJbmRleCA9IHNlbGVjdG9ycyA/IG1hdGNoaW5nU2VsZWN0b3JJbmRleChjb21wb25lbnRDaGlsZCwgc2VsZWN0b3JzLCB0ZXh0U2VsZWN0b3JzKSA6IDA7XG4gICAgICAgICAgICB2YXIgbmV4dE5vZGUgPSBjb21wb25lbnRDaGlsZC5uZXh0O1xuICAgICAgICAgICAgaWYgKHRhaWxzW2J1Y2tldEluZGV4XSkge1xuICAgICAgICAgICAgICAgIHRhaWxzW2J1Y2tldEluZGV4XS5uZXh0ID0gY29tcG9uZW50Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwRGF0YVtidWNrZXRJbmRleF0gPSBjb21wb25lbnRDaGlsZDtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRDaGlsZC5uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhaWxzW2J1Y2tldEluZGV4XSA9IGNvbXBvbmVudENoaWxkO1xuICAgICAgICAgICAgY29tcG9uZW50Q2hpbGQgPSBuZXh0Tm9kZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogU3RhY2sgdXNlZCB0byBrZWVwIHRyYWNrIG9mIHByb2plY3Rpb24gbm9kZXMgaW4gcHJvamVjdGlvbigpIGluc3RydWN0aW9uLlxuICpcbiAqIFRoaXMgaXMgZGVsaWJlcmF0ZWx5IGNyZWF0ZWQgb3V0c2lkZSBvZiBwcm9qZWN0aW9uKCkgdG8gYXZvaWQgYWxsb2NhdGluZ1xuICogYSBuZXcgYXJyYXkgZWFjaCB0aW1lIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuIEluc3RlYWQgdGhlIGFycmF5IHdpbGwgYmVcbiAqIHJlLXVzZWQgYnkgZWFjaCBpbnZvY2F0aW9uLiBUaGlzIHdvcmtzIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzIG5vdCByZWVudHJhbnQuXG4gKi9cbnZhciBwcm9qZWN0aW9uTm9kZVN0YWNrJDEgPSBbXTtcbi8qKlxuICogSW5zZXJ0cyBwcmV2aW91c2x5IHJlLWRpc3RyaWJ1dGVkIHByb2plY3RlZCBub2Rlcy4gVGhpcyBpbnN0cnVjdGlvbiBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgY2FsbFxuICogdG8gdGhlIHByb2plY3Rpb25EZWYgaW5zdHJ1Y3Rpb24uXG4gKlxuICogQHBhcmFtIG5vZGVJbmRleFxuICogQHBhcmFtIHNlbGVjdG9ySW5kZXg6XG4gKiAgICAgICAgLSAwIHdoZW4gdGhlIHNlbGVjdG9yIGlzIGAqYCAob3IgdW5zcGVjaWZpZWQgYXMgdGhpcyBpcyB0aGUgZGVmYXVsdCB2YWx1ZSksXG4gKiAgICAgICAgLSAxIGJhc2VkIGluZGV4IG9mIHRoZSBzZWxlY3RvciBmcm9tIHRoZSB7QGxpbmsgcHJvamVjdGlvbkRlZn1cbiAqL1xuZnVuY3Rpb24gcHJvamVjdGlvbihub2RlSW5kZXgsIHNlbGVjdG9ySW5kZXgsIGF0dHJzKSB7XG4gICAgaWYgKHNlbGVjdG9ySW5kZXggPT09IHZvaWQgMCkgeyBzZWxlY3RvckluZGV4ID0gMDsgfVxuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgdmFyIHRQcm9qZWN0aW9uTm9kZSA9IGNyZWF0ZU5vZGVBdEluZGV4KG5vZGVJbmRleCwgMSAvKiBQcm9qZWN0aW9uICovLCBudWxsLCBudWxsLCBhdHRycyB8fCBudWxsKTtcbiAgICAvLyBXZSBjYW4ndCB1c2Ugdmlld0RhdGFbSE9TVF9OT0RFXSBiZWNhdXNlIHByb2plY3Rpb24gbm9kZXMgY2FuIGJlIG5lc3RlZCBpbiBlbWJlZGRlZCB2aWV3cy5cbiAgICBpZiAodFByb2plY3Rpb25Ob2RlLnByb2plY3Rpb24gPT09IG51bGwpXG4gICAgICAgIHRQcm9qZWN0aW9uTm9kZS5wcm9qZWN0aW9uID0gc2VsZWN0b3JJbmRleDtcbiAgICAvLyBgPG5nLWNvbnRlbnQ+YCBoYXMgbm8gY29udGVudFxuICAgIHNldElzUGFyZW50KGZhbHNlKTtcbiAgICAvLyByZS1kaXN0cmlidXRpb24gb2YgcHJvamVjdGFibGUgbm9kZXMgaXMgc3RvcmVkIG9uIGEgY29tcG9uZW50J3MgdmlldyBsZXZlbFxuICAgIHZhciBjb21wb25lbnRWaWV3ID0gZmluZENvbXBvbmVudFZpZXcobFZpZXcpO1xuICAgIHZhciBjb21wb25lbnROb2RlID0gY29tcG9uZW50Vmlld1tIT1NUX05PREVdO1xuICAgIHZhciBub2RlVG9Qcm9qZWN0ID0gY29tcG9uZW50Tm9kZS5wcm9qZWN0aW9uW3NlbGVjdG9ySW5kZXhdO1xuICAgIHZhciBwcm9qZWN0ZWRWaWV3ID0gY29tcG9uZW50Vmlld1tQQVJFTlRdO1xuICAgIHZhciBwcm9qZWN0aW9uTm9kZUluZGV4ID0gLTE7XG4gICAgd2hpbGUgKG5vZGVUb1Byb2plY3QpIHtcbiAgICAgICAgaWYgKG5vZGVUb1Byb2plY3QudHlwZSA9PT0gMSAvKiBQcm9qZWN0aW9uICovKSB7XG4gICAgICAgICAgICAvLyBUaGlzIG5vZGUgaXMgcmUtcHJvamVjdGVkLCBzbyB3ZSBtdXN0IGdvIHVwIHRoZSB0cmVlIHRvIGdldCBpdHMgcHJvamVjdGVkIG5vZGVzLlxuICAgICAgICAgICAgdmFyIGN1cnJlbnRDb21wb25lbnRWaWV3ID0gZmluZENvbXBvbmVudFZpZXcocHJvamVjdGVkVmlldyk7XG4gICAgICAgICAgICB2YXIgY3VycmVudENvbXBvbmVudEhvc3QgPSBjdXJyZW50Q29tcG9uZW50Vmlld1tIT1NUX05PREVdO1xuICAgICAgICAgICAgdmFyIGZpcnN0UHJvamVjdGVkTm9kZSA9IGN1cnJlbnRDb21wb25lbnRIb3N0LnByb2plY3Rpb25bbm9kZVRvUHJvamVjdC5wcm9qZWN0aW9uXTtcbiAgICAgICAgICAgIGlmIChmaXJzdFByb2plY3RlZE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0aW9uTm9kZVN0YWNrJDFbKytwcm9qZWN0aW9uTm9kZUluZGV4XSA9IG5vZGVUb1Byb2plY3Q7XG4gICAgICAgICAgICAgICAgcHJvamVjdGlvbk5vZGVTdGFjayQxWysrcHJvamVjdGlvbk5vZGVJbmRleF0gPSBwcm9qZWN0ZWRWaWV3O1xuICAgICAgICAgICAgICAgIG5vZGVUb1Byb2plY3QgPSBmaXJzdFByb2plY3RlZE5vZGU7XG4gICAgICAgICAgICAgICAgcHJvamVjdGVkVmlldyA9IGN1cnJlbnRDb21wb25lbnRWaWV3W1BBUkVOVF07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGlzIGZsYWcgbXVzdCBiZSBzZXQgbm93IG9yIHdlIHdvbid0IGtub3cgdGhhdCB0aGlzIG5vZGUgaXMgcHJvamVjdGVkXG4gICAgICAgICAgICAvLyBpZiB0aGUgbm9kZXMgYXJlIGluc2VydGVkIGludG8gYSBjb250YWluZXIgbGF0ZXIuXG4gICAgICAgICAgICBub2RlVG9Qcm9qZWN0LmZsYWdzIHw9IDIgLyogaXNQcm9qZWN0ZWQgKi87XG4gICAgICAgICAgICBhcHBlbmRQcm9qZWN0ZWROb2RlKG5vZGVUb1Byb2plY3QsIHRQcm9qZWN0aW9uTm9kZSwgbFZpZXcsIHByb2plY3RlZFZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGFyZSBmaW5pc2hlZCB3aXRoIGEgbGlzdCBvZiByZS1wcm9qZWN0ZWQgbm9kZXMsIHdlIG5lZWQgdG8gZ2V0XG4gICAgICAgIC8vIGJhY2sgdG8gdGhlIHJvb3QgcHJvamVjdGlvbiBub2RlIHRoYXQgd2FzIHJlLXByb2plY3RlZC5cbiAgICAgICAgaWYgKG5vZGVUb1Byb2plY3QubmV4dCA9PT0gbnVsbCAmJiBwcm9qZWN0ZWRWaWV3ICE9PSBjb21wb25lbnRWaWV3W1BBUkVOVF0pIHtcbiAgICAgICAgICAgIHByb2plY3RlZFZpZXcgPSBwcm9qZWN0aW9uTm9kZVN0YWNrJDFbcHJvamVjdGlvbk5vZGVJbmRleC0tXTtcbiAgICAgICAgICAgIG5vZGVUb1Byb2plY3QgPSBwcm9qZWN0aW9uTm9kZVN0YWNrJDFbcHJvamVjdGlvbk5vZGVJbmRleC0tXTtcbiAgICAgICAgfVxuICAgICAgICBub2RlVG9Qcm9qZWN0ID0gbm9kZVRvUHJvamVjdC5uZXh0O1xuICAgIH1cbn1cbi8qKlxuICogQWRkcyBMVmlldyBvciBMQ29udGFpbmVyIHRvIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgdmlldyB0cmVlLlxuICpcbiAqIFRoaXMgc3RydWN0dXJlIHdpbGwgYmUgdXNlZCB0byB0cmF2ZXJzZSB0aHJvdWdoIG5lc3RlZCB2aWV3cyB0byByZW1vdmUgbGlzdGVuZXJzXG4gKiBhbmQgY2FsbCBvbkRlc3Ryb3kgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB3aGVyZSBMVmlldyBvciBMQ29udGFpbmVyIHNob3VsZCBiZSBhZGRlZFxuICogQHBhcmFtIGFkanVzdGVkSG9zdEluZGV4IEluZGV4IG9mIHRoZSB2aWV3J3MgaG9zdCBub2RlIGluIExWaWV3W10sIGFkanVzdGVkIGZvciBoZWFkZXJcbiAqIEBwYXJhbSBzdGF0ZSBUaGUgTFZpZXcgb3IgTENvbnRhaW5lciB0byBhZGQgdG8gdGhlIHZpZXcgdHJlZVxuICogQHJldHVybnMgVGhlIHN0YXRlIHBhc3NlZCBpblxuICovXG5mdW5jdGlvbiBhZGRUb1ZpZXdUcmVlKGxWaWV3LCBhZGp1c3RlZEhvc3RJbmRleCwgc3RhdGUpIHtcbiAgICB2YXIgdFZpZXcgPSBsVmlld1tUVklFV107XG4gICAgdmFyIGZpcnN0VGVtcGxhdGVQYXNzID0gZ2V0Rmlyc3RUZW1wbGF0ZVBhc3MoKTtcbiAgICBpZiAobFZpZXdbVEFJTF0pIHtcbiAgICAgICAgbFZpZXdbVEFJTF1bTkVYVF0gPSBzdGF0ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlyc3RUZW1wbGF0ZVBhc3MpIHtcbiAgICAgICAgdFZpZXcuY2hpbGRJbmRleCA9IGFkanVzdGVkSG9zdEluZGV4O1xuICAgIH1cbiAgICBsVmlld1tUQUlMXSA9IHN0YXRlO1xuICAgIHJldHVybiBzdGF0ZTtcbn1cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8gQ2hhbmdlIGRldGVjdGlvblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLyoqIElmIG5vZGUgaXMgYW4gT25QdXNoIGNvbXBvbmVudCwgbWFya3MgaXRzIExWaWV3IGRpcnR5LiAqL1xuZnVuY3Rpb24gbWFya0RpcnR5SWZPblB1c2gobFZpZXcsIHZpZXdJbmRleCkge1xuICAgIHZhciBjaGlsZENvbXBvbmVudExWaWV3ID0gZ2V0Q29tcG9uZW50Vmlld0J5SW5kZXgodmlld0luZGV4LCBsVmlldyk7XG4gICAgaWYgKCEoY2hpbGRDb21wb25lbnRMVmlld1tGTEFHU10gJiA0IC8qIENoZWNrQWx3YXlzICovKSkge1xuICAgICAgICBjaGlsZENvbXBvbmVudExWaWV3W0ZMQUdTXSB8PSA4IC8qIERpcnR5ICovO1xuICAgIH1cbn1cbi8qKiBXcmFwcyBhbiBldmVudCBsaXN0ZW5lciB3aXRoIHByZXZlbnREZWZhdWx0IGJlaGF2aW9yLiAqL1xuZnVuY3Rpb24gd3JhcExpc3RlbmVyV2l0aFByZXZlbnREZWZhdWx0KGxpc3RlbmVyRm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gd3JhcExpc3RlbmVySW5fcHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICBpZiAobGlzdGVuZXJGbihlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIC8vIE5lY2Vzc2FyeSBmb3IgbGVnYWN5IGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBwcmV2ZW50RGVmYXVsdCAoZS5nLiBJRSlcbiAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKiogTWFya3MgY3VycmVudCB2aWV3IGFuZCBhbGwgYW5jZXN0b3JzIGRpcnR5ICovXG5mdW5jdGlvbiBtYXJrVmlld0RpcnR5KGxWaWV3KSB7XG4gICAgd2hpbGUgKGxWaWV3ICYmICEobFZpZXdbRkxBR1NdICYgMTI4IC8qIElzUm9vdCAqLykpIHtcbiAgICAgICAgbFZpZXdbRkxBR1NdIHw9IDggLyogRGlydHkgKi87XG4gICAgICAgIGxWaWV3ID0gbFZpZXdbUEFSRU5UXTtcbiAgICB9XG4gICAgbFZpZXdbRkxBR1NdIHw9IDggLyogRGlydHkgKi87XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobFZpZXdbQ09OVEVYVF0sICdyb290Q29udGV4dCBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgIHZhciByb290Q29udGV4dCA9IGxWaWV3W0NPTlRFWFRdO1xuICAgIHNjaGVkdWxlVGljayhyb290Q29udGV4dCwgMSAvKiBEZXRlY3RDaGFuZ2VzICovKTtcbn1cbi8qKlxuICogVXNlZCB0byBzY2hlZHVsZSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBVbmxpa2UgYHRpY2tgLCBgc2NoZWR1bGVUaWNrYCBjb2FsZXNjZXMgbXVsdGlwbGUgY2FsbHMgaW50byBvbmUgY2hhbmdlIGRldGVjdGlvbiBydW4uXG4gKiBJdCBpcyB1c3VhbGx5IGNhbGxlZCBpbmRpcmVjdGx5IGJ5IGNhbGxpbmcgYG1hcmtEaXJ0eWAgd2hlbiB0aGUgdmlldyBuZWVkcyB0byBiZVxuICogcmUtcmVuZGVyZWQuXG4gKlxuICogVHlwaWNhbGx5IGBzY2hlZHVsZVRpY2tgIHVzZXMgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgdG8gY29hbGVzY2UgbXVsdGlwbGVcbiAqIGBzY2hlZHVsZVRpY2tgIHJlcXVlc3RzLiBUaGUgc2NoZWR1bGluZyBmdW5jdGlvbiBjYW4gYmUgb3ZlcnJpZGRlbiBpblxuICogYHJlbmRlckNvbXBvbmVudGAncyBgc2NoZWR1bGVyYCBvcHRpb24uXG4gKi9cbmZ1bmN0aW9uIHNjaGVkdWxlVGljayhyb290Q29udGV4dCwgZmxhZ3MpIHtcbiAgICB2YXIgbm90aGluZ1NjaGVkdWxlZCA9IHJvb3RDb250ZXh0LmZsYWdzID09PSAwIC8qIEVtcHR5ICovO1xuICAgIHJvb3RDb250ZXh0LmZsYWdzIHw9IGZsYWdzO1xuICAgIGlmIChub3RoaW5nU2NoZWR1bGVkICYmIHJvb3RDb250ZXh0LmNsZWFuID09IF9DTEVBTl9QUk9NSVNFKSB7XG4gICAgICAgIHZhciByZXNfMTtcbiAgICAgICAgcm9vdENvbnRleHQuY2xlYW4gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocikgeyByZXR1cm4gcmVzXzEgPSByOyB9KTtcbiAgICAgICAgcm9vdENvbnRleHQuc2NoZWR1bGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyb290Q29udGV4dC5mbGFncyAmIDEgLyogRGV0ZWN0Q2hhbmdlcyAqLykge1xuICAgICAgICAgICAgICAgIHJvb3RDb250ZXh0LmZsYWdzICY9IH4xIC8qIERldGVjdENoYW5nZXMgKi87XG4gICAgICAgICAgICAgICAgdGlja1Jvb3RDb250ZXh0KHJvb3RDb250ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb290Q29udGV4dC5mbGFncyAmIDIgLyogRmx1c2hQbGF5ZXJzICovKSB7XG4gICAgICAgICAgICAgICAgcm9vdENvbnRleHQuZmxhZ3MgJj0gfjIgLyogRmx1c2hQbGF5ZXJzICovO1xuICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJIYW5kbGVyID0gcm9vdENvbnRleHQucGxheWVySGFuZGxlcjtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVySGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJIYW5kbGVyLmZsdXNoUGxheWVycygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3RDb250ZXh0LmNsZWFuID0gX0NMRUFOX1BST01JU0U7XG4gICAgICAgICAgICByZXNfMShudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGlja1Jvb3RDb250ZXh0KHJvb3RDb250ZXh0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByb290Q29udGV4dC5jb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByb290Q29tcG9uZW50ID0gcm9vdENvbnRleHQuY29tcG9uZW50c1tpXTtcbiAgICAgICAgcmVuZGVyQ29tcG9uZW50T3JUZW1wbGF0ZShyZWFkUGF0Y2hlZExWaWV3KHJvb3RDb21wb25lbnQpLCByb290Q29tcG9uZW50KTtcbiAgICB9XG59XG4vKipcbiAqIFN5bmNocm9ub3VzbHkgcGVyZm9ybSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIGEgY29tcG9uZW50IChhbmQgcG9zc2libHkgaXRzIHN1Yi1jb21wb25lbnRzKS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHRyaWdnZXJzIGNoYW5nZSBkZXRlY3Rpb24gaW4gYSBzeW5jaHJvbm91cyB3YXkgb24gYSBjb21wb25lbnQuIFRoZXJlIHNob3VsZFxuICogYmUgdmVyeSBsaXR0bGUgcmVhc29uIHRvIGNhbGwgdGhpcyBmdW5jdGlvbiBkaXJlY3RseSBzaW5jZSBhIHByZWZlcnJlZCB3YXkgdG8gZG8gY2hhbmdlXG4gKiBkZXRlY3Rpb24gaXMgdG8ge0BsaW5rIG1hcmtEaXJ0eX0gdGhlIGNvbXBvbmVudCBhbmQgd2FpdCBmb3IgdGhlIHNjaGVkdWxlciB0byBjYWxsIHRoaXMgbWV0aG9kXG4gKiBhdCBzb21lIGZ1dHVyZSBwb2ludCBpbiB0aW1lLiBUaGlzIGlzIGJlY2F1c2UgYSBzaW5nbGUgdXNlciBhY3Rpb24gb2Z0ZW4gcmVzdWx0cyBpbiBtYW55XG4gKiBjb21wb25lbnRzIGJlaW5nIGludmFsaWRhdGVkIGFuZCBjYWxsaW5nIGNoYW5nZSBkZXRlY3Rpb24gb24gZWFjaCBjb21wb25lbnQgc3luY2hyb25vdXNseVxuICogd291bGQgYmUgaW5lZmZpY2llbnQuIEl0IGlzIGJldHRlciB0byB3YWl0IHVudGlsIGFsbCBjb21wb25lbnRzIGFyZSBtYXJrZWQgYXMgZGlydHkgYW5kXG4gKiB0aGVuIHBlcmZvcm0gc2luZ2xlIGNoYW5nZSBkZXRlY3Rpb24gYWNyb3NzIGFsbCBvZiB0aGUgY29tcG9uZW50c1xuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgVGhlIGNvbXBvbmVudCB3aGljaCB0aGUgY2hhbmdlIGRldGVjdGlvbiBzaG91bGQgYmUgcGVyZm9ybWVkIG9uLlxuICovXG5mdW5jdGlvbiBkZXRlY3RDaGFuZ2VzKGNvbXBvbmVudCkge1xuICAgIHZhciB2aWV3ID0gZ2V0Q29tcG9uZW50Vmlld0J5SW5zdGFuY2UoY29tcG9uZW50KTtcbiAgICBkZXRlY3RDaGFuZ2VzSW50ZXJuYWwodmlldywgY29tcG9uZW50KTtcbn1cbmZ1bmN0aW9uIGRldGVjdENoYW5nZXNJbnRlcm5hbCh2aWV3LCBjb250ZXh0KSB7XG4gICAgdmFyIHJlbmRlcmVyRmFjdG9yeSA9IHZpZXdbUkVOREVSRVJfRkFDVE9SWV07XG4gICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5iZWdpbilcbiAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmJlZ2luKCk7XG4gICAgaWYgKGlzQ3JlYXRpb25Nb2RlKHZpZXcpKSB7XG4gICAgICAgIGNoZWNrVmlldyh2aWV3LCBjb250ZXh0KTsgLy8gY3JlYXRpb24gbW9kZSBwYXNzXG4gICAgfVxuICAgIGNoZWNrVmlldyh2aWV3LCBjb250ZXh0KTsgLy8gdXBkYXRlIG1vZGUgcGFzc1xuICAgIGlmIChyZW5kZXJlckZhY3RvcnkuZW5kKVxuICAgICAgICByZW5kZXJlckZhY3RvcnkuZW5kKCk7XG59XG4vKipcbiAqIFN5bmNocm9ub3VzbHkgcGVyZm9ybSBjaGFuZ2UgZGV0ZWN0aW9uIG9uIGEgcm9vdCB2aWV3IGFuZCBpdHMgY29tcG9uZW50cy5cbiAqXG4gKiBAcGFyYW0gbFZpZXcgVGhlIHZpZXcgd2hpY2ggdGhlIGNoYW5nZSBkZXRlY3Rpb24gc2hvdWxkIGJlIHBlcmZvcm1lZCBvbi5cbiAqL1xuZnVuY3Rpb24gZGV0ZWN0Q2hhbmdlc0luUm9vdFZpZXcobFZpZXcpIHtcbiAgICB0aWNrUm9vdENvbnRleHQobFZpZXdbQ09OVEVYVF0pO1xufVxuLyoqXG4gKiBDaGVja3MgdGhlIGNoYW5nZSBkZXRlY3RvciBhbmQgaXRzIGNoaWxkcmVuLCBhbmQgdGhyb3dzIGlmIGFueSBjaGFuZ2VzIGFyZSBkZXRlY3RlZC5cbiAqXG4gKiBUaGlzIGlzIHVzZWQgaW4gZGV2ZWxvcG1lbnQgbW9kZSB0byB2ZXJpZnkgdGhhdCBydW5uaW5nIGNoYW5nZSBkZXRlY3Rpb24gZG9lc24ndFxuICogaW50cm9kdWNlIG90aGVyIGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrTm9DaGFuZ2VzKGNvbXBvbmVudCkge1xuICAgIHNldENoZWNrTm9DaGFuZ2VzTW9kZSh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgICBkZXRlY3RDaGFuZ2VzKGNvbXBvbmVudCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRDaGVja05vQ2hhbmdlc01vZGUoZmFsc2UpO1xuICAgIH1cbn1cbi8qKlxuICogQ2hlY2tzIHRoZSBjaGFuZ2UgZGV0ZWN0b3Igb24gYSByb290IHZpZXcgYW5kIGl0cyBjb21wb25lbnRzLCBhbmQgdGhyb3dzIGlmIGFueSBjaGFuZ2VzIGFyZVxuICogZGV0ZWN0ZWQuXG4gKlxuICogVGhpcyBpcyB1c2VkIGluIGRldmVsb3BtZW50IG1vZGUgdG8gdmVyaWZ5IHRoYXQgcnVubmluZyBjaGFuZ2UgZGV0ZWN0aW9uIGRvZXNuJ3RcbiAqIGludHJvZHVjZSBvdGhlciBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBsVmlldyBUaGUgdmlldyB3aGljaCB0aGUgY2hhbmdlIGRldGVjdGlvbiBzaG91bGQgYmUgY2hlY2tlZCBvbi5cbiAqL1xuZnVuY3Rpb24gY2hlY2tOb0NoYW5nZXNJblJvb3RWaWV3KGxWaWV3KSB7XG4gICAgc2V0Q2hlY2tOb0NoYW5nZXNNb2RlKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAgIGRldGVjdENoYW5nZXNJblJvb3RWaWV3KGxWaWV3KTtcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHNldENoZWNrTm9DaGFuZ2VzTW9kZShmYWxzZSk7XG4gICAgfVxufVxuLyoqIENoZWNrcyB0aGUgdmlldyBvZiB0aGUgY29tcG9uZW50IHByb3ZpZGVkLiBEb2VzIG5vdCBnYXRlIG9uIGRpcnR5IGNoZWNrcyBvciBleGVjdXRlIGRvQ2hlY2suICovXG5mdW5jdGlvbiBjaGVja1ZpZXcoaG9zdFZpZXcsIGNvbXBvbmVudCkge1xuICAgIHZhciBob3N0VFZpZXcgPSBob3N0Vmlld1tUVklFV107XG4gICAgdmFyIG9sZFZpZXcgPSBlbnRlclZpZXcoaG9zdFZpZXcsIGhvc3RWaWV3W0hPU1RfTk9ERV0pO1xuICAgIHZhciB0ZW1wbGF0ZUZuID0gaG9zdFRWaWV3LnRlbXBsYXRlO1xuICAgIHZhciB2aWV3UXVlcnkgPSBob3N0VFZpZXcudmlld1F1ZXJ5O1xuICAgIHRyeSB7XG4gICAgICAgIG5hbWVzcGFjZUhUTUwoKTtcbiAgICAgICAgY3JlYXRlVmlld1F1ZXJ5KHZpZXdRdWVyeSwgaG9zdFZpZXcsIGNvbXBvbmVudCk7XG4gICAgICAgIHRlbXBsYXRlRm4oZ2V0UmVuZGVyRmxhZ3MoaG9zdFZpZXcpLCBjb21wb25lbnQpO1xuICAgICAgICByZWZyZXNoRGVzY2VuZGFudFZpZXdzKGhvc3RWaWV3KTtcbiAgICAgICAgdXBkYXRlVmlld1F1ZXJ5KHZpZXdRdWVyeSwgaG9zdFZpZXcsIGNvbXBvbmVudCk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBsZWF2ZVZpZXcob2xkVmlldyk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVmlld1F1ZXJ5KHZpZXdRdWVyeSwgdmlldywgY29tcG9uZW50KSB7XG4gICAgaWYgKHZpZXdRdWVyeSAmJiBpc0NyZWF0aW9uTW9kZSh2aWV3KSkge1xuICAgICAgICB2aWV3UXVlcnkoMSAvKiBDcmVhdGUgKi8sIGNvbXBvbmVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlVmlld1F1ZXJ5KHZpZXdRdWVyeSwgdmlldywgY29tcG9uZW50KSB7XG4gICAgaWYgKHZpZXdRdWVyeSAmJiAhaXNDcmVhdGlvbk1vZGUodmlldykpIHtcbiAgICAgICAgdmlld1F1ZXJ5KDIgLyogVXBkYXRlICovLCBjb21wb25lbnQpO1xuICAgIH1cbn1cbi8qKlxuICogTWFyayB0aGUgY29tcG9uZW50IGFzIGRpcnR5IChuZWVkaW5nIGNoYW5nZSBkZXRlY3Rpb24pLlxuICpcbiAqIE1hcmtpbmcgYSBjb21wb25lbnQgZGlydHkgd2lsbCBzY2hlZHVsZSBhIGNoYW5nZSBkZXRlY3Rpb24gb24gdGhpc1xuICogY29tcG9uZW50IGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS4gTWFya2luZyBhbiBhbHJlYWR5IGRpcnR5XG4gKiBjb21wb25lbnQgYXMgZGlydHkgaXMgYSBub29wLiBPbmx5IG9uZSBvdXRzdGFuZGluZyBjaGFuZ2UgZGV0ZWN0aW9uXG4gKiBjYW4gYmUgc2NoZWR1bGVkIHBlciBjb21wb25lbnQgdHJlZS4gKFR3byBjb21wb25lbnRzIGJvb3RzdHJhcHBlZCB3aXRoXG4gKiBzZXBhcmF0ZSBgcmVuZGVyQ29tcG9uZW50YCB3aWxsIGhhdmUgc2VwYXJhdGUgc2NoZWR1bGVycylcbiAqXG4gKiBXaGVuIHRoZSByb290IGNvbXBvbmVudCBpcyBib290c3RyYXBwZWQgd2l0aCBgcmVuZGVyQ29tcG9uZW50YCwgYSBzY2hlZHVsZXJcbiAqIGNhbiBiZSBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCB0byBtYXJrIGFzIGRpcnR5LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gbWFya0RpcnR5KGNvbXBvbmVudCkge1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKGNvbXBvbmVudCwgJ2NvbXBvbmVudCcpO1xuICAgIG1hcmtWaWV3RGlydHkoZ2V0Q29tcG9uZW50Vmlld0J5SW5zdGFuY2UoY29tcG9uZW50KSk7XG59XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vIEJpbmRpbmdzICYgaW50ZXJwb2xhdGlvbnNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8qKlxuICogQ3JlYXRlcyBhIHNpbmdsZSB2YWx1ZSBiaW5kaW5nLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBkaWZmXG4gKi9cbmZ1bmN0aW9uIGJpbmQodmFsdWUpIHtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZChsVmlldywgbFZpZXdbQklORElOR19JTkRFWF0rKywgdmFsdWUpID8gdmFsdWUgOiBOT19DSEFOR0U7XG59XG4vKipcbiAqIEFsbG9jYXRlcyB0aGUgbmVjZXNzYXJ5IGFtb3VudCBvZiBzbG90cyBmb3IgaG9zdCB2YXJzLlxuICpcbiAqIEBwYXJhbSBjb3VudCBBbW91bnQgb2YgdmFycyB0byBiZSBhbGxvY2F0ZWRcbiAqL1xuZnVuY3Rpb24gYWxsb2NIb3N0VmFycyhjb3VudCkge1xuICAgIGlmICghZ2V0Rmlyc3RUZW1wbGF0ZVBhc3MoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgdmFyIHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgIHF1ZXVlSG9zdEJpbmRpbmdGb3JDaGVjayh0VmlldywgZ2V0Q3VycmVudERpcmVjdGl2ZURlZigpLCBjb3VudCk7XG4gICAgcHJlZmlsbEhvc3RWYXJzKHRWaWV3LCBsVmlldywgY291bnQpO1xufVxuLyoqXG4gKiBDcmVhdGUgaW50ZXJwb2xhdGlvbiBiaW5kaW5ncyB3aXRoIGEgdmFyaWFibGUgbnVtYmVyIG9mIGV4cHJlc3Npb25zLlxuICpcbiAqIElmIHRoZXJlIGFyZSAxIHRvIDggZXhwcmVzc2lvbnMgYGludGVycG9sYXRpb24xKClgIHRvIGBpbnRlcnBvbGF0aW9uOCgpYCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxuICogVGhvc2UgYXJlIGZhc3RlciBiZWNhdXNlIHRoZXJlIGlzIG5vIG5lZWQgdG8gY3JlYXRlIGFuIGFycmF5IG9mIGV4cHJlc3Npb25zIGFuZCBpdGVyYXRlIG92ZXIgaXQuXG4gKlxuICogYHZhbHVlc2A6XG4gKiAtIGhhcyBzdGF0aWMgdGV4dCBhdCBldmVuIGluZGV4ZXMsXG4gKiAtIGhhcyBldmFsdWF0ZWQgZXhwcmVzc2lvbnMgYXQgb2RkIGluZGV4ZXMuXG4gKlxuICogUmV0dXJucyB0aGUgY29uY2F0ZW5hdGVkIHN0cmluZyB3aGVuIGFueSBvZiB0aGUgYXJndW1lbnRzIGNoYW5nZXMsIGBOT19DSEFOR0VgIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvblYodmFsdWVzKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydExlc3NUaGFuKDIsIHZhbHVlcy5sZW5ndGgsICdzaG91bGQgaGF2ZSBhdCBsZWFzdCAzIHZhbHVlcycpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh2YWx1ZXMubGVuZ3RoICUgMiwgMSwgJ3Nob3VsZCBoYXZlIGFuIG9kZCBudW1iZXIgb2YgdmFsdWVzJyk7XG4gICAgdmFyIGRpZmZlcmVudCA9IGZhbHNlO1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgdmFyIGJpbmRpbmdJbmRleCA9IGxWaWV3W0JJTkRJTkdfSU5ERVhdO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGJpbmRpbmdzIChvZGQgaW5kZXhlcykgaGF2ZSBjaGFuZ2VkXG4gICAgICAgIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgrKywgdmFsdWVzW2ldKSAmJiAoZGlmZmVyZW50ID0gdHJ1ZSk7XG4gICAgfVxuICAgIGxWaWV3W0JJTkRJTkdfSU5ERVhdID0gYmluZGluZ0luZGV4O1xuICAgIGlmICghZGlmZmVyZW50KSB7XG4gICAgICAgIHJldHVybiBOT19DSEFOR0U7XG4gICAgfVxuICAgIC8vIEJ1aWxkIHRoZSB1cGRhdGVkIGNvbnRlbnRcbiAgICB2YXIgY29udGVudCA9IHZhbHVlc1swXTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBjb250ZW50ICs9IHN0cmluZ2lmeSQxKHZhbHVlc1tpXSkgKyB2YWx1ZXNbaSArIDFdO1xuICAgIH1cbiAgICByZXR1cm4gY29udGVudDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCAxIGV4cHJlc3Npb24uXG4gKlxuICogQHBhcmFtIHByZWZpeCBzdGF0aWMgdmFsdWUgdXNlZCBmb3IgY29uY2F0ZW5hdGlvbiBvbmx5LlxuICogQHBhcmFtIHYwIHZhbHVlIGNoZWNrZWQgZm9yIGNoYW5nZS5cbiAqIEBwYXJhbSBzdWZmaXggc3RhdGljIHZhbHVlIHVzZWQgZm9yIGNvbmNhdGVuYXRpb24gb25seS5cbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjEocHJlZml4LCB2MCwgc3VmZml4KSB7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGxWaWV3W0JJTkRJTkdfSU5ERVhdLCB2MCk7XG4gICAgbFZpZXdbQklORElOR19JTkRFWF0gKz0gMTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgc3RyaW5naWZ5JDEodjApICsgc3VmZml4IDogTk9fQ0hBTkdFO1xufVxuLyoqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggMiBleHByZXNzaW9ucy4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb24yKHByZWZpeCwgdjAsIGkwLCB2MSwgc3VmZml4KSB7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQyKGxWaWV3LCBsVmlld1tCSU5ESU5HX0lOREVYXSwgdjAsIHYxKTtcbiAgICBsVmlld1tCSU5ESU5HX0lOREVYXSArPSAyO1xuICAgIHJldHVybiBkaWZmZXJlbnQgPyBwcmVmaXggKyBzdHJpbmdpZnkkMSh2MCkgKyBpMCArIHN0cmluZ2lmeSQxKHYxKSArIHN1ZmZpeCA6IE5PX0NIQU5HRTtcbn1cbi8qKiBDcmVhdGVzIGFuIGludGVycG9sYXRpb24gYmluZGluZyB3aXRoIDMgZXhwcmVzc2lvbnMuICovXG5mdW5jdGlvbiBpbnRlcnBvbGF0aW9uMyhwcmVmaXgsIHYwLCBpMCwgdjEsIGkxLCB2Miwgc3VmZml4KSB7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBsVmlld1tCSU5ESU5HX0lOREVYXSwgdjAsIHYxLCB2Mik7XG4gICAgbFZpZXdbQklORElOR19JTkRFWF0gKz0gMztcbiAgICByZXR1cm4gZGlmZmVyZW50ID8gcHJlZml4ICsgc3RyaW5naWZ5JDEodjApICsgaTAgKyBzdHJpbmdpZnkkMSh2MSkgKyBpMSArIHN0cmluZ2lmeSQxKHYyKSArIHN1ZmZpeCA6XG4gICAgICAgIE5PX0NIQU5HRTtcbn1cbi8qKiBDcmVhdGUgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNCBleHByZXNzaW9ucy4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb240KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIHN1ZmZpeCkge1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgdmFyIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgbFZpZXdbQklORElOR19JTkRFWF0sIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBsVmlld1tCSU5ESU5HX0lOREVYXSArPSA0O1xuICAgIHJldHVybiBkaWZmZXJlbnQgP1xuICAgICAgICBwcmVmaXggKyBzdHJpbmdpZnkkMSh2MCkgKyBpMCArIHN0cmluZ2lmeSQxKHYxKSArIGkxICsgc3RyaW5naWZ5JDEodjIpICsgaTIgKyBzdHJpbmdpZnkkMSh2MykgK1xuICAgICAgICAgICAgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuLyoqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNSBleHByZXNzaW9ucy4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb241KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgc3VmZml4KSB7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgYmluZGluZ0luZGV4ID0gbFZpZXdbQklORElOR19JTkRFWF07XG4gICAgdmFyIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCB2MCwgdjEsIHYyLCB2Myk7XG4gICAgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0KSB8fCBkaWZmZXJlbnQ7XG4gICAgbFZpZXdbQklORElOR19JTkRFWF0gKz0gNTtcbiAgICByZXR1cm4gZGlmZmVyZW50ID9cbiAgICAgICAgcHJlZml4ICsgc3RyaW5naWZ5JDEodjApICsgaTAgKyBzdHJpbmdpZnkkMSh2MSkgKyBpMSArIHN0cmluZ2lmeSQxKHYyKSArIGkyICsgc3RyaW5naWZ5JDEodjMpICsgaTMgK1xuICAgICAgICAgICAgc3RyaW5naWZ5JDEodjQpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuLyoqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNiBleHByZXNzaW9ucy4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb242KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBzdWZmaXgpIHtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHZhciBiaW5kaW5nSW5kZXggPSBsVmlld1tCSU5ESU5HX0lOREVYXTtcbiAgICB2YXIgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0LCB2NSkgfHwgZGlmZmVyZW50O1xuICAgIGxWaWV3W0JJTkRJTkdfSU5ERVhdICs9IDY7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/XG4gICAgICAgIHByZWZpeCArIHN0cmluZ2lmeSQxKHYwKSArIGkwICsgc3RyaW5naWZ5JDEodjEpICsgaTEgKyBzdHJpbmdpZnkkMSh2MikgKyBpMiArIHN0cmluZ2lmeSQxKHYzKSArIGkzICtcbiAgICAgICAgICAgIHN0cmluZ2lmeSQxKHY0KSArIGk0ICsgc3RyaW5naWZ5JDEodjUpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuLyoqIENyZWF0ZXMgYW4gaW50ZXJwb2xhdGlvbiBiaW5kaW5nIHdpdGggNyBleHByZXNzaW9ucy4gKi9cbmZ1bmN0aW9uIGludGVycG9sYXRpb243KHByZWZpeCwgdjAsIGkwLCB2MSwgaTEsIHYyLCBpMiwgdjMsIGkzLCB2NCwgaTQsIHY1LCBpNSwgdjYsIHN1ZmZpeCkge1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgdmFyIGJpbmRpbmdJbmRleCA9IGxWaWV3W0JJTkRJTkdfSU5ERVhdO1xuICAgIHZhciBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgdjAsIHYxLCB2MiwgdjMpO1xuICAgIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkMyhsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdjQsIHY1LCB2NikgfHwgZGlmZmVyZW50O1xuICAgIGxWaWV3W0JJTkRJTkdfSU5ERVhdICs9IDc7XG4gICAgcmV0dXJuIGRpZmZlcmVudCA/XG4gICAgICAgIHByZWZpeCArIHN0cmluZ2lmeSQxKHYwKSArIGkwICsgc3RyaW5naWZ5JDEodjEpICsgaTEgKyBzdHJpbmdpZnkkMSh2MikgKyBpMiArIHN0cmluZ2lmeSQxKHYzKSArIGkzICtcbiAgICAgICAgICAgIHN0cmluZ2lmeSQxKHY0KSArIGk0ICsgc3RyaW5naWZ5JDEodjUpICsgaTUgKyBzdHJpbmdpZnkkMSh2NikgKyBzdWZmaXggOlxuICAgICAgICBOT19DSEFOR0U7XG59XG4vKiogQ3JlYXRlcyBhbiBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgd2l0aCA4IGV4cHJlc3Npb25zLiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGlvbjgocHJlZml4LCB2MCwgaTAsIHYxLCBpMSwgdjIsIGkyLCB2MywgaTMsIHY0LCBpNCwgdjUsIGk1LCB2NiwgaTYsIHY3LCBzdWZmaXgpIHtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHZhciBiaW5kaW5nSW5kZXggPSBsVmlld1tCSU5ESU5HX0lOREVYXTtcbiAgICB2YXIgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIHYwLCB2MSwgdjIsIHYzKTtcbiAgICBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIHY0LCB2NSwgdjYsIHY3KSB8fCBkaWZmZXJlbnQ7XG4gICAgbFZpZXdbQklORElOR19JTkRFWF0gKz0gODtcbiAgICByZXR1cm4gZGlmZmVyZW50ID9cbiAgICAgICAgcHJlZml4ICsgc3RyaW5naWZ5JDEodjApICsgaTAgKyBzdHJpbmdpZnkkMSh2MSkgKyBpMSArIHN0cmluZ2lmeSQxKHYyKSArIGkyICsgc3RyaW5naWZ5JDEodjMpICsgaTMgK1xuICAgICAgICAgICAgc3RyaW5naWZ5JDEodjQpICsgaTQgKyBzdHJpbmdpZnkkMSh2NSkgKyBpNSArIHN0cmluZ2lmeSQxKHY2KSArIGk2ICsgc3RyaW5naWZ5JDEodjcpICsgc3VmZml4IDpcbiAgICAgICAgTk9fQ0hBTkdFO1xufVxuLyoqIFN0b3JlIGEgdmFsdWUgaW4gdGhlIGBkYXRhYCBhdCBhIGdpdmVuIGBpbmRleGAuICovXG5mdW5jdGlvbiBzdG9yZShpbmRleCwgdmFsdWUpIHtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHZhciB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAvLyBXZSBkb24ndCBzdG9yZSBhbnkgc3RhdGljIGRhdGEgZm9yIGxvY2FsIHZhcmlhYmxlcywgc28gdGhlIGZpcnN0IHRpbWVcbiAgICAvLyB3ZSBzZWUgdGhlIHRlbXBsYXRlLCB3ZSBzaG91bGQgc3RvcmUgYXMgbnVsbCB0byBhdm9pZCBhIHNwYXJzZSBhcnJheVxuICAgIHZhciBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGlmIChhZGp1c3RlZEluZGV4ID49IHRWaWV3LmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIHRWaWV3LmRhdGFbYWRqdXN0ZWRJbmRleF0gPSBudWxsO1xuICAgIH1cbiAgICBsVmlld1thZGp1c3RlZEluZGV4XSA9IHZhbHVlO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgYSBsb2NhbCByZWZlcmVuY2UgZnJvbSB0aGUgY3VycmVudCBjb250ZXh0Vmlld0RhdGEuXG4gKlxuICogSWYgdGhlIHJlZmVyZW5jZSB0byByZXRyaWV2ZSBpcyBpbiBhIHBhcmVudCB2aWV3LCB0aGlzIGluc3RydWN0aW9uIGlzIHVzZWQgaW4gY29uanVuY3Rpb25cbiAqIHdpdGggYSBuZXh0Q29udGV4dCgpIGNhbGwsIHdoaWNoIHdhbGtzIHVwIHRoZSB0cmVlIGFuZCB1cGRhdGVzIHRoZSBjb250ZXh0Vmlld0RhdGEgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIGluZGV4IFRoZSBpbmRleCBvZiB0aGUgbG9jYWwgcmVmIGluIGNvbnRleHRWaWV3RGF0YS5cbiAqL1xuZnVuY3Rpb24gcmVmZXJlbmNlKGluZGV4KSB7XG4gICAgdmFyIGNvbnRleHRMVmlldyA9IGdldENvbnRleHRMVmlldygpO1xuICAgIHJldHVybiBsb2FkSW50ZXJuYWwoY29udGV4dExWaWV3LCBpbmRleCk7XG59XG5mdW5jdGlvbiBsb2FkUXVlcnlMaXN0KHF1ZXJ5TGlzdElkeCkge1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgbmdEZXZNb2RlICYmXG4gICAgICAgIGFzc2VydERlZmluZWQobFZpZXdbQ09OVEVOVF9RVUVSSUVTXSwgJ0NvbnRlbnQgUXVlcnlMaXN0IGFycmF5IHNob3VsZCBiZSBkZWZpbmVkIGlmIHJlYWRpbmcgYSBxdWVyeS4nKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGF0YUluUmFuZ2UobFZpZXdbQ09OVEVOVF9RVUVSSUVTXSwgcXVlcnlMaXN0SWR4KTtcbiAgICByZXR1cm4gbFZpZXdbQ09OVEVOVF9RVUVSSUVTXVtxdWVyeUxpc3RJZHhdO1xufVxuLyoqIFJldHJpZXZlcyBhIHZhbHVlIGZyb20gY3VycmVudCBgdmlld0RhdGFgLiAqL1xuZnVuY3Rpb24gbG9hZChpbmRleCkge1xuICAgIHJldHVybiBsb2FkSW50ZXJuYWwoZ2V0TFZpZXcoKSwgaW5kZXgpO1xufVxuZnVuY3Rpb24gZGlyZWN0aXZlSW5qZWN0KHRva2VuLCBmbGFncykge1xuICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7IGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdDsgfVxuICAgIHRva2VuID0gcmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pO1xuICAgIHJldHVybiBnZXRPckNyZWF0ZUluamVjdGFibGUoZ2V0UHJldmlvdXNPclBhcmVudFROb2RlKCksIGdldExWaWV3KCksIHRva2VuLCBmbGFncyk7XG59XG4vKipcbiAqIEZhY2FkZSBmb3IgdGhlIGF0dHJpYnV0ZSBpbmplY3Rpb24gZnJvbSBESS5cbiAqL1xuZnVuY3Rpb24gaW5qZWN0QXR0cmlidXRlKGF0dHJOYW1lVG9JbmplY3QpIHtcbiAgICByZXR1cm4gaW5qZWN0QXR0cmlidXRlSW1wbChnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKSwgYXR0ck5hbWVUb0luamVjdCk7XG59XG4vKipcbiAqIFJlZ2lzdGVycyBhIFF1ZXJ5TGlzdCwgYXNzb2NpYXRlZCB3aXRoIGEgY29udGVudCBxdWVyeSwgZm9yIGxhdGVyIHJlZnJlc2ggKHBhcnQgb2YgYSB2aWV3XG4gKiByZWZyZXNoKS5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJDb250ZW50UXVlcnkocXVlcnlMaXN0LCBjdXJyZW50RGlyZWN0aXZlSW5kZXgpIHtcbiAgICB2YXIgdmlld0RhdGEgPSBnZXRMVmlldygpO1xuICAgIHZhciB0VmlldyA9IHZpZXdEYXRhW1RWSUVXXTtcbiAgICB2YXIgc2F2ZWRDb250ZW50UXVlcmllc0xlbmd0aCA9ICh2aWV3RGF0YVtDT05URU5UX1FVRVJJRVNdIHx8ICh2aWV3RGF0YVtDT05URU5UX1FVRVJJRVNdID0gW10pKS5wdXNoKHF1ZXJ5TGlzdCk7XG4gICAgaWYgKGdldEZpcnN0VGVtcGxhdGVQYXNzKCkpIHtcbiAgICAgICAgdmFyIHRWaWV3Q29udGVudFF1ZXJpZXMgPSB0Vmlldy5jb250ZW50UXVlcmllcyB8fCAodFZpZXcuY29udGVudFF1ZXJpZXMgPSBbXSk7XG4gICAgICAgIHZhciBsYXN0U2F2ZWREaXJlY3RpdmVJbmRleCA9IHRWaWV3LmNvbnRlbnRRdWVyaWVzLmxlbmd0aCA/IHRWaWV3LmNvbnRlbnRRdWVyaWVzW3RWaWV3LmNvbnRlbnRRdWVyaWVzLmxlbmd0aCAtIDJdIDogLTE7XG4gICAgICAgIGlmIChjdXJyZW50RGlyZWN0aXZlSW5kZXggIT09IGxhc3RTYXZlZERpcmVjdGl2ZUluZGV4KSB7XG4gICAgICAgICAgICB0Vmlld0NvbnRlbnRRdWVyaWVzLnB1c2goY3VycmVudERpcmVjdGl2ZUluZGV4LCBzYXZlZENvbnRlbnRRdWVyaWVzTGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG52YXIgQ0xFQU5fUFJPTUlTRSA9IF9DTEVBTl9QUk9NSVNFO1xuZnVuY3Rpb24gaW5pdGlhbGl6ZVROb2RlSW5wdXRzKHROb2RlKSB7XG4gICAgLy8gSWYgdE5vZGUuaW5wdXRzIGlzIHVuZGVmaW5lZCwgYSBsaXN0ZW5lciBoYXMgY3JlYXRlZCBvdXRwdXRzLCBidXQgaW5wdXRzIGhhdmVuJ3RcbiAgICAvLyB5ZXQgYmVlbiBjaGVja2VkLlxuICAgIGlmICh0Tm9kZSkge1xuICAgICAgICBpZiAodE5vZGUuaW5wdXRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIG1hcmsgaW5wdXRzIGFzIGNoZWNrZWRcbiAgICAgICAgICAgIHROb2RlLmlucHV0cyA9IGdlbmVyYXRlUHJvcGVydHlBbGlhc2VzKHROb2RlLCAwIC8qIElucHV0ICovKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdE5vZGUuaW5wdXRzO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBPcGFxdWVWaWV3U3RhdGUgaW5zdGFuY2UuXG4gKlxuICogVXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHRoZSByZXN0b3JlVmlldygpIGluc3RydWN0aW9uIHRvIHNhdmUgYSBzbmFwc2hvdFxuICogb2YgdGhlIGN1cnJlbnQgdmlldyBhbmQgcmVzdG9yZSBpdCB3aGVuIGxpc3RlbmVycyBhcmUgaW52b2tlZC4gVGhpcyBhbGxvd3NcbiAqIHdhbGtpbmcgdGhlIGRlY2xhcmF0aW9uIHZpZXcgdHJlZSBpbiBsaXN0ZW5lcnMgdG8gZ2V0IHZhcnMgZnJvbSBwYXJlbnQgdmlld3MuXG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnRWaWV3KCkge1xuICAgIHJldHVybiBnZXRMVmlldygpO1xufVxuZnVuY3Rpb24gZ2V0Q2xlYW51cCh2aWV3KSB7XG4gICAgLy8gdG9wIGxldmVsIHZhcmlhYmxlcyBzaG91bGQgbm90IGJlIGV4cG9ydGVkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChQRVJGX05PVEVTLm1kKVxuICAgIHJldHVybiB2aWV3W0NMRUFOVVBdIHx8ICh2aWV3W0NMRUFOVVBdID0gW10pO1xufVxuZnVuY3Rpb24gZ2V0VFZpZXdDbGVhbnVwKHZpZXcpIHtcbiAgICByZXR1cm4gdmlld1tUVklFV10uY2xlYW51cCB8fCAodmlld1tUVklFV10uY2xlYW51cCA9IFtdKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGRzIGEgcGxheWVyIHRvIGFuIGVsZW1lbnQsIGRpcmVjdGl2ZSBvciBjb21wb25lbnQgaW5zdGFuY2UgdGhhdCB3aWxsIGxhdGVyIGJlXG4gKiBhbmltYXRlZCBvbmNlIGNoYW5nZSBkZXRlY3Rpb24gaGFzIHBhc3NlZC5cbiAqXG4gKiBXaGVuIGEgcGxheWVyIGlzIGFkZGVkIHRvIGEgcmVmZXJlbmNlIGl0IHdpbGwgc3RheSBhY3RpdmUgdW50aWwgYHBsYXllci5kZXN0cm95KClgXG4gKiBpcyBjYWxsZWQuIE9uY2UgY2FsbGVkIHRoZW4gdGhlIHBsYXllciB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgYWN0aXZlIHBsYXllcnNcbiAqIHByZXNlbnQgb24gdGhlIGFzc29jaWF0ZWQgcmVmIGluc3RhbmNlLlxuICpcbiAqIFRvIGdldCBhIGxpc3Qgb2YgYWxsIHRoZSBhY3RpdmUgcGxheWVycyBvbiBhbiBlbGVtZW50IHNlZSBbZ2V0UGxheWVyc10uXG4gKlxuICogQHBhcmFtIHJlZiBUaGUgZWxlbWVudCwgZGlyZWN0aXZlIG9yIGNvbXBvbmVudCB0aGF0IHRoZSBwbGF5ZXIgd2lsbCBiZSBwbGFjZWQgb24uXG4gKiBAcGFyYW0gcGxheWVyIFRoZSBwbGF5ZXIgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCB0byBwbGF5IG9uY2UgY2hhbmdlIGRldGVjdGlvbiBoYXMgcnVuLlxuICovXG5mdW5jdGlvbiBhZGRQbGF5ZXIocmVmLCBwbGF5ZXIpIHtcbiAgICB2YXIgY29udGV4dCA9IGdldExDb250ZXh0KHJlZik7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiB0aHJvd0ludmFsaWRSZWZFcnJvcigpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlbGVtZW50JCQxID0gY29udGV4dC5uYXRpdmU7XG4gICAgdmFyIGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICB2YXIgcGxheWVyQ29udGV4dCA9IGdldE9yQ3JlYXRlUGxheWVyQ29udGV4dChlbGVtZW50JCQxLCBjb250ZXh0KTtcbiAgICB2YXIgcm9vdENvbnRleHQgPSBnZXRSb290Q29udGV4dCQxKGxWaWV3KTtcbiAgICBhZGRQbGF5ZXJJbnRlcm5hbChwbGF5ZXJDb250ZXh0LCByb290Q29udGV4dCwgZWxlbWVudCQkMSwgcGxheWVyLCAwLCByZWYpO1xuICAgIHNjaGVkdWxlVGljayhyb290Q29udGV4dCwgMiAvKiBGbHVzaFBsYXllcnMgKi8pO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBhbGwgdGhlIGFjdGl2ZSBwbGF5ZXJzIHByZXNlbnQgb24gdGhlIHByb3ZpZGVkIHJlZiBpbnN0YW5jZSAod2hpY2ggY2FuXG4gKiBiZSBhbiBpbnN0YW5jZSBvZiBhIGRpcmVjdGl2ZSwgY29tcG9uZW50IG9yIGVsZW1lbnQpLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd2lsbCBvbmx5IHJldHVybiBwbGF5ZXJzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSByZWYgaW5zdGFuY2UgdXNpbmdcbiAqIGBhZGRQbGF5ZXJgIG9yIGFueSBwbGF5ZXJzIHRoYXQgYXJlIGFjdGl2ZSB0aHJvdWdoIGFueSB0ZW1wbGF0ZSBzdHlsaW5nIGJpbmRpbmdzXG4gKiAoYFtzdHlsZV1gLCBgW3N0eWxlLnByb3BdYCwgYFtjbGFzc11gIGFuZCBgW2NsYXNzLm5hbWVdYCkuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBnZXRQbGF5ZXJzKHJlZikge1xuICAgIHZhciBjb250ZXh0ID0gZ2V0TENvbnRleHQocmVmKTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgbmdEZXZNb2RlICYmIHRocm93SW52YWxpZFJlZkVycm9yKCk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIHN0eWxpbmdDb250ZXh0ID0gZ2V0U3R5bGluZ0NvbnRleHQoY29udGV4dC5ub2RlSW5kZXgsIGNvbnRleHQubFZpZXcpO1xuICAgIHZhciBwbGF5ZXJDb250ZXh0ID0gc3R5bGluZ0NvbnRleHQgPyBnZXRQbGF5ZXJDb250ZXh0KHN0eWxpbmdDb250ZXh0KSA6IG51bGw7XG4gICAgcmV0dXJuIHBsYXllckNvbnRleHQgPyBnZXRQbGF5ZXJzSW50ZXJuYWwocGxheWVyQ29udGV4dCkgOiBbXTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgZmlsZSBpbnRyb2R1Y2VzIHNlcmllcyBvZiBnbG9iYWxseSBhY2Nlc3NpYmxlIGRlYnVnIHRvb2xzXG4gKiB0byBhbGxvdyBmb3IgdGhlIEFuZ3VsYXIgZGVidWdnaW5nIHN0b3J5IHRvIGZ1bmN0aW9uLlxuICpcbiAqIFRvIHNlZSB0aGlzIGluIGFjdGlvbiBydW4gdGhlIGZvbGxvd2luZyBjb21tYW5kOlxuICpcbiAqICAgYmF6ZWwgcnVuIC0tZGVmaW5lPWNvbXBpbGU9YW90XG4gKiAgIC8vcGFja2FnZXMvY29yZS90ZXN0L2J1bmRsaW5nL3RvZG86ZGV2c2VydmVyXG4gKlxuICogIFRoZW4gbG9hZCBgbG9jYWxob3N0OjU0MzJgIGFuZCBzdGFydCB1c2luZyB0aGUgY29uc29sZSB0b29scy5cbiAqL1xuLyoqXG4gKiBUaGlzIHZhbHVlIHJlZmxlY3RzIHRoZSBwcm9wZXJ0eSBvbiB0aGUgd2luZG93IHdoZXJlIHRoZSBkZXZcbiAqIHRvb2xzIGFyZSBwYXRjaGVkICh3aW5kb3cubmcpLlxuICogKi9cbnZhciBHTE9CQUxfUFVCTElTSF9FWFBBTkRPX0tFWSA9ICduZyc7XG4vKlxuICogUHVibGlzaGVzIGEgY29sbGVjdGlvbiBvZiBkZWZhdWx0IGRlYnVnIHRvb2xzIG9udG8gYHdpbmRvdy5fbmdfYC5cbiAqXG4gKiBUaGVzZSBmdW5jdGlvbnMgYXJlIGF2YWlsYWJsZSBnbG9iYWxseSB3aGVuIEFuZ3VsYXIgaXMgaW4gZGV2ZWxvcG1lbnRcbiAqIG1vZGUgYW5kIGFyZSBhdXRvbWF0aWNhbGx5IHN0cmlwcGVkIGF3YXkgZnJvbSBwcm9kIG1vZGUgaXMgb24uXG4gKi9cbnZhciBfcHVibGlzaGVkID0gZmFsc2U7XG5mdW5jdGlvbiBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzKCkge1xuICAgIGlmICghX3B1Ymxpc2hlZCkge1xuICAgICAgICBfcHVibGlzaGVkID0gdHJ1ZTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldENvbXBvbmVudCcsIGdldENvbXBvbmVudCk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRDb250ZXh0JywgZ2V0Q29udGV4dCk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRMaXN0ZW5lcnMnLCBnZXRMaXN0ZW5lcnMpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0Vmlld0NvbXBvbmVudCcsIGdldFZpZXdDb21wb25lbnQpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0SG9zdEVsZW1lbnQnLCBnZXRIb3N0RWxlbWVudCk7XG4gICAgICAgIHB1Ymxpc2hHbG9iYWxVdGlsKCdnZXRJbmplY3RvcicsIGdldEluamVjdG9yKTtcbiAgICAgICAgcHVibGlzaEdsb2JhbFV0aWwoJ2dldFJvb3RDb21wb25lbnRzJywgZ2V0Um9vdENvbXBvbmVudHMpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0RGlyZWN0aXZlcycsIGdldERpcmVjdGl2ZXMpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnZ2V0UGxheWVycycsIGdldFBsYXllcnMpO1xuICAgICAgICBwdWJsaXNoR2xvYmFsVXRpbCgnbWFya0RpcnR5JywgbWFya0RpcnR5KTtcbiAgICB9XG59XG4vKipcbiAqIFB1Ymxpc2hlcyB0aGUgZ2l2ZW4gZnVuY3Rpb24gdG8gYHdpbmRvdy5uZ0Rldk1vZGVgIHNvIHRoYXQgaXQgY2FuIGJlXG4gKiB1c2VkIGZyb20gdGhlIGJyb3dzZXIgY29uc29sZSB3aGVuIGFuIGFwcGxpY2F0aW9uIGlzIG5vdCBpbiBwcm9kdWN0aW9uLlxuICovXG5mdW5jdGlvbiBwdWJsaXNoR2xvYmFsVXRpbChuYW1lLCBmbikge1xuICAgIHZhciB3ID0gX2dsb2JhbDtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChmbiwgJ2Z1bmN0aW9uIG5vdCBkZWZpbmVkJyk7XG4gICAgaWYgKHcpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHdbR0xPQkFMX1BVQkxJU0hfRVhQQU5ET19LRVldO1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyID0gd1tHTE9CQUxfUFVCTElTSF9FWFBBTkRPX0tFWV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXJbbmFtZV0gPSBmbjtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQm9vdHN0cmFwcyBhIENvbXBvbmVudCBpbnRvIGFuIGV4aXN0aW5nIGhvc3QgZWxlbWVudCBhbmQgcmV0dXJucyBhbiBpbnN0YW5jZVxuICogb2YgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byBib290c3RyYXAgYSBjb21wb25lbnQgaW50byB0aGUgRE9NIHRyZWUuIEVhY2ggaW52b2NhdGlvblxuICogb2YgdGhpcyBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBhIHNlcGFyYXRlIHRyZWUgb2YgY29tcG9uZW50cywgaW5qZWN0b3JzIGFuZFxuICogY2hhbmdlIGRldGVjdGlvbiBjeWNsZXMgYW5kIGxpZmV0aW1lcy4gVG8gZHluYW1pY2FsbHkgaW5zZXJ0IGEgbmV3IGNvbXBvbmVudFxuICogaW50byBhbiBleGlzdGluZyB0cmVlIHN1Y2ggdGhhdCBpdCBzaGFyZXMgdGhlIHNhbWUgaW5qZWN0aW9uLCBjaGFuZ2UgZGV0ZWN0aW9uXG4gKiBhbmQgb2JqZWN0IGxpZmV0aW1lLCB1c2Uge0BsaW5rIFZpZXdDb250YWluZXIjY3JlYXRlQ29tcG9uZW50fS5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50VHlwZSBDb21wb25lbnQgdG8gYm9vdHN0cmFwXG4gKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBwYXJhbWV0ZXJzIHdoaWNoIGNvbnRyb2wgYm9vdHN0cmFwcGluZ1xuICovXG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnQoY29tcG9uZW50VHlwZSAvKiBUeXBlIGFzIHdvcmthcm91bmQgZm9yOiBNaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNDg4MSAqLywgb3B0cykge1xuICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XG4gICAgbmdEZXZNb2RlICYmIHB1Ymxpc2hEZWZhdWx0R2xvYmFsVXRpbHMoKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0Q29tcG9uZW50VHlwZShjb21wb25lbnRUeXBlKTtcbiAgICB2YXIgcmVuZGVyZXJGYWN0b3J5ID0gb3B0cy5yZW5kZXJlckZhY3RvcnkgfHwgZG9tUmVuZGVyZXJGYWN0b3J5MztcbiAgICB2YXIgc2FuaXRpemVyID0gb3B0cy5zYW5pdGl6ZXIgfHwgbnVsbDtcbiAgICB2YXIgY29tcG9uZW50RGVmID0gZ2V0Q29tcG9uZW50RGVmKGNvbXBvbmVudFR5cGUpO1xuICAgIGlmIChjb21wb25lbnREZWYudHlwZSAhPSBjb21wb25lbnRUeXBlKVxuICAgICAgICBjb21wb25lbnREZWYudHlwZSA9IGNvbXBvbmVudFR5cGU7XG4gICAgLy8gVGhlIGZpcnN0IGluZGV4IG9mIHRoZSBmaXJzdCBzZWxlY3RvciBpcyB0aGUgdGFnIG5hbWUuXG4gICAgdmFyIGNvbXBvbmVudFRhZyA9IGNvbXBvbmVudERlZi5zZWxlY3RvcnNbMF1bMF07XG4gICAgdmFyIGhvc3RSTm9kZSA9IGxvY2F0ZUhvc3RFbGVtZW50KHJlbmRlcmVyRmFjdG9yeSwgb3B0cy5ob3N0IHx8IGNvbXBvbmVudFRhZyk7XG4gICAgdmFyIHJvb3RGbGFncyA9IGNvbXBvbmVudERlZi5vblB1c2ggPyA4IC8qIERpcnR5ICovIHwgMTI4IC8qIElzUm9vdCAqLyA6XG4gICAgICAgIDQgLyogQ2hlY2tBbHdheXMgKi8gfCAxMjggLyogSXNSb290ICovO1xuICAgIHZhciByb290Q29udGV4dCA9IGNyZWF0ZVJvb3RDb250ZXh0KG9wdHMuc2NoZWR1bGVyLCBvcHRzLnBsYXllckhhbmRsZXIpO1xuICAgIHZhciByZW5kZXJlciA9IHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihob3N0Uk5vZGUsIGNvbXBvbmVudERlZik7XG4gICAgdmFyIHJvb3RWaWV3ID0gY3JlYXRlTFZpZXcobnVsbCwgY3JlYXRlVFZpZXcoLTEsIG51bGwsIDEsIDAsIG51bGwsIG51bGwsIG51bGwpLCByb290Q29udGV4dCwgcm9vdEZsYWdzLCByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyLCB1bmRlZmluZWQsIG9wdHMuaW5qZWN0b3IgfHwgbnVsbCk7XG4gICAgdmFyIG9sZFZpZXcgPSBlbnRlclZpZXcocm9vdFZpZXcsIG51bGwpO1xuICAgIHZhciBjb21wb25lbnQ7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5iZWdpbilcbiAgICAgICAgICAgIHJlbmRlcmVyRmFjdG9yeS5iZWdpbigpO1xuICAgICAgICB2YXIgY29tcG9uZW50VmlldyA9IGNyZWF0ZVJvb3RDb21wb25lbnRWaWV3KGhvc3RSTm9kZSwgY29tcG9uZW50RGVmLCByb290VmlldywgcmVuZGVyZXJGYWN0b3J5LCByZW5kZXJlciwgc2FuaXRpemVyKTtcbiAgICAgICAgY29tcG9uZW50ID0gY3JlYXRlUm9vdENvbXBvbmVudChjb21wb25lbnRWaWV3LCBjb21wb25lbnREZWYsIHJvb3RWaWV3LCByb290Q29udGV4dCwgb3B0cy5ob3N0RmVhdHVyZXMgfHwgbnVsbCk7XG4gICAgICAgIHJlZnJlc2hEZXNjZW5kYW50Vmlld3Mocm9vdFZpZXcpOyAvLyBjcmVhdGlvbiBtb2RlIHBhc3NcbiAgICAgICAgcm9vdFZpZXdbRkxBR1NdICY9IH4xIC8qIENyZWF0aW9uTW9kZSAqLztcbiAgICAgICAgcmVmcmVzaERlc2NlbmRhbnRWaWV3cyhyb290Vmlldyk7IC8vIHVwZGF0ZSBtb2RlIHBhc3NcbiAgICB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIGxlYXZlVmlldyhvbGRWaWV3KTtcbiAgICAgICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5lbmQpXG4gICAgICAgICAgICByZW5kZXJlckZhY3RvcnkuZW5kKCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG59XG4vKipcbiAqIENyZWF0ZXMgdGhlIHJvb3QgY29tcG9uZW50IHZpZXcgYW5kIHRoZSByb290IGNvbXBvbmVudCBub2RlLlxuICpcbiAqIEBwYXJhbSByTm9kZSBSZW5kZXIgaG9zdCBlbGVtZW50LlxuICogQHBhcmFtIGRlZiBDb21wb25lbnREZWZcbiAqIEBwYXJhbSByb290VmlldyBUaGUgcGFyZW50IHZpZXcgd2hlcmUgdGhlIGhvc3Qgbm9kZSBpcyBzdG9yZWRcbiAqIEBwYXJhbSByZW5kZXJlciBUaGUgY3VycmVudCByZW5kZXJlclxuICogQHBhcmFtIHNhbml0aXplciBUaGUgc2FuaXRpemVyLCBpZiBwcm92aWRlZFxuICpcbiAqIEByZXR1cm5zIENvbXBvbmVudCB2aWV3IGNyZWF0ZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm9vdENvbXBvbmVudFZpZXcock5vZGUsIGRlZiwgcm9vdFZpZXcsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXIsIHNhbml0aXplcikge1xuICAgIHJlc2V0Q29tcG9uZW50U3RhdGUoKTtcbiAgICB2YXIgdFZpZXcgPSByb290Vmlld1tUVklFV107XG4gICAgdmFyIGNvbXBvbmVudFZpZXcgPSBjcmVhdGVMVmlldyhyb290VmlldywgZ2V0T3JDcmVhdGVUVmlldyhkZWYudGVtcGxhdGUsIGRlZi5jb25zdHMsIGRlZi52YXJzLCBkZWYuZGlyZWN0aXZlRGVmcywgZGVmLnBpcGVEZWZzLCBkZWYudmlld1F1ZXJ5KSwgbnVsbCwgZGVmLm9uUHVzaCA/IDggLyogRGlydHkgKi8gOiA0IC8qIENoZWNrQWx3YXlzICovLCByZW5kZXJlckZhY3RvcnksIHJlbmRlcmVyLCBzYW5pdGl6ZXIpO1xuICAgIHZhciB0Tm9kZSA9IGNyZWF0ZU5vZGVBdEluZGV4KDAsIDMgLyogRWxlbWVudCAqLywgck5vZGUsIG51bGwsIG51bGwpO1xuICAgIGlmICh0Vmlldy5maXJzdFRlbXBsYXRlUGFzcykge1xuICAgICAgICBkaVB1YmxpY0luSW5qZWN0b3IoZ2V0T3JDcmVhdGVOb2RlSW5qZWN0b3JGb3JOb2RlKHROb2RlLCByb290VmlldyksIHJvb3RWaWV3LCBkZWYudHlwZSk7XG4gICAgICAgIHROb2RlLmZsYWdzID0gMSAvKiBpc0NvbXBvbmVudCAqLztcbiAgICAgICAgaW5pdE5vZGVGbGFncyh0Tm9kZSwgcm9vdFZpZXcubGVuZ3RoLCAxKTtcbiAgICAgICAgcXVldWVDb21wb25lbnRJbmRleEZvckNoZWNrKHROb2RlKTtcbiAgICB9XG4gICAgLy8gU3RvcmUgY29tcG9uZW50IHZpZXcgYXQgbm9kZSBpbmRleCwgd2l0aCBub2RlIGFzIHRoZSBIT1NUXG4gICAgY29tcG9uZW50Vmlld1tIT1NUXSA9IHJvb3RWaWV3W0hFQURFUl9PRkZTRVRdO1xuICAgIGNvbXBvbmVudFZpZXdbSE9TVF9OT0RFXSA9IHROb2RlO1xuICAgIHJldHVybiByb290Vmlld1tIRUFERVJfT0ZGU0VUXSA9IGNvbXBvbmVudFZpZXc7XG59XG4vKipcbiAqIENyZWF0ZXMgYSByb290IGNvbXBvbmVudCBhbmQgc2V0cyBpdCB1cCB3aXRoIGZlYXR1cmVzIGFuZCBob3N0IGJpbmRpbmdzLiBTaGFyZWQgYnlcbiAqIHJlbmRlckNvbXBvbmVudCgpIGFuZCBWaWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudCgpLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSb290Q29tcG9uZW50KGNvbXBvbmVudFZpZXcsIGNvbXBvbmVudERlZiwgcm9vdFZpZXcsIHJvb3RDb250ZXh0LCBob3N0RmVhdHVyZXMpIHtcbiAgICB2YXIgdFZpZXcgPSByb290Vmlld1tUVklFV107XG4gICAgLy8gQ3JlYXRlIGRpcmVjdGl2ZSBpbnN0YW5jZSB3aXRoIGZhY3RvcnkoKSBhbmQgc3RvcmUgYXQgbmV4dCBpbmRleCBpbiB2aWV3RGF0YVxuICAgIHZhciBjb21wb25lbnQgPSBpbnN0YW50aWF0ZVJvb3RDb21wb25lbnQodFZpZXcsIHJvb3RWaWV3LCBjb21wb25lbnREZWYpO1xuICAgIHJvb3RDb250ZXh0LmNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgIGNvbXBvbmVudFZpZXdbQ09OVEVYVF0gPSBjb21wb25lbnQ7XG4gICAgaG9zdEZlYXR1cmVzICYmIGhvc3RGZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChmZWF0dXJlKSB7IHJldHVybiBmZWF0dXJlKGNvbXBvbmVudCwgY29tcG9uZW50RGVmKTsgfSk7XG4gICAgaWYgKHRWaWV3LmZpcnN0VGVtcGxhdGVQYXNzICYmIGNvbXBvbmVudERlZi5ob3N0QmluZGluZ3MpIHtcbiAgICAgICAgdmFyIHJvb3RUTm9kZSA9IGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpO1xuICAgICAgICBzZXRDdXJyZW50RGlyZWN0aXZlRGVmKGNvbXBvbmVudERlZik7XG4gICAgICAgIGNvbXBvbmVudERlZi5ob3N0QmluZGluZ3MoMSAvKiBDcmVhdGUgKi8sIGNvbXBvbmVudCwgcm9vdFROb2RlLmluZGV4IC0gSEVBREVSX09GRlNFVCk7XG4gICAgICAgIHNldEN1cnJlbnREaXJlY3RpdmVEZWYobnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBjcmVhdGVSb290Q29udGV4dChzY2hlZHVsZXIsIHBsYXllckhhbmRsZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb21wb25lbnRzOiBbXSxcbiAgICAgICAgc2NoZWR1bGVyOiBzY2hlZHVsZXIgfHwgZGVmYXVsdFNjaGVkdWxlcixcbiAgICAgICAgY2xlYW46IENMRUFOX1BST01JU0UsXG4gICAgICAgIHBsYXllckhhbmRsZXI6IHBsYXllckhhbmRsZXIgfHwgbnVsbCxcbiAgICAgICAgZmxhZ3M6IDAgLyogRW1wdHkgKi9cbiAgICB9O1xufVxuLyoqXG4gKiBVc2VkIHRvIGVuYWJsZSBsaWZlY3ljbGUgaG9va3Mgb24gdGhlIHJvb3QgY29tcG9uZW50LlxuICpcbiAqIEluY2x1ZGUgdGhpcyBmZWF0dXJlIHdoZW4gY2FsbGluZyBgcmVuZGVyQ29tcG9uZW50YCBpZiB0aGUgcm9vdCBjb21wb25lbnRcbiAqIHlvdSBhcmUgcmVuZGVyaW5nIGhhcyBsaWZlY3ljbGUgaG9va3MgZGVmaW5lZC4gT3RoZXJ3aXNlLCB0aGUgaG9va3Mgd29uJ3RcbiAqIGJlIGNhbGxlZCBwcm9wZXJseS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogcmVuZGVyQ29tcG9uZW50KEFwcENvbXBvbmVudCwge2ZlYXR1cmVzOiBbUm9vdExpZmVjeWNsZUhvb2tzXX0pO1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIExpZmVjeWNsZUhvb2tzRmVhdHVyZShjb21wb25lbnQsIGRlZikge1xuICAgIHZhciByb290VFZpZXcgPSByZWFkUGF0Y2hlZExWaWV3KGNvbXBvbmVudClbVFZJRVddO1xuICAgIHZhciBkaXJJbmRleCA9IHJvb3RUVmlldy5kYXRhLmxlbmd0aCAtIDE7XG4gICAgcXVldWVJbml0SG9va3MoZGlySW5kZXgsIGRlZi5vbkluaXQsIGRlZi5kb0NoZWNrLCByb290VFZpZXcpO1xuICAgIC8vIFRPRE8obWlza28pOiByZXBsYWNlIGBhcyBUTm9kZWAgd2l0aCBjcmVhdGVUTm9kZSBjYWxsLiAobmVlZHMgcmVmYWN0b3JpbmcgdG8gbG9zZSBkZXAgb25cbiAgICAvLyBMTm9kZSkuXG4gICAgcXVldWVMaWZlY3ljbGVIb29rcyhyb290VFZpZXcsIHsgZGlyZWN0aXZlU3RhcnQ6IGRpckluZGV4LCBkaXJlY3RpdmVFbmQ6IGRpckluZGV4ICsgMSB9KTtcbn1cbi8qKlxuICogUmV0cmlldmUgdGhlIHJvb3QgY29udGV4dCBmb3IgYW55IGNvbXBvbmVudCBieSB3YWxraW5nIHRoZSBwYXJlbnQgYExWaWV3YCB1bnRpbFxuICogcmVhY2hpbmcgdGhlIHJvb3QgYExWaWV3YC5cbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50IGFueSBjb21wb25lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0Um9vdENvbnRleHQkMihjb21wb25lbnQpIHtcbiAgICB2YXIgcm9vdENvbnRleHQgPSBnZXRSb290Vmlldyhjb21wb25lbnQpW0NPTlRFWFRdO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHJvb3RDb250ZXh0LCAncm9vdENvbnRleHQnKTtcbiAgICByZXR1cm4gcm9vdENvbnRleHQ7XG59XG4vKipcbiAqIFdhaXQgb24gY29tcG9uZW50IHVudGlsIGl0IGlzIHJlbmRlcmVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIGBQcm9taXNlYCB3aGljaCBpcyByZXNvbHZlZCB3aGVuIHRoZSBjb21wb25lbnQnc1xuICogY2hhbmdlIGRldGVjdGlvbiBpcyBleGVjdXRlZC4gVGhpcyBpcyBkZXRlcm1pbmVkIGJ5IGZpbmRpbmcgdGhlIHNjaGVkdWxlclxuICogYXNzb2NpYXRlZCB3aXRoIHRoZSBgY29tcG9uZW50YCdzIHJlbmRlciB0cmVlIGFuZCB3YWl0aW5nIHVudGlsIHRoZSBzY2hlZHVsZXJcbiAqIGZsdXNoZXMuIElmIG5vdGhpbmcgaXMgc2NoZWR1bGVkLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBhIHJlc29sdmVkIHByb21pc2UuXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogYXdhaXQgd2hlblJlbmRlcmVkKG15Q29tcG9uZW50KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IHRvIHdhaXQgdXBvblxuICogQHJldHVybnMgUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVuZGVyZWQuXG4gKi9cbmZ1bmN0aW9uIHdoZW5SZW5kZXJlZChjb21wb25lbnQpIHtcbiAgICByZXR1cm4gZ2V0Um9vdENvbnRleHQkMihjb21wb25lbnQpLmNsZWFuO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIERldGVybWluZXMgaWYgYSBkZWZpbml0aW9uIGlzIGEge0BsaW5rIENvbXBvbmVudERlZn0gb3IgYSB7QGxpbmsgRGlyZWN0aXZlRGVmfVxuICogQHBhcmFtIGRlZmluaXRpb24gVGhlIGRlZmluaXRpb24gdG8gZXhhbWluZVxuICovXG5mdW5jdGlvbiBpc0NvbXBvbmVudERlZiQxKGRlZmluaXRpb24pIHtcbiAgICB2YXIgZGVmID0gZGVmaW5pdGlvbjtcbiAgICByZXR1cm4gdHlwZW9mIGRlZi50ZW1wbGF0ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGdldFN1cGVyVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih0eXBlLnByb3RvdHlwZSkuY29uc3RydWN0b3I7XG59XG4vKipcbiAqIE1lcmdlcyB0aGUgZGVmaW5pdGlvbiBmcm9tIGEgc3VwZXIgY2xhc3MgdG8gYSBzdWIgY2xhc3MuXG4gKiBAcGFyYW0gZGVmaW5pdGlvbiBUaGUgZGVmaW5pdGlvbiB0aGF0IGlzIGEgU3ViQ2xhc3Mgb2YgYW5vdGhlciBkaXJlY3RpdmUgb2YgY29tcG9uZW50XG4gKi9cbmZ1bmN0aW9uIEluaGVyaXREZWZpbml0aW9uRmVhdHVyZShkZWZpbml0aW9uKSB7XG4gICAgdmFyIHN1cGVyVHlwZSA9IGdldFN1cGVyVHlwZShkZWZpbml0aW9uLnR5cGUpO1xuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIHN1cGVyRGVmID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoaXNDb21wb25lbnREZWYkMShkZWZpbml0aW9uKSkge1xuICAgICAgICAgICAgLy8gRG9uJ3QgdXNlIGdldENvbXBvbmVudERlZi9nZXREaXJlY3RpdmVEZWYuIFRoaXMgbG9naWMgcmVsaWVzIG9uIGluaGVyaXRhbmNlLlxuICAgICAgICAgICAgc3VwZXJEZWYgPSBzdXBlclR5cGUubmdDb21wb25lbnREZWYgfHwgc3VwZXJUeXBlLm5nRGlyZWN0aXZlRGVmO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN1cGVyVHlwZS5uZ0NvbXBvbmVudERlZikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGlyZWN0aXZlcyBjYW5ub3QgaW5oZXJpdCBDb21wb25lbnRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEb24ndCB1c2UgZ2V0Q29tcG9uZW50RGVmL2dldERpcmVjdGl2ZURlZi4gVGhpcyBsb2dpYyByZWxpZXMgb24gaW5oZXJpdGFuY2UuXG4gICAgICAgICAgICBzdXBlckRlZiA9IHN1cGVyVHlwZS5uZ0RpcmVjdGl2ZURlZjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZURlZiA9IHN1cGVyVHlwZS5uZ0Jhc2VEZWY7XG4gICAgICAgIC8vIFNvbWUgZmllbGRzIGluIHRoZSBkZWZpbml0aW9uIG1heSBiZSBlbXB0eSwgaWYgdGhlcmUgd2VyZSBubyB2YWx1ZXMgdG8gcHV0IGluIHRoZW0gdGhhdFxuICAgICAgICAvLyB3b3VsZCd2ZSBqdXN0aWZpZWQgb2JqZWN0IGNyZWF0aW9uLiBVbndyYXAgdGhlbSBpZiBuZWNlc3NhcnkuXG4gICAgICAgIGlmIChiYXNlRGVmIHx8IHN1cGVyRGVmKSB7XG4gICAgICAgICAgICB2YXIgd3JpdGVhYmxlRGVmID0gZGVmaW5pdGlvbjtcbiAgICAgICAgICAgIHdyaXRlYWJsZURlZi5pbnB1dHMgPSBtYXliZVVud3JhcEVtcHR5KGRlZmluaXRpb24uaW5wdXRzKTtcbiAgICAgICAgICAgIHdyaXRlYWJsZURlZi5kZWNsYXJlZElucHV0cyA9IG1heWJlVW53cmFwRW1wdHkoZGVmaW5pdGlvbi5kZWNsYXJlZElucHV0cyk7XG4gICAgICAgICAgICB3cml0ZWFibGVEZWYub3V0cHV0cyA9IG1heWJlVW53cmFwRW1wdHkoZGVmaW5pdGlvbi5vdXRwdXRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFzZURlZikge1xuICAgICAgICAgICAgLy8gTWVyZ2UgaW5wdXRzIGFuZCBvdXRwdXRzXG4gICAgICAgICAgICBmaWxsUHJvcGVydGllcyhkZWZpbml0aW9uLmlucHV0cywgYmFzZURlZi5pbnB1dHMpO1xuICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5kZWNsYXJlZElucHV0cywgYmFzZURlZi5kZWNsYXJlZElucHV0cyk7XG4gICAgICAgICAgICBmaWxsUHJvcGVydGllcyhkZWZpbml0aW9uLm91dHB1dHMsIGJhc2VEZWYub3V0cHV0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1cGVyRGVmKSB7XG4gICAgICAgICAgICAvLyBNZXJnZSBob3N0QmluZGluZ3NcbiAgICAgICAgICAgIHZhciBwcmV2SG9zdEJpbmRpbmdzXzEgPSBkZWZpbml0aW9uLmhvc3RCaW5kaW5ncztcbiAgICAgICAgICAgIHZhciBzdXBlckhvc3RCaW5kaW5nc18xID0gc3VwZXJEZWYuaG9zdEJpbmRpbmdzO1xuICAgICAgICAgICAgaWYgKHN1cGVySG9zdEJpbmRpbmdzXzEpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldkhvc3RCaW5kaW5nc18xKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24uaG9zdEJpbmRpbmdzID0gZnVuY3Rpb24gKHJmLCBjdHgsIGVsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VwZXJIb3N0QmluZGluZ3NfMShyZiwgY3R4LCBlbGVtZW50SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkhvc3RCaW5kaW5nc18xKHJmLCBjdHgsIGVsZW1lbnRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmhvc3RCaW5kaW5ncyA9IHN1cGVySG9zdEJpbmRpbmdzXzE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWVyZ2UgVmlldyBRdWVyaWVzXG4gICAgICAgICAgICBpZiAoaXNDb21wb25lbnREZWYkMShkZWZpbml0aW9uKSAmJiBpc0NvbXBvbmVudERlZiQxKHN1cGVyRGVmKSkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2Vmlld1F1ZXJ5XzEgPSBkZWZpbml0aW9uLnZpZXdRdWVyeTtcbiAgICAgICAgICAgICAgICB2YXIgc3VwZXJWaWV3UXVlcnlfMSA9IHN1cGVyRGVmLnZpZXdRdWVyeTtcbiAgICAgICAgICAgICAgICBpZiAoc3VwZXJWaWV3UXVlcnlfMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldlZpZXdRdWVyeV8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uLnZpZXdRdWVyeSA9IGZ1bmN0aW9uIChyZiwgY3R4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwZXJWaWV3UXVlcnlfMShyZiwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2Vmlld1F1ZXJ5XzEocmYsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbi52aWV3UXVlcnkgPSBzdXBlclZpZXdRdWVyeV8xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWVyZ2UgQ29udGVudCBRdWVyaWVzXG4gICAgICAgICAgICB2YXIgcHJldkNvbnRlbnRRdWVyaWVzXzEgPSBkZWZpbml0aW9uLmNvbnRlbnRRdWVyaWVzO1xuICAgICAgICAgICAgdmFyIHN1cGVyQ29udGVudFF1ZXJpZXNfMSA9IHN1cGVyRGVmLmNvbnRlbnRRdWVyaWVzO1xuICAgICAgICAgICAgaWYgKHN1cGVyQ29udGVudFF1ZXJpZXNfMSkge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2Q29udGVudFF1ZXJpZXNfMSkge1xuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmNvbnRlbnRRdWVyaWVzID0gZnVuY3Rpb24gKGRpckluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdXBlckNvbnRlbnRRdWVyaWVzXzEoZGlySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkNvbnRlbnRRdWVyaWVzXzEoZGlySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5jb250ZW50UXVlcmllcyA9IHN1cGVyQ29udGVudFF1ZXJpZXNfMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNZXJnZSBDb250ZW50IFF1ZXJpZXMgUmVmcmVzaFxuICAgICAgICAgICAgdmFyIHByZXZDb250ZW50UXVlcmllc1JlZnJlc2hfMSA9IGRlZmluaXRpb24uY29udGVudFF1ZXJpZXNSZWZyZXNoO1xuICAgICAgICAgICAgdmFyIHN1cGVyQ29udGVudFF1ZXJpZXNSZWZyZXNoXzEgPSBzdXBlckRlZi5jb250ZW50UXVlcmllc1JlZnJlc2g7XG4gICAgICAgICAgICBpZiAoc3VwZXJDb250ZW50UXVlcmllc1JlZnJlc2hfMSkge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2Q29udGVudFF1ZXJpZXNSZWZyZXNoXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5jb250ZW50UXVlcmllc1JlZnJlc2ggPSBmdW5jdGlvbiAoZGlyZWN0aXZlSW5kZXgsIHF1ZXJ5SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyQ29udGVudFF1ZXJpZXNSZWZyZXNoXzEoZGlyZWN0aXZlSW5kZXgsIHF1ZXJ5SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkNvbnRlbnRRdWVyaWVzUmVmcmVzaF8xKGRpcmVjdGl2ZUluZGV4LCBxdWVyeUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24uY29udGVudFF1ZXJpZXNSZWZyZXNoID0gc3VwZXJDb250ZW50UXVlcmllc1JlZnJlc2hfMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNZXJnZSBpbnB1dHMgYW5kIG91dHB1dHNcbiAgICAgICAgICAgIGZpbGxQcm9wZXJ0aWVzKGRlZmluaXRpb24uaW5wdXRzLCBzdXBlckRlZi5pbnB1dHMpO1xuICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5kZWNsYXJlZElucHV0cywgc3VwZXJEZWYuZGVjbGFyZWRJbnB1dHMpO1xuICAgICAgICAgICAgZmlsbFByb3BlcnRpZXMoZGVmaW5pdGlvbi5vdXRwdXRzLCBzdXBlckRlZi5vdXRwdXRzKTtcbiAgICAgICAgICAgIC8vIEluaGVyaXQgaG9va3NcbiAgICAgICAgICAgIC8vIEFzc3VtZSBzdXBlciBjbGFzcyBpbmhlcml0YW5jZSBmZWF0dXJlIGhhcyBhbHJlYWR5IHJ1bi5cbiAgICAgICAgICAgIGRlZmluaXRpb24uYWZ0ZXJDb250ZW50Q2hlY2tlZCA9XG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbi5hZnRlckNvbnRlbnRDaGVja2VkIHx8IHN1cGVyRGVmLmFmdGVyQ29udGVudENoZWNrZWQ7XG4gICAgICAgICAgICBkZWZpbml0aW9uLmFmdGVyQ29udGVudEluaXQgPSBkZWZpbml0aW9uLmFmdGVyQ29udGVudEluaXQgfHwgc3VwZXJEZWYuYWZ0ZXJDb250ZW50SW5pdDtcbiAgICAgICAgICAgIGRlZmluaXRpb24uYWZ0ZXJWaWV3Q2hlY2tlZCA9IGRlZmluaXRpb24uYWZ0ZXJWaWV3Q2hlY2tlZCB8fCBzdXBlckRlZi5hZnRlclZpZXdDaGVja2VkO1xuICAgICAgICAgICAgZGVmaW5pdGlvbi5hZnRlclZpZXdJbml0ID0gZGVmaW5pdGlvbi5hZnRlclZpZXdJbml0IHx8IHN1cGVyRGVmLmFmdGVyVmlld0luaXQ7XG4gICAgICAgICAgICBkZWZpbml0aW9uLmRvQ2hlY2sgPSBkZWZpbml0aW9uLmRvQ2hlY2sgfHwgc3VwZXJEZWYuZG9DaGVjaztcbiAgICAgICAgICAgIGRlZmluaXRpb24ub25EZXN0cm95ID0gZGVmaW5pdGlvbi5vbkRlc3Ryb3kgfHwgc3VwZXJEZWYub25EZXN0cm95O1xuICAgICAgICAgICAgZGVmaW5pdGlvbi5vbkluaXQgPSBkZWZpbml0aW9uLm9uSW5pdCB8fCBzdXBlckRlZi5vbkluaXQ7XG4gICAgICAgICAgICAvLyBSdW4gcGFyZW50IGZlYXR1cmVzXG4gICAgICAgICAgICB2YXIgZmVhdHVyZXMgPSBzdXBlckRlZi5mZWF0dXJlcztcbiAgICAgICAgICAgIGlmIChmZWF0dXJlcykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGZlYXR1cmVzXzEgPSBfX3ZhbHVlcyhmZWF0dXJlcyksIGZlYXR1cmVzXzFfMSA9IGZlYXR1cmVzXzEubmV4dCgpOyAhZmVhdHVyZXNfMV8xLmRvbmU7IGZlYXR1cmVzXzFfMSA9IGZlYXR1cmVzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmVhdHVyZSA9IGZlYXR1cmVzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlICYmIGZlYXR1cmUubmdJbmhlcml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZShkZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVzXzFfMSAmJiAhZmVhdHVyZXNfMV8xLmRvbmUgJiYgKF9hID0gZmVhdHVyZXNfMS5yZXR1cm4pKSBfYS5jYWxsKGZlYXR1cmVzXzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJicmVha1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRXZlbiBpZiB3ZSBkb24ndCBoYXZlIGEgZGVmaW5pdGlvbiwgY2hlY2sgdGhlIHR5cGUgZm9yIHRoZSBob29rcyBhbmQgdXNlIHRob3NlIGlmIG5lZWQgYmVcbiAgICAgICAgICAgIHZhciBzdXBlclByb3RvdHlwZSA9IHN1cGVyVHlwZS5wcm90b3R5cGU7XG4gICAgICAgICAgICBpZiAoc3VwZXJQcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmFmdGVyQ29udGVudENoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmFmdGVyQ29udGVudENoZWNrZWQgfHwgc3VwZXJQcm90b3R5cGUuYWZ0ZXJDb250ZW50Q2hlY2tlZDtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmFmdGVyQ29udGVudEluaXQgPVxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmFmdGVyQ29udGVudEluaXQgfHwgc3VwZXJQcm90b3R5cGUuYWZ0ZXJDb250ZW50SW5pdDtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmFmdGVyVmlld0NoZWNrZWQgPVxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmFmdGVyVmlld0NoZWNrZWQgfHwgc3VwZXJQcm90b3R5cGUuYWZ0ZXJWaWV3Q2hlY2tlZDtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmFmdGVyVmlld0luaXQgPSBkZWZpbml0aW9uLmFmdGVyVmlld0luaXQgfHwgc3VwZXJQcm90b3R5cGUuYWZ0ZXJWaWV3SW5pdDtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uLmRvQ2hlY2sgPSBkZWZpbml0aW9uLmRvQ2hlY2sgfHwgc3VwZXJQcm90b3R5cGUuZG9DaGVjaztcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uLm9uRGVzdHJveSA9IGRlZmluaXRpb24ub25EZXN0cm95IHx8IHN1cGVyUHJvdG90eXBlLm9uRGVzdHJveTtcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uLm9uSW5pdCA9IGRlZmluaXRpb24ub25Jbml0IHx8IHN1cGVyUHJvdG90eXBlLm9uSW5pdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdXBlclR5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc3VwZXJUeXBlKTtcbiAgICB9O1xuICAgIHdoaWxlIChzdXBlclR5cGUpIHtcbiAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8xKCk7XG4gICAgICAgIGlmIChzdGF0ZV8xID09PSBcImJyZWFrXCIpXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5mdW5jdGlvbiBtYXliZVVud3JhcEVtcHR5KHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBFTVBUWV9PQkopIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSA9PT0gRU1QVFlfQVJSQVkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIFBSSVZBVEVfUFJFRklYID0gJ19fbmdPbkNoYW5nZXNfJztcbi8qKlxuICogVGhlIE5nT25DaGFuZ2VzRmVhdHVyZSBkZWNvcmF0ZXMgYSBjb21wb25lbnQgd2l0aCBzdXBwb3J0IGZvciB0aGUgbmdPbkNoYW5nZXNcbiAqIGxpZmVjeWNsZSBob29rLCBzbyBpdCBzaG91bGQgYmUgaW5jbHVkZWQgaW4gYW55IGNvbXBvbmVudCB0aGF0IGltcGxlbWVudHNcbiAqIHRoYXQgaG9vay5cbiAqXG4gKiBJZiB0aGUgY29tcG9uZW50IG9yIGRpcmVjdGl2ZSB1c2VzIGluaGVyaXRhbmNlLCB0aGUgTmdPbkNoYW5nZXNGZWF0dXJlIE1VU1RcbiAqIGJlIGluY2x1ZGVkIGFzIGEgZmVhdHVyZSBBRlRFUiB7QGxpbmsgSW5oZXJpdERlZmluaXRpb25GZWF0dXJlfSwgb3RoZXJ3aXNlXG4gKiBpbmhlcml0ZWQgcHJvcGVydGllcyB3aWxsIG5vdCBiZSBwcm9wYWdhdGVkIHRvIHRoZSBuZ09uQ2hhbmdlcyBsaWZlY3ljbGVcbiAqIGhvb2suXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqXG4gKiBgYGBcbiAqIHN0YXRpYyBuZ0NvbXBvbmVudERlZiA9IGRlZmluZUNvbXBvbmVudCh7XG4gKiAgIC4uLlxuICogICBpbnB1dHM6IHtuYW1lOiAncHVibGljTmFtZSd9LFxuICogICBmZWF0dXJlczogW05nT25DaGFuZ2VzRmVhdHVyZV1cbiAqIH0pO1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIE5nT25DaGFuZ2VzRmVhdHVyZShkZWZpbml0aW9uKSB7XG4gICAgdmFyIHB1YmxpY1RvRGVjbGFyZWRJbnB1dHMgPSBkZWZpbml0aW9uLmRlY2xhcmVkSW5wdXRzO1xuICAgIHZhciBwdWJsaWNUb01pbmlmaWVkSW5wdXRzID0gZGVmaW5pdGlvbi5pbnB1dHM7XG4gICAgdmFyIHByb3RvID0gZGVmaW5pdGlvbi50eXBlLnByb3RvdHlwZTtcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChwdWJsaWNOYW1lKSB7XG4gICAgICAgIGlmIChwdWJsaWNUb0RlY2xhcmVkSW5wdXRzLmhhc093blByb3BlcnR5KHB1YmxpY05hbWUpKSB7XG4gICAgICAgICAgICB2YXIgbWluaWZpZWRLZXkgPSBwdWJsaWNUb01pbmlmaWVkSW5wdXRzW3B1YmxpY05hbWVdO1xuICAgICAgICAgICAgdmFyIGRlY2xhcmVkS2V5XzEgPSBwdWJsaWNUb0RlY2xhcmVkSW5wdXRzW3B1YmxpY05hbWVdO1xuICAgICAgICAgICAgdmFyIHByaXZhdGVNaW5LZXlfMSA9IFBSSVZBVEVfUFJFRklYICsgbWluaWZpZWRLZXk7XG4gICAgICAgICAgICAvLyBXYWxrIHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gc2VlIGlmIHdlIGZpbmQgYSBwcm9wZXJ0eSBkZXNjcmlwdG9yXG4gICAgICAgICAgICAvLyBUaGF0IHdheSB3ZSBjYW4gaG9ub3Igc2V0dGVycyBhbmQgZ2V0dGVycyB0aGF0IHdlcmUgaW5oZXJpdGVkLlxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsUHJvcGVydHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgY2hlY2tQcm90byA9IHByb3RvO1xuICAgICAgICAgICAgd2hpbGUgKCFvcmlnaW5hbFByb3BlcnR5ICYmIGNoZWNrUHJvdG8gJiZcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2hlY2tQcm90bykgIT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmplY3QucHJvdG90eXBlKSkge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsUHJvcGVydHkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNoZWNrUHJvdG8sIG1pbmlmaWVkS2V5KTtcbiAgICAgICAgICAgICAgICBjaGVja1Byb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGNoZWNrUHJvdG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGdldHRlciA9IG9yaWdpbmFsUHJvcGVydHkgJiYgb3JpZ2luYWxQcm9wZXJ0eS5nZXQ7XG4gICAgICAgICAgICB2YXIgc2V0dGVyXzEgPSBvcmlnaW5hbFByb3BlcnR5ICYmIG9yaWdpbmFsUHJvcGVydHkuc2V0O1xuICAgICAgICAgICAgLy8gY3JlYXRlIGEgZ2V0dGVyIGFuZCBzZXR0ZXIgZm9yIHByb3BlcnR5XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG1pbmlmaWVkS2V5LCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBnZXR0ZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgKHNldHRlcl8xID8gdW5kZWZpbmVkIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpc1twcml2YXRlTWluS2V5XzFdOyB9KSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2ltcGxlQ2hhbmdlcyA9IHRoaXNbUFJJVkFURV9QUkVGSVhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNpbXBsZUNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbXBsZUNoYW5nZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBsYWNlIHdoZXJlIHdlIHdpbGwgc3RvcmUgU2ltcGxlQ2hhbmdlcyBpZiB0aGVyZSBpcyBhIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFBSSVZBVEVfUFJFRklYLCB7IHZhbHVlOiBzaW1wbGVDaGFuZ2VzLCB3cml0YWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNGaXJzdENoYW5nZSA9ICF0aGlzLmhhc093blByb3BlcnR5KHByaXZhdGVNaW5LZXlfMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50Q2hhbmdlID0gc2ltcGxlQ2hhbmdlc1tkZWNsYXJlZEtleV8xXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDaGFuZ2UuY3VycmVudFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaW1wbGVDaGFuZ2VzW2RlY2xhcmVkS2V5XzFdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgU2ltcGxlQ2hhbmdlKHRoaXNbcHJpdmF0ZU1pbktleV8xXSwgdmFsdWUsIGlzRmlyc3RDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0ZpcnN0Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBwbGFjZSB3aGVyZSB0aGUgYWN0dWFsIHZhbHVlIHdpbGwgYmUgc3RvcmVkIGFuZCBtYWtlIGl0IG5vbi1lbnVtZXJhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgcHJpdmF0ZU1pbktleV8xLCB7IHZhbHVlOiB2YWx1ZSwgd3JpdGFibGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3ByaXZhdGVNaW5LZXlfMV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGVyXzEpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0ZXJfMS5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZvciAodmFyIHB1YmxpY05hbWUgaW4gcHVibGljVG9EZWNsYXJlZElucHV0cykge1xuICAgICAgICBfbG9vcF8xKHB1YmxpY05hbWUpO1xuICAgIH1cbiAgICAvLyBJZiBhbiBvbkluaXQgaG9vayBpcyBkZWZpbmVkLCBpdCB3aWxsIG5lZWQgdG8gd3JhcCB0aGUgbmdPbkNoYW5nZXMgY2FsbFxuICAgIC8vIHNvIHRoZSBjYWxsIG9yZGVyIGlzIGNoYW5nZXMtaW5pdC1jaGVjayBpbiBjcmVhdGlvbiBtb2RlLiBJbiBzdWJzZXF1ZW50XG4gICAgLy8gY2hhbmdlIGRldGVjdGlvbiBydW5zLCBvbmx5IHRoZSBjaGVjayB3cmFwcGVyIHdpbGwgYmUgY2FsbGVkLlxuICAgIGlmIChkZWZpbml0aW9uLm9uSW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGRlZmluaXRpb24ub25Jbml0ID0gb25DaGFuZ2VzV3JhcHBlcihkZWZpbml0aW9uLm9uSW5pdCk7XG4gICAgfVxuICAgIGRlZmluaXRpb24uZG9DaGVjayA9IG9uQ2hhbmdlc1dyYXBwZXIoZGVmaW5pdGlvbi5kb0NoZWNrKTtcbn1cbi8vIFRoaXMgb3B0aW9uIGVuc3VyZXMgdGhhdCB0aGUgbmdPbkNoYW5nZXMgbGlmZWN5Y2xlIGhvb2sgd2lsbCBiZSBpbmhlcml0ZWRcbi8vIGZyb20gc3VwZXJjbGFzc2VzIChpbiBJbmhlcml0RGVmaW5pdGlvbkZlYXR1cmUpLlxuTmdPbkNoYW5nZXNGZWF0dXJlLm5nSW5oZXJpdCA9IHRydWU7XG5mdW5jdGlvbiBvbkNoYW5nZXNXcmFwcGVyKGRlbGVnYXRlSG9vaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaW1wbGVDaGFuZ2VzID0gdGhpc1tQUklWQVRFX1BSRUZJWF07XG4gICAgICAgIGlmIChzaW1wbGVDaGFuZ2VzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubmdPbkNoYW5nZXMoc2ltcGxlQ2hhbmdlcyk7XG4gICAgICAgICAgICB0aGlzW1BSSVZBVEVfUFJFRklYXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGVnYXRlSG9vaylcbiAgICAgICAgICAgIGRlbGVnYXRlSG9vay5hcHBseSh0aGlzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBub29wKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICAvLyBEbyBub3RoaW5nLlxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgU09VUkNFID0gJ19fc291cmNlJztcbnZhciBfVEhST1dfSUZfTk9UX0ZPVU5EID0gbmV3IE9iamVjdCgpO1xudmFyIFRIUk9XX0lGX05PVF9GT1VORCA9IF9USFJPV19JRl9OT1RfRk9VTkQ7XG4vKipcbiAqIEFuIEluamVjdGlvblRva2VuIHRoYXQgZ2V0cyB0aGUgY3VycmVudCBgSW5qZWN0b3JgIGZvciBgY3JlYXRlSW5qZWN0b3IoKWAtc3R5bGUgaW5qZWN0b3JzLlxuICpcbiAqIFJlcXVlc3RpbmcgdGhpcyB0b2tlbiBpbnN0ZWFkIG9mIGBJbmplY3RvcmAgYWxsb3dzIGBTdGF0aWNJbmplY3RvcmAgdG8gYmUgdHJlZS1zaGFrZW4gZnJvbSBhXG4gKiBwcm9qZWN0LlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIElOSkVDVE9SJDEgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0lOSkVDVE9SJyk7XG52YXIgTnVsbEluamVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE51bGxJbmplY3RvcigpIHtcbiAgICB9XG4gICAgTnVsbEluamVjdG9yLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodG9rZW4sIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKG5vdEZvdW5kVmFsdWUgPT09IHZvaWQgMCkgeyBub3RGb3VuZFZhbHVlID0gX1RIUk9XX0lGX05PVF9GT1VORDsgfVxuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSA9PT0gX1RIUk9XX0lGX05PVF9GT1VORCkge1xuICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSBsZWZ0IGJlaGluZDogV2l0aCBkZXYgdG9vbHMgb3BlbiB0aGUgZGVidWdnZXIgd2lsbCBzdG9wIGhlcmUuIFRoZXJlIGlzIG5vXG4gICAgICAgICAgICAvLyByZWFzb24gd2h5IGNvcnJlY3RseSB3cml0dGVuIGFwcGxpY2F0aW9uIHNob3VsZCBjYXVzZSB0aGlzIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgIC8vIFRPRE8obWlza28pOiB1bmNvbW1lbnQgdGhlIG5leHQgbGluZSBvbmNlIGBuZ0Rldk1vZGVgIHdvcmtzIHdpdGggY2xvc3VyZS5cbiAgICAgICAgICAgIC8vIGlmKG5nRGV2TW9kZSkgZGVidWdnZXI7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOdWxsSW5qZWN0b3JFcnJvcjogTm8gcHJvdmlkZXIgZm9yIFwiICsgc3RyaW5naWZ5KHRva2VuKSArIFwiIVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiBOdWxsSW5qZWN0b3I7XG59KCkpO1xuLyoqXG4gKiBDb25jcmV0ZSBpbmplY3RvcnMgaW1wbGVtZW50IHRoaXMgaW50ZXJmYWNlLlxuICpcbiAqIEZvciBtb3JlIGRldGFpbHMsIHNlZSB0aGUgW1wiRGVwZW5kZW5jeSBJbmplY3Rpb24gR3VpZGVcIl0oZ3VpZGUvZGVwZW5kZW5jeS1pbmplY3Rpb24pLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIHtAZXhhbXBsZSBjb3JlL2RpL3RzL2luamVjdG9yX3NwZWMudHMgcmVnaW9uPSdJbmplY3Rvcid9XG4gKlxuICogYEluamVjdG9yYCByZXR1cm5zIGl0c2VsZiB3aGVuIGdpdmVuIGBJbmplY3RvcmAgYXMgYSB0b2tlbjpcbiAqXG4gKiB7QGV4YW1wbGUgY29yZS9kaS90cy9pbmplY3Rvcl9zcGVjLnRzIHJlZ2lvbj0naW5qZWN0SW5qZWN0b3InfVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEluamVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEluamVjdG9yKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgSW5qZWN0b3Igd2hpY2ggaXMgY29uZmlndXJlIHVzaW5nIGBTdGF0aWNQcm92aWRlcmBzLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICoge0BleGFtcGxlIGNvcmUvZGkvdHMvcHJvdmlkZXJfc3BlYy50cyByZWdpb249J0NvbnN0cnVjdG9yUHJvdmlkZXInfVxuICAgICAqL1xuICAgIEluamVjdG9yLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RhdGljSW5qZWN0b3Iob3B0aW9ucywgcGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RhdGljSW5qZWN0b3Iob3B0aW9ucy5wcm92aWRlcnMsIG9wdGlvbnMucGFyZW50LCBvcHRpb25zLm5hbWUgfHwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEluamVjdG9yLlRIUk9XX0lGX05PVF9GT1VORCA9IF9USFJPV19JRl9OT1RfRk9VTkQ7XG4gICAgSW5qZWN0b3IuTlVMTCA9IG5ldyBOdWxsSW5qZWN0b3IoKTtcbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBJbmplY3Rvci5uZ0luamVjdGFibGVEZWYgPSBkZWZpbmVJbmplY3RhYmxlKHtcbiAgICAgICAgcHJvdmlkZWRJbjogJ2FueScsXG4gICAgICAgIGZhY3Rvcnk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGluamVjdChJTkpFQ1RPUiQxKTsgfSxcbiAgICB9KTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgSW5qZWN0b3IuX19OR19FTEVNRU5UX0lEX18gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBTV0lUQ0hfSU5KRUNUT1JfRkFDVE9SWSgpOyB9O1xuICAgIHJldHVybiBJbmplY3Rvcjtcbn0oKSk7XG52YXIgU1dJVENIX0lOSkVDVE9SX0ZBQ1RPUllfX1BPU1RfUjNfXyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaW5qZWN0SW5qZWN0b3IoKTtcbn07XG52YXIgU1dJVENIX0lOSkVDVE9SX0ZBQ1RPUllfX1BSRV9SM19fID0gbm9vcDtcbnZhciBTV0lUQ0hfSU5KRUNUT1JfRkFDVE9SWSA9IFNXSVRDSF9JTkpFQ1RPUl9GQUNUT1JZX19QUkVfUjNfXztcbnZhciBJREVOVCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG52YXIgRU1QVFkgPSBbXTtcbnZhciBDSVJDVUxBUiA9IElERU5UO1xudmFyIE1VTFRJX1BST1ZJREVSX0ZOID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xufTtcbnZhciBVU0VfVkFMVUUgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgcHJvdmlkZTogU3RyaW5nLCB1c2VWYWx1ZTogZ2V0Q2xvc3VyZVNhZmVQcm9wZXJ0eSB9KTtcbnZhciBOR19UT0tFTl9QQVRIID0gJ25nVG9rZW5QYXRoJztcbnZhciBOR19URU1QX1RPS0VOX1BBVEggPSAnbmdUZW1wVG9rZW5QYXRoJztcbnZhciBOVUxMX0lOSkVDVE9SJDEgPSBJbmplY3Rvci5OVUxMO1xudmFyIE5FV19MSU5FID0gL1xcbi9nbTtcbnZhciBOT19ORVdfTElORSA9ICfJtSc7XG52YXIgU3RhdGljSW5qZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGljSW5qZWN0b3IocHJvdmlkZXJzLCBwYXJlbnQsIHNvdXJjZSkge1xuICAgICAgICBpZiAocGFyZW50ID09PSB2b2lkIDApIHsgcGFyZW50ID0gTlVMTF9JTkpFQ1RPUiQxOyB9XG4gICAgICAgIGlmIChzb3VyY2UgPT09IHZvaWQgMCkgeyBzb3VyY2UgPSBudWxsOyB9XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdmFyIHJlY29yZHMgPSB0aGlzLl9yZWNvcmRzID0gbmV3IE1hcCgpO1xuICAgICAgICByZWNvcmRzLnNldChJbmplY3RvciwgeyB0b2tlbjogSW5qZWN0b3IsIGZuOiBJREVOVCwgZGVwczogRU1QVFksIHZhbHVlOiB0aGlzLCB1c2VOZXc6IGZhbHNlIH0pO1xuICAgICAgICByZWNvcmRzLnNldChJTkpFQ1RPUiQxLCB7IHRva2VuOiBJTkpFQ1RPUiQxLCBmbjogSURFTlQsIGRlcHM6IEVNUFRZLCB2YWx1ZTogdGhpcywgdXNlTmV3OiBmYWxzZSB9KTtcbiAgICAgICAgcmVjdXJzaXZlbHlQcm9jZXNzUHJvdmlkZXJzKHJlY29yZHMsIHByb3ZpZGVycyk7XG4gICAgfVxuICAgIFN0YXRpY0luamVjdG9yLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGlmIChmbGFncyA9PT0gdm9pZCAwKSB7IGZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdDsgfVxuICAgICAgICB2YXIgcmVjb3JkID0gdGhpcy5fcmVjb3Jkcy5nZXQodG9rZW4pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRyeVJlc29sdmVUb2tlbih0b2tlbiwgcmVjb3JkLCB0aGlzLl9yZWNvcmRzLCB0aGlzLnBhcmVudCwgbm90Rm91bmRWYWx1ZSwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5QYXRoID0gZVtOR19URU1QX1RPS0VOX1BBVEhdO1xuICAgICAgICAgICAgaWYgKHRva2VuW1NPVVJDRV0pIHtcbiAgICAgICAgICAgICAgICB0b2tlblBhdGgudW5zaGlmdCh0b2tlbltTT1VSQ0VdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUubWVzc2FnZSA9IGZvcm1hdEVycm9yKCdcXG4nICsgZS5tZXNzYWdlLCB0b2tlblBhdGgsIHRoaXMuc291cmNlKTtcbiAgICAgICAgICAgIGVbTkdfVE9LRU5fUEFUSF0gPSB0b2tlblBhdGg7XG4gICAgICAgICAgICBlW05HX1RFTVBfVE9LRU5fUEFUSF0gPSBudWxsO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RhdGljSW5qZWN0b3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9rZW5zID0gW10sIHJlY29yZHMgPSB0aGlzLl9yZWNvcmRzO1xuICAgICAgICByZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKHYsIHRva2VuKSB7IHJldHVybiB0b2tlbnMucHVzaChzdHJpbmdpZnkodG9rZW4pKTsgfSk7XG4gICAgICAgIHJldHVybiBcIlN0YXRpY0luamVjdG9yW1wiICsgdG9rZW5zLmpvaW4oJywgJykgKyBcIl1cIjtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0aWNJbmplY3Rvcjtcbn0oKSk7XG5mdW5jdGlvbiByZXNvbHZlUHJvdmlkZXIocHJvdmlkZXIpIHtcbiAgICB2YXIgZGVwcyA9IGNvbXB1dGVEZXBzKHByb3ZpZGVyKTtcbiAgICB2YXIgZm4gPSBJREVOVDtcbiAgICB2YXIgdmFsdWUgPSBFTVBUWTtcbiAgICB2YXIgdXNlTmV3ID0gZmFsc2U7XG4gICAgdmFyIHByb3ZpZGUgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci5wcm92aWRlKTtcbiAgICBpZiAoVVNFX1ZBTFVFIGluIHByb3ZpZGVyKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdXNlIFVTRV9WQUxVRSBpbiBwcm92aWRlciBzaW5jZSBwcm92aWRlci51c2VWYWx1ZSBjb3VsZCBiZSBkZWZpbmVkIGFzIHVuZGVmaW5lZC5cbiAgICAgICAgdmFsdWUgPSBwcm92aWRlci51c2VWYWx1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvdmlkZXIudXNlRmFjdG9yeSkge1xuICAgICAgICBmbiA9IHByb3ZpZGVyLnVzZUZhY3Rvcnk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3ZpZGVyLnVzZUV4aXN0aW5nKSA7XG4gICAgZWxzZSBpZiAocHJvdmlkZXIudXNlQ2xhc3MpIHtcbiAgICAgICAgdXNlTmV3ID0gdHJ1ZTtcbiAgICAgICAgZm4gPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlci51c2VDbGFzcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwcm92aWRlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdXNlTmV3ID0gdHJ1ZTtcbiAgICAgICAgZm4gPSBwcm92aWRlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgc3RhdGljRXJyb3IoJ1N0YXRpY1Byb3ZpZGVyIGRvZXMgbm90IGhhdmUgW3VzZVZhbHVlfHVzZUZhY3Rvcnl8dXNlRXhpc3Rpbmd8dXNlQ2xhc3NdIG9yIFtwcm92aWRlXSBpcyBub3QgbmV3YWJsZScsIHByb3ZpZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZGVwczogZGVwcywgZm46IGZuLCB1c2VOZXc6IHVzZU5ldywgdmFsdWU6IHZhbHVlIH07XG59XG5mdW5jdGlvbiBtdWx0aVByb3ZpZGVyTWl4RXJyb3IodG9rZW4pIHtcbiAgICByZXR1cm4gc3RhdGljRXJyb3IoJ0Nhbm5vdCBtaXggbXVsdGkgcHJvdmlkZXJzIGFuZCByZWd1bGFyIHByb3ZpZGVycycsIHRva2VuKTtcbn1cbmZ1bmN0aW9uIHJlY3Vyc2l2ZWx5UHJvY2Vzc1Byb3ZpZGVycyhyZWNvcmRzLCBwcm92aWRlcikge1xuICAgIGlmIChwcm92aWRlcikge1xuICAgICAgICBwcm92aWRlciA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyKTtcbiAgICAgICAgaWYgKHByb3ZpZGVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYW4gYXJyYXkgcmVjdXJzZSBpbnRvIHRoZSBhcnJheVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm92aWRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5UHJvY2Vzc1Byb3ZpZGVycyhyZWNvcmRzLCBwcm92aWRlcltpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHByb3ZpZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBGdW5jdGlvbnMgd2VyZSBzdXBwb3J0ZWQgaW4gUmVmbGVjdGl2ZUluamVjdG9yLCBidXQgYXJlIG5vdCBoZXJlLiBGb3Igc2FmZXR5IGdpdmUgdXNlZnVsXG4gICAgICAgICAgICAvLyBlcnJvciBtZXNzYWdlc1xuICAgICAgICAgICAgdGhyb3cgc3RhdGljRXJyb3IoJ0Z1bmN0aW9uL0NsYXNzIG5vdCBzdXBwb3J0ZWQnLCBwcm92aWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvdmlkZXIgJiYgdHlwZW9mIHByb3ZpZGVyID09PSAnb2JqZWN0JyAmJiBwcm92aWRlci5wcm92aWRlKSB7XG4gICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHdlIGhhdmUgd2hhdCBsb29rcyBsaWtlIGEgcHJvdmlkZXI6IHtwcm92aWRlOiA/LCAuLi4ufVxuICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIucHJvdmlkZSk7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZWRQcm92aWRlciA9IHJlc29sdmVQcm92aWRlcihwcm92aWRlcik7XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbXVsdGkgcHJvdmlkZXIuXG4gICAgICAgICAgICAgICAgdmFyIG11bHRpUHJvdmlkZXIgPSByZWNvcmRzLmdldCh0b2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKG11bHRpUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpUHJvdmlkZXIuZm4gIT09IE1VTFRJX1BST1ZJREVSX0ZOKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBtdWx0aVByb3ZpZGVyTWl4RXJyb3IodG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBwbGFjZWhvbGRlciBmYWN0b3J5IHdoaWNoIHdpbGwgbG9vayB1cCB0aGUgY29uc3RpdHVlbnRzIG9mIHRoZSBtdWx0aSBwcm92aWRlci5cbiAgICAgICAgICAgICAgICAgICAgcmVjb3Jkcy5zZXQodG9rZW4sIG11bHRpUHJvdmlkZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogcHJvdmlkZXIucHJvdmlkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlTmV3OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBNVUxUSV9QUk9WSURFUl9GTixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBFTVBUWVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVHJlYXQgdGhlIHByb3ZpZGVyIGFzIHRoZSB0b2tlbi5cbiAgICAgICAgICAgICAgICB0b2tlbiA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgICAgIG11bHRpUHJvdmlkZXIuZGVwcy5wdXNoKHsgdG9rZW46IHRva2VuLCBvcHRpb25zOiA2IC8qIERlZmF1bHQgKi8gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVjb3JkID0gcmVjb3Jkcy5nZXQodG9rZW4pO1xuICAgICAgICAgICAgaWYgKHJlY29yZCAmJiByZWNvcmQuZm4gPT0gTVVMVElfUFJPVklERVJfRk4pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtdWx0aVByb3ZpZGVyTWl4RXJyb3IodG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjb3Jkcy5zZXQodG9rZW4sIHJlc29sdmVkUHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgc3RhdGljRXJyb3IoJ1VuZXhwZWN0ZWQgcHJvdmlkZXInLCBwcm92aWRlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB0cnlSZXNvbHZlVG9rZW4odG9rZW4sIHJlY29yZCwgcmVjb3JkcywgcGFyZW50LCBub3RGb3VuZFZhbHVlLCBmbGFncykge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlVG9rZW4odG9rZW4sIHJlY29yZCwgcmVjb3JkcywgcGFyZW50LCBub3RGb3VuZFZhbHVlLCBmbGFncyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0ICdlJyBpcyBvZiB0eXBlIEVycm9yLlxuICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICAgICAgICBlID0gbmV3IEVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXRoID0gZVtOR19URU1QX1RPS0VOX1BBVEhdID0gZVtOR19URU1QX1RPS0VOX1BBVEhdIHx8IFtdO1xuICAgICAgICBwYXRoLnVuc2hpZnQodG9rZW4pO1xuICAgICAgICBpZiAocmVjb3JkICYmIHJlY29yZC52YWx1ZSA9PSBDSVJDVUxBUikge1xuICAgICAgICAgICAgLy8gUmVzZXQgdGhlIENpcmN1bGFyIGZsYWcuXG4gICAgICAgICAgICByZWNvcmQudmFsdWUgPSBFTVBUWTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVUb2tlbih0b2tlbiwgcmVjb3JkLCByZWNvcmRzLCBwYXJlbnQsIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciB2YWx1ZTtcbiAgICBpZiAocmVjb3JkICYmICEoZmxhZ3MgJiBJbmplY3RGbGFncy5Ta2lwU2VsZikpIHtcbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHJlY29yZCwgdGhpcyBpbXBsaWVzIHRoYXQgd2UgZG9uJ3Qgb3duIHRoZSBwcm92aWRlciBoZW5jZSBkb24ndCBrbm93IGhvd1xuICAgICAgICAvLyB0byByZXNvbHZlIGl0LlxuICAgICAgICB2YWx1ZSA9IHJlY29yZC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlID09IENJUkNVTEFSKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihOT19ORVdfTElORSArICdDaXJjdWxhciBkZXBlbmRlbmN5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IEVNUFRZKSB7XG4gICAgICAgICAgICByZWNvcmQudmFsdWUgPSBDSVJDVUxBUjtcbiAgICAgICAgICAgIHZhciBvYmogPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgdXNlTmV3ID0gcmVjb3JkLnVzZU5ldztcbiAgICAgICAgICAgIHZhciBmbiA9IHJlY29yZC5mbjtcbiAgICAgICAgICAgIHZhciBkZXBSZWNvcmRzID0gcmVjb3JkLmRlcHM7XG4gICAgICAgICAgICB2YXIgZGVwcyA9IEVNUFRZO1xuICAgICAgICAgICAgaWYgKGRlcFJlY29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZGVwcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwUmVjb3Jkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVwUmVjb3JkID0gZGVwUmVjb3Jkc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBkZXBSZWNvcmQub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkUmVjb3JkID0gb3B0aW9ucyAmIDIgLyogQ2hlY2tTZWxmICovID8gcmVjb3Jkcy5nZXQoZGVwUmVjb3JkLnRva2VuKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgZGVwcy5wdXNoKHRyeVJlc29sdmVUb2tlbihcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3VycmVudCBUb2tlbiB0byByZXNvbHZlXG4gICAgICAgICAgICAgICAgICAgIGRlcFJlY29yZC50b2tlbiwgXG4gICAgICAgICAgICAgICAgICAgIC8vIEEgcmVjb3JkIHdoaWNoIGRlc2NyaWJlcyBob3cgdG8gcmVzb2x2ZSB0aGUgdG9rZW4uXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHVuZGVmaW5lZCwgdGhpcyBtZWFucyB3ZSBkb24ndCBoYXZlIHN1Y2ggYSByZWNvcmRcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRSZWNvcmQsIFxuICAgICAgICAgICAgICAgICAgICAvLyBPdGhlciByZWNvcmRzIHdlIGtub3cgYWJvdXQuXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZHMsIFxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBrbm93IGhvdyB0byByZXNvbHZlIGRlcGVuZGVuY3kgYW5kIHdlIHNob3VsZCBub3QgY2hlY2sgcGFyZW50IGZvciBpdCxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhbiBwYXNzIGluIE51bGwgaW5qZWN0b3IuXG4gICAgICAgICAgICAgICAgICAgICFjaGlsZFJlY29yZCAmJiAhKG9wdGlvbnMgJiA0IC8qIENoZWNrUGFyZW50ICovKSA/IE5VTExfSU5KRUNUT1IkMSA6IHBhcmVudCwgb3B0aW9ucyAmIDEgLyogT3B0aW9uYWwgKi8gPyBudWxsIDogSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5ELCBJbmplY3RGbGFncy5EZWZhdWx0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjb3JkLnZhbHVlID0gdmFsdWUgPSB1c2VOZXcgPyBuZXcgKChfYSA9IGZuKS5iaW5kLmFwcGx5KF9hLCBfX3NwcmVhZChbdm9pZCAwXSwgZGVwcykpKSgpIDogZm4uYXBwbHkob2JqLCBkZXBzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICghKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2VsZikpIHtcbiAgICAgICAgdmFsdWUgPSBwYXJlbnQuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBJbmplY3RGbGFncy5EZWZhdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gY29tcHV0ZURlcHMocHJvdmlkZXIpIHtcbiAgICB2YXIgZGVwcyA9IEVNUFRZO1xuICAgIHZhciBwcm92aWRlckRlcHMgPSBwcm92aWRlci5kZXBzO1xuICAgIGlmIChwcm92aWRlckRlcHMgJiYgcHJvdmlkZXJEZXBzLmxlbmd0aCkge1xuICAgICAgICBkZXBzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvdmlkZXJEZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IDYgLyogRGVmYXVsdCAqLztcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyRGVwc1tpXSk7XG4gICAgICAgICAgICBpZiAodG9rZW4gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBhbm5vdGF0aW9ucyA9IHRva2VuOyBqIDwgYW5ub3RhdGlvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFubm90YXRpb24gPSBhbm5vdGF0aW9uc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFubm90YXRpb24gaW5zdGFuY2VvZiBPcHRpb25hbCB8fCBhbm5vdGF0aW9uID09IE9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8IDEgLyogT3B0aW9uYWwgKi87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYW5ub3RhdGlvbiBpbnN0YW5jZW9mIFNraXBTZWxmIHx8IGFubm90YXRpb24gPT0gU2tpcFNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zICYgfjIgLyogQ2hlY2tTZWxmICovO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFubm90YXRpb24gaW5zdGFuY2VvZiBTZWxmIHx8IGFubm90YXRpb24gPT0gU2VsZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgJiB+NCAvKiBDaGVja1BhcmVudCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhbm5vdGF0aW9uIGluc3RhbmNlb2YgSW5qZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGFubm90YXRpb24udG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHJlc29sdmVGb3J3YXJkUmVmKGFubm90YXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVwcy5wdXNoKHsgdG9rZW46IHRva2VuLCBvcHRpb25zOiBvcHRpb25zIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3ZpZGVyLnVzZUV4aXN0aW5nKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZUV4aXN0aW5nKTtcbiAgICAgICAgZGVwcyA9IFt7IHRva2VuOiB0b2tlbiwgb3B0aW9uczogNiAvKiBEZWZhdWx0ICovIH1dO1xuICAgIH1cbiAgICBlbHNlIGlmICghcHJvdmlkZXJEZXBzICYmICEoVVNFX1ZBTFVFIGluIHByb3ZpZGVyKSkge1xuICAgICAgICAvLyB1c2VWYWx1ZSAmIHVzZUV4aXN0aW5nIGFyZSB0aGUgb25seSBvbmVzIHdoaWNoIGFyZSBleGVtcHQgZnJvbSBkZXBzIGFsbCBvdGhlcnMgbmVlZCBpdC5cbiAgICAgICAgdGhyb3cgc3RhdGljRXJyb3IoJ1xcJ2RlcHNcXCcgcmVxdWlyZWQnLCBwcm92aWRlcik7XG4gICAgfVxuICAgIHJldHVybiBkZXBzO1xufVxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodGV4dCwgb2JqLCBzb3VyY2UpIHtcbiAgICBpZiAoc291cmNlID09PSB2b2lkIDApIHsgc291cmNlID0gbnVsbDsgfVxuICAgIHRleHQgPSB0ZXh0ICYmIHRleHQuY2hhckF0KDApID09PSAnXFxuJyAmJiB0ZXh0LmNoYXJBdCgxKSA9PSBOT19ORVdfTElORSA/IHRleHQuc3Vic3RyKDIpIDogdGV4dDtcbiAgICB2YXIgY29udGV4dCA9IHN0cmluZ2lmeShvYmopO1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBjb250ZXh0ID0gb2JqLm1hcChzdHJpbmdpZnkpLmpvaW4oJyAtPiAnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goa2V5ICsgJzonICsgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBzdHJpbmdpZnkodmFsdWUpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dCA9IFwie1wiICsgcGFydHMuam9pbignLCAnKSArIFwifVwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJTdGF0aWNJbmplY3RvckVycm9yXCIgKyAoc291cmNlID8gJygnICsgc291cmNlICsgJyknIDogJycpICsgXCJbXCIgKyBjb250ZXh0ICsgXCJdOiBcIiArIHRleHQucmVwbGFjZShORVdfTElORSwgJ1xcbiAgJyk7XG59XG5mdW5jdGlvbiBzdGF0aWNFcnJvcih0ZXh0LCBvYmopIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKGZvcm1hdEVycm9yKHRleHQsIG9iaikpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIGludGVybmFsIHRva2VuIHdob3NlIHByZXNlbmNlIGluIGFuIGluamVjdG9yIGluZGljYXRlcyB0aGF0IHRoZSBpbmplY3RvciBzaG91bGQgdHJlYXQgaXRzZWxmXG4gKiBhcyBhIHJvb3Qgc2NvcGVkIGluamVjdG9yIHdoZW4gcHJvY2Vzc2luZyByZXF1ZXN0cyBmb3IgdW5rbm93biB0b2tlbnMgd2hpY2ggbWF5IGluZGljYXRlXG4gKiB0aGV5IGFyZSBwcm92aWRlZCBpbiB0aGUgcm9vdCBzY29wZS5cbiAqL1xudmFyIEFQUF9ST09UID0gbmV3IEluamVjdGlvblRva2VuKCdUaGUgcHJlc2VuY2Ugb2YgdGhpcyB0b2tlbiBtYXJrcyBhbiBpbmplY3RvciBhcyBiZWluZyB0aGUgcm9vdCBpbmplY3Rvci4nKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBNYXJrZXIgd2hpY2ggaW5kaWNhdGVzIHRoYXQgYSB2YWx1ZSBoYXMgbm90IHlldCBiZWVuIGNyZWF0ZWQgZnJvbSB0aGUgZmFjdG9yeSBmdW5jdGlvbi5cbiAqL1xudmFyIE5PVF9ZRVQgPSB7fTtcbi8qKlxuICogTWFya2VyIHdoaWNoIGluZGljYXRlcyB0aGF0IHRoZSBmYWN0b3J5IGZ1bmN0aW9uIGZvciBhIHRva2VuIGlzIGluIHRoZSBwcm9jZXNzIG9mIGJlaW5nIGNhbGxlZC5cbiAqXG4gKiBJZiB0aGUgaW5qZWN0b3IgaXMgYXNrZWQgdG8gaW5qZWN0IGEgdG9rZW4gd2l0aCBpdHMgdmFsdWUgc2V0IHRvIENJUkNVTEFSLCB0aGF0IGluZGljYXRlc1xuICogaW5qZWN0aW9uIG9mIGEgZGVwZW5kZW5jeSBoYXMgcmVjdXJzaXZlbHkgYXR0ZW1wdGVkIHRvIGluamVjdCB0aGUgb3JpZ2luYWwgdG9rZW4sIGFuZCB0aGVyZSBpc1xuICogYSBjaXJjdWxhciBkZXBlbmRlbmN5IGFtb25nIHRoZSBwcm92aWRlcnMuXG4gKi9cbnZhciBDSVJDVUxBUiQxID0ge307XG52YXIgRU1QVFlfQVJSQVkkMSA9IFtdO1xuLyoqXG4gKiBBIGxhemlseSBpbml0aWFsaXplZCBOdWxsSW5qZWN0b3IuXG4gKi9cbnZhciBOVUxMX0lOSkVDVE9SJDIgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBnZXROdWxsSW5qZWN0b3IoKSB7XG4gICAgaWYgKE5VTExfSU5KRUNUT1IkMiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIE5VTExfSU5KRUNUT1IkMiA9IG5ldyBOdWxsSW5qZWN0b3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIE5VTExfSU5KRUNUT1IkMjtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGBJbmplY3RvcmAgd2hpY2ggaXMgY29uZmlndXJlZCB1c2luZyBhIGBkZWZUeXBlYCBvZiBgSW5qZWN0b3JUeXBlPGFueT5gcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdG9yKGRlZlR5cGUsIHBhcmVudCwgYWRkaXRpb25hbFByb3ZpZGVycykge1xuICAgIGlmIChwYXJlbnQgPT09IHZvaWQgMCkgeyBwYXJlbnQgPSBudWxsOyB9XG4gICAgaWYgKGFkZGl0aW9uYWxQcm92aWRlcnMgPT09IHZvaWQgMCkgeyBhZGRpdGlvbmFsUHJvdmlkZXJzID0gbnVsbDsgfVxuICAgIHBhcmVudCA9IHBhcmVudCB8fCBnZXROdWxsSW5qZWN0b3IoKTtcbiAgICByZXR1cm4gbmV3IFIzSW5qZWN0b3IoZGVmVHlwZSwgYWRkaXRpb25hbFByb3ZpZGVycywgcGFyZW50KTtcbn1cbnZhciBSM0luamVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFIzSW5qZWN0b3IoZGVmLCBhZGRpdGlvbmFsUHJvdmlkZXJzLCBwYXJlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2YgdG9rZW5zIHRvIHJlY29yZHMgd2hpY2ggY29udGFpbiB0aGUgaW5zdGFuY2VzIG9mIHRob3NlIHRva2Vucy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVjb3JkcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0cmFuc2l0aXZlIHNldCBvZiBgSW5qZWN0b3JUeXBlYHMgd2hpY2ggZGVmaW5lIHRoaXMgaW5qZWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluamVjdG9yRGVmVHlwZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgb2YgdmFsdWVzIGluc3RhbnRpYXRlZCBieSB0aGlzIGluamVjdG9yIHdoaWNoIGNvbnRhaW4gYG5nT25EZXN0cm95YCBsaWZlY3ljbGUgaG9va3MuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRGVzdHJveSA9IG5ldyBTZXQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaW5kaWNhdGluZyB0aGF0IHRoaXMgaW5qZWN0b3Igd2FzIHByZXZpb3VzbHkgZGVzdHJveWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gU3RhcnQgb2ZmIGJ5IGNyZWF0aW5nIFJlY29yZHMgZm9yIGV2ZXJ5IHByb3ZpZGVyIGRlY2xhcmVkIGluIGV2ZXJ5IEluamVjdG9yVHlwZVxuICAgICAgICAvLyBpbmNsdWRlZCB0cmFuc2l0aXZlbHkgaW4gYGRlZmAuXG4gICAgICAgIHZhciBkZWR1cFN0YWNrID0gW107XG4gICAgICAgIGRlZXBGb3JFYWNoKFtkZWZdLCBmdW5jdGlvbiAoaW5qZWN0b3JEZWYpIHsgcmV0dXJuIF90aGlzLnByb2Nlc3NJbmplY3RvclR5cGUoaW5qZWN0b3JEZWYsIFtdLCBkZWR1cFN0YWNrKTsgfSk7XG4gICAgICAgIGFkZGl0aW9uYWxQcm92aWRlcnMgJiYgZGVlcEZvckVhY2goYWRkaXRpb25hbFByb3ZpZGVycywgZnVuY3Rpb24gKHByb3ZpZGVyKSB7IHJldHVybiBfdGhpcy5wcm9jZXNzUHJvdmlkZXIocHJvdmlkZXIsIGRlZiwgYWRkaXRpb25hbFByb3ZpZGVycyk7IH0pO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIElOSkVDVE9SIHRva2VuIHByb3ZpZGVzIHRoaXMgaW5qZWN0b3IuXG4gICAgICAgIHRoaXMucmVjb3Jkcy5zZXQoSU5KRUNUT1IkMSwgbWFrZVJlY29yZCh1bmRlZmluZWQsIHRoaXMpKTtcbiAgICAgICAgLy8gRGV0ZWN0IHdoZXRoZXIgdGhpcyBpbmplY3RvciBoYXMgdGhlIEFQUF9ST09UX1NDT1BFIHRva2VuIGFuZCB0aHVzIHNob3VsZCBwcm92aWRlXG4gICAgICAgIC8vIGFueSBpbmplY3RhYmxlIHNjb3BlZCB0byBBUFBfUk9PVF9TQ09QRS5cbiAgICAgICAgdGhpcy5pc1Jvb3RJbmplY3RvciA9IHRoaXMucmVjb3Jkcy5oYXMoQVBQX1JPT1QpO1xuICAgICAgICAvLyBFYWdlcmx5IGluc3RhbnRpYXRlIHRoZSBJbmplY3RvclR5cGUgY2xhc3NlcyB0aGVtc2VsdmVzLlxuICAgICAgICB0aGlzLmluamVjdG9yRGVmVHlwZXMuZm9yRWFjaChmdW5jdGlvbiAoZGVmVHlwZSkgeyByZXR1cm4gX3RoaXMuZ2V0KGRlZlR5cGUpOyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgaW5qZWN0b3IgYW5kIHJlbGVhc2UgcmVmZXJlbmNlcyB0byBldmVyeSBpbnN0YW5jZSBvciBwcm92aWRlciBhc3NvY2lhdGVkIHdpdGggaXQuXG4gICAgICpcbiAgICAgKiBBbHNvIGNhbGxzIHRoZSBgT25EZXN0cm95YCBsaWZlY3ljbGUgaG9va3Mgb2YgZXZlcnkgaW5zdGFuY2UgdGhhdCB3YXMgY3JlYXRlZCBmb3Igd2hpY2ggYVxuICAgICAqIGhvb2sgd2FzIGZvdW5kLlxuICAgICAqL1xuICAgIFIzSW5qZWN0b3IucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90RGVzdHJveWVkKCk7XG4gICAgICAgIC8vIFNldCBkZXN0cm95ZWQgPSB0cnVlIGZpcnN0LCBpbiBjYXNlIGxpZmVjeWNsZSBob29rcyByZS1lbnRlciBkZXN0cm95KCkuXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENhbGwgYWxsIHRoZSBsaWZlY3ljbGUgaG9va3MuXG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveS5mb3JFYWNoKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiBzZXJ2aWNlLm5nT25EZXN0cm95KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gUmVsZWFzZSBhbGwgcmVmZXJlbmNlcy5cbiAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5vbkRlc3Ryb3kuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSM0luamVjdG9yLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodG9rZW4sIG5vdEZvdW5kVmFsdWUsIGZsYWdzKSB7XG4gICAgICAgIGlmIChub3RGb3VuZFZhbHVlID09PSB2b2lkIDApIHsgbm90Rm91bmRWYWx1ZSA9IFRIUk9XX0lGX05PVF9GT1VORDsgfVxuICAgICAgICBpZiAoZmxhZ3MgPT09IHZvaWQgMCkgeyBmbGFncyA9IEluamVjdEZsYWdzLkRlZmF1bHQ7IH1cbiAgICAgICAgdGhpcy5hc3NlcnROb3REZXN0cm95ZWQoKTtcbiAgICAgICAgLy8gU2V0IHRoZSBpbmplY3Rpb24gY29udGV4dC5cbiAgICAgICAgdmFyIHByZXZpb3VzSW5qZWN0b3IgPSBzZXRDdXJyZW50SW5qZWN0b3IodGhpcyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgdGhlIFNraXBTZWxmIGZsYWcuXG4gICAgICAgICAgICBpZiAoIShmbGFncyAmIEluamVjdEZsYWdzLlNraXBTZWxmKSkge1xuICAgICAgICAgICAgICAgIC8vIFNraXBTZWxmIGlzbid0IHNldCwgY2hlY2sgaWYgdGhlIHJlY29yZCBiZWxvbmdzIHRvIHRoaXMgaW5qZWN0b3IuXG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IHRoaXMucmVjb3Jkcy5nZXQodG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyByZWNvcmQsIGJ1dCBtYXliZSB0aGUgdG9rZW4gaXMgc2NvcGVkIHRvIHRoaXMgaW5qZWN0b3IuIExvb2sgZm9yIGFuIG5nSW5qZWN0YWJsZURlZlxuICAgICAgICAgICAgICAgICAgICAvLyB3aXRoIGEgc2NvcGUgbWF0Y2hpbmcgdGhpcyBpbmplY3Rvci5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZiA9IGNvdWxkQmVJbmplY3RhYmxlVHlwZSh0b2tlbikgJiYgZ2V0SW5qZWN0YWJsZURlZih0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWYgJiYgdGhpcy5pbmplY3RhYmxlRGVmSW5TY29wZShkZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3VuZCBhbiBuZ0luamVjdGFibGVEZWYgYW5kIGl0J3Mgc2NvcGVkIHRvIHRoaXMgaW5qZWN0b3IuIFByZXRlbmQgYXMgaWYgaXQgd2FzIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsbCBhbG9uZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IG1ha2VSZWNvcmQoaW5qZWN0YWJsZURlZk9ySW5qZWN0b3JEZWZGYWN0b3J5KHRva2VuKSwgTk9UX1lFVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZHMuc2V0KHRva2VuLCByZWNvcmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGEgcmVjb3JkIHdhcyBmb3VuZCwgZ2V0IHRoZSBpbnN0YW5jZSBmb3IgaXQgYW5kIHJldHVybiBpdC5cbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHlkcmF0ZSh0b2tlbiwgcmVjb3JkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWxlY3QgdGhlIG5leHQgaW5qZWN0b3IgYmFzZWQgb24gdGhlIFNlbGYgZmxhZyAtIGlmIHNlbGYgaXMgc2V0LCB0aGUgbmV4dCBpbmplY3RvciBpc1xuICAgICAgICAgICAgLy8gdGhlIE51bGxJbmplY3Rvciwgb3RoZXJ3aXNlIGl0J3MgdGhlIHBhcmVudC5cbiAgICAgICAgICAgIHZhciBuZXh0SW5qZWN0b3IgPSAhKGZsYWdzICYgSW5qZWN0RmxhZ3MuU2VsZikgPyB0aGlzLnBhcmVudCA6IGdldE51bGxJbmplY3RvcigpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHRJbmplY3Rvci5nZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gTGFzdGx5LCBjbGVhbiB1cCB0aGUgc3RhdGUgYnkgcmVzdG9yaW5nIHRoZSBwcmV2aW91cyBpbmplY3Rvci5cbiAgICAgICAgICAgIHNldEN1cnJlbnRJbmplY3RvcihwcmV2aW91c0luamVjdG9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUjNJbmplY3Rvci5wcm90b3R5cGUuYXNzZXJ0Tm90RGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5qZWN0b3IgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQuJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBhbiBgSW5qZWN0b3JUeXBlYCBvciBgSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVyc2AgYW5kIGFsbCBvZiBpdHMgdHJhbnNpdGl2ZSBwcm92aWRlcnNcbiAgICAgKiB0byB0aGlzIGluamVjdG9yLlxuICAgICAqL1xuICAgIFIzSW5qZWN0b3IucHJvdG90eXBlLnByb2Nlc3NJbmplY3RvclR5cGUgPSBmdW5jdGlvbiAoZGVmT3JXcmFwcGVkRGVmLCBwYXJlbnRzLCBkZWR1cFN0YWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGRlZk9yV3JhcHBlZERlZiA9IHJlc29sdmVGb3J3YXJkUmVmKGRlZk9yV3JhcHBlZERlZik7XG4gICAgICAgIGlmICghZGVmT3JXcmFwcGVkRGVmKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBFaXRoZXIgdGhlIGRlZk9yV3JhcHBlZERlZiBpcyBhbiBJbmplY3RvclR5cGUgKHdpdGggbmdJbmplY3RvckRlZikgb3IgYW5cbiAgICAgICAgLy8gSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVycyAoYWthIE1vZHVsZVdpdGhQcm92aWRlcnMpLiBEZXRlY3RpbmcgZWl0aGVyIGlzIGEgbWVnYW1vcnBoaWNcbiAgICAgICAgLy8gcmVhZCwgc28gY2FyZSBpcyB0YWtlbiB0byBvbmx5IGRvIHRoZSByZWFkIG9uY2UuXG4gICAgICAgIC8vIEZpcnN0IGF0dGVtcHQgdG8gcmVhZCB0aGUgbmdJbmplY3RvckRlZi5cbiAgICAgICAgdmFyIGRlZiA9IGdldEluamVjdG9yRGVmKGRlZk9yV3JhcHBlZERlZik7XG4gICAgICAgIC8vIElmIHRoYXQncyBub3QgcHJlc2VudCwgdGhlbiBhdHRlbXB0IHRvIHJlYWQgbmdNb2R1bGUgZnJvbSB0aGUgSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVycy5cbiAgICAgICAgdmFyIG5nTW9kdWxlID0gKGRlZiA9PSBudWxsKSAmJiBkZWZPcldyYXBwZWREZWYubmdNb2R1bGUgfHwgdW5kZWZpbmVkO1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIEluamVjdG9yVHlwZS4gSW4gdGhlIGNhc2Ugd2hlcmUgYGRlZk9yV3JhcHBlZERlZmAgaXMgYW4gYEluamVjdG9yVHlwZWAsXG4gICAgICAgIC8vIHRoZW4gdGhpcyBpcyBlYXN5LiBJbiB0aGUgY2FzZSBvZiBhbiBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzLCB0aGVuIHRoZSBkZWZpbml0aW9uIHR5cGVcbiAgICAgICAgLy8gaXMgdGhlIGBuZ01vZHVsZWAuXG4gICAgICAgIHZhciBkZWZUeXBlID0gKG5nTW9kdWxlID09PSB1bmRlZmluZWQpID8gZGVmT3JXcmFwcGVkRGVmIDogbmdNb2R1bGU7XG4gICAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG4gICAgICAgIGlmIChuZ0Rldk1vZGUgJiYgcGFyZW50cy5pbmRleE9mKGRlZlR5cGUpICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIGRlZk5hbWUgPSBzdHJpbmdpZnkoZGVmVHlwZSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaXJjdWxhciBkZXBlbmRlbmN5IGluIERJIGRldGVjdGVkIGZvciB0eXBlIFwiICsgZGVmTmFtZSArIFwiLiBEZXBlbmRlbmN5IHBhdGg6IFwiICsgcGFyZW50cy5tYXAoZnVuY3Rpb24gKGRlZlR5cGUpIHsgcmV0dXJuIHN0cmluZ2lmeShkZWZUeXBlKTsgfSkuam9pbignID4gJykgKyBcIiA+IFwiICsgZGVmTmFtZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgbXVsdGlwbGUgaW1wb3J0cyBvZiB0aGUgc2FtZSBtb2R1bGVcbiAgICAgICAgdmFyIGlzRHVwbGljYXRlID0gZGVkdXBTdGFjay5pbmRleE9mKGRlZlR5cGUpICE9PSAtMTtcbiAgICAgICAgLy8gSWYgZGVmT3JXcmFwcGVkVHlwZSB3YXMgYW4gSW5qZWN0b3JEZWZUeXBlV2l0aFByb3ZpZGVycywgdGhlbiAucHJvdmlkZXJzIG1heSBob2xkIHNvbWVcbiAgICAgICAgLy8gZXh0cmEgcHJvdmlkZXJzLlxuICAgICAgICB2YXIgcHJvdmlkZXJzID0gKG5nTW9kdWxlICE9PSB1bmRlZmluZWQpICYmIGRlZk9yV3JhcHBlZERlZi5wcm92aWRlcnMgfHxcbiAgICAgICAgICAgIEVNUFRZX0FSUkFZJDE7XG4gICAgICAgIC8vIEZpbmFsbHksIGlmIGRlZk9yV3JhcHBlZFR5cGUgd2FzIGFuIGBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzYCwgdGhlbiB0aGUgYWN0dWFsXG4gICAgICAgIC8vIGBJbmplY3RvckRlZmAgaXMgb24gaXRzIGBuZ01vZHVsZWAuXG4gICAgICAgIGlmIChuZ01vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWYgPSBnZXRJbmplY3RvckRlZihuZ01vZHVsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgbm8gZGVmaW5pdGlvbiB3YXMgZm91bmQsIGl0IG1pZ2h0IGJlIGZyb20gZXhwb3J0cy4gUmVtb3ZlIGl0LlxuICAgICAgICBpZiAoZGVmID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUcmFjayB0aGUgSW5qZWN0b3JUeXBlIGFuZCBhZGQgYSBwcm92aWRlciBmb3IgaXQuXG4gICAgICAgIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5hZGQoZGVmVHlwZSk7XG4gICAgICAgIHRoaXMucmVjb3Jkcy5zZXQoZGVmVHlwZSwgbWFrZVJlY29yZChkZWYuZmFjdG9yeSwgTk9UX1lFVCkpO1xuICAgICAgICAvLyBBZGQgcHJvdmlkZXJzIGluIHRoZSBzYW1lIHdheSB0aGF0IEBOZ01vZHVsZSByZXNvbHV0aW9uIGRpZDpcbiAgICAgICAgLy8gRmlyc3QsIGluY2x1ZGUgcHJvdmlkZXJzIGZyb20gYW55IGltcG9ydHMuXG4gICAgICAgIGlmIChkZWYuaW1wb3J0cyAhPSBudWxsICYmICFpc0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgLy8gQmVmb3JlIHByb2Nlc3NpbmcgZGVmVHlwZSdzIGltcG9ydHMsIGFkZCBpdCB0byB0aGUgc2V0IG9mIHBhcmVudHMuIFRoaXMgd2F5LCBpZiBpdCBlbmRzXG4gICAgICAgICAgICAvLyB1cCBkZWVwbHkgaW1wb3J0aW5nIGl0c2VsZiwgdGhpcyBjYW4gYmUgZGV0ZWN0ZWQuXG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgcGFyZW50cy5wdXNoKGRlZlR5cGUpO1xuICAgICAgICAgICAgLy8gQWRkIGl0IHRvIHRoZSBzZXQgb2YgZGVkdXBzLiBUaGlzIHdheSB3ZSBjYW4gZGV0ZWN0IG11bHRpcGxlIGltcG9ydHMgb2YgdGhlIHNhbWUgbW9kdWxlXG4gICAgICAgICAgICBkZWR1cFN0YWNrLnB1c2goZGVmVHlwZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlZXBGb3JFYWNoKGRlZi5pbXBvcnRzLCBmdW5jdGlvbiAoaW1wb3J0ZWQpIHsgcmV0dXJuIF90aGlzLnByb2Nlc3NJbmplY3RvclR5cGUoaW1wb3J0ZWQsIHBhcmVudHMsIGRlZHVwU3RhY2spOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBpdCBmcm9tIHRoZSBwYXJlbnRzIHNldCB3aGVuIGZpbmlzaGVkLlxuICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBwYXJlbnRzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE5leHQsIGluY2x1ZGUgcHJvdmlkZXJzIGxpc3RlZCBvbiB0aGUgZGVmaW5pdGlvbiBpdHNlbGYuXG4gICAgICAgIHZhciBkZWZQcm92aWRlcnMgPSBkZWYucHJvdmlkZXJzO1xuICAgICAgICBpZiAoZGVmUHJvdmlkZXJzICE9IG51bGwgJiYgIWlzRHVwbGljYXRlKSB7XG4gICAgICAgICAgICB2YXIgaW5qZWN0b3JUeXBlXzEgPSBkZWZPcldyYXBwZWREZWY7XG4gICAgICAgICAgICBkZWVwRm9yRWFjaChkZWZQcm92aWRlcnMsIGZ1bmN0aW9uIChwcm92aWRlcikgeyByZXR1cm4gX3RoaXMucHJvY2Vzc1Byb3ZpZGVyKHByb3ZpZGVyLCBpbmplY3RvclR5cGVfMSwgZGVmUHJvdmlkZXJzKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmluYWxseSwgaW5jbHVkZSBwcm92aWRlcnMgZnJvbSBhbiBJbmplY3RvckRlZlR5cGVXaXRoUHJvdmlkZXJzIGlmIHRoZXJlIHdhcyBvbmUuXG4gICAgICAgIHZhciBuZ01vZHVsZVR5cGUgPSBkZWZPcldyYXBwZWREZWYubmdNb2R1bGU7XG4gICAgICAgIGRlZXBGb3JFYWNoKHByb3ZpZGVycywgZnVuY3Rpb24gKHByb3ZpZGVyKSB7IHJldHVybiBfdGhpcy5wcm9jZXNzUHJvdmlkZXIocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIGEgYFNpbmdsZVByb3ZpZGVyYCBhbmQgYWRkIGl0LlxuICAgICAqL1xuICAgIFIzSW5qZWN0b3IucHJvdG90eXBlLnByb2Nlc3NQcm92aWRlciA9IGZ1bmN0aW9uIChwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpIHtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRoZSB0b2tlbiBmcm9tIHRoZSBwcm92aWRlci4gRWl0aGVyIGl0J3MgaXRzIG93biB0b2tlbiwgb3IgaGFzIGEge3Byb3ZpZGU6IC4uLn1cbiAgICAgICAgLy8gcHJvcGVydHkuXG4gICAgICAgIHByb3ZpZGVyID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIpO1xuICAgICAgICB2YXIgdG9rZW4gPSBpc1R5cGVQcm92aWRlcihwcm92aWRlcikgPyBwcm92aWRlciA6IHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyICYmIHByb3ZpZGVyLnByb3ZpZGUpO1xuICAgICAgICAvLyBDb25zdHJ1Y3QgYSBgUmVjb3JkYCBmb3IgdGhlIHByb3ZpZGVyLlxuICAgICAgICB2YXIgcmVjb3JkID0gcHJvdmlkZXJUb1JlY29yZChwcm92aWRlciwgbmdNb2R1bGVUeXBlLCBwcm92aWRlcnMpO1xuICAgICAgICBpZiAoIWlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSAmJiBwcm92aWRlci5tdWx0aSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHByb3ZpZGVyIGluZGljYXRlcyB0aGF0IGl0J3MgYSBtdWx0aS1wcm92aWRlciwgcHJvY2VzcyBpdCBzcGVjaWFsbHkuXG4gICAgICAgICAgICAvLyBGaXJzdCBjaGVjayB3aGV0aGVyIGl0J3MgYmVlbiBkZWZpbmVkIGFscmVhZHkuXG4gICAgICAgICAgICB2YXIgbXVsdGlSZWNvcmRfMSA9IHRoaXMucmVjb3Jkcy5nZXQodG9rZW4pO1xuICAgICAgICAgICAgaWYgKG11bHRpUmVjb3JkXzEpIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBoYXMuIFRocm93IGEgbmljZSBlcnJvciBpZlxuICAgICAgICAgICAgICAgIGlmIChtdWx0aVJlY29yZF8xLm11bHRpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWl4ZWQgbXVsdGktcHJvdmlkZXIgZm9yIFwiICsgdG9rZW4gKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbXVsdGlSZWNvcmRfMSA9IG1ha2VSZWNvcmQodW5kZWZpbmVkLCBOT1RfWUVULCB0cnVlKTtcbiAgICAgICAgICAgICAgICBtdWx0aVJlY29yZF8xLmZhY3RvcnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpbmplY3RBcmdzKG11bHRpUmVjb3JkXzEubXVsdGkpOyB9O1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5zZXQodG9rZW4sIG11bHRpUmVjb3JkXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW4gPSBwcm92aWRlcjtcbiAgICAgICAgICAgIG11bHRpUmVjb3JkXzEubXVsdGkucHVzaChwcm92aWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLnJlY29yZHMuZ2V0KHRva2VuKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZyAmJiBleGlzdGluZy5tdWx0aSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWl4ZWQgbXVsdGktcHJvdmlkZXIgZm9yIFwiICsgc3RyaW5naWZ5KHRva2VuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWNvcmRzLnNldCh0b2tlbiwgcmVjb3JkKTtcbiAgICB9O1xuICAgIFIzSW5qZWN0b3IucHJvdG90eXBlLmh5ZHJhdGUgPSBmdW5jdGlvbiAodG9rZW4sIHJlY29yZCkge1xuICAgICAgICBpZiAocmVjb3JkLnZhbHVlID09PSBDSVJDVUxBUiQxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgaW5zdGFudGlhdGUgY3ljbGljIGRlcGVuZGVuY3khIFwiICsgc3RyaW5naWZ5KHRva2VuKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjb3JkLnZhbHVlID09PSBOT1RfWUVUKSB7XG4gICAgICAgICAgICByZWNvcmQudmFsdWUgPSBDSVJDVUxBUiQxO1xuICAgICAgICAgICAgcmVjb3JkLnZhbHVlID0gcmVjb3JkLmZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlY29yZC52YWx1ZSA9PT0gJ29iamVjdCcgJiYgcmVjb3JkLnZhbHVlICYmIGhhc09uRGVzdHJveShyZWNvcmQudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLm9uRGVzdHJveS5hZGQocmVjb3JkLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkLnZhbHVlO1xuICAgIH07XG4gICAgUjNJbmplY3Rvci5wcm90b3R5cGUuaW5qZWN0YWJsZURlZkluU2NvcGUgPSBmdW5jdGlvbiAoZGVmKSB7XG4gICAgICAgIGlmICghZGVmLnByb3ZpZGVkSW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZGVmLnByb3ZpZGVkSW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLnByb3ZpZGVkSW4gPT09ICdhbnknIHx8IChkZWYucHJvdmlkZWRJbiA9PT0gJ3Jvb3QnICYmIHRoaXMuaXNSb290SW5qZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5qZWN0b3JEZWZUeXBlcy5oYXMoZGVmLnByb3ZpZGVkSW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gUjNJbmplY3Rvcjtcbn0oKSk7XG5mdW5jdGlvbiBpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkodG9rZW4pIHtcbiAgICB2YXIgaW5qZWN0YWJsZURlZiA9IGdldEluamVjdGFibGVEZWYodG9rZW4pO1xuICAgIGlmIChpbmplY3RhYmxlRGVmID09PSBudWxsKSB7XG4gICAgICAgIHZhciBpbmplY3RvckRlZiA9IGdldEluamVjdG9yRGVmKHRva2VuKTtcbiAgICAgICAgaWYgKGluamVjdG9yRGVmICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5qZWN0b3JEZWYuZmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b2tlbiBpbnN0YW5jZW9mIEluamVjdGlvblRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb2tlbiBcIiArIHN0cmluZ2lmeSh0b2tlbikgKyBcIiBpcyBtaXNzaW5nIGFuIG5nSW5qZWN0YWJsZURlZiBkZWZpbml0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b2tlbiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1MZW5ndGggPSB0b2tlbi5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocGFyYW1MZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkocGFyYW1MZW5ndGgpLmZpbGwoJz8nKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCByZXNvbHZlIGFsbCBwYXJhbWV0ZXJzIGZvciBcIiArIHN0cmluZ2lmeSh0b2tlbikgKyBcIjogKFwiICsgYXJncy5qb2luKCcsICcpICsgXCIpLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgdG9rZW4oKTsgfTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVhY2hhYmxlJyk7XG4gICAgfVxuICAgIHJldHVybiBpbmplY3RhYmxlRGVmLmZhY3Rvcnk7XG59XG5mdW5jdGlvbiBwcm92aWRlclRvUmVjb3JkKHByb3ZpZGVyLCBuZ01vZHVsZVR5cGUsIHByb3ZpZGVycykge1xuICAgIHZhciBmYWN0b3J5ID0gcHJvdmlkZXJUb0ZhY3RvcnkocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKTtcbiAgICBpZiAoaXNWYWx1ZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICByZXR1cm4gbWFrZVJlY29yZCh1bmRlZmluZWQsIHByb3ZpZGVyLnVzZVZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBtYWtlUmVjb3JkKGZhY3RvcnksIE5PVF9ZRVQpO1xuICAgIH1cbn1cbi8qKlxuICogQ29udmVydHMgYSBgU2luZ2xlUHJvdmlkZXJgIGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBwcm92aWRlciBwcm92aWRlciB0byBjb252ZXJ0IHRvIGZhY3RvcnlcbiAqL1xuZnVuY3Rpb24gcHJvdmlkZXJUb0ZhY3RvcnkocHJvdmlkZXIsIG5nTW9kdWxlVHlwZSwgcHJvdmlkZXJzKSB7XG4gICAgdmFyIGZhY3RvcnkgPSB1bmRlZmluZWQ7XG4gICAgaWYgKGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICByZXR1cm4gaW5qZWN0YWJsZURlZk9ySW5qZWN0b3JEZWZGYWN0b3J5KHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoaXNWYWx1ZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgZmFjdG9yeSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZVZhbHVlKTsgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0V4aXN0aW5nUHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5qZWN0KHJlc29sdmVGb3J3YXJkUmVmKHByb3ZpZGVyLnVzZUV4aXN0aW5nKSk7IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNGYWN0b3J5UHJvdmlkZXIocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvdmlkZXIudXNlRmFjdG9yeS5hcHBseShwcm92aWRlciwgX19zcHJlYWQoaW5qZWN0QXJncyhwcm92aWRlci5kZXBzIHx8IFtdKSkpOyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNsYXNzUmVmXzEgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlciAmJlxuICAgICAgICAgICAgICAgIChwcm92aWRlci51c2VDbGFzcyB8fCBwcm92aWRlci5wcm92aWRlKSk7XG4gICAgICAgICAgICBpZiAoIWNsYXNzUmVmXzEpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmdNb2R1bGVEZXRhaWwgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAobmdNb2R1bGVUeXBlICYmIHByb3ZpZGVycykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJEZXRhaWwgPSBwcm92aWRlcnMubWFwKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2ID09IHByb3ZpZGVyID8gJz8nICsgcHJvdmlkZXIgKyAnPycgOiAnLi4uJzsgfSk7XG4gICAgICAgICAgICAgICAgICAgIG5nTW9kdWxlRGV0YWlsID1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIC0gb25seSBpbnN0YW5jZXMgb2YgUHJvdmlkZXIgYW5kIFR5cGUgYXJlIGFsbG93ZWQsIGdvdDogW1wiICsgcHJvdmlkZXJEZXRhaWwuam9pbignLCAnKSArIFwiXVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByb3ZpZGVyIGZvciB0aGUgTmdNb2R1bGUgJ1wiICsgc3RyaW5naWZ5KG5nTW9kdWxlVHlwZSkgKyBcIidcIiArIG5nTW9kdWxlRGV0YWlsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNEZXBzKHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIGZhY3RvcnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgKChjbGFzc1JlZl8xKS5iaW5kLmFwcGx5KChjbGFzc1JlZl8xKSwgX19zcHJlYWQoW3ZvaWQgMF0sIGluamVjdEFyZ3MocHJvdmlkZXIuZGVwcykpKSkoKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmplY3RhYmxlRGVmT3JJbmplY3RvckRlZkZhY3RvcnkoY2xhc3NSZWZfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhY3Rvcnk7XG59XG5mdW5jdGlvbiBtYWtlUmVjb3JkKGZhY3RvcnksIHZhbHVlLCBtdWx0aSkge1xuICAgIGlmIChtdWx0aSA9PT0gdm9pZCAwKSB7IG11bHRpID0gZmFsc2U7IH1cbiAgICByZXR1cm4ge1xuICAgICAgICBmYWN0b3J5OiBmYWN0b3J5LFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIG11bHRpOiBtdWx0aSA/IFtdIDogdW5kZWZpbmVkLFxuICAgIH07XG59XG5mdW5jdGlvbiBkZWVwRm9yRWFjaChpbnB1dCwgZm4pIHtcbiAgICBpbnB1dC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBkZWVwRm9yRWFjaCh2YWx1ZSwgZm4pIDogZm4odmFsdWUpOyB9KTtcbn1cbmZ1bmN0aW9uIGlzVmFsdWVQcm92aWRlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgVVNFX1ZBTFVFIGluIHZhbHVlO1xufVxuZnVuY3Rpb24gaXNFeGlzdGluZ1Byb3ZpZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLnVzZUV4aXN0aW5nKTtcbn1cbmZ1bmN0aW9uIGlzRmFjdG9yeVByb3ZpZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLnVzZUZhY3RvcnkpO1xufVxuZnVuY3Rpb24gaXNUeXBlUHJvdmlkZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaGFzRGVwcyh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlLmRlcHM7XG59XG5mdW5jdGlvbiBoYXNPbkRlc3Ryb3kodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPSBudWxsICYmIHZhbHVlLm5nT25EZXN0cm95ICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZS5uZ09uRGVzdHJveSA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGNvdWxkQmVJbmplY3RhYmxlVHlwZSh2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB8fFxuICAgICAgICAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEluamVjdGlvblRva2VuKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXNvbHZlcyB0aGUgcHJvdmlkZXJzIHdoaWNoIGFyZSBkZWZpbmVkIGluIHRoZSBEaXJlY3RpdmVEZWYuXG4gKlxuICogV2hlbiBpbnNlcnRpbmcgdGhlIHRva2VucyBhbmQgdGhlIGZhY3RvcmllcyBpbiB0aGVpciByZXNwZWN0aXZlIGFycmF5cywgd2UgY2FuIGFzc3VtZSB0aGF0XG4gKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgZmlyc3QgZm9yIHRoZSBjb21wb25lbnQgKGlmIGFueSksIGFuZCB0aGVuIGZvciBvdGhlciBkaXJlY3RpdmVzIG9uIHRoZSBzYW1lXG4gKiBub2RlLlxuICogQXMgYSBjb25zZXF1ZW5jZSx0aGUgcHJvdmlkZXJzIGFyZSBhbHdheXMgcHJvY2Vzc2VkIGluIHRoYXQgb3JkZXI6XG4gKiAxKSBUaGUgdmlldyBwcm92aWRlcnMgb2YgdGhlIGNvbXBvbmVudFxuICogMikgVGhlIHByb3ZpZGVycyBvZiB0aGUgY29tcG9uZW50XG4gKiAzKSBUaGUgcHJvdmlkZXJzIG9mIHRoZSBvdGhlciBkaXJlY3RpdmVzXG4gKiBUaGlzIG1hdGNoZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgaW5qZWN0YWJsZXMgYXJyYXlzIG9mIGEgdmlldyAoZm9yIGVhY2ggbm9kZSkuXG4gKiBTbyB0aGUgdG9rZW5zIGFuZCB0aGUgZmFjdG9yaWVzIGNhbiBiZSBwdXNoZWQgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXlzLCBleGNlcHRcbiAqIGluIG9uZSBjYXNlIGZvciBtdWx0aSBwcm92aWRlcnMuXG4gKlxuICogQHBhcmFtIGRlZiB0aGUgZGlyZWN0aXZlIGRlZmluaXRpb25cbiAqIEBwYXJhbSBwcm92aWRlcnM6IEFycmF5IG9mIGBwcm92aWRlcnNgLlxuICogQHBhcmFtIHZpZXdQcm92aWRlcnM6IEFycmF5IG9mIGB2aWV3UHJvdmlkZXJzYC5cbiAqL1xuZnVuY3Rpb24gcHJvdmlkZXJzUmVzb2x2ZXIoZGVmLCBwcm92aWRlcnMsIHZpZXdQcm92aWRlcnMpIHtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHZhciB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICBpZiAodFZpZXcuZmlyc3RUZW1wbGF0ZVBhc3MpIHtcbiAgICAgICAgdmFyIGlzQ29tcG9uZW50JCQxID0gaXNDb21wb25lbnREZWYoZGVmKTtcbiAgICAgICAgLy8gVGhlIGxpc3Qgb2YgdmlldyBwcm92aWRlcnMgaXMgcHJvY2Vzc2VkIGZpcnN0LCBhbmQgdGhlIGZsYWdzIGFyZSB1cGRhdGVkXG4gICAgICAgIHJlc29sdmVQcm92aWRlciQxKHZpZXdQcm92aWRlcnMsIHRWaWV3LmRhdGEsIHRWaWV3LmJsdWVwcmludCwgaXNDb21wb25lbnQkJDEsIHRydWUpO1xuICAgICAgICAvLyBUaGVuLCB0aGUgbGlzdCBvZiBwcm92aWRlcnMgaXMgcHJvY2Vzc2VkLCBhbmQgdGhlIGZsYWdzIGFyZSB1cGRhdGVkXG4gICAgICAgIHJlc29sdmVQcm92aWRlciQxKHByb3ZpZGVycywgdFZpZXcuZGF0YSwgdFZpZXcuYmx1ZXByaW50LCBpc0NvbXBvbmVudCQkMSwgZmFsc2UpO1xuICAgIH1cbn1cbi8qKlxuICogUmVzb2x2ZXMgYSBwcm92aWRlciBhbmQgcHVibGlzaGVzIGl0IHRvIHRoZSBESSBzeXN0ZW0uXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVQcm92aWRlciQxKHByb3ZpZGVyLCB0SW5qZWN0YWJsZXMsIGxJbmplY3RhYmxlc0JsdWVwcmludCwgaXNDb21wb25lbnQkJDEsIGlzVmlld1Byb3ZpZGVyKSB7XG4gICAgcHJvdmlkZXIgPSByZXNvbHZlRm9yd2FyZFJlZihwcm92aWRlcik7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvdmlkZXIpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNhbGwgYHJlc29sdmVQcm92aWRlcmBcbiAgICAgICAgLy8gUmVjdXJzaW9uIGlzIE9LIGluIHRoaXMgY2FzZSBiZWNhdXNlIHRoaXMgY29kZSB3aWxsIG5vdCBiZSBpbiBob3QtcGF0aCBvbmNlIHdlIGltcGxlbWVudFxuICAgICAgICAvLyBjbG9uaW5nIG9mIHRoZSBpbml0aWFsIHN0YXRlLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3ZpZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXNvbHZlUHJvdmlkZXIkMShwcm92aWRlcltpXSwgdEluamVjdGFibGVzLCBsSW5qZWN0YWJsZXNCbHVlcHJpbnQsIGlzQ29tcG9uZW50JCQxLCBpc1ZpZXdQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgICAgIHZhciB0b2tlbiA9IGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSA/IHByb3ZpZGVyIDogcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIucHJvdmlkZSk7XG4gICAgICAgIHZhciBwcm92aWRlckZhY3RvcnkgPSBwcm92aWRlclRvRmFjdG9yeShwcm92aWRlcik7XG4gICAgICAgIHZhciB0Tm9kZSA9IGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpO1xuICAgICAgICB2YXIgYmVnaW5JbmRleCA9IHROb2RlLnByb3ZpZGVySW5kZXhlcyAmIDY1NTM1IC8qIFByb3ZpZGVyc1N0YXJ0SW5kZXhNYXNrICovO1xuICAgICAgICB2YXIgZW5kSW5kZXggPSB0Tm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICAgICAgdmFyIGNwdFZpZXdQcm92aWRlcnNDb3VudCA9IHROb2RlLnByb3ZpZGVySW5kZXhlcyA+PiAxNiAvKiBDcHRWaWV3UHJvdmlkZXJzQ291bnRTaGlmdCAqLztcbiAgICAgICAgaWYgKGlzVHlwZVByb3ZpZGVyKHByb3ZpZGVyKSB8fCAhcHJvdmlkZXIubXVsdGkpIHtcbiAgICAgICAgICAgIC8vIFNpbmdsZSBwcm92aWRlciBjYXNlOiB0aGUgZmFjdG9yeSBpcyBjcmVhdGVkIGFuZCBwdXNoZWQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIHZhciBmYWN0b3J5ID0gbmV3IE5vZGVJbmplY3RvckZhY3RvcnkocHJvdmlkZXJGYWN0b3J5LCBpc1ZpZXdQcm92aWRlciwgZGlyZWN0aXZlSW5qZWN0KTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ0ZhY3RvcnlJbmRleCA9IGluZGV4T2YodG9rZW4sIHRJbmplY3RhYmxlcywgaXNWaWV3UHJvdmlkZXIgPyBiZWdpbkluZGV4IDogYmVnaW5JbmRleCArIGNwdFZpZXdQcm92aWRlcnNDb3VudCwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nRmFjdG9yeUluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgZGlQdWJsaWNJbkluamVjdG9yKGdldE9yQ3JlYXRlTm9kZUluamVjdG9yRm9yTm9kZSh0Tm9kZSwgbFZpZXcpLCBsVmlldywgdG9rZW4pO1xuICAgICAgICAgICAgICAgIHRJbmplY3RhYmxlcy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB0Tm9kZS5kaXJlY3RpdmVTdGFydCsrO1xuICAgICAgICAgICAgICAgIHROb2RlLmRpcmVjdGl2ZUVuZCsrO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZpZXdQcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICB0Tm9kZS5wcm92aWRlckluZGV4ZXMgKz0gNjU1MzYgLyogQ3B0Vmlld1Byb3ZpZGVyc0NvdW50U2hpZnRlciAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbEluamVjdGFibGVzQmx1ZXByaW50LnB1c2goZmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgbFZpZXcucHVzaChmYWN0b3J5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludFtleGlzdGluZ0ZhY3RvcnlJbmRleF0gPSBmYWN0b3J5O1xuICAgICAgICAgICAgICAgIGxWaWV3W2V4aXN0aW5nRmFjdG9yeUluZGV4XSA9IGZhY3Rvcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBNdWx0aSBwcm92aWRlciBjYXNlOlxuICAgICAgICAgICAgLy8gV2UgY3JlYXRlIGEgbXVsdGkgZmFjdG9yeSB3aGljaCBpcyBnb2luZyB0byBhZ2dyZWdhdGUgYWxsIHRoZSB2YWx1ZXMuXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGUgb3V0cHV0IG9mIHN1Y2ggYSBmYWN0b3J5IGRlcGVuZHMgb24gY29udGVudCBvciB2aWV3IGluamVjdGlvbixcbiAgICAgICAgICAgIC8vIHdlIGNyZWF0ZSB0d28gb2YgdGhlbSwgd2hpY2ggYXJlIGxpbmtlZCB0b2dldGhlci5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgZmlyc3Qgb25lIChmb3IgdmlldyBwcm92aWRlcnMpIGlzIGFsd2F5cyBpbiB0aGUgZmlyc3QgYmxvY2sgb2YgdGhlIGluamVjdGFibGVzIGFycmF5LFxuICAgICAgICAgICAgLy8gYW5kIHRoZSBzZWNvbmQgb25lIChmb3IgcHJvdmlkZXJzKSBpcyBhbHdheXMgaW4gdGhlIHNlY29uZCBibG9jay5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgaW1wb3J0YW50IGJlY2F1c2UgdmlldyBwcm92aWRlcnMgaGF2ZSBoaWdoZXIgcHJpb3JpdHkuIFdoZW4gYSBtdWx0aSB0b2tlblxuICAgICAgICAgICAgLy8gaXMgYmVpbmcgbG9va2VkIHVwLCB0aGUgdmlldyBwcm92aWRlcnMgc2hvdWxkIGJlIGZvdW5kIGZpcnN0LlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IGl0IGlzIG5vdCBwb3NzaWJsZSB0byBoYXZlIGEgbXVsdGkgZmFjdG9yeSBpbiB0aGUgdGhpcmQgYmxvY2sgKGRpcmVjdGl2ZSBibG9jaykuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVGhlIGFsZ29yaXRobSB0byBwcm9jZXNzIG11bHRpIHByb3ZpZGVycyBpcyBhcyBmb2xsb3dzOlxuICAgICAgICAgICAgLy8gMSkgSWYgdGhlIG11bHRpIHByb3ZpZGVyIGNvbWVzIGZyb20gdGhlIGB2aWV3UHJvdmlkZXJzYCBvZiB0aGUgY29tcG9uZW50OlxuICAgICAgICAgICAgLy8gICBhKSBJZiB0aGUgc3BlY2lhbCB2aWV3IHByb3ZpZGVycyBmYWN0b3J5IGRvZXNuJ3QgZXhpc3QsIGl0IGlzIGNyZWF0ZWQgYW5kIHB1c2hlZC5cbiAgICAgICAgICAgIC8vICAgYikgRWxzZSwgdGhlIG11bHRpIHByb3ZpZGVyIGlzIGFkZGVkIHRvIHRoZSBleGlzdGluZyBtdWx0aSBmYWN0b3J5LlxuICAgICAgICAgICAgLy8gMikgSWYgdGhlIG11bHRpIHByb3ZpZGVyIGNvbWVzIGZyb20gdGhlIGBwcm92aWRlcnNgIG9mIHRoZSBjb21wb25lbnQgb3Igb2YgYW5vdGhlclxuICAgICAgICAgICAgLy8gZGlyZWN0aXZlOlxuICAgICAgICAgICAgLy8gICBhKSBJZiB0aGUgbXVsdGkgZmFjdG9yeSBkb2Vzbid0IGV4aXN0LCBpdCBpcyBjcmVhdGVkIGFuZCBwcm92aWRlciBwdXNoZWQgaW50byBpdC5cbiAgICAgICAgICAgIC8vICAgICAgSXQgaXMgYWxzbyBsaW5rZWQgdG8gdGhlIG11bHRpIGZhY3RvcnkgZm9yIHZpZXcgcHJvdmlkZXJzLCBpZiBpdCBleGlzdHMuXG4gICAgICAgICAgICAvLyAgIGIpIEVsc2UsIHRoZSBtdWx0aSBwcm92aWRlciBpcyBhZGRlZCB0byB0aGUgZXhpc3RpbmcgbXVsdGkgZmFjdG9yeS5cbiAgICAgICAgICAgIHZhciBleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA9IGluZGV4T2YodG9rZW4sIHRJbmplY3RhYmxlcywgYmVnaW5JbmRleCArIGNwdFZpZXdQcm92aWRlcnNDb3VudCwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nVmlld1Byb3ZpZGVyc0ZhY3RvcnlJbmRleCA9IGluZGV4T2YodG9rZW4sIHRJbmplY3RhYmxlcywgYmVnaW5JbmRleCwgYmVnaW5JbmRleCArIGNwdFZpZXdQcm92aWRlcnNDb3VudCk7XG4gICAgICAgICAgICB2YXIgZG9lc1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCA9IGV4aXN0aW5nUHJvdmlkZXJzRmFjdG9yeUluZGV4ID49IDAgJiZcbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdQcm92aWRlcnNGYWN0b3J5SW5kZXhdO1xuICAgICAgICAgICAgdmFyIGRvZXNWaWV3UHJvdmlkZXJzRmFjdG9yeUV4aXN0ID0gZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4ID49IDAgJiZcbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4XTtcbiAgICAgICAgICAgIGlmIChpc1ZpZXdQcm92aWRlciAmJiAhZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QgfHxcbiAgICAgICAgICAgICAgICAhaXNWaWV3UHJvdmlkZXIgJiYgIWRvZXNQcm92aWRlcnNGYWN0b3J5RXhpc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBDYXNlcyAxLmEgYW5kIDIuYVxuICAgICAgICAgICAgICAgIGRpUHVibGljSW5JbmplY3RvcihnZXRPckNyZWF0ZU5vZGVJbmplY3RvckZvck5vZGUodE5vZGUsIGxWaWV3KSwgbFZpZXcsIHRva2VuKTtcbiAgICAgICAgICAgICAgICB2YXIgZmFjdG9yeSA9IG11bHRpRmFjdG9yeShpc1ZpZXdQcm92aWRlciA/IG11bHRpVmlld1Byb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlciA6IG11bHRpUHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyLCBsSW5qZWN0YWJsZXNCbHVlcHJpbnQubGVuZ3RoLCBpc1ZpZXdQcm92aWRlciwgaXNDb21wb25lbnQkJDEsIHByb3ZpZGVyRmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZpZXdQcm92aWRlciAmJiBkb2VzVmlld1Byb3ZpZGVyc0ZhY3RvcnlFeGlzdCkge1xuICAgICAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4XS5wcm92aWRlckZhY3RvcnkgPSBmYWN0b3J5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0SW5qZWN0YWJsZXMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgdE5vZGUuZGlyZWN0aXZlU3RhcnQrKztcbiAgICAgICAgICAgICAgICB0Tm9kZS5kaXJlY3RpdmVFbmQrKztcbiAgICAgICAgICAgICAgICBpZiAoaXNWaWV3UHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdE5vZGUucHJvdmlkZXJJbmRleGVzICs9IDY1NTM2IC8qIENwdFZpZXdQcm92aWRlcnNDb3VudFNoaWZ0ZXIgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxJbmplY3RhYmxlc0JsdWVwcmludC5wdXNoKGZhY3RvcnkpO1xuICAgICAgICAgICAgICAgIGxWaWV3LnB1c2goZmFjdG9yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDYXNlcyAxLmIgYW5kIDIuYlxuICAgICAgICAgICAgICAgIG11bHRpRmFjdG9yeUFkZChsSW5qZWN0YWJsZXNCbHVlcHJpbnRbaXNWaWV3UHJvdmlkZXIgPyBleGlzdGluZ1ZpZXdQcm92aWRlcnNGYWN0b3J5SW5kZXggOiBleGlzdGluZ1Byb3ZpZGVyc0ZhY3RvcnlJbmRleF0sIHByb3ZpZGVyRmFjdG9yeSwgIWlzVmlld1Byb3ZpZGVyICYmIGlzQ29tcG9uZW50JCQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNWaWV3UHJvdmlkZXIgJiYgaXNDb21wb25lbnQkJDEgJiYgZG9lc1ZpZXdQcm92aWRlcnNGYWN0b3J5RXhpc3QpIHtcbiAgICAgICAgICAgICAgICBsSW5qZWN0YWJsZXNCbHVlcHJpbnRbZXhpc3RpbmdWaWV3UHJvdmlkZXJzRmFjdG9yeUluZGV4XS5jb21wb25lbnRQcm92aWRlcnMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQWRkIGEgZmFjdG9yeSBpbiBhIG11bHRpIGZhY3RvcnkuXG4gKi9cbmZ1bmN0aW9uIG11bHRpRmFjdG9yeUFkZChtdWx0aUZhY3RvcnksIGZhY3RvcnksIGlzQ29tcG9uZW50UHJvdmlkZXIpIHtcbiAgICBtdWx0aUZhY3RvcnkubXVsdGkucHVzaChmYWN0b3J5KTtcbiAgICBpZiAoaXNDb21wb25lbnRQcm92aWRlcikge1xuICAgICAgICBtdWx0aUZhY3RvcnkuY29tcG9uZW50UHJvdmlkZXJzKys7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbmRleCBvZiBpdGVtIGluIHRoZSBhcnJheSwgYnV0IG9ubHkgaW4gdGhlIGJlZ2luIHRvIGVuZCByYW5nZS5cbiAqL1xuZnVuY3Rpb24gaW5kZXhPZihpdGVtLCBhcnIsIGJlZ2luLCBlbmQpIHtcbiAgICBmb3IgKHZhciBpID0gYmVnaW47IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICBpZiAoYXJyW2ldID09PSBpdGVtKVxuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogVXNlIHRoaXMgd2l0aCBgbXVsdGlgIGBwcm92aWRlcnNgLlxuICovXG5mdW5jdGlvbiBtdWx0aVByb3ZpZGVyc0ZhY3RvcnlSZXNvbHZlcihfLCB0RGF0YSwgbERhdGEsIHROb2RlKSB7XG4gICAgcmV0dXJuIG11bHRpUmVzb2x2ZSh0aGlzLm11bHRpLCBbXSk7XG59XG4vKipcbiAqIFVzZSB0aGlzIHdpdGggYG11bHRpYCBgdmlld1Byb3ZpZGVyc2AuXG4gKlxuICogVGhpcyBmYWN0b3J5IGtub3dzIGhvdyB0byBjb25jYXRlbmF0ZSBpdHNlbGYgd2l0aCB0aGUgZXhpc3RpbmcgYG11bHRpYCBgcHJvdmlkZXJzYC5cbiAqL1xuZnVuY3Rpb24gbXVsdGlWaWV3UHJvdmlkZXJzRmFjdG9yeVJlc29sdmVyKF8sIHREYXRhLCBsRGF0YSwgdE5vZGUpIHtcbiAgICB2YXIgZmFjdG9yaWVzID0gdGhpcy5tdWx0aTtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGlmICh0aGlzLnByb3ZpZGVyRmFjdG9yeSkge1xuICAgICAgICB2YXIgY29tcG9uZW50Q291bnQgPSB0aGlzLnByb3ZpZGVyRmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnM7XG4gICAgICAgIHZhciBtdWx0aVByb3ZpZGVycyA9IGdldE5vZGVJbmplY3RhYmxlKHREYXRhLCBsRGF0YSwgdGhpcy5wcm92aWRlckZhY3RvcnkuaW5kZXgsIHROb2RlKTtcbiAgICAgICAgLy8gQ29weSB0aGUgc2VjdGlvbiBvZiB0aGUgYXJyYXkgd2hpY2ggY29udGFpbnMgYG11bHRpYCBgcHJvdmlkZXJzYCBmcm9tIHRoZSBjb21wb25lbnRcbiAgICAgICAgcmVzdWx0ID0gbXVsdGlQcm92aWRlcnMuc2xpY2UoMCwgY29tcG9uZW50Q291bnQpO1xuICAgICAgICAvLyBJbnNlcnQgdGhlIGB2aWV3UHJvdmlkZXJgIGluc3RhbmNlcy5cbiAgICAgICAgbXVsdGlSZXNvbHZlKGZhY3RvcmllcywgcmVzdWx0KTtcbiAgICAgICAgLy8gQ29weSB0aGUgc2VjdGlvbiBvZiB0aGUgYXJyYXkgd2hpY2ggY29udGFpbnMgYG11bHRpYCBgcHJvdmlkZXJzYCBmcm9tIG90aGVyIGRpcmVjdGl2ZXNcbiAgICAgICAgZm9yICh2YXIgaSA9IGNvbXBvbmVudENvdW50OyBpIDwgbXVsdGlQcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG11bHRpUHJvdmlkZXJzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgIC8vIEluc2VydCB0aGUgYHZpZXdQcm92aWRlcmAgaW5zdGFuY2VzLlxuICAgICAgICBtdWx0aVJlc29sdmUoZmFjdG9yaWVzLCByZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBNYXBzIGFuIGFycmF5IG9mIGZhY3RvcmllcyBpbnRvIGFuIGFycmF5IG9mIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gbXVsdGlSZXNvbHZlKGZhY3RvcmllcywgcmVzdWx0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmYWN0b3JpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGZhY3RvcnkgPSBmYWN0b3JpZXNbaV07XG4gICAgICAgIHJlc3VsdC5wdXNoKGZhY3RvcnkoKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtdWx0aSBmYWN0b3J5LlxuICovXG5mdW5jdGlvbiBtdWx0aUZhY3RvcnkoZmFjdG9yeUZuLCBpbmRleCwgaXNWaWV3UHJvdmlkZXIsIGlzQ29tcG9uZW50JCQxLCBmKSB7XG4gICAgdmFyIGZhY3RvcnkgPSBuZXcgTm9kZUluamVjdG9yRmFjdG9yeShmYWN0b3J5Rm4sIGlzVmlld1Byb3ZpZGVyLCBkaXJlY3RpdmVJbmplY3QpO1xuICAgIGZhY3RvcnkubXVsdGkgPSBbXTtcbiAgICBmYWN0b3J5LmluZGV4ID0gaW5kZXg7XG4gICAgZmFjdG9yeS5jb21wb25lbnRQcm92aWRlcnMgPSAwO1xuICAgIG11bHRpRmFjdG9yeUFkZChmYWN0b3J5LCBmLCBpc0NvbXBvbmVudCQkMSAmJiAhaXNWaWV3UHJvdmlkZXIpO1xuICAgIHJldHVybiBmYWN0b3J5O1xufVxuXG4vKipcbiAqIFRoaXMgZmVhdHVyZSByZXNvbHZlcyB0aGUgcHJvdmlkZXJzIG9mIGEgZGlyZWN0aXZlIChvciBjb21wb25lbnQpLFxuICogYW5kIHB1Ymxpc2ggdGhlbSBpbnRvIHRoZSBESSBzeXN0ZW0sIG1ha2luZyBpdCB2aXNpYmxlIHRvIG90aGVycyBmb3IgaW5qZWN0aW9uLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICogY2xhc3MgQ29tcG9uZW50V2l0aFByb3ZpZGVycyB7XG4gKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZ3JlZXRlcjogR3JlZXRlckRFKSB7fVxuICpcbiAqICAgc3RhdGljIG5nQ29tcG9uZW50RGVmID0gZGVmaW5lQ29tcG9uZW50KHtcbiAqICAgICB0eXBlOiBDb21wb25lbnRXaXRoUHJvdmlkZXJzLFxuICogICAgIHNlbGVjdG9yczogW1snY29tcG9uZW50LXdpdGgtcHJvdmlkZXJzJ11dLFxuICogICAgZmFjdG9yeTogKCkgPT4gbmV3IENvbXBvbmVudFdpdGhQcm92aWRlcnMoZGlyZWN0aXZlSW5qZWN0KEdyZWV0ZXJERSBhcyBhbnkpKSxcbiAqICAgIGNvbnN0czogMSxcbiAqICAgIHZhcnM6IDEsXG4gKiAgICB0ZW1wbGF0ZTogZnVuY3Rpb24oZnM6IFJlbmRlckZsYWdzLCBjdHg6IENvbXBvbmVudFdpdGhQcm92aWRlcnMpIHtcbiAqICAgICAgaWYgKGZzICYgUmVuZGVyRmxhZ3MuQ3JlYXRlKSB7XG4gKiAgICAgICAgdGV4dCgwKTtcbiAqICAgICAgfVxuICogICAgICBpZiAoZnMgJiBSZW5kZXJGbGFncy5VcGRhdGUpIHtcbiAqICAgICAgICB0ZXh0QmluZGluZygwLCBiaW5kKGN0eC5ncmVldGVyLmdyZWV0KCkpKTtcbiAqICAgICAgfVxuICogICAgfSxcbiAqICAgIGZlYXR1cmVzOiBbUHJvdmlkZXJzRmVhdHVyZShbR3JlZXRlckRFXSldXG4gKiAgfSk7XG4gKiB9XG4gKlxuICogQHBhcmFtIGRlZmluaXRpb25cbiAqL1xuZnVuY3Rpb24gUHJvdmlkZXJzRmVhdHVyZShwcm92aWRlcnMsIHZpZXdQcm92aWRlcnMpIHtcbiAgICBpZiAodmlld1Byb3ZpZGVycyA9PT0gdm9pZCAwKSB7IHZpZXdQcm92aWRlcnMgPSBbXTsgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xuICAgICAgICBkZWZpbml0aW9uLnByb3ZpZGVyc1Jlc29sdmVyID0gZnVuY3Rpb24gKGRlZikge1xuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyc1Jlc29sdmVyKGRlZiwgcHJvdmlkZXJzLCB2aWV3UHJvdmlkZXJzKTtcbiAgICAgICAgfTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjb21wb25lbnQgY3JlYXRlZCBieSBhIGBDb21wb25lbnRGYWN0b3J5YC5cbiAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgY29tcG9uZW50IGluc3RhbmNlIGFuZCByZWxhdGVkIG9iamVjdHMsXG4gKiBhbmQgcHJvdmlkZXMgdGhlIG1lYW5zIG9mIGRlc3Ryb3lpbmcgdGhlIGluc3RhbmNlLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIENvbXBvbmVudFJlZiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21wb25lbnRSZWYoKSB7XG4gICAgfVxuICAgIHJldHVybiBDb21wb25lbnRSZWY7XG59KCkpO1xuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBDb21wb25lbnRGYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBvbmVudEZhY3RvcnkoKSB7XG4gICAgfVxuICAgIHJldHVybiBDb21wb25lbnRGYWN0b3J5O1xufSgpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbm9Db21wb25lbnRGYWN0b3J5RXJyb3IoY29tcG9uZW50KSB7XG4gICAgdmFyIGVycm9yID0gRXJyb3IoXCJObyBjb21wb25lbnQgZmFjdG9yeSBmb3VuZCBmb3IgXCIgKyBzdHJpbmdpZnkoY29tcG9uZW50KSArIFwiLiBEaWQgeW91IGFkZCBpdCB0byBATmdNb2R1bGUuZW50cnlDb21wb25lbnRzP1wiKTtcbiAgICBlcnJvcltFUlJPUl9DT01QT05FTlRdID0gY29tcG9uZW50O1xuICAgIHJldHVybiBlcnJvcjtcbn1cbnZhciBFUlJPUl9DT01QT05FTlQgPSAnbmdDb21wb25lbnQnO1xudmFyIF9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9OdWxsQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKCkge1xuICAgIH1cbiAgICBfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5wcm90b3R5cGUucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgIHRocm93IG5vQ29tcG9uZW50RmFjdG9yeUVycm9yKGNvbXBvbmVudCk7XG4gICAgfTtcbiAgICByZXR1cm4gX051bGxDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG59KCkpO1xuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyKCkge1xuICAgIH1cbiAgICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIuTlVMTCA9IG5ldyBfTnVsbENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcigpO1xuICAgIHJldHVybiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG59KCkpO1xudmFyIENvZGVnZW5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29kZWdlbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlcihmYWN0b3JpZXMsIF9wYXJlbnQsIF9uZ01vZHVsZSkge1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLl9uZ01vZHVsZSA9IF9uZ01vZHVsZTtcbiAgICAgICAgdGhpcy5fZmFjdG9yaWVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZhY3Rvcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZhY3RvcnkgPSBmYWN0b3JpZXNbaV07XG4gICAgICAgICAgICB0aGlzLl9mYWN0b3JpZXMuc2V0KGZhY3RvcnkuY29tcG9uZW50VHlwZSwgZmFjdG9yeSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQ29kZWdlbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5wcm90b3R5cGUucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgIHZhciBmYWN0b3J5ID0gdGhpcy5fZmFjdG9yaWVzLmdldChjb21wb25lbnQpO1xuICAgICAgICBpZiAoIWZhY3RvcnkgJiYgdGhpcy5fcGFyZW50KSB7XG4gICAgICAgICAgICBmYWN0b3J5ID0gdGhpcy5fcGFyZW50LnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmYWN0b3J5KSB7XG4gICAgICAgICAgICB0aHJvdyBub0NvbXBvbmVudEZhY3RvcnlFcnJvcihjb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9uZW50RmFjdG9yeUJvdW5kVG9Nb2R1bGUoZmFjdG9yeSwgdGhpcy5fbmdNb2R1bGUpO1xuICAgIH07XG4gICAgcmV0dXJuIENvZGVnZW5Db21wb25lbnRGYWN0b3J5UmVzb2x2ZXI7XG59KCkpO1xudmFyIENvbXBvbmVudEZhY3RvcnlCb3VuZFRvTW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZShmYWN0b3J5LCBuZ01vZHVsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgX3RoaXMubmdNb2R1bGUgPSBuZ01vZHVsZTtcbiAgICAgICAgX3RoaXMuc2VsZWN0b3IgPSBmYWN0b3J5LnNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5jb21wb25lbnRUeXBlID0gZmFjdG9yeS5jb21wb25lbnRUeXBlO1xuICAgICAgICBfdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMgPSBmYWN0b3J5Lm5nQ29udGVudFNlbGVjdG9ycztcbiAgICAgICAgX3RoaXMuaW5wdXRzID0gZmFjdG9yeS5pbnB1dHM7XG4gICAgICAgIF90aGlzLm91dHB1dHMgPSBmYWN0b3J5Lm91dHB1dHM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29tcG9uZW50RmFjdG9yeUJvdW5kVG9Nb2R1bGUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChpbmplY3RvciwgcHJvamVjdGFibGVOb2Rlcywgcm9vdFNlbGVjdG9yT3JOb2RlLCBuZ01vZHVsZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mYWN0b3J5LmNyZWF0ZShpbmplY3RvciwgcHJvamVjdGFibGVOb2Rlcywgcm9vdFNlbGVjdG9yT3JOb2RlLCBuZ01vZHVsZSB8fCB0aGlzLm5nTW9kdWxlKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZTtcbn0oQ29tcG9uZW50RmFjdG9yeSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gaW5zdGFuY2Ugb2YgYW4gTmdNb2R1bGUgY3JlYXRlZCB2aWEgYSB7QGxpbmsgTmdNb2R1bGVGYWN0b3J5fS5cbiAqXG4gKiBgTmdNb2R1bGVSZWZgIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgTmdNb2R1bGUgSW5zdGFuY2UgYXMgd2VsbCBvdGhlciBvYmplY3RzIHJlbGF0ZWQgdG8gdGhpc1xuICogTmdNb2R1bGUgSW5zdGFuY2UuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgTmdNb2R1bGVSZWYgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdNb2R1bGVSZWYoKSB7XG4gICAgfVxuICAgIHJldHVybiBOZ01vZHVsZVJlZjtcbn0oKSk7XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIE5nTW9kdWxlRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZ01vZHVsZUZhY3RvcnkoKSB7XG4gICAgfVxuICAgIHJldHVybiBOZ01vZHVsZUZhY3Rvcnk7XG59KCkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgVmlld1JlZiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWaWV3UmVmKF9sVmlldywgX2NvbnRleHQsIF9jb21wb25lbnRJbmRleCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gX2NvbnRleHQ7XG4gICAgICAgIHRoaXMuX2NvbXBvbmVudEluZGV4ID0gX2NvbXBvbmVudEluZGV4O1xuICAgICAgICB0aGlzLl9hcHBSZWYgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWV3Q29udGFpbmVyUmVmID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdFZpZXdOb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbFZpZXcgPSBfbFZpZXc7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3UmVmLnByb3RvdHlwZSwgXCJyb290Tm9kZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sVmlld1tIT1NUXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRWaWV3ID0gdGhpcy5fbFZpZXdbSE9TVF9OT0RFXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdE5hdGl2ZU5vZGVzKHRoaXMuX2xWaWV3LCB0VmlldywgW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld1JlZi5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY29udGV4dCA/IHRoaXMuX2NvbnRleHQgOiB0aGlzLl9sb29rVXBDb250ZXh0KCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3UmVmLnByb3RvdHlwZSwgXCJkZXN0cm95ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fbFZpZXdbRkxBR1NdICYgNjQgLyogRGVzdHJveWVkICovKSA9PT0gNjQgLyogRGVzdHJveWVkICovO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBWaWV3UmVmLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fYXBwUmVmKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBSZWYuZGV0YWNoVmlldyh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl92aWV3Q29udGFpbmVyUmVmKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl92aWV3Q29udGFpbmVyUmVmLmluZGV4T2YodGhpcyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYuZGV0YWNoKGluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGRlc3Ryb3lMVmlldyh0aGlzLl9sVmlldyk7XG4gICAgfTtcbiAgICBWaWV3UmVmLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsgc3RvcmVDbGVhbnVwRm4odGhpcy5fbFZpZXcsIGNhbGxiYWNrKTsgfTtcbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHZpZXcgYW5kIGFsbCBvZiBpdHMgYW5jZXN0b3JzIGRpcnR5LlxuICAgICAqXG4gICAgICogSXQgYWxzbyB0cmlnZ2VycyBjaGFuZ2UgZGV0ZWN0aW9uIGJ5IGNhbGxpbmcgYHNjaGVkdWxlVGlja2AgaW50ZXJuYWxseSwgd2hpY2ggY29hbGVzY2VzXG4gICAgICogbXVsdGlwbGUgYG1hcmtGb3JDaGVja2AgY2FsbHMgdG8gaW50byBvbmUgY2hhbmdlIGRldGVjdGlvbiBydW4uXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGVuc3VyZSBhbiB7QGxpbmsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kjT25QdXNoIE9uUHVzaH0gY29tcG9uZW50IGlzXG4gICAgICogY2hlY2tlZCB3aGVuIGl0IG5lZWRzIHRvIGJlIHJlLXJlbmRlcmVkIGJ1dCB0aGUgdHdvIG5vcm1hbCB0cmlnZ2VycyBoYXZlbid0IG1hcmtlZCBpdFxuICAgICAqIGRpcnR5IChpLmUuIGlucHV0cyBoYXZlbid0IGNoYW5nZWQgYW5kIGV2ZW50cyBoYXZlbid0IGZpcmVkIGluIHRoZSB2aWV3KS5cbiAgICAgKlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGluayB0byBhIGNoYXB0ZXIgb24gT25QdXNoIGNvbXBvbmVudHMgLS0+XG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBgYGB0eXBlc2NyaXB0XG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ215LWFwcCcsXG4gICAgICogICB0ZW1wbGF0ZTogYE51bWJlciBvZiB0aWNrczoge3tudW1iZXJPZlRpY2tzfX1gXG4gICAgICogICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIEFwcENvbXBvbmVudCB7XG4gICAgICogICBudW1iZXJPZlRpY2tzID0gMDtcbiAgICAgKlxuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gICAgICogICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiAgICAgICB0aGlzLm51bWJlck9mVGlja3MrKztcbiAgICAgKiAgICAgICAvLyB0aGUgZm9sbG93aW5nIGlzIHJlcXVpcmVkLCBvdGhlcndpc2UgdGhlIHZpZXcgd2lsbCBub3QgYmUgdXBkYXRlZFxuICAgICAqICAgICAgIHRoaXMucmVmLm1hcmtGb3JDaGVjaygpO1xuICAgICAqICAgICB9LCAxMDAwKTtcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgVmlld1JlZi5wcm90b3R5cGUubWFya0ZvckNoZWNrID0gZnVuY3Rpb24gKCkgeyBtYXJrVmlld0RpcnR5KHRoaXMuX2xWaWV3KTsgfTtcbiAgICAvKipcbiAgICAgKiBEZXRhY2hlcyB0aGUgdmlldyBmcm9tIHRoZSBjaGFuZ2UgZGV0ZWN0aW9uIHRyZWUuXG4gICAgICpcbiAgICAgKiBEZXRhY2hlZCB2aWV3cyB3aWxsIG5vdCBiZSBjaGVja2VkIGR1cmluZyBjaGFuZ2UgZGV0ZWN0aW9uIHJ1bnMgdW50aWwgdGhleSBhcmVcbiAgICAgKiByZS1hdHRhY2hlZCwgZXZlbiBpZiB0aGV5IGFyZSBkaXJ0eS4gYGRldGFjaGAgY2FuIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aFxuICAgICAqIHtAbGluayBDaGFuZ2VEZXRlY3RvclJlZiNkZXRlY3RDaGFuZ2VzIGRldGVjdENoYW5nZXN9IHRvIGltcGxlbWVudCBsb2NhbCBjaGFuZ2VcbiAgICAgKiBkZXRlY3Rpb24gY2hlY2tzLlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIGEgY2hhcHRlciBvbiBkZXRhY2gvcmVhdHRhY2gvbG9jYWwgZGlnZXN0IC0tPlxuICAgICAqIDwhLS0gVE9ETzogQWRkIGEgbGl2ZSBkZW1vIG9uY2UgcmVmLmRldGVjdENoYW5nZXMgaXMgbWVyZ2VkIGludG8gbWFzdGVyIC0tPlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlZmluZXMgYSBjb21wb25lbnQgd2l0aCBhIGxhcmdlIGxpc3Qgb2YgcmVhZG9ubHkgZGF0YS5cbiAgICAgKiBJbWFnaW5lIHRoZSBkYXRhIGNoYW5nZXMgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyxcbiAgICAgKiB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3QgZXZlcnkgZml2ZSBzZWNvbmRzLiBXZSBjYW4gZG8gdGhhdCBieSBkZXRhY2hpbmdcbiAgICAgKiB0aGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yIGFuZCBkb2luZyBhIGxvY2FsIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBjbGFzcyBEYXRhUHJvdmlkZXIge1xuICAgICAqICAgLy8gaW4gYSByZWFsIGFwcGxpY2F0aW9uIHRoZSByZXR1cm5lZCBkYXRhIHdpbGwgYmUgZGlmZmVyZW50IGV2ZXJ5IHRpbWVcbiAgICAgKiAgIGdldCBkYXRhKCkge1xuICAgICAqICAgICByZXR1cm4gWzEsMiwzLDQsNV07XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ2dpYW50LWxpc3QnLFxuICAgICAqICAgdGVtcGxhdGU6IGBcbiAgICAgKiAgICAgPGxpICpuZ0Zvcj1cImxldCBkIG9mIGRhdGFQcm92aWRlci5kYXRhXCI+RGF0YSB7e2R9fTwvbGk+XG4gICAgICogICBgLFxuICAgICAqIH0pXG4gICAgICogY2xhc3MgR2lhbnRMaXN0IHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVmOiBDaGFuZ2VEZXRlY3RvclJlZiwgcHJpdmF0ZSBkYXRhUHJvdmlkZXI6IERhdGFQcm92aWRlcikge1xuICAgICAqICAgICByZWYuZGV0YWNoKCk7XG4gICAgICogICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiAgICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICogICAgIH0sIDUwMDApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICAgICAqICAgcHJvdmlkZXJzOiBbRGF0YVByb3ZpZGVyXSxcbiAgICAgKiAgIHRlbXBsYXRlOiBgXG4gICAgICogICAgIDxnaWFudC1saXN0PjxnaWFudC1saXN0PlxuICAgICAqICAgYCxcbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIEFwcCB7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFZpZXdSZWYucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fbFZpZXdbRkxBR1NdICY9IH4xNiAvKiBBdHRhY2hlZCAqLzsgfTtcbiAgICAvKipcbiAgICAgKiBSZS1hdHRhY2hlcyBhIHZpZXcgdG8gdGhlIGNoYW5nZSBkZXRlY3Rpb24gdHJlZS5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcmUtYXR0YWNoIHZpZXdzIHRoYXQgd2VyZSBwcmV2aW91c2x5IGRldGFjaGVkIGZyb20gdGhlIHRyZWVcbiAgICAgKiB1c2luZyB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjZGV0YWNoIGRldGFjaH0uIFZpZXdzIGFyZSBhdHRhY2hlZCB0byB0aGUgdHJlZSBieSBkZWZhdWx0LlxuICAgICAqXG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaW5rIHRvIGEgY2hhcHRlciBvbiBkZXRhY2gvcmVhdHRhY2gvbG9jYWwgZGlnZXN0IC0tPlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGNyZWF0ZXMgYSBjb21wb25lbnQgZGlzcGxheWluZyBgbGl2ZWAgZGF0YS4gVGhlIGNvbXBvbmVudCB3aWxsIGRldGFjaFxuICAgICAqIGl0cyBjaGFuZ2UgZGV0ZWN0b3IgZnJvbSB0aGUgbWFpbiBjaGFuZ2UgZGV0ZWN0b3IgdHJlZSB3aGVuIHRoZSBjb21wb25lbnQncyBsaXZlIHByb3BlcnR5XG4gICAgICogaXMgc2V0IHRvIGZhbHNlLlxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNsYXNzIERhdGFQcm92aWRlciB7XG4gICAgICogICBkYXRhID0gMTtcbiAgICAgKlxuICAgICAqICAgY29uc3RydWN0b3IoKSB7XG4gICAgICogICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgKiAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGEgKiAyO1xuICAgICAqICAgICB9LCA1MDApO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgc2VsZWN0b3I6ICdsaXZlLWRhdGEnLFxuICAgICAqICAgaW5wdXRzOiBbJ2xpdmUnXSxcbiAgICAgKiAgIHRlbXBsYXRlOiAnRGF0YToge3tkYXRhUHJvdmlkZXIuZGF0YX19J1xuICAgICAqIH0pXG4gICAgICogY2xhc3MgTGl2ZURhdGEge1xuICAgICAqICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIGRhdGFQcm92aWRlcjogRGF0YVByb3ZpZGVyKSB7fVxuICAgICAqXG4gICAgICogICBzZXQgbGl2ZSh2YWx1ZSkge1xuICAgICAqICAgICBpZiAodmFsdWUpIHtcbiAgICAgKiAgICAgICB0aGlzLnJlZi5yZWF0dGFjaCgpO1xuICAgICAqICAgICB9IGVsc2Uge1xuICAgICAqICAgICAgIHRoaXMucmVmLmRldGFjaCgpO1xuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICBzZWxlY3RvcjogJ215LWFwcCcsXG4gICAgICogICBwcm92aWRlcnM6IFtEYXRhUHJvdmlkZXJdLFxuICAgICAqICAgdGVtcGxhdGU6IGBcbiAgICAgKiAgICAgTGl2ZSBVcGRhdGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBbKG5nTW9kZWwpXT1cImxpdmVcIj5cbiAgICAgKiAgICAgPGxpdmUtZGF0YSBbbGl2ZV09XCJsaXZlXCI+PGxpdmUtZGF0YT5cbiAgICAgKiAgIGAsXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBBcHBDb21wb25lbnQge1xuICAgICAqICAgbGl2ZSA9IHRydWU7XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFZpZXdSZWYucHJvdG90eXBlLnJlYXR0YWNoID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9sVmlld1tGTEFHU10gfD0gMTYgLyogQXR0YWNoZWQgKi87IH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSB2aWV3IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBhbHNvIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjZGV0YWNoIGRldGFjaH0gdG8gaW1wbGVtZW50XG4gICAgICogbG9jYWwgY2hhbmdlIGRldGVjdGlvbiBjaGVja3MuXG4gICAgICpcbiAgICAgKiA8IS0tIFRPRE86IEFkZCBhIGxpbmsgdG8gYSBjaGFwdGVyIG9uIGRldGFjaC9yZWF0dGFjaC9sb2NhbCBkaWdlc3QgLS0+XG4gICAgICogPCEtLSBUT0RPOiBBZGQgYSBsaXZlIGRlbW8gb25jZSByZWYuZGV0ZWN0Q2hhbmdlcyBpcyBtZXJnZWQgaW50byBtYXN0ZXIgLS0+XG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgZGVmaW5lcyBhIGNvbXBvbmVudCB3aXRoIGEgbGFyZ2UgbGlzdCBvZiByZWFkb25seSBkYXRhLlxuICAgICAqIEltYWdpbmUsIHRoZSBkYXRhIGNoYW5nZXMgY29uc3RhbnRseSwgbWFueSB0aW1lcyBwZXIgc2Vjb25kLiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyxcbiAgICAgKiB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3QgZXZlcnkgZml2ZSBzZWNvbmRzLlxuICAgICAqXG4gICAgICogV2UgY2FuIGRvIHRoYXQgYnkgZGV0YWNoaW5nIHRoZSBjb21wb25lbnQncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIGRvaW5nIGEgbG9jYWwgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIFNlZSB7QGxpbmsgQ2hhbmdlRGV0ZWN0b3JSZWYjZGV0YWNoIGRldGFjaH0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgVmlld1JlZi5wcm90b3R5cGUuZGV0ZWN0Q2hhbmdlcyA9IGZ1bmN0aW9uICgpIHsgZGV0ZWN0Q2hhbmdlc0ludGVybmFsKHRoaXMuX2xWaWV3LCB0aGlzLmNvbnRleHQpOyB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0aGUgY2hhbmdlIGRldGVjdG9yIGFuZCBpdHMgY2hpbGRyZW4sIGFuZCB0aHJvd3MgaWYgYW55IGNoYW5nZXMgYXJlIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1c2VkIGluIGRldmVsb3BtZW50IG1vZGUgdG8gdmVyaWZ5IHRoYXQgcnVubmluZyBjaGFuZ2UgZGV0ZWN0aW9uIGRvZXNuJ3RcbiAgICAgKiBpbnRyb2R1Y2Ugb3RoZXIgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBWaWV3UmVmLnByb3RvdHlwZS5jaGVja05vQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHsgY2hlY2tOb0NoYW5nZXModGhpcy5jb250ZXh0KTsgfTtcbiAgICBWaWV3UmVmLnByb3RvdHlwZS5hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYgPSBmdW5jdGlvbiAodmNSZWYpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FwcFJlZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGUgQXBwbGljYXRpb25SZWYhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0NvbnRhaW5lclJlZiA9IHZjUmVmO1xuICAgIH07XG4gICAgVmlld1JlZi5wcm90b3R5cGUuZGV0YWNoRnJvbUFwcFJlZiA9IGZ1bmN0aW9uICgpIHsgdGhpcy5fYXBwUmVmID0gbnVsbDsgfTtcbiAgICBWaWV3UmVmLnByb3RvdHlwZS5hdHRhY2hUb0FwcFJlZiA9IGZ1bmN0aW9uIChhcHBSZWYpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyB2aWV3IGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBWaWV3Q29udGFpbmVyIScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FwcFJlZiA9IGFwcFJlZjtcbiAgICB9O1xuICAgIFZpZXdSZWYucHJvdG90eXBlLl9sb29rVXBDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGV4dCA9IHRoaXMuX2xWaWV3W1BBUkVOVF1bdGhpcy5fY29tcG9uZW50SW5kZXhdO1xuICAgIH07XG4gICAgcmV0dXJuIFZpZXdSZWY7XG59KCkpO1xuLyoqIEBpbnRlcm5hbCAqL1xudmFyIFJvb3RWaWV3UmVmID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSb290Vmlld1JlZiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSb290Vmlld1JlZihfdmlldykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBfdmlldywgbnVsbCwgLTEpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl92aWV3ID0gX3ZpZXc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUm9vdFZpZXdSZWYucHJvdG90eXBlLmRldGVjdENoYW5nZXMgPSBmdW5jdGlvbiAoKSB7IGRldGVjdENoYW5nZXNJblJvb3RWaWV3KHRoaXMuX3ZpZXcpOyB9O1xuICAgIFJvb3RWaWV3UmVmLnByb3RvdHlwZS5jaGVja05vQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHsgY2hlY2tOb0NoYW5nZXNJblJvb3RWaWV3KHRoaXMuX3ZpZXcpOyB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSb290Vmlld1JlZi5wcm90b3R5cGUsIFwiY29udGV4dFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFJvb3RWaWV3UmVmO1xufShWaWV3UmVmKSk7XG5mdW5jdGlvbiBjb2xsZWN0TmF0aXZlTm9kZXMobFZpZXcsIHBhcmVudFROb2RlLCByZXN1bHQpIHtcbiAgICB2YXIgdE5vZGVDaGlsZCA9IHBhcmVudFROb2RlLmNoaWxkO1xuICAgIHdoaWxlICh0Tm9kZUNoaWxkKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGdldE5hdGl2ZUJ5VE5vZGUodE5vZGVDaGlsZCwgbFZpZXcpKTtcbiAgICAgICAgaWYgKHROb2RlQ2hpbGQudHlwZSA9PT0gNCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgICAgICBjb2xsZWN0TmF0aXZlTm9kZXMobFZpZXcsIHROb2RlQ2hpbGQsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgdE5vZGVDaGlsZCA9IHROb2RlQ2hpbGQubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGFuIEVsZW1lbnRSZWYgZnJvbSB0aGUgbW9zdCByZWNlbnQgbm9kZS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgRWxlbWVudFJlZiBpbnN0YW5jZSB0byB1c2VcbiAqL1xuZnVuY3Rpb24gaW5qZWN0RWxlbWVudFJlZihFbGVtZW50UmVmVG9rZW4pIHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudFJlZihFbGVtZW50UmVmVG9rZW4sIGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpLCBnZXRMVmlldygpKTtcbn1cbnZhciBSM0VsZW1lbnRSZWY7XG4vKipcbiAqIENyZWF0ZXMgYW4gRWxlbWVudFJlZiBnaXZlbiBhIG5vZGUuXG4gKlxuICogQHBhcmFtIEVsZW1lbnRSZWZUb2tlbiBUaGUgRWxlbWVudFJlZiB0eXBlXG4gKiBAcGFyYW0gdE5vZGUgVGhlIG5vZGUgZm9yIHdoaWNoIHlvdSdkIGxpa2UgYW4gRWxlbWVudFJlZlxuICogQHBhcmFtIHZpZXcgVGhlIHZpZXcgdG8gd2hpY2ggdGhlIG5vZGUgYmVsb25nc1xuICogQHJldHVybnMgVGhlIEVsZW1lbnRSZWYgaW5zdGFuY2UgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRSZWYoRWxlbWVudFJlZlRva2VuLCB0Tm9kZSwgdmlldykge1xuICAgIGlmICghUjNFbGVtZW50UmVmKSB7XG4gICAgICAgIC8vIFRPRE86IEZpeCBjbGFzcyBuYW1lLCBzaG91bGQgYmUgRWxlbWVudFJlZiwgYnV0IHRoZXJlIGFwcGVhcnMgdG8gYmUgYSByb2xsdXAgYnVnXG4gICAgICAgIFIzRWxlbWVudFJlZiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhFbGVtZW50UmVmXywgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEVsZW1lbnRSZWZfKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBFbGVtZW50UmVmXztcbiAgICAgICAgfShFbGVtZW50UmVmVG9rZW4pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSM0VsZW1lbnRSZWYoZ2V0TmF0aXZlQnlUTm9kZSh0Tm9kZSwgdmlldykpO1xufVxudmFyIFIzVGVtcGxhdGVSZWY7XG4vKipcbiAqIENyZWF0ZXMgYSBUZW1wbGF0ZVJlZiBnaXZlbiBhIG5vZGUuXG4gKlxuICogQHJldHVybnMgVGhlIFRlbXBsYXRlUmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBpbmplY3RUZW1wbGF0ZVJlZihUZW1wbGF0ZVJlZlRva2VuLCBFbGVtZW50UmVmVG9rZW4pIHtcbiAgICByZXR1cm4gY3JlYXRlVGVtcGxhdGVSZWYoVGVtcGxhdGVSZWZUb2tlbiwgRWxlbWVudFJlZlRva2VuLCBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKSwgZ2V0TFZpZXcoKSk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBUZW1wbGF0ZVJlZiBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci5cbiAqXG4gKiBAcGFyYW0gVGVtcGxhdGVSZWZUb2tlbiBUaGUgVGVtcGxhdGVSZWYgdHlwZVxuICogQHBhcmFtIEVsZW1lbnRSZWZUb2tlbiBUaGUgRWxlbWVudFJlZiB0eXBlXG4gKiBAcGFyYW0gaG9zdFROb2RlIFRoZSBub2RlIHRoYXQgaXMgcmVxdWVzdGluZyBhIFRlbXBsYXRlUmVmXG4gKiBAcGFyYW0gaG9zdFZpZXcgVGhlIHZpZXcgdG8gd2hpY2ggdGhlIG5vZGUgYmVsb25nc1xuICogQHJldHVybnMgVGhlIFRlbXBsYXRlUmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBjcmVhdGVUZW1wbGF0ZVJlZihUZW1wbGF0ZVJlZlRva2VuLCBFbGVtZW50UmVmVG9rZW4sIGhvc3RUTm9kZSwgaG9zdFZpZXcpIHtcbiAgICBpZiAoIVIzVGVtcGxhdGVSZWYpIHtcbiAgICAgICAgLy8gVE9ETzogRml4IGNsYXNzIG5hbWUsIHNob3VsZCBiZSBUZW1wbGF0ZVJlZiwgYnV0IHRoZXJlIGFwcGVhcnMgdG8gYmUgYSByb2xsdXAgYnVnXG4gICAgICAgIFIzVGVtcGxhdGVSZWYgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoVGVtcGxhdGVSZWZfLCBfc3VwZXIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gVGVtcGxhdGVSZWZfKF9kZWNsYXJhdGlvblBhcmVudFZpZXcsIGVsZW1lbnRSZWYsIF90VmlldywgX3JlbmRlcmVyLCBfcXVlcmllcywgX2luamVjdG9ySW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAgICAgICAgIF90aGlzLl9kZWNsYXJhdGlvblBhcmVudFZpZXcgPSBfZGVjbGFyYXRpb25QYXJlbnRWaWV3O1xuICAgICAgICAgICAgICAgIF90aGlzLmVsZW1lbnRSZWYgPSBlbGVtZW50UmVmO1xuICAgICAgICAgICAgICAgIF90aGlzLl90VmlldyA9IF90VmlldztcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVuZGVyZXIgPSBfcmVuZGVyZXI7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3F1ZXJpZXMgPSBfcXVlcmllcztcbiAgICAgICAgICAgICAgICBfdGhpcy5faW5qZWN0b3JJbmRleCA9IF9pbmplY3RvckluZGV4O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFRlbXBsYXRlUmVmXy5wcm90b3R5cGUuY3JlYXRlRW1iZWRkZWRWaWV3ID0gZnVuY3Rpb24gKGNvbnRleHQsIGNvbnRhaW5lciQkMSwgaG9zdFROb2RlLCBob3N0VmlldywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbFZpZXcgPSBjcmVhdGVFbWJlZGRlZFZpZXdBbmROb2RlKHRoaXMuX3RWaWV3LCBjb250ZXh0LCB0aGlzLl9kZWNsYXJhdGlvblBhcmVudFZpZXcsIHRoaXMuX3JlbmRlcmVyLCB0aGlzLl9xdWVyaWVzLCB0aGlzLl9pbmplY3RvckluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyJCQxKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc2VydFZpZXcobFZpZXcsIGNvbnRhaW5lciQkMSwgaG9zdFZpZXcsIGluZGV4LCBob3N0VE5vZGUuaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZW5kZXJFbWJlZGRlZFRlbXBsYXRlKGxWaWV3LCB0aGlzLl90VmlldywgY29udGV4dCk7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdSZWYgPSBuZXcgVmlld1JlZihsVmlldywgY29udGV4dCwgLTEpO1xuICAgICAgICAgICAgICAgIHZpZXdSZWYuX3RWaWV3Tm9kZSA9IGxWaWV3W0hPU1RfTk9ERV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIFRlbXBsYXRlUmVmXztcbiAgICAgICAgfShUZW1wbGF0ZVJlZlRva2VuKSk7XG4gICAgfVxuICAgIGlmIChob3N0VE5vZGUudHlwZSA9PT0gMCAvKiBDb250YWluZXIgKi8pIHtcbiAgICAgICAgdmFyIGhvc3RDb250YWluZXIgPSBob3N0Vmlld1tob3N0VE5vZGUuaW5kZXhdO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChob3N0VE5vZGUudFZpZXdzLCAnVFZpZXcgbXVzdCBiZSBhbGxvY2F0ZWQnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSM1RlbXBsYXRlUmVmKGhvc3RWaWV3LCBjcmVhdGVFbGVtZW50UmVmKEVsZW1lbnRSZWZUb2tlbiwgaG9zdFROb2RlLCBob3N0VmlldyksIGhvc3RUTm9kZS50Vmlld3MsIGdldExWaWV3KClbUkVOREVSRVJdLCBob3N0Q29udGFpbmVyW1FVRVJJRVNdLCBob3N0VE5vZGUuaW5qZWN0b3JJbmRleCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG52YXIgUjNWaWV3Q29udGFpbmVyUmVmO1xuLyoqXG4gKiBDcmVhdGVzIGEgVmlld0NvbnRhaW5lclJlZiBhbmQgc3RvcmVzIGl0IG9uIHRoZSBpbmplY3Rvci4gT3IsIGlmIHRoZSBWaWV3Q29udGFpbmVyUmVmXG4gKiBhbHJlYWR5IGV4aXN0cywgcmV0cmlldmVzIHRoZSBleGlzdGluZyBWaWV3Q29udGFpbmVyUmVmLlxuICpcbiAqIEByZXR1cm5zIFRoZSBWaWV3Q29udGFpbmVyUmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBpbmplY3RWaWV3Q29udGFpbmVyUmVmKFZpZXdDb250YWluZXJSZWZUb2tlbiwgRWxlbWVudFJlZlRva2VuKSB7XG4gICAgdmFyIHByZXZpb3VzVE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICByZXR1cm4gY3JlYXRlQ29udGFpbmVyUmVmKFZpZXdDb250YWluZXJSZWZUb2tlbiwgRWxlbWVudFJlZlRva2VuLCBwcmV2aW91c1ROb2RlLCBnZXRMVmlldygpKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIFZpZXdDb250YWluZXJSZWYgYW5kIHN0b3JlcyBpdCBvbiB0aGUgaW5qZWN0b3IuXG4gKlxuICogQHBhcmFtIFZpZXdDb250YWluZXJSZWZUb2tlbiBUaGUgVmlld0NvbnRhaW5lclJlZiB0eXBlXG4gKiBAcGFyYW0gRWxlbWVudFJlZlRva2VuIFRoZSBFbGVtZW50UmVmIHR5cGVcbiAqIEBwYXJhbSBob3N0VE5vZGUgVGhlIG5vZGUgdGhhdCBpcyByZXF1ZXN0aW5nIGEgVmlld0NvbnRhaW5lclJlZlxuICogQHBhcmFtIGhvc3RWaWV3IFRoZSB2aWV3IHRvIHdoaWNoIHRoZSBub2RlIGJlbG9uZ3NcbiAqIEByZXR1cm5zIFRoZSBWaWV3Q29udGFpbmVyUmVmIGluc3RhbmNlIHRvIHVzZVxuICovXG5mdW5jdGlvbiBjcmVhdGVDb250YWluZXJSZWYoVmlld0NvbnRhaW5lclJlZlRva2VuLCBFbGVtZW50UmVmVG9rZW4sIGhvc3RUTm9kZSwgaG9zdFZpZXcpIHtcbiAgICBpZiAoIVIzVmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICAvLyBUT0RPOiBGaXggY2xhc3MgbmFtZSwgc2hvdWxkIGJlIFZpZXdDb250YWluZXJSZWYsIGJ1dCB0aGVyZSBhcHBlYXJzIHRvIGJlIGEgcm9sbHVwIGJ1Z1xuICAgICAgICBSM1ZpZXdDb250YWluZXJSZWYgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoVmlld0NvbnRhaW5lclJlZl8sIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBWaWV3Q29udGFpbmVyUmVmXyhfbENvbnRhaW5lciwgX2hvc3RUTm9kZSwgX2hvc3RWaWV3KSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgICAgICAgICBfdGhpcy5fbENvbnRhaW5lciA9IF9sQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgIF90aGlzLl9ob3N0VE5vZGUgPSBfaG9zdFROb2RlO1xuICAgICAgICAgICAgICAgIF90aGlzLl9ob3N0VmlldyA9IF9ob3N0VmlldztcbiAgICAgICAgICAgICAgICBfdGhpcy5fdmlld1JlZnMgPSBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLCBcImVsZW1lbnRcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudFJlZihFbGVtZW50UmVmVG9rZW4sIHRoaXMuX2hvc3RUTm9kZSwgdGhpcy5faG9zdFZpZXcpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTm9kZUluamVjdG9yKHRoaXMuX2hvc3RUTm9kZSwgdGhpcy5faG9zdFZpZXcpOyB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUsIFwicGFyZW50SW5qZWN0b3JcIiwge1xuICAgICAgICAgICAgICAgIC8qKiBAZGVwcmVjYXRlZCBObyByZXBsYWNlbWVudCAqL1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50TG9jYXRpb24gPSBnZXRQYXJlbnRJbmplY3RvckxvY2F0aW9uKHRoaXMuX2hvc3RUTm9kZSwgdGhpcy5faG9zdFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50VmlldyA9IGdldFBhcmVudEluamVjdG9yVmlldyhwYXJlbnRMb2NhdGlvbiwgdGhpcy5faG9zdFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50VE5vZGUgPSBnZXRQYXJlbnRJbmplY3RvclROb2RlKHBhcmVudExvY2F0aW9uLCB0aGlzLl9ob3N0VmlldywgdGhpcy5faG9zdFROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFoYXNQYXJlbnRJbmplY3RvcihwYXJlbnRMb2NhdGlvbikgfHwgcGFyZW50VE5vZGUgPT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm9kZUluamVjdG9yKG51bGwsIHRoaXMuX2hvc3RWaWV3KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm9kZUluamVjdG9yKHBhcmVudFROb2RlLCBwYXJlbnRWaWV3KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5fbENvbnRhaW5lcltWSUVXU10ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7IHJldHVybiB0aGlzLl92aWV3UmVmc1tpbmRleF0gfHwgbnVsbDsgfTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2xDb250YWluZXJbVklFV1NdLmxlbmd0aDsgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUuY3JlYXRlRW1iZWRkZWRWaWV3ID0gZnVuY3Rpb24gKHRlbXBsYXRlUmVmLCBjb250ZXh0LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBhZGp1c3RlZElkeCA9IHRoaXMuX2FkanVzdEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgICAgICB2YXIgdmlld1JlZiA9IHRlbXBsYXRlUmVmXG4gICAgICAgICAgICAgICAgICAgIC5jcmVhdGVFbWJlZGRlZFZpZXcoY29udGV4dCB8fCB7fSwgdGhpcy5fbENvbnRhaW5lciwgdGhpcy5faG9zdFROb2RlLCB0aGlzLl9ob3N0VmlldywgYWRqdXN0ZWRJZHgpO1xuICAgICAgICAgICAgICAgIHZpZXdSZWYuYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdSZWZzLnNwbGljZShhZGp1c3RlZElkeCwgMCwgdmlld1JlZik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLmNyZWF0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnRGYWN0b3J5LCBpbmRleCwgaW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIG5nTW9kdWxlUmVmKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHRJbmplY3RvciA9IGluamVjdG9yIHx8IHRoaXMucGFyZW50SW5qZWN0b3I7XG4gICAgICAgICAgICAgICAgaWYgKCFuZ01vZHVsZVJlZiAmJiBjb21wb25lbnRGYWN0b3J5Lm5nTW9kdWxlID09IG51bGwgJiYgY29udGV4dEluamVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG5nTW9kdWxlUmVmID0gY29udGV4dEluamVjdG9yLmdldChOZ01vZHVsZVJlZiwgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnRSZWYgPSBjb21wb25lbnRGYWN0b3J5LmNyZWF0ZShjb250ZXh0SW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHVuZGVmaW5lZCwgbmdNb2R1bGVSZWYpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGNvbXBvbmVudFJlZi5ob3N0VmlldywgaW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRSZWY7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uICh2aWV3UmVmLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICh2aWV3UmVmLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnNlcnQgYSBkZXN0cm95ZWQgVmlldyBpbiBhIFZpZXdDb250YWluZXIhJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsVmlldyA9IHZpZXdSZWYuX2xWaWV3O1xuICAgICAgICAgICAgICAgIHZhciBhZGp1c3RlZElkeCA9IHRoaXMuX2FkanVzdEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgICAgICBpbnNlcnRWaWV3KGxWaWV3LCB0aGlzLl9sQ29udGFpbmVyLCB0aGlzLl9ob3N0VmlldywgYWRqdXN0ZWRJZHgsIHRoaXMuX2hvc3RUTm9kZS5pbmRleCk7XG4gICAgICAgICAgICAgICAgdmFyIGJlZm9yZU5vZGUgPSBnZXRCZWZvcmVOb2RlRm9yVmlldyhhZGp1c3RlZElkeCwgdGhpcy5fbENvbnRhaW5lcltWSUVXU10sIHRoaXMuX2xDb250YWluZXJbTkFUSVZFXSk7XG4gICAgICAgICAgICAgICAgYWRkUmVtb3ZlVmlld0Zyb21Db250YWluZXIobFZpZXcsIHRydWUsIGJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgICAgIHZpZXdSZWYuYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdSZWZzLnNwbGljZShhZGp1c3RlZElkeCwgMCwgdmlld1JlZik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbiAodmlld1JlZiwgbmV3SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAodmlld1JlZi5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbW92ZSBhIGRlc3Ryb3llZCBWaWV3IGluIGEgVmlld0NvbnRhaW5lciEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKHZpZXdSZWYpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydCh2aWV3UmVmLCB0aGlzLl9hZGp1c3RJbmRleChuZXdJbmRleCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKHZpZXdSZWYpIHsgcmV0dXJuIHRoaXMuX3ZpZXdSZWZzLmluZGV4T2Yodmlld1JlZik7IH07XG4gICAgICAgICAgICBWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGFkanVzdGVkSWR4ID0gdGhpcy5fYWRqdXN0SW5kZXgoaW5kZXgsIC0xKTtcbiAgICAgICAgICAgICAgICByZW1vdmVWaWV3KHRoaXMuX2xDb250YWluZXIsIHRoaXMuX2hvc3RUTm9kZSwgYWRqdXN0ZWRJZHgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdSZWZzLnNwbGljZShhZGp1c3RlZElkeCwgMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgICAgIHZhciBhZGp1c3RlZElkeCA9IHRoaXMuX2FkanVzdEluZGV4KGluZGV4LCAtMSk7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBkZXRhY2hWaWV3KHRoaXMuX2xDb250YWluZXIsIGFkanVzdGVkSWR4LCAhIXRoaXMuX2hvc3RUTm9kZS5kZXRhY2hlZCk7XG4gICAgICAgICAgICAgICAgdmFyIHdhc0RldGFjaGVkID0gdGhpcy5fdmlld1JlZnMuc3BsaWNlKGFkanVzdGVkSWR4LCAxKVswXSAhPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiB3YXNEZXRhY2hlZCA/IG5ldyBWaWV3UmVmKHZpZXcsIHZpZXdbQ09OVEVYVF0sIHZpZXdbQ09OVEFJTkVSX0lOREVYXSkgOiBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5fYWRqdXN0SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgsIHNoaWZ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoaWZ0ID09PSB2b2lkIDApIHsgc2hpZnQgPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xDb250YWluZXJbVklFV1NdLmxlbmd0aCArIHNoaWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmdEZXZNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydEdyZWF0ZXJUaGFuKGluZGV4LCAtMSwgJ2luZGV4IG11c3QgYmUgcG9zaXRpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gKzEgYmVjYXVzZSBpdCdzIGxlZ2FsIHRvIGluc2VydCBhdCB0aGUgZW5kLlxuICAgICAgICAgICAgICAgICAgICBhc3NlcnRMZXNzVGhhbihpbmRleCwgdGhpcy5fbENvbnRhaW5lcltWSUVXU10ubGVuZ3RoICsgMSArIHNoaWZ0LCAnaW5kZXgnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBWaWV3Q29udGFpbmVyUmVmXztcbiAgICAgICAgfShWaWV3Q29udGFpbmVyUmVmVG9rZW4pKTtcbiAgICB9XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5vZGVPZlBvc3NpYmxlVHlwZXMoaG9zdFROb2RlLCAwIC8qIENvbnRhaW5lciAqLywgMyAvKiBFbGVtZW50ICovLCA0IC8qIEVsZW1lbnRDb250YWluZXIgKi8pO1xuICAgIHZhciBsQ29udGFpbmVyO1xuICAgIHZhciBzbG90VmFsdWUgPSBob3N0Vmlld1tob3N0VE5vZGUuaW5kZXhdO1xuICAgIGlmIChpc0xDb250YWluZXIoc2xvdFZhbHVlKSkge1xuICAgICAgICAvLyBJZiB0aGUgaG9zdCBpcyBhIGNvbnRhaW5lciwgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYSBuZXcgTENvbnRhaW5lclxuICAgICAgICBsQ29udGFpbmVyID0gc2xvdFZhbHVlO1xuICAgICAgICBsQ29udGFpbmVyW0FDVElWRV9JTkRFWF0gPSAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBjb21tZW50Tm9kZSA9IGhvc3RWaWV3W1JFTkRFUkVSXS5jcmVhdGVDb21tZW50KG5nRGV2TW9kZSA/ICdjb250YWluZXInIDogJycpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlQ29tbWVudCsrO1xuICAgICAgICAvLyBBIGNvbnRhaW5lciBjYW4gYmUgY3JlYXRlZCBvbiB0aGUgcm9vdCAodG9wbW9zdCAvIGJvb3RzdHJhcHBlZCkgY29tcG9uZW50IGFuZCBpbiB0aGlzIGNhc2Ugd2VcbiAgICAgICAgLy8gY2FuJ3QgdXNlIExUcmVlIHRvIGluc2VydCBjb250YWluZXIncyBtYXJrZXIgbm9kZSAoYm90aCBwYXJlbnQgb2YgYSBjb21tZW50IG5vZGUgYW5kIHRoZVxuICAgICAgICAvLyBjb21tZW5kIG5vZGUgaXRzZWxmIGlzIGxvY2F0ZWQgb3V0c2lkZSBvZiBlbGVtZW50cyBob2xkIGJ5IExUcmVlKS4gSW4gdGhpcyBzcGVjaWZpYyBjYXNlIHdlXG4gICAgICAgIC8vIHVzZSBsb3ctbGV2ZWwgRE9NIG1hbmlwdWxhdGlvbiB0byBpbnNlcnQgY29udGFpbmVyJ3MgbWFya2VyIChjb21tZW50KSBub2RlLlxuICAgICAgICBpZiAoaXNSb290Vmlldyhob3N0VmlldykpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJlciA9IGhvc3RWaWV3W1JFTkRFUkVSXTtcbiAgICAgICAgICAgIHZhciBob3N0TmF0aXZlID0gZ2V0TmF0aXZlQnlUTm9kZShob3N0VE5vZGUsIGhvc3RWaWV3KTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRPZkhvc3ROYXRpdmUgPSBuYXRpdmVQYXJlbnROb2RlKHJlbmRlcmVyLCBob3N0TmF0aXZlKTtcbiAgICAgICAgICAgIG5hdGl2ZUluc2VydEJlZm9yZShyZW5kZXJlciwgcGFyZW50T2ZIb3N0TmF0aXZlLCBjb21tZW50Tm9kZSwgbmF0aXZlTmV4dFNpYmxpbmcocmVuZGVyZXIsIGhvc3ROYXRpdmUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFwcGVuZENoaWxkKGNvbW1lbnROb2RlLCBob3N0VE5vZGUsIGhvc3RWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICBob3N0Vmlld1tob3N0VE5vZGUuaW5kZXhdID0gbENvbnRhaW5lciA9XG4gICAgICAgICAgICBjcmVhdGVMQ29udGFpbmVyKHNsb3RWYWx1ZSwgaG9zdFROb2RlLCBob3N0VmlldywgY29tbWVudE5vZGUsIHRydWUpO1xuICAgICAgICBhZGRUb1ZpZXdUcmVlKGhvc3RWaWV3LCBob3N0VE5vZGUuaW5kZXgsIGxDb250YWluZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFIzVmlld0NvbnRhaW5lclJlZihsQ29udGFpbmVyLCBob3N0VE5vZGUsIGhvc3RWaWV3KTtcbn1cbi8qKiBSZXR1cm5zIGEgQ2hhbmdlRGV0ZWN0b3JSZWYgKGEuay5hLiBhIFZpZXdSZWYpICovXG5mdW5jdGlvbiBpbmplY3RDaGFuZ2VEZXRlY3RvclJlZigpIHtcbiAgICByZXR1cm4gY3JlYXRlVmlld1JlZihnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKSwgZ2V0TFZpZXcoKSwgbnVsbCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBWaWV3UmVmIGFuZCBzdG9yZXMgaXQgb24gdGhlIGluamVjdG9yIGFzIENoYW5nZURldGVjdG9yUmVmIChwdWJsaWMgYWxpYXMpLlxuICpcbiAqIEBwYXJhbSBob3N0VE5vZGUgVGhlIG5vZGUgdGhhdCBpcyByZXF1ZXN0aW5nIGEgQ2hhbmdlRGV0ZWN0b3JSZWZcbiAqIEBwYXJhbSBob3N0VmlldyBUaGUgdmlldyB0byB3aGljaCB0aGUgbm9kZSBiZWxvbmdzXG4gKiBAcGFyYW0gY29udGV4dCBUaGUgY29udGV4dCBmb3IgdGhpcyBjaGFuZ2UgZGV0ZWN0b3IgcmVmXG4gKiBAcmV0dXJucyBUaGUgQ2hhbmdlRGV0ZWN0b3JSZWYgdG8gdXNlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdSZWYoaG9zdFROb2RlLCBob3N0VmlldywgY29udGV4dCkge1xuICAgIGlmIChpc0NvbXBvbmVudChob3N0VE5vZGUpKSB7XG4gICAgICAgIHZhciBjb21wb25lbnRJbmRleCA9IGhvc3RUTm9kZS5kaXJlY3RpdmVTdGFydDtcbiAgICAgICAgdmFyIGNvbXBvbmVudFZpZXcgPSBnZXRDb21wb25lbnRWaWV3QnlJbmRleChob3N0VE5vZGUuaW5kZXgsIGhvc3RWaWV3KTtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3UmVmKGNvbXBvbmVudFZpZXcsIGNvbnRleHQsIGNvbXBvbmVudEluZGV4KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaG9zdFROb2RlLnR5cGUgPT09IDMgLyogRWxlbWVudCAqLykge1xuICAgICAgICB2YXIgaG9zdENvbXBvbmVudFZpZXcgPSBmaW5kQ29tcG9uZW50Vmlldyhob3N0Vmlldyk7XG4gICAgICAgIHJldHVybiBuZXcgVmlld1JlZihob3N0Q29tcG9uZW50VmlldywgaG9zdENvbXBvbmVudFZpZXdbQ09OVEVYVF0sIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBnZXRPckNyZWF0ZVJlbmRlcmVyMih2aWV3KSB7XG4gICAgdmFyIHJlbmRlcmVyID0gdmlld1tSRU5ERVJFUl07XG4gICAgaWYgKGlzUHJvY2VkdXJhbFJlbmRlcmVyKHJlbmRlcmVyKSkge1xuICAgICAgICByZXR1cm4gcmVuZGVyZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbmplY3QgUmVuZGVyZXIyIHdoZW4gdGhlIGFwcGxpY2F0aW9uIHVzZXMgUmVuZGVyZXIzIScpO1xuICAgIH1cbn1cbi8qKiBSZXR1cm5zIGEgUmVuZGVyZXIyIChvciB0aHJvd3Mgd2hlbiBhcHBsaWNhdGlvbiB3YXMgYm9vdHN0cmFwcGVkIHdpdGggUmVuZGVyZXIzKSAqL1xuZnVuY3Rpb24gaW5qZWN0UmVuZGVyZXIyKCkge1xuICAgIHJldHVybiBnZXRPckNyZWF0ZVJlbmRlcmVyMihnZXRMVmlldygpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIGEgbmF0aXZlIGVsZW1lbnQgaW5zaWRlIG9mIGEgVmlldy5cbiAqXG4gKiBBbiBgRWxlbWVudFJlZmAgaXMgYmFja2VkIGJ5IGEgcmVuZGVyLXNwZWNpZmljIGVsZW1lbnQuIEluIHRoZSBicm93c2VyLCB0aGlzIGlzIHVzdWFsbHkgYSBET01cbiAqIGVsZW1lbnQuXG4gKlxuICogQHNlY3VyaXR5IFBlcm1pdHRpbmcgZGlyZWN0IGFjY2VzcyB0byB0aGUgRE9NIGNhbiBtYWtlIHlvdXIgYXBwbGljYXRpb24gbW9yZSB2dWxuZXJhYmxlIHRvXG4gKiBYU1MgYXR0YWNrcy4gQ2FyZWZ1bGx5IHJldmlldyBhbnkgdXNlIG9mIGBFbGVtZW50UmVmYCBpbiB5b3VyIGNvZGUuIEZvciBtb3JlIGRldGFpbCwgc2VlIHRoZVxuICogW1NlY3VyaXR5IEd1aWRlXShodHRwOi8vZy5jby9uZy9zZWN1cml0eSkuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG4vLyBOb3RlOiBXZSBkb24ndCBleHBvc2UgdGhpbmdzIGxpa2UgYEluamVjdG9yYCwgYFZpZXdDb250YWluZXJgLCAuLi4gaGVyZSxcbi8vIGkuZS4gdXNlcnMgaGF2ZSB0byBhc2sgZm9yIHdoYXQgdGhleSBuZWVkLiBXaXRoIHRoYXQsIHdlIGNhbiBidWlsZCBiZXR0ZXIgYW5hbHlzaXMgdG9vbHNcbi8vIGFuZCBjb3VsZCBkbyBiZXR0ZXIgY29kZWdlbiBpbiB0aGUgZnV0dXJlLlxudmFyIEVsZW1lbnRSZWYgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRWxlbWVudFJlZihuYXRpdmVFbGVtZW50KSB7XG4gICAgICAgIHRoaXMubmF0aXZlRWxlbWVudCA9IG5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBFbGVtZW50UmVmLl9fTkdfRUxFTUVOVF9JRF9fID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gU1dJVENIX0VMRU1FTlRfUkVGX0ZBQ1RPUlkoRWxlbWVudFJlZik7IH07XG4gICAgcmV0dXJuIEVsZW1lbnRSZWY7XG59KCkpO1xudmFyIFNXSVRDSF9FTEVNRU5UX1JFRl9GQUNUT1JZX19QT1NUX1IzX18gPSBpbmplY3RFbGVtZW50UmVmO1xudmFyIFNXSVRDSF9FTEVNRU5UX1JFRl9GQUNUT1JZX19QUkVfUjNfXyA9IG5vb3A7XG52YXIgU1dJVENIX0VMRU1FTlRfUkVGX0ZBQ1RPUlkgPSBTV0lUQ0hfRUxFTUVOVF9SRUZfRkFDVE9SWV9fUFJFX1IzX187XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBSZW5kZXJlclR5cGUyYCAoYW5kIGBSZW5kZXJlcjJgKSBpbnN0ZWFkLlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgUmVuZGVyQ29tcG9uZW50VHlwZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJDb21wb25lbnRUeXBlKGlkLCB0ZW1wbGF0ZVVybCwgc2xvdENvdW50LCBlbmNhcHN1bGF0aW9uLCBzdHlsZXMsIGFuaW1hdGlvbnMpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnRlbXBsYXRlVXJsID0gdGVtcGxhdGVVcmw7XG4gICAgICAgIHRoaXMuc2xvdENvdW50ID0gc2xvdENvdW50O1xuICAgICAgICB0aGlzLmVuY2Fwc3VsYXRpb24gPSBlbmNhcHN1bGF0aW9uO1xuICAgICAgICB0aGlzLnN0eWxlcyA9IHN0eWxlcztcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0gYW5pbWF0aW9ucztcbiAgICB9XG4gICAgcmV0dXJuIFJlbmRlckNvbXBvbmVudFR5cGU7XG59KCkpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBEZWJ1ZyBpbmZvIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBpbiB0aGUgdmlldyBlbmdpbmUgbm93LlxuICovXG52YXIgUmVuZGVyRGVidWdJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbmRlckRlYnVnSW5mbygpIHtcbiAgICB9XG4gICAgcmV0dXJuIFJlbmRlckRlYnVnSW5mbztcbn0oKSk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSB0aGUgYFJlbmRlcmVyMmAgaW5zdGVhZC5cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFJlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbmRlcmVyKCkge1xuICAgIH1cbiAgICByZXR1cm4gUmVuZGVyZXI7XG59KCkpO1xudmFyIFJlbmRlcmVyMkludGVyY2VwdG9yID0gbmV3IEluamVjdGlvblRva2VuKCdSZW5kZXJlcjJJbnRlcmNlcHRvcicpO1xuLyoqXG4gKiBJbmplY3RhYmxlIHNlcnZpY2UgdGhhdCBwcm92aWRlcyBhIGxvdy1sZXZlbCBpbnRlcmZhY2UgZm9yIG1vZGlmeWluZyB0aGUgVUkuXG4gKlxuICogVXNlIHRoaXMgc2VydmljZSB0byBieXBhc3MgQW5ndWxhcidzIHRlbXBsYXRpbmcgYW5kIG1ha2UgY3VzdG9tIFVJIGNoYW5nZXMgdGhhdCBjYW4ndCBiZVxuICogZXhwcmVzc2VkIGRlY2xhcmF0aXZlbHkuIEZvciBleGFtcGxlIGlmIHlvdSBuZWVkIHRvIHNldCBhIHByb3BlcnR5IG9yIGFuIGF0dHJpYnV0ZSB3aG9zZSBuYW1lIGlzXG4gKiBub3Qgc3RhdGljYWxseSBrbm93biwgdXNlIHtAbGluayBSZW5kZXJlciNzZXRFbGVtZW50UHJvcGVydHkgc2V0RWxlbWVudFByb3BlcnR5fSBvclxuICoge0BsaW5rIFJlbmRlcmVyI3NldEVsZW1lbnRBdHRyaWJ1dGUgc2V0RWxlbWVudEF0dHJpYnV0ZX0gcmVzcGVjdGl2ZWx5LlxuICpcbiAqIElmIHlvdSBhcmUgaW1wbGVtZW50aW5nIGEgY3VzdG9tIHJlbmRlcmVyLCB5b3UgbXVzdCBpbXBsZW1lbnQgdGhpcyBpbnRlcmZhY2UuXG4gKlxuICogVGhlIGRlZmF1bHQgUmVuZGVyZXIgaW1wbGVtZW50YXRpb24gaXMgYERvbVJlbmRlcmVyYC4gQWxzbyBhdmFpbGFibGUgaXMgYFdlYldvcmtlclJlbmRlcmVyYC5cbiAqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYFJlbmRlcmVyRmFjdG9yeTJgIGluc3RlYWQuXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBSb290UmVuZGVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUm9vdFJlbmRlcmVyKCkge1xuICAgIH1cbiAgICByZXR1cm4gUm9vdFJlbmRlcmVyO1xufSgpKTtcbi8qKlxuICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgYSBjdXN0b20gcmVuZGVyZXIgdGhhdCBpbXBsZW1lbnRzIHRoZSBgUmVuZGVyZXIyYCBiYXNlIGNsYXNzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFJlbmRlcmVyRmFjdG9yeTIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyZXJGYWN0b3J5MigpIHtcbiAgICB9XG4gICAgcmV0dXJuIFJlbmRlcmVyRmFjdG9yeTI7XG59KCkpO1xuLyoqXG4gKiBGbGFncyBmb3IgcmVuZGVyZXItc3BlY2lmaWMgc3R5bGUgbW9kaWZpZXJzLlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgUmVuZGVyZXJTdHlsZUZsYWdzMjtcbihmdW5jdGlvbiAoUmVuZGVyZXJTdHlsZUZsYWdzMikge1xuICAgIC8qKlxuICAgICAqIE1hcmtzIGEgc3R5bGUgYXMgaW1wb3J0YW50LlxuICAgICAqL1xuICAgIFJlbmRlcmVyU3R5bGVGbGFnczJbUmVuZGVyZXJTdHlsZUZsYWdzMltcIkltcG9ydGFudFwiXSA9IDFdID0gXCJJbXBvcnRhbnRcIjtcbiAgICAvKipcbiAgICAgKiBNYXJrcyBhIHN0eWxlIGFzIHVzaW5nIGRhc2ggY2FzZSBuYW1pbmcgKHRoaXMtaXMtZGFzaC1jYXNlKS5cbiAgICAgKi9cbiAgICBSZW5kZXJlclN0eWxlRmxhZ3MyW1JlbmRlcmVyU3R5bGVGbGFnczJbXCJEYXNoQ2FzZVwiXSA9IDJdID0gXCJEYXNoQ2FzZVwiO1xufSkoUmVuZGVyZXJTdHlsZUZsYWdzMiB8fCAoUmVuZGVyZXJTdHlsZUZsYWdzMiA9IHt9KSk7XG4vKipcbiAqIEV4dGVuZCB0aGlzIGJhc2UgY2xhc3MgdG8gaW1wbGVtZW50IGN1c3RvbSByZW5kZXJpbmcuIEJ5IGRlZmF1bHQsIEFuZ3VsYXJcbiAqIHJlbmRlcnMgYSB0ZW1wbGF0ZSBpbnRvIERPTS4gWW91IGNhbiB1c2UgY3VzdG9tIHJlbmRlcmluZyB0byBpbnRlcmNlcHRcbiAqIHJlbmRlcmluZyBjYWxscywgb3IgdG8gcmVuZGVyIHRvIHNvbWV0aGluZyBvdGhlciB0aGFuIERPTS5cbiAqXG4gKiBDcmVhdGUgeW91ciBjdXN0b20gcmVuZGVyZXIgdXNpbmcgYFJlbmRlcmVyRmFjdG9yeTJgLlxuICpcbiAqIFVzZSBhIGN1c3RvbSByZW5kZXJlciB0byBieXBhc3MgQW5ndWxhcidzIHRlbXBsYXRpbmcgYW5kXG4gKiBtYWtlIGN1c3RvbSBVSSBjaGFuZ2VzIHRoYXQgY2FuJ3QgYmUgZXhwcmVzc2VkIGRlY2xhcmF0aXZlbHkuXG4gKiBGb3IgZXhhbXBsZSBpZiB5b3UgbmVlZCB0byBzZXQgYSBwcm9wZXJ0eSBvciBhbiBhdHRyaWJ1dGUgd2hvc2UgbmFtZSBpc1xuICogbm90IHN0YXRpY2FsbHkga25vd24sIHVzZSB0aGUgYHNldFByb3BlcnR5KClgIG9yXG4gKiBgc2V0QXR0cmlidXRlKClgIG1ldGhvZC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBSZW5kZXJlcjIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyZXIyKCkge1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgUmVuZGVyZXIyLl9fTkdfRUxFTUVOVF9JRF9fID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gU1dJVENIX1JFTkRFUkVSMl9GQUNUT1JZKCk7IH07XG4gICAgcmV0dXJuIFJlbmRlcmVyMjtcbn0oKSk7XG52YXIgU1dJVENIX1JFTkRFUkVSMl9GQUNUT1JZX19QT1NUX1IzX18gPSBpbmplY3RSZW5kZXJlcjI7XG52YXIgU1dJVENIX1JFTkRFUkVSMl9GQUNUT1JZX19QUkVfUjNfXyA9IG5vb3A7XG52YXIgU1dJVENIX1JFTkRFUkVSMl9GQUNUT1JZID0gU1dJVENIX1JFTkRFUkVSMl9GQUNUT1JZX19QUkVfUjNfXztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFNlY3VyaXR5Q29udGV4dCBtYXJrcyBhIGxvY2F0aW9uIHRoYXQgaGFzIGRhbmdlcm91cyBzZWN1cml0eSBpbXBsaWNhdGlvbnMsIGUuZy4gYSBET00gcHJvcGVydHlcbiAqIGxpa2UgYGlubmVySFRNTGAgdGhhdCBjb3VsZCBjYXVzZSBDcm9zcyBTaXRlIFNjcmlwdGluZyAoWFNTKSBzZWN1cml0eSBidWdzIHdoZW4gaW1wcm9wZXJseVxuICogaGFuZGxlZC5cbiAqXG4gKiBTZWUgRG9tU2FuaXRpemVyIGZvciBtb3JlIGRldGFpbHMgb24gc2VjdXJpdHkgaW4gQW5ndWxhciBhcHBsaWNhdGlvbnMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgU2VjdXJpdHlDb250ZXh0O1xuKGZ1bmN0aW9uIChTZWN1cml0eUNvbnRleHQpIHtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIkhUTUxcIl0gPSAxXSA9IFwiSFRNTFwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJTVFlMRVwiXSA9IDJdID0gXCJTVFlMRVwiO1xuICAgIFNlY3VyaXR5Q29udGV4dFtTZWN1cml0eUNvbnRleHRbXCJTQ1JJUFRcIl0gPSAzXSA9IFwiU0NSSVBUXCI7XG4gICAgU2VjdXJpdHlDb250ZXh0W1NlY3VyaXR5Q29udGV4dFtcIlVSTFwiXSA9IDRdID0gXCJVUkxcIjtcbiAgICBTZWN1cml0eUNvbnRleHRbU2VjdXJpdHlDb250ZXh0W1wiUkVTT1VSQ0VfVVJMXCJdID0gNV0gPSBcIlJFU09VUkNFX1VSTFwiO1xufSkoU2VjdXJpdHlDb250ZXh0IHx8IChTZWN1cml0eUNvbnRleHQgPSB7fSkpO1xuLyoqXG4gKiBTYW5pdGl6ZXIgaXMgdXNlZCBieSB0aGUgdmlld3MgdG8gc2FuaXRpemUgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIHZhbHVlcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBTYW5pdGl6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2FuaXRpemVyKCkge1xuICAgIH1cbiAgICByZXR1cm4gU2FuaXRpemVyO1xufSgpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gUmVwcmVzZW50cyB0aGUgdmVyc2lvbiBvZiBBbmd1bGFyXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgVmVyc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBWZXJzaW9uKGZ1bGwpIHtcbiAgICAgICAgdGhpcy5mdWxsID0gZnVsbDtcbiAgICAgICAgdGhpcy5tYWpvciA9IGZ1bGwuc3BsaXQoJy4nKVswXTtcbiAgICAgICAgdGhpcy5taW5vciA9IGZ1bGwuc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgdGhpcy5wYXRjaCA9IGZ1bGwuc3BsaXQoJy4nKS5zbGljZSgyKS5qb2luKCcuJyk7XG4gICAgfVxuICAgIHJldHVybiBWZXJzaW9uO1xufSgpKTtcbi8qKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgVkVSU0lPTiA9IG5ldyBWZXJzaW9uKCc3LjIuNCcpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQkMSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbmdNb2R1bGUgVGhlIE5nTW9kdWxlUmVmIHRvIHdoaWNoIGFsbCByZXNvbHZlZCBmYWN0b3JpZXMgYXJlIGJvdW5kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQkMShuZ01vZHVsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5uZ01vZHVsZSA9IG5nTW9kdWxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciQkMS5wcm90b3R5cGUucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRDb21wb25lbnRUeXBlKGNvbXBvbmVudCk7XG4gICAgICAgIHZhciBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb25lbnRGYWN0b3J5JDEoY29tcG9uZW50RGVmLCB0aGlzLm5nTW9kdWxlKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkJDE7XG59KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikpO1xuZnVuY3Rpb24gdG9SZWZBcnJheShtYXApIHtcbiAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICBmb3IgKHZhciBub25NaW5pZmllZCBpbiBtYXApIHtcbiAgICAgICAgaWYgKG1hcC5oYXNPd25Qcm9wZXJ0eShub25NaW5pZmllZCkpIHtcbiAgICAgICAgICAgIHZhciBtaW5pZmllZCA9IG1hcFtub25NaW5pZmllZF07XG4gICAgICAgICAgICBhcnJheS5wdXNoKHsgcHJvcE5hbWU6IG1pbmlmaWVkLCB0ZW1wbGF0ZU5hbWU6IG5vbk1pbmlmaWVkIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbi8qKlxuICogRGVmYXVsdCB7QGxpbmsgUm9vdENvbnRleHR9IGZvciBhbGwgY29tcG9uZW50cyByZW5kZXJlZCB3aXRoIHtAbGluayByZW5kZXJDb21wb25lbnR9LlxuICovXG52YXIgUk9PVF9DT05URVhUID0gbmV3IEluamVjdGlvblRva2VuKCdST09UX0NPTlRFWFRfVE9LRU4nLCB7IHByb3ZpZGVkSW46ICdyb290JywgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gY3JlYXRlUm9vdENvbnRleHQoaW5qZWN0KFNDSEVEVUxFUikpOyB9IH0pO1xuLyoqXG4gKiBBIGNoYW5nZSBkZXRlY3Rpb24gc2NoZWR1bGVyIHRva2VuIGZvciB7QGxpbmsgUm9vdENvbnRleHR9LiBUaGlzIHRva2VuIGlzIHRoZSBkZWZhdWx0IHZhbHVlIHVzZWRcbiAqIGZvciB0aGUgZGVmYXVsdCBgUm9vdENvbnRleHRgIGZvdW5kIGluIHRoZSB7QGxpbmsgUk9PVF9DT05URVhUfSB0b2tlbi5cbiAqL1xudmFyIFNDSEVEVUxFUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignU0NIRURVTEVSX1RPS0VOJywge1xuICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICBmYWN0b3J5OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWZhdWx0U2NoZWR1bGVyOyB9LFxufSk7XG52YXIgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiA9IHt9O1xuZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEluamVjdG9yKHJvb3RWaWV3SW5qZWN0b3IsIG1vZHVsZUluamVjdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAodG9rZW4sIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJvb3RWaWV3SW5qZWN0b3IuZ2V0KHRva2VuLCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiB8fFxuICAgICAgICAgICAgICAgIG5vdEZvdW5kVmFsdWUgPT09IE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIGZyb20gdGhlIHJvb3QgZWxlbWVudCBpbmplY3RvciB3aGVuXG4gICAgICAgICAgICAgICAgLy8gLSBpdCBwcm92aWRlcyBpdFxuICAgICAgICAgICAgICAgIC8vICAgKHZhbHVlICE9PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKVxuICAgICAgICAgICAgICAgIC8vIC0gdGhlIG1vZHVsZSBpbmplY3RvciBzaG91bGQgbm90IGJlIGNoZWNrZWRcbiAgICAgICAgICAgICAgICAvLyAgIChub3RGb3VuZFZhbHVlID09PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbmplY3Rvci5nZXQodG9rZW4sIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogUmVuZGVyMyBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgdmlld0VuZ2luZV9Db21wb25lbnRGYWN0b3J5fS5cbiAqL1xudmFyIENvbXBvbmVudEZhY3RvcnkkMSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcG9uZW50RmFjdG9yeSQkMSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50RGVmIFRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi5cbiAgICAgKiBAcGFyYW0gbmdNb2R1bGUgVGhlIE5nTW9kdWxlUmVmIHRvIHdoaWNoIHRoZSBmYWN0b3J5IGlzIGJvdW5kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIENvbXBvbmVudEZhY3RvcnkkJDEoY29tcG9uZW50RGVmLCBuZ01vZHVsZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb21wb25lbnREZWYgPSBjb21wb25lbnREZWY7XG4gICAgICAgIF90aGlzLm5nTW9kdWxlID0gbmdNb2R1bGU7XG4gICAgICAgIF90aGlzLmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnREZWYudHlwZTtcbiAgICAgICAgX3RoaXMuc2VsZWN0b3IgPSBjb21wb25lbnREZWYuc2VsZWN0b3JzWzBdWzBdO1xuICAgICAgICBfdGhpcy5uZ0NvbnRlbnRTZWxlY3RvcnMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50RmFjdG9yeSQkMS5wcm90b3R5cGUsIFwiaW5wdXRzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9SZWZBcnJheSh0aGlzLmNvbXBvbmVudERlZi5pbnB1dHMpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50RmFjdG9yeSQkMS5wcm90b3R5cGUsIFwib3V0cHV0c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRvUmVmQXJyYXkodGhpcy5jb21wb25lbnREZWYub3V0cHV0cyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENvbXBvbmVudEZhY3RvcnkkJDEucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChpbmplY3RvciwgcHJvamVjdGFibGVOb2Rlcywgcm9vdFNlbGVjdG9yT3JOb2RlLCBuZ01vZHVsZSkge1xuICAgICAgICB2YXIgaXNJbnRlcm5hbFJvb3RWaWV3ID0gcm9vdFNlbGVjdG9yT3JOb2RlID09PSB1bmRlZmluZWQ7XG4gICAgICAgIG5nTW9kdWxlID0gbmdNb2R1bGUgfHwgdGhpcy5uZ01vZHVsZTtcbiAgICAgICAgdmFyIHJvb3RWaWV3SW5qZWN0b3IgPSBuZ01vZHVsZSA/IGNyZWF0ZUNoYWluZWRJbmplY3RvcihpbmplY3RvciwgbmdNb2R1bGUuaW5qZWN0b3IpIDogaW5qZWN0b3I7XG4gICAgICAgIHZhciByZW5kZXJlckZhY3RvcnkgPSByb290Vmlld0luamVjdG9yLmdldChSZW5kZXJlckZhY3RvcnkyLCBkb21SZW5kZXJlckZhY3RvcnkzKTtcbiAgICAgICAgdmFyIHNhbml0aXplciA9IHJvb3RWaWV3SW5qZWN0b3IuZ2V0KFNhbml0aXplciwgbnVsbCk7XG4gICAgICAgIHZhciBob3N0Uk5vZGUgPSBpc0ludGVybmFsUm9vdFZpZXcgP1xuICAgICAgICAgICAgZWxlbWVudENyZWF0ZSh0aGlzLnNlbGVjdG9yLCByZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIobnVsbCwgdGhpcy5jb21wb25lbnREZWYpKSA6XG4gICAgICAgICAgICBsb2NhdGVIb3N0RWxlbWVudChyZW5kZXJlckZhY3RvcnksIHJvb3RTZWxlY3Rvck9yTm9kZSk7XG4gICAgICAgIHZhciByb290RmxhZ3MgPSB0aGlzLmNvbXBvbmVudERlZi5vblB1c2ggPyA4IC8qIERpcnR5ICovIHwgMTI4IC8qIElzUm9vdCAqLyA6XG4gICAgICAgICAgICA0IC8qIENoZWNrQWx3YXlzICovIHwgMTI4IC8qIElzUm9vdCAqLztcbiAgICAgICAgdmFyIHJvb3RDb250ZXh0ID0gIWlzSW50ZXJuYWxSb290VmlldyA/IHJvb3RWaWV3SW5qZWN0b3IuZ2V0KFJPT1RfQ09OVEVYVCkgOiBjcmVhdGVSb290Q29udGV4dCgpO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSByZW5kZXJlckZhY3RvcnkuY3JlYXRlUmVuZGVyZXIoaG9zdFJOb2RlLCB0aGlzLmNvbXBvbmVudERlZik7XG4gICAgICAgIGlmIChyb290U2VsZWN0b3JPck5vZGUgJiYgaG9zdFJOb2RlKSB7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyU2V0QXR0cmlidXRlKys7XG4gICAgICAgICAgICBpc1Byb2NlZHVyYWxSZW5kZXJlcihyZW5kZXJlcikgP1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShob3N0Uk5vZGUsICduZy12ZXJzaW9uJywgVkVSU0lPTi5mdWxsKSA6XG4gICAgICAgICAgICAgICAgaG9zdFJOb2RlLnNldEF0dHJpYnV0ZSgnbmctdmVyc2lvbicsIFZFUlNJT04uZnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIHRoZSByb290IHZpZXcuIFVzZXMgZW1wdHkgVFZpZXcgYW5kIENvbnRlbnRUZW1wbGF0ZS5cbiAgICAgICAgdmFyIHJvb3RMVmlldyA9IGNyZWF0ZUxWaWV3KG51bGwsIGNyZWF0ZVRWaWV3KC0xLCBudWxsLCAxLCAwLCBudWxsLCBudWxsLCBudWxsKSwgcm9vdENvbnRleHQsIHJvb3RGbGFncywgcmVuZGVyZXJGYWN0b3J5LCByZW5kZXJlciwgc2FuaXRpemVyLCByb290Vmlld0luamVjdG9yKTtcbiAgICAgICAgLy8gcm9vdFZpZXcgaXMgdGhlIHBhcmVudCB3aGVuIGJvb3RzdHJhcHBpbmdcbiAgICAgICAgdmFyIG9sZExWaWV3ID0gZW50ZXJWaWV3KHJvb3RMVmlldywgbnVsbCk7XG4gICAgICAgIHZhciBjb21wb25lbnQ7XG4gICAgICAgIHZhciB0RWxlbWVudE5vZGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVuZGVyZXJGYWN0b3J5LmJlZ2luKVxuICAgICAgICAgICAgICAgIHJlbmRlcmVyRmFjdG9yeS5iZWdpbigpO1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudFZpZXcgPSBjcmVhdGVSb290Q29tcG9uZW50Vmlldyhob3N0Uk5vZGUsIHRoaXMuY29tcG9uZW50RGVmLCByb290TFZpZXcsIHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXIpO1xuICAgICAgICAgICAgdEVsZW1lbnROb2RlID0gZ2V0VE5vZGUoMCwgcm9vdExWaWV3KTtcbiAgICAgICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgYXJyYXlzIG9mIG5hdGl2ZSBub2RlcyBpbnRvIGEgc3RydWN0dXJlIHRoYXQgY2FuIGJlIGNvbnN1bWVkIGJ5IHRoZVxuICAgICAgICAgICAgLy8gcHJvamVjdGlvbiBpbnN0cnVjdGlvbi4gVGhpcyBpcyBuZWVkZWQgdG8gc3VwcG9ydCB0aGUgcmVwcm9qZWN0aW9uIG9mIHRoZXNlIG5vZGVzLlxuICAgICAgICAgICAgaWYgKHByb2plY3RhYmxlTm9kZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIHZhciB0VmlldyA9IHJvb3RMVmlld1tUVklFV107XG4gICAgICAgICAgICAgICAgdmFyIHByb2plY3Rpb24kJDEgPSB0RWxlbWVudE5vZGUucHJvamVjdGlvbiA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvamVjdGFibGVOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZUxpc3QgPSBwcm9qZWN0YWJsZU5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3RUTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1ROb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBub2RlTGlzdC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRWaWV3LmZpcnN0VGVtcGxhdGVQYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGR5bmFtaWNhbGx5IGNyZWF0ZWQgY29tcG9uZW50cyBzdWNoIGFzIENvbXBvbmVudFJlZiwgd2UgY3JlYXRlIGEgbmV3IFRWaWV3IGZvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVhY2ggaW5zZXJ0LiBUaGlzIGlzIG5vdCBpZGVhbCBzaW5jZSB3ZSBzaG91bGQgYmUgc2hhcmluZyB0aGUgVFZpZXdzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsc28gdGhlIGxvZ2ljIGhlcmUgc2hvdWxkIGJlIHNoYXJlZCB3aXRoIGBjb21wb25lbnQudHNgJ3MgYHJlbmRlckNvbXBvbmVudGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtZXRob2QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Vmlldy5ibHVlcHJpbnQuc3BsaWNlKCsraW5kZXggKyBIRUFERVJfT0ZGU0VULCAwLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Vmlldy5kYXRhLnNwbGljZShpbmRleCArIEhFQURFUl9PRkZTRVQsIDAsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RMVmlldy5zcGxpY2UoaW5kZXggKyBIRUFERVJfT0ZGU0VULCAwLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0Tm9kZSA9IGNyZWF0ZU5vZGVBdEluZGV4KGluZGV4LCAzIC8qIEVsZW1lbnQgKi8sIG5vZGVMaXN0W2pdLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVE5vZGUgPyAocHJldmlvdXNUTm9kZS5uZXh0ID0gdE5vZGUpIDogKGZpcnN0VE5vZGUgPSB0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1ROb2RlID0gdE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbiQkMS5wdXNoKGZpcnN0VE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IHNob3VsZCBMaWZlY3ljbGVIb29rc0ZlYXR1cmUgYW5kIG90aGVyIGhvc3QgZmVhdHVyZXMgYmUgZ2VuZXJhdGVkIGJ5IHRoZSBjb21waWxlciBhbmRcbiAgICAgICAgICAgIC8vIGV4ZWN1dGVkIGhlcmU/XG4gICAgICAgICAgICAvLyBBbmd1bGFyIDUgcmVmZXJlbmNlOiBodHRwczovL3N0YWNrYmxpdHouY29tL2VkaXQvbGlmZWN5Y2xlLWhvb2tzLXZjcmVmXG4gICAgICAgICAgICBjb21wb25lbnQgPSBjcmVhdGVSb290Q29tcG9uZW50KGNvbXBvbmVudFZpZXcsIHRoaXMuY29tcG9uZW50RGVmLCByb290TFZpZXcsIHJvb3RDb250ZXh0LCBbTGlmZWN5Y2xlSG9va3NGZWF0dXJlXSk7XG4gICAgICAgICAgICBhZGRUb1ZpZXdUcmVlKHJvb3RMVmlldywgSEVBREVSX09GRlNFVCwgY29tcG9uZW50Vmlldyk7XG4gICAgICAgICAgICByZWZyZXNoRGVzY2VuZGFudFZpZXdzKHJvb3RMVmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBsZWF2ZVZpZXcob2xkTFZpZXcpO1xuICAgICAgICAgICAgaWYgKHJlbmRlcmVyRmFjdG9yeS5lbmQpXG4gICAgICAgICAgICAgICAgcmVuZGVyZXJGYWN0b3J5LmVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21wb25lbnRSZWYgPSBuZXcgQ29tcG9uZW50UmVmJDEodGhpcy5jb21wb25lbnRUeXBlLCBjb21wb25lbnQsIGNyZWF0ZUVsZW1lbnRSZWYoRWxlbWVudFJlZiwgdEVsZW1lbnROb2RlLCByb290TFZpZXcpLCByb290TFZpZXcsIHRFbGVtZW50Tm9kZSk7XG4gICAgICAgIGlmIChpc0ludGVybmFsUm9vdFZpZXcpIHtcbiAgICAgICAgICAgIC8vIFRoZSBob3N0IGVsZW1lbnQgb2YgdGhlIGludGVybmFsIHJvb3QgdmlldyBpcyBhdHRhY2hlZCB0byB0aGUgY29tcG9uZW50J3MgaG9zdCB2aWV3IG5vZGVcbiAgICAgICAgICAgIGNvbXBvbmVudFJlZi5ob3N0Vmlldy5fdFZpZXdOb2RlLmNoaWxkID0gdEVsZW1lbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnRSZWY7XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcG9uZW50RmFjdG9yeSQkMTtcbn0oQ29tcG9uZW50RmFjdG9yeSkpO1xudmFyIGNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciA9IG5ldyBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIkMSgpO1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGluc3RhbmNlIG9mIGEgQ29tcG9uZW50IGNyZWF0ZWQgdmlhIGEge0BsaW5rIENvbXBvbmVudEZhY3Rvcnl9LlxuICpcbiAqIGBDb21wb25lbnRSZWZgIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgQ29tcG9uZW50IEluc3RhbmNlIGFzIHdlbGwgb3RoZXIgb2JqZWN0cyByZWxhdGVkIHRvIHRoaXNcbiAqIENvbXBvbmVudCBJbnN0YW5jZSBhbmQgYWxsb3dzIHlvdSB0byBkZXN0cm95IHRoZSBDb21wb25lbnQgSW5zdGFuY2UgdmlhIHRoZSB7QGxpbmsgI2Rlc3Ryb3l9XG4gKiBtZXRob2QuXG4gKlxuICovXG52YXIgQ29tcG9uZW50UmVmJDEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbXBvbmVudFJlZiQkMSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21wb25lbnRSZWYkJDEoY29tcG9uZW50VHlwZSwgaW5zdGFuY2UsIGxvY2F0aW9uLCBfcm9vdExWaWV3LCBfdE5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgX3RoaXMuX3Jvb3RMVmlldyA9IF9yb290TFZpZXc7XG4gICAgICAgIF90aGlzLl90Tm9kZSA9IF90Tm9kZTtcbiAgICAgICAgX3RoaXMuZGVzdHJveUNicyA9IFtdO1xuICAgICAgICBfdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICBfdGhpcy5ob3N0VmlldyA9IF90aGlzLmNoYW5nZURldGVjdG9yUmVmID0gbmV3IFJvb3RWaWV3UmVmKF9yb290TFZpZXcpO1xuICAgICAgICBfdGhpcy5ob3N0Vmlldy5fdFZpZXdOb2RlID0gY3JlYXRlVmlld05vZGUoLTEsIF9yb290TFZpZXcpO1xuICAgICAgICBfdGhpcy5jb21wb25lbnRUeXBlID0gY29tcG9uZW50VHlwZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmJCQxLnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE5vZGVJbmplY3Rvcih0aGlzLl90Tm9kZSwgdGhpcy5fcm9vdExWaWV3KTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQ29tcG9uZW50UmVmJCQxLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0aGlzLmRlc3Ryb3lDYnMsICdOZ01vZHVsZSBhbHJlYWR5IGRlc3Ryb3llZCcpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuKCk7IH0pO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMgPSBudWxsO1xuICAgICAgICB0aGlzLmhvc3RWaWV3LmRlc3Ryb3koKTtcbiAgICB9O1xuICAgIENvbXBvbmVudFJlZiQkMS5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRoaXMuZGVzdHJveUNicywgJ05nTW9kdWxlIGFscmVhZHkgZGVzdHJveWVkJyk7XG4gICAgICAgIHRoaXMuZGVzdHJveUNicy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21wb25lbnRSZWYkJDE7XG59KENvbXBvbmVudFJlZikpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoaXMgZmlsZSBpcyB1c2VkIHRvIGNvbnRyb2wgaWYgdGhlIGRlZmF1bHQgcmVuZGVyaW5nIHBpcGVsaW5lIHNob3VsZCBiZSBgVmlld0VuZ2luZWAgb3IgYEl2eWAuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIHJ1biBhbmQgZGVidWcgdGVzdHMgd2l0aCBlaXRoZXIgSXZ5IG9yIFZpZXcgRW5naW5lIChsZWdhY3kpLFxuICogcGxlYXNlIHNlZSBbQkFaRUwubWRdKC4vZG9jcy9CQVpFTC5tZCkuXG4gKi9cbnZhciBfZGV2TW9kZSA9IHRydWU7XG52YXIgX3J1bk1vZGVMb2NrZWQgPSBmYWxzZTtcbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIEFuZ3VsYXIgaXMgaW4gZGV2ZWxvcG1lbnQgbW9kZS4gQWZ0ZXIgY2FsbGVkIG9uY2UsXG4gKiB0aGUgdmFsdWUgaXMgbG9ja2VkIGFuZCB3b24ndCBjaGFuZ2UgYW55IG1vcmUuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhpcyBpcyB0cnVlLCB1bmxlc3MgYSB1c2VyIGNhbGxzIGBlbmFibGVQcm9kTW9kZWAgYmVmb3JlIGNhbGxpbmcgdGhpcy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGlzRGV2TW9kZSgpIHtcbiAgICBfcnVuTW9kZUxvY2tlZCA9IHRydWU7XG4gICAgcmV0dXJuIF9kZXZNb2RlO1xufVxuLyoqXG4gKiBEaXNhYmxlIEFuZ3VsYXIncyBkZXZlbG9wbWVudCBtb2RlLCB3aGljaCB0dXJucyBvZmYgYXNzZXJ0aW9ucyBhbmQgb3RoZXJcbiAqIGNoZWNrcyB3aXRoaW4gdGhlIGZyYW1ld29yay5cbiAqXG4gKiBPbmUgaW1wb3J0YW50IGFzc2VydGlvbiB0aGlzIGRpc2FibGVzIHZlcmlmaWVzIHRoYXQgYSBjaGFuZ2UgZGV0ZWN0aW9uIHBhc3NcbiAqIGRvZXMgbm90IHJlc3VsdCBpbiBhZGRpdGlvbmFsIGNoYW5nZXMgdG8gYW55IGJpbmRpbmdzIChhbHNvIGtub3duIGFzXG4gKiB1bmlkaXJlY3Rpb25hbCBkYXRhIGZsb3cpLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xuZnVuY3Rpb24gZW5hYmxlUHJvZE1vZGUoKSB7XG4gICAgaWYgKF9ydW5Nb2RlTG9ja2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGVuYWJsZSBwcm9kIG1vZGUgYWZ0ZXIgcGxhdGZvcm0gc2V0dXAuJyk7XG4gICAgfVxuICAgIF9kZXZNb2RlID0gZmFsc2U7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhpcyBoZWxwZXIgY2xhc3MgaXMgdXNlZCB0byBnZXQgaG9sZCBvZiBhbiBpbmVydCB0cmVlIG9mIERPTSBlbGVtZW50cyBjb250YWluaW5nIGRpcnR5IEhUTUxcbiAqIHRoYXQgbmVlZHMgc2FuaXRpemluZy5cbiAqIERlcGVuZGluZyB1cG9uIGJyb3dzZXIgc3VwcG9ydCB3ZSBtdXN0IHVzZSBvbmUgb2YgdGhyZWUgc3RyYXRlZ2llcyBmb3IgZG9pbmcgdGhpcy5cbiAqIFN1cHBvcnQ6IFNhZmFyaSAxMC54IC0+IFhIUiBzdHJhdGVneVxuICogU3VwcG9ydDogRmlyZWZveCAtPiBEb21QYXJzZXIgc3RyYXRlZ3lcbiAqIERlZmF1bHQ6IEluZXJ0RG9jdW1lbnQgc3RyYXRlZ3lcbiAqL1xudmFyIEluZXJ0Qm9keUhlbHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbmVydEJvZHlIZWxwZXIoZGVmYXVsdERvYykge1xuICAgICAgICB0aGlzLmRlZmF1bHREb2MgPSBkZWZhdWx0RG9jO1xuICAgICAgICB0aGlzLmluZXJ0RG9jdW1lbnQgPSB0aGlzLmRlZmF1bHREb2MuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCdzYW5pdGl6YXRpb24taW5lcnQnKTtcbiAgICAgICAgdGhpcy5pbmVydEJvZHlFbGVtZW50ID0gdGhpcy5pbmVydERvY3VtZW50LmJvZHk7XG4gICAgICAgIGlmICh0aGlzLmluZXJ0Qm9keUVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gdXN1YWxseSB0aGVyZSBzaG91bGQgYmUgb25seSBvbmUgYm9keSBlbGVtZW50IGluIHRoZSBkb2N1bWVudCwgYnV0IElFIGRvZXNuJ3QgaGF2ZSBhbnksIHNvXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmUuXG4gICAgICAgICAgICB2YXIgaW5lcnRIdG1sID0gdGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICAgICAgICAgIHRoaXMuaW5lcnREb2N1bWVudC5hcHBlbmRDaGlsZChpbmVydEh0bWwpO1xuICAgICAgICAgICAgdGhpcy5pbmVydEJvZHlFbGVtZW50ID0gdGhpcy5pbmVydERvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICAgICAgICAgIGluZXJ0SHRtbC5hcHBlbmRDaGlsZCh0aGlzLmluZXJ0Qm9keUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUwgPSAnPHN2Zz48ZyBvbmxvYWQ9XCJ0aGlzLnBhcmVudE5vZGUucmVtb3ZlKClcIj48L2c+PC9zdmc+JztcbiAgICAgICAgaWYgKHRoaXMuaW5lcnRCb2R5RWxlbWVudC5xdWVyeVNlbGVjdG9yICYmICF0aGlzLmluZXJ0Qm9keUVsZW1lbnQucXVlcnlTZWxlY3Rvcignc3ZnJykpIHtcbiAgICAgICAgICAgIC8vIFdlIGp1c3QgaGl0IHRoZSBTYWZhcmkgMTAuMSBidWcgLSB3aGljaCBhbGxvd3MgSlMgdG8gcnVuIGluc2lkZSB0aGUgU1ZHIEcgZWxlbWVudFxuICAgICAgICAgICAgLy8gc28gdXNlIHRoZSBYSFIgc3RyYXRlZ3kuXG4gICAgICAgICAgICB0aGlzLmdldEluZXJ0Qm9keUVsZW1lbnQgPSB0aGlzLmdldEluZXJ0Qm9keUVsZW1lbnRfWEhSO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUwgPVxuICAgICAgICAgICAgJzxzdmc+PHA+PHN0eWxlPjxpbWcgc3JjPVwiPC9zdHlsZT48aW1nIHNyYz14IG9uZXJyb3I9YWxlcnQoMSkvL1wiPic7XG4gICAgICAgIGlmICh0aGlzLmluZXJ0Qm9keUVsZW1lbnQucXVlcnlTZWxlY3RvciAmJiB0aGlzLmluZXJ0Qm9keUVsZW1lbnQucXVlcnlTZWxlY3Rvcignc3ZnIGltZycpKSB7XG4gICAgICAgICAgICAvLyBXZSBqdXN0IGhpdCB0aGUgRmlyZWZveCBidWcgLSB3aGljaCBwcmV2ZW50cyB0aGUgaW5uZXIgaW1nIEpTIGZyb20gYmVpbmcgc2FuaXRpemVkXG4gICAgICAgICAgICAvLyBzbyB1c2UgdGhlIERPTVBhcnNlciBzdHJhdGVneSwgaWYgaXQgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgLy8gSWYgdGhlIERPTVBhcnNlciBpcyBub3QgYXZhaWxhYmxlIHRoZW4gd2UgYXJlIG5vdCBpbiBGaXJlZm94IChTZXJ2ZXIvV2ViV29ya2VyPykgc28gd2VcbiAgICAgICAgICAgIC8vIGZhbGwgdGhyb3VnaCB0byB0aGUgZGVmYXVsdCBzdHJhdGVneSBiZWxvdy5cbiAgICAgICAgICAgIGlmIChpc0RPTVBhcnNlckF2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRJbmVydEJvZHlFbGVtZW50ID0gdGhpcy5nZXRJbmVydEJvZHlFbGVtZW50X0RPTVBhcnNlcjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm9uZSBvZiB0aGUgYnVncyB3ZXJlIGhpdCBzbyBpdCBpcyBzYWZlIGZvciB1cyB0byB1c2UgdGhlIGRlZmF1bHQgSW5lcnREb2N1bWVudCBzdHJhdGVneVxuICAgICAgICB0aGlzLmdldEluZXJ0Qm9keUVsZW1lbnQgPSB0aGlzLmdldEluZXJ0Qm9keUVsZW1lbnRfSW5lcnREb2N1bWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlIFhIUiB0byBjcmVhdGUgYW5kIGZpbGwgYW4gaW5lcnQgYm9keSBlbGVtZW50IChvbiBTYWZhcmkgMTAuMSlcbiAgICAgKiBTZWVcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vY3VyZTUzL0RPTVB1cmlmeS9ibG9iL2E5OTJkM2E3NTAzMWNiOGJiMDMyZTVlYTgzOTliYTk3MmJkZjlhNjUvc3JjL3B1cmlmeS5qcyNMNDM5LUw0NDlcbiAgICAgKi9cbiAgICBJbmVydEJvZHlIZWxwZXIucHJvdG90eXBlLmdldEluZXJ0Qm9keUVsZW1lbnRfWEhSID0gZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgLy8gV2UgYWRkIHRoZXNlIGV4dHJhIGVsZW1lbnRzIHRvIGVuc3VyZSB0aGF0IHRoZSByZXN0IG9mIHRoZSBjb250ZW50IGlzIHBhcnNlZCBhcyBleHBlY3RlZFxuICAgICAgICAvLyBlLmcuIGxlYWRpbmcgd2hpdGVzcGFjZSBpcyBtYWludGFpbmVkIGFuZCB0YWdzIGxpa2UgYDxtZXRhPmAgZG8gbm90IGdldCBob2lzdGVkIHRvIHRoZVxuICAgICAgICAvLyBgPGhlYWQ+YCB0YWcuXG4gICAgICAgIGh0bWwgPSAnPGJvZHk+PHJlbW92ZT48L3JlbW92ZT4nICsgaHRtbCArICc8L2JvZHk+JztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGh0bWwgPSBlbmNvZGVVUkkoaHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnZG9jdW1lbnQnO1xuICAgICAgICB4aHIub3BlbignR0VUJywgJ2RhdGE6dGV4dC9odG1sO2NoYXJzZXQ9dXRmLTgsJyArIGh0bWwsIGZhbHNlKTtcbiAgICAgICAgeGhyLnNlbmQodW5kZWZpbmVkKTtcbiAgICAgICAgdmFyIGJvZHkgPSB4aHIucmVzcG9uc2UuYm9keTtcbiAgICAgICAgYm9keS5yZW1vdmVDaGlsZChib2R5LmZpcnN0Q2hpbGQpO1xuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVzZSBET01QYXJzZXIgdG8gY3JlYXRlIGFuZCBmaWxsIGFuIGluZXJ0IGJvZHkgZWxlbWVudCAob24gRmlyZWZveClcbiAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2N1cmU1My9ET01QdXJpZnkvcmVsZWFzZXMvdGFnLzAuNi43XG4gICAgICpcbiAgICAgKi9cbiAgICBJbmVydEJvZHlIZWxwZXIucHJvdG90eXBlLmdldEluZXJ0Qm9keUVsZW1lbnRfRE9NUGFyc2VyID0gZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgLy8gV2UgYWRkIHRoZXNlIGV4dHJhIGVsZW1lbnRzIHRvIGVuc3VyZSB0aGF0IHRoZSByZXN0IG9mIHRoZSBjb250ZW50IGlzIHBhcnNlZCBhcyBleHBlY3RlZFxuICAgICAgICAvLyBlLmcuIGxlYWRpbmcgd2hpdGVzcGFjZSBpcyBtYWludGFpbmVkIGFuZCB0YWdzIGxpa2UgYDxtZXRhPmAgZG8gbm90IGdldCBob2lzdGVkIHRvIHRoZVxuICAgICAgICAvLyBgPGhlYWQ+YCB0YWcuXG4gICAgICAgIGh0bWwgPSAnPGJvZHk+PHJlbW92ZT48L3JlbW92ZT4nICsgaHRtbCArICc8L2JvZHk+JztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gbmV3IHdpbmRvd1xuICAgICAgICAgICAgICAgIC5ET01QYXJzZXIoKVxuICAgICAgICAgICAgICAgIC5wYXJzZUZyb21TdHJpbmcoaHRtbCwgJ3RleHQvaHRtbCcpXG4gICAgICAgICAgICAgICAgLmJvZHk7XG4gICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGJvZHkuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVc2UgYW4gSFRNTDUgYHRlbXBsYXRlYCBlbGVtZW50LCBpZiBzdXBwb3J0ZWQsIG9yIGFuIGluZXJ0IGJvZHkgZWxlbWVudCBjcmVhdGVkIHZpYVxuICAgICAqIGBjcmVhdGVIdG1sRG9jdW1lbnRgIHRvIGNyZWF0ZSBhbmQgZmlsbCBhbiBpbmVydCBET00gZWxlbWVudC5cbiAgICAgKiBUaGlzIGlzIHRoZSBkZWZhdWx0IHNhbmUgc3RyYXRlZ3kgdG8gdXNlIGlmIHRoZSBicm93c2VyIGRvZXMgbm90IHJlcXVpcmUgb25lIG9mIHRoZSBzcGVjaWFsaXNlZFxuICAgICAqIHN0cmF0ZWdpZXMgYWJvdmUuXG4gICAgICovXG4gICAgSW5lcnRCb2R5SGVscGVyLnByb3RvdHlwZS5nZXRJbmVydEJvZHlFbGVtZW50X0luZXJ0RG9jdW1lbnQgPSBmdW5jdGlvbiAoaHRtbCkge1xuICAgICAgICAvLyBQcmVmZXIgdXNpbmcgPHRlbXBsYXRlPiBlbGVtZW50IGlmIHN1cHBvcnRlZC5cbiAgICAgICAgdmFyIHRlbXBsYXRlRWwgPSB0aGlzLmluZXJ0RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgICAgaWYgKCdjb250ZW50JyBpbiB0ZW1wbGF0ZUVsKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZUVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVFbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluZXJ0Qm9keUVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgOS0xMSBvbmx5XG4gICAgICAgIC8vIHN0cmlwIGN1c3RvbS1uYW1lc3BhY2VkIGF0dHJpYnV0ZXMgb24gSUU8PTExXG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHREb2MuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmlwQ3VzdG9tTnNBdHRycyh0aGlzLmluZXJ0Qm9keUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmluZXJ0Qm9keUVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGVuIElFOS0xMSBjb21lcyBhY3Jvc3MgYW4gdW5rbm93biBuYW1lc3BhY2VkIGF0dHJpYnV0ZSBlLmcuICd4bGluazpmb28nIGl0IGFkZHMgJ3htbG5zOm5zMSdcbiAgICAgKiBhdHRyaWJ1dGUgdG8gZGVjbGFyZSBuczEgbmFtZXNwYWNlIGFuZCBwcmVmaXhlcyB0aGUgYXR0cmlidXRlIHdpdGggJ25zMScgKGUuZy5cbiAgICAgKiAnbnMxOnhsaW5rOmZvbycpLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1bmRlc2lyYWJsZSBzaW5jZSB3ZSBkb24ndCB3YW50IHRvIGFsbG93IGFueSBvZiB0aGVzZSBjdXN0b20gYXR0cmlidXRlcy4gVGhpcyBtZXRob2RcbiAgICAgKiBzdHJpcHMgdGhlbSBhbGwuXG4gICAgICovXG4gICAgSW5lcnRCb2R5SGVscGVyLnByb3RvdHlwZS5zdHJpcEN1c3RvbU5zQXR0cnMgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgdmFyIGVsQXR0cnMgPSBlbC5hdHRyaWJ1dGVzO1xuICAgICAgICAvLyBsb29wIGJhY2t3YXJkcyBzbyB0aGF0IHdlIGNhbiBzdXBwb3J0IHJlbW92YWxzLlxuICAgICAgICBmb3IgKHZhciBpID0gZWxBdHRycy5sZW5ndGggLSAxOyAwIDwgaTsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmliID0gZWxBdHRycy5pdGVtKGkpO1xuICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0gYXR0cmliLm5hbWU7XG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICd4bWxuczpuczEnIHx8IGF0dHJOYW1lLmluZGV4T2YoJ25zMTonKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGVsLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RyaXBDdXN0b21Oc0F0dHJzKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBJbmVydEJvZHlIZWxwZXI7XG59KCkpO1xuLyoqXG4gKiBXZSBuZWVkIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBET01QYXJzZXIgZXhpc3RzIGluIHRoZSBnbG9iYWwgY29udGV4dC5cbiAqIFRoZSB0cnktY2F0Y2ggaXMgYmVjYXVzZSwgb24gc29tZSBicm93c2VycywgdHJ5aW5nIHRvIGFjY2VzcyB0aGlzIHByb3BlcnR5XG4gKiBvbiB3aW5kb3cgY2FuIGFjdHVhbGx5IHRocm93IGFuIGVycm9yLlxuICpcbiAqIEBzdXBwcmVzcyB7dXNlbGVzc0NvZGV9XG4gKi9cbmZ1bmN0aW9uIGlzRE9NUGFyc2VyQXZhaWxhYmxlKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAhIXdpbmRvdy5ET01QYXJzZXI7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgcGF0dGVybiB0aGF0IHJlY29nbml6ZXMgYSBjb21tb25seSB1c2VmdWwgc3Vic2V0IG9mIFVSTHMgdGhhdCBhcmUgc2FmZS5cbiAqXG4gKiBUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaGVzIGEgc3Vic2V0IG9mIFVSTHMgdGhhdCB3aWxsIG5vdCBjYXVzZSBzY3JpcHRcbiAqIGV4ZWN1dGlvbiBpZiB1c2VkIGluIFVSTCBjb250ZXh0IHdpdGhpbiBhIEhUTUwgZG9jdW1lbnQuIFNwZWNpZmljYWxseSwgdGhpc1xuICogcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgaWYgKGNvbW1lbnQgZnJvbSBoZXJlIG9uIGFuZCByZWdleCBjb3BpZWQgZnJvbVxuICogU295J3MgRXNjYXBpbmdDb252ZW50aW9ucyk6XG4gKiAoMSkgRWl0aGVyIGEgcHJvdG9jb2wgaW4gYSB3aGl0ZWxpc3QgKGh0dHAsIGh0dHBzLCBtYWlsdG8gb3IgZnRwKS5cbiAqICgyKSBvciBubyBwcm90b2NvbC4gIEEgcHJvdG9jb2wgbXVzdCBiZSBmb2xsb3dlZCBieSBhIGNvbG9uLiBUaGUgYmVsb3dcbiAqICAgICBhbGxvd3MgdGhhdCBieSBhbGxvd2luZyBjb2xvbnMgb25seSBhZnRlciBvbmUgb2YgdGhlIGNoYXJhY3RlcnMgWy8/I10uXG4gKiAgICAgQSBjb2xvbiBhZnRlciBhIGhhc2ggKCMpIG11c3QgYmUgaW4gdGhlIGZyYWdtZW50LlxuICogICAgIE90aGVyd2lzZSwgYSBjb2xvbiBhZnRlciBhICg/KSBtdXN0IGJlIGluIGEgcXVlcnkuXG4gKiAgICAgT3RoZXJ3aXNlLCBhIGNvbG9uIGFmdGVyIGEgc2luZ2xlIHNvbGlkdXMgKC8pIG11c3QgYmUgaW4gYSBwYXRoLlxuICogICAgIE90aGVyd2lzZSwgYSBjb2xvbiBhZnRlciBhIGRvdWJsZSBzb2xpZHVzICgvLykgbXVzdCBiZSBpbiB0aGUgYXV0aG9yaXR5XG4gKiAgICAgKGJlZm9yZSBwb3J0KS5cbiAqXG4gKiBUaGUgcGF0dGVybiBkaXNhbGxvd3MgJiwgdXNlZCBpbiBIVE1MIGVudGl0eSBkZWNsYXJhdGlvbnMgYmVmb3JlXG4gKiBvbmUgb2YgdGhlIGNoYXJhY3RlcnMgaW4gWy8/I10uIFRoaXMgZGlzYWxsb3dzIEhUTUwgZW50aXRpZXMgdXNlZCBpbiB0aGVcbiAqIHByb3RvY29sIG5hbWUsIHdoaWNoIHNob3VsZCBuZXZlciBoYXBwZW4sIGUuZy4gXCJoJiMxMTY7dHBcIiBmb3IgXCJodHRwXCIuXG4gKiBJdCBhbHNvIGRpc2FsbG93cyBIVE1MIGVudGl0aWVzIGluIHRoZSBmaXJzdCBwYXRoIHBhcnQgb2YgYSByZWxhdGl2ZSBwYXRoLFxuICogZS5nLiBcImZvbyZsdDtiYXIvYmF6XCIuICBPdXIgZXhpc3RpbmcgZXNjYXBpbmcgZnVuY3Rpb25zIHNob3VsZCBub3QgcHJvZHVjZVxuICogdGhhdC4gTW9yZSBpbXBvcnRhbnRseSwgaXQgZGlzYWxsb3dzIG1hc2tpbmcgb2YgYSBjb2xvbixcbiAqIGUuZy4gXCJqYXZhc2NyaXB0JiM1ODsuLi5cIi5cbiAqXG4gKiBUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiB3YXMgdGFrZW4gZnJvbSB0aGUgQ2xvc3VyZSBzYW5pdGl6YXRpb24gbGlicmFyeS5cbiAqL1xudmFyIFNBRkVfVVJMX1BBVFRFUk4gPSAvXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwfHRlbHxmaWxlKTp8W14mOi8/I10qKD86Wy8/I118JCkpL2dpO1xuLyoqIEEgcGF0dGVybiB0aGF0IG1hdGNoZXMgc2FmZSBkYXRhIFVSTHMuIE9ubHkgbWF0Y2hlcyBpbWFnZSwgdmlkZW8gYW5kIGF1ZGlvIHR5cGVzLiAqL1xudmFyIERBVEFfVVJMX1BBVFRFUk4gPSAvXmRhdGE6KD86aW1hZ2VcXC8oPzpibXB8Z2lmfGpwZWd8anBnfHBuZ3x0aWZmfHdlYnApfHZpZGVvXFwvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXFwvKD86bXAzfG9nYXxvZ2d8b3B1cykpO2Jhc2U2NCxbYS16MC05K1xcL10rPSokL2k7XG5mdW5jdGlvbiBfc2FuaXRpemVVcmwodXJsKSB7XG4gICAgdXJsID0gU3RyaW5nKHVybCk7XG4gICAgaWYgKHVybC5tYXRjaChTQUZFX1VSTF9QQVRURVJOKSB8fCB1cmwubWF0Y2goREFUQV9VUkxfUEFUVEVSTikpXG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgaWYgKGlzRGV2TW9kZSgpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIldBUk5JTkc6IHNhbml0aXppbmcgdW5zYWZlIFVSTCB2YWx1ZSBcIiArIHVybCArIFwiIChzZWUgaHR0cDovL2cuY28vbmcvc2VjdXJpdHkjeHNzKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuICd1bnNhZmU6JyArIHVybDtcbn1cbmZ1bmN0aW9uIHNhbml0aXplU3Jjc2V0KHNyY3NldCkge1xuICAgIHNyY3NldCA9IFN0cmluZyhzcmNzZXQpO1xuICAgIHJldHVybiBzcmNzZXQuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHNyY3NldCkgeyByZXR1cm4gX3Nhbml0aXplVXJsKHNyY3NldC50cmltKCkpOyB9KS5qb2luKCcsICcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiB0YWdTZXQodGFncykge1xuICAgIHZhciBlXzEsIF9hO1xuICAgIHZhciByZXMgPSB7fTtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRhZ3Muc3BsaXQoJywnKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciB0ID0gX2MudmFsdWU7XG4gICAgICAgICAgICByZXNbdF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbWVyZ2UkMSgpIHtcbiAgICB2YXIgc2V0cyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNldHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGVfMiwgX2E7XG4gICAgdmFyIHJlcyA9IHt9O1xuICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIHNldHNfMSA9IF9fdmFsdWVzKHNldHMpLCBzZXRzXzFfMSA9IHNldHNfMS5uZXh0KCk7ICFzZXRzXzFfMS5kb25lOyBzZXRzXzFfMSA9IHNldHNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciBzID0gc2V0c18xXzEudmFsdWU7XG4gICAgICAgICAgICBmb3IgKHZhciB2IGluIHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocy5oYXNPd25Qcm9wZXJ0eSh2KSlcbiAgICAgICAgICAgICAgICAgICAgcmVzW3ZdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHNldHNfMV8xICYmICFzZXRzXzFfMS5kb25lICYmIChfYSA9IHNldHNfMS5yZXR1cm4pKSBfYS5jYWxsKHNldHNfMSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLy8gR29vZCBzb3VyY2Ugb2YgaW5mbyBhYm91dCBlbGVtZW50cyBhbmQgYXR0cmlidXRlc1xuLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI3NlbWFudGljc1xuLy8gaHR0cDovL3NpbW9uLmh0bWw1Lm9yZy9odG1sLWVsZW1lbnRzXG4vLyBTYWZlIFZvaWQgRWxlbWVudHMgLSBIVE1MNVxuLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI3ZvaWQtZWxlbWVudHNcbnZhciBWT0lEX0VMRU1FTlRTID0gdGFnU2V0KCdhcmVhLGJyLGNvbCxocixpbWcsd2JyJyk7XG4vLyBFbGVtZW50cyB0aGF0IHlvdSBjYW4sIGludGVudGlvbmFsbHksIGxlYXZlIG9wZW4gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKVxuLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI29wdGlvbmFsLXRhZ3NcbnZhciBPUFRJT05BTF9FTkRfVEFHX0JMT0NLX0VMRU1FTlRTID0gdGFnU2V0KCdjb2xncm91cCxkZCxkdCxsaSxwLHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRyJyk7XG52YXIgT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMgPSB0YWdTZXQoJ3JwLHJ0Jyk7XG52YXIgT1BUSU9OQUxfRU5EX1RBR19FTEVNRU5UUyA9IG1lcmdlJDEoT1BUSU9OQUxfRU5EX1RBR19JTkxJTkVfRUxFTUVOVFMsIE9QVElPTkFMX0VORF9UQUdfQkxPQ0tfRUxFTUVOVFMpO1xuLy8gU2FmZSBCbG9jayBFbGVtZW50cyAtIEhUTUw1XG52YXIgQkxPQ0tfRUxFTUVOVFMgPSBtZXJnZSQxKE9QVElPTkFMX0VORF9UQUdfQkxPQ0tfRUxFTUVOVFMsIHRhZ1NldCgnYWRkcmVzcyxhcnRpY2xlLCcgK1xuICAgICdhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkZXRhaWxzLGRpYWxvZyxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSwnICtcbiAgICAnaDYsaGVhZGVyLGhncm91cCxocixpbnMsbWFpbixtYXAsbWVudSxuYXYsb2wscHJlLHNlY3Rpb24sc3VtbWFyeSx0YWJsZSx1bCcpKTtcbi8vIElubGluZSBFbGVtZW50cyAtIEhUTUw1XG52YXIgSU5MSU5FX0VMRU1FTlRTID0gbWVyZ2UkMShPUFRJT05BTF9FTkRfVEFHX0lOTElORV9FTEVNRU5UUywgdGFnU2V0KCdhLGFiYnIsYWNyb255bSxhdWRpbyxiLCcgK1xuICAgICdiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscGljdHVyZSxxLHJ1YnkscnAscnQscywnICtcbiAgICAnc2FtcCxzbWFsbCxzb3VyY2Usc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0cmFjayx0dCx1LHZhcix2aWRlbycpKTtcbnZhciBWQUxJRF9FTEVNRU5UUyA9IG1lcmdlJDEoVk9JRF9FTEVNRU5UUywgQkxPQ0tfRUxFTUVOVFMsIElOTElORV9FTEVNRU5UUywgT1BUSU9OQUxfRU5EX1RBR19FTEVNRU5UUyk7XG4vLyBBdHRyaWJ1dGVzIHRoYXQgaGF2ZSBocmVmIGFuZCBoZW5jZSBuZWVkIHRvIGJlIHNhbml0aXplZFxudmFyIFVSSV9BVFRSUyA9IHRhZ1NldCgnYmFja2dyb3VuZCxjaXRlLGhyZWYsaXRlbXR5cGUsbG9uZ2Rlc2MscG9zdGVyLHNyYyx4bGluazpocmVmJyk7XG4vLyBBdHRyaWJ1dGVzIHRoYXQgaGF2ZSBzcGVjaWFsIGhyZWYgc2V0IGhlbmNlIG5lZWQgdG8gYmUgc2FuaXRpemVkXG52YXIgU1JDU0VUX0FUVFJTID0gdGFnU2V0KCdzcmNzZXQnKTtcbnZhciBIVE1MX0FUVFJTID0gdGFnU2V0KCdhYmJyLGFjY2Vzc2tleSxhbGlnbixhbHQsYXV0b3BsYXksYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhcixjb2xvcixjb2xzLGNvbHNwYW4sJyArXG4gICAgJ2NvbXBhY3QsY29udHJvbHMsY29vcmRzLGRhdGV0aW1lLGRlZmF1bHQsZGlyLGRvd25sb2FkLGZhY2UsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhyZWZsYW5nLGhzcGFjZSwnICtcbiAgICAnaXNtYXAsaXRlbXNjb3BlLGl0ZW1wcm9wLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb29wLG1lZGlhLG11dGVkLG5vaHJlZixub3dyYXAsb3BlbixwcmVsb2FkLHJlbCxyZXYscm9sZSxyb3dzLHJvd3NwYW4scnVsZXMsJyArXG4gICAgJ3Njb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNpemVzLHNwYW4sc3JjbGFuZyxzdGFydCxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsJyArXG4gICAgJ3ZhbGlnbix2YWx1ZSx2c3BhY2Usd2lkdGgnKTtcbi8vIE5COiBUaGlzIGN1cnJlbnRseSBjb25zY2lvdXNseSBkb2Vzbid0IHN1cHBvcnQgU1ZHLiBTVkcgc2FuaXRpemF0aW9uIGhhcyBoYWQgc2V2ZXJhbCBzZWN1cml0eVxuLy8gaXNzdWVzIGluIHRoZSBwYXN0LCBzbyBpdCBzZWVtcyBzYWZlciB0byBsZWF2ZSBpdCBvdXQgaWYgcG9zc2libGUuIElmIHN1cHBvcnQgZm9yIGJpbmRpbmcgU1ZHIHZpYVxuLy8gaW5uZXJIVE1MIGlzIHJlcXVpcmVkLCBTVkcgYXR0cmlidXRlcyBzaG91bGQgYmUgYWRkZWQgaGVyZS5cbi8vIE5COiBTYW5pdGl6YXRpb24gZG9lcyBub3QgYWxsb3cgPGZvcm0+IGVsZW1lbnRzIG9yIG90aGVyIGFjdGl2ZSBlbGVtZW50cyAoPGJ1dHRvbj4gZXRjKS4gVGhvc2Vcbi8vIGNhbiBiZSBzYW5pdGl6ZWQsIGJ1dCB0aGV5IGluY3JlYXNlIHNlY3VyaXR5IHN1cmZhY2UgYXJlYSB3aXRob3V0IGEgbGVnaXRpbWF0ZSB1c2UgY2FzZSwgc28gdGhleVxuLy8gYXJlIGxlZnQgb3V0IGhlcmUuXG52YXIgVkFMSURfQVRUUlMgPSBtZXJnZSQxKFVSSV9BVFRSUywgU1JDU0VUX0FUVFJTLCBIVE1MX0FUVFJTKTtcbi8qKlxuICogU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyIHNlcmlhbGl6ZXMgYSBET00gZnJhZ21lbnQsIHN0cmlwcGluZyBvdXQgYW55IHVuc2FmZSBlbGVtZW50cyBhbmQgdW5zYWZlXG4gKiBhdHRyaWJ1dGVzLlxuICovXG52YXIgU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNhbml0aXppbmdIdG1sU2VyaWFsaXplcigpIHtcbiAgICAgICAgLy8gRXhwbGljaXRseSB0cmFjayBpZiBzb21ldGhpbmcgd2FzIHN0cmlwcGVkLCB0byBhdm9pZCBhY2NpZGVudGFsbHkgd2FybmluZyBvZiBzYW5pdGl6YXRpb24ganVzdFxuICAgICAgICAvLyBiZWNhdXNlIGNoYXJhY3RlcnMgd2VyZSByZS1lbmNvZGVkLlxuICAgICAgICB0aGlzLnNhbml0aXplZFNvbWV0aGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgIH1cbiAgICBTYW5pdGl6aW5nSHRtbFNlcmlhbGl6ZXIucHJvdG90eXBlLnNhbml0aXplQ2hpbGRyZW4gPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgLy8gVGhpcyBjYW5ub3QgdXNlIGEgVHJlZVdhbGtlciwgYXMgaXQgaGFzIHRvIHJ1biBvbiBBbmd1bGFyJ3MgdmFyaW91cyBET00gYWRhcHRlcnMuXG4gICAgICAgIC8vIEhvd2V2ZXIgdGhpcyBjb2RlIG5ldmVyIGFjY2Vzc2VzIHByb3BlcnRpZXMgb2ZmIG9mIGBkb2N1bWVudGAgYmVmb3JlIGRlbGV0aW5nIGl0cyBjb250ZW50c1xuICAgICAgICAvLyBhZ2Fpbiwgc28gaXQgc2hvdWxkbid0IGJlIHZ1bG5lcmFibGUgdG8gRE9NIGNsb2JiZXJpbmcuXG4gICAgICAgIHZhciBjdXJyZW50ID0gZWwuZmlyc3RDaGlsZDtcbiAgICAgICAgdmFyIGVsZW1lbnRWYWxpZCA9IHRydWU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50VmFsaWQgPSB0aGlzLnN0YXJ0RWxlbWVudChjdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFycyhjdXJyZW50Lm5vZGVWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTdHJpcCBub24tZWxlbWVudCwgbm9uLXRleHQgbm9kZXMuXG4gICAgICAgICAgICAgICAgdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW1lbnRWYWxpZCAmJiBjdXJyZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBMZWF2aW5nIHRoZSBlbGVtZW50LiBXYWxrIHVwIGFuZCB0byB0aGUgcmlnaHQsIGNsb3NpbmcgdGFncyBhcyB3ZSBnby5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRFbGVtZW50KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHRoaXMuY2hlY2tDbG9iYmVyZWRFbGVtZW50KGN1cnJlbnQsIGN1cnJlbnQubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuY2hlY2tDbG9iYmVyZWRFbGVtZW50KGN1cnJlbnQsIGN1cnJlbnQucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmLmpvaW4oJycpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3V0cHV0cyBvbmx5IHZhbGlkIEVsZW1lbnRzLlxuICAgICAqXG4gICAgICogSW52YWxpZCBlbGVtZW50cyBhcmUgc2tpcHBlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGVtZW50IGVsZW1lbnQgdG8gc2FuaXRpemVcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgaXMgdmFsaWQuXG4gICAgICovXG4gICAgU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyLnByb3RvdHlwZS5zdGFydEVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB2YXIgdGFnTmFtZSA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCFWQUxJRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmLnB1c2goJzwnKTtcbiAgICAgICAgdGhpcy5idWYucHVzaCh0YWdOYW1lKTtcbiAgICAgICAgdmFyIGVsQXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGVsQXR0ciA9IGVsQXR0cnMuaXRlbShpKTtcbiAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9IGVsQXR0ci5uYW1lO1xuICAgICAgICAgICAgdmFyIGxvd2VyID0gYXR0ck5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICghVkFMSURfQVRUUlMuaGFzT3duUHJvcGVydHkobG93ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYW5pdGl6ZWRTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gZWxBdHRyLnZhbHVlO1xuICAgICAgICAgICAgLy8gVE9ETyhtYXJ0aW5wcm9ic3QpOiBTcGVjaWFsIGNhc2UgaW1hZ2UgVVJJcyBmb3IgZGF0YTppbWFnZS8uLi5cbiAgICAgICAgICAgIGlmIChVUklfQVRUUlNbbG93ZXJdKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gX3Nhbml0aXplVXJsKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChTUkNTRVRfQVRUUlNbbG93ZXJdKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gc2FuaXRpemVTcmNzZXQodmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCgnICcsIGF0dHJOYW1lLCAnPVwiJywgZW5jb2RlRW50aXRpZXModmFsdWUpLCAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc+Jyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgU2FuaXRpemluZ0h0bWxTZXJpYWxpemVyLnByb3RvdHlwZS5lbmRFbGVtZW50ID0gZnVuY3Rpb24gKGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIHRhZ05hbWUgPSBjdXJyZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChWQUxJRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSAmJiAhVk9JRF9FTEVNRU5UUy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCgnPC8nKTtcbiAgICAgICAgICAgIHRoaXMuYnVmLnB1c2godGFnTmFtZSk7XG4gICAgICAgICAgICB0aGlzLmJ1Zi5wdXNoKCc+Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhbml0aXppbmdIdG1sU2VyaWFsaXplci5wcm90b3R5cGUuY2hhcnMgPSBmdW5jdGlvbiAoY2hhcnMpIHsgdGhpcy5idWYucHVzaChlbmNvZGVFbnRpdGllcyhjaGFycykpOyB9O1xuICAgIFNhbml0aXppbmdIdG1sU2VyaWFsaXplci5wcm90b3R5cGUuY2hlY2tDbG9iYmVyZWRFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUsIG5leHROb2RlKSB7XG4gICAgICAgIGlmIChuZXh0Tm9kZSAmJlxuICAgICAgICAgICAgKG5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24obmV4dE5vZGUpICZcbiAgICAgICAgICAgICAgICBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSkgPT09IE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBlbGVtZW50IGlzIGNsb2JiZXJlZDogXCIgKyBub2RlLm91dGVySFRNTCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHROb2RlO1xuICAgIH07XG4gICAgcmV0dXJuIFNhbml0aXppbmdIdG1sU2VyaWFsaXplcjtcbn0oKSk7XG4vLyBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBwYXJzaW5nIHRhZ3MgYW5kIGF0dHJpYnV0ZXNcbnZhciBTVVJST0dBVEVfUEFJUl9SRUdFWFAgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nO1xuLy8gISB0byB+IGlzIHRoZSBBU0NJSSByYW5nZS5cbnZhciBOT05fQUxQSEFOVU1FUklDX1JFR0VYUCA9IC8oW15cXCMtfiB8IV0pL2c7XG4vKipcbiAqIEVzY2FwZXMgYWxsIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjaGFyYWN0ZXJzLCBzbyB0aGF0IHRoZVxuICogcmVzdWx0aW5nIHN0cmluZyBjYW4gYmUgc2FmZWx5IGluc2VydGVkIGludG8gYXR0cmlidXRlIG9yXG4gKiBlbGVtZW50IHRleHQuXG4gKiBAcGFyYW0gdmFsdWVcbiAqL1xuZnVuY3Rpb24gZW5jb2RlRW50aXRpZXModmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAucmVwbGFjZShTVVJST0dBVEVfUEFJUl9SRUdFWFAsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICB2YXIgaGkgPSBtYXRjaC5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgbG93ID0gbWF0Y2guY2hhckNvZGVBdCgxKTtcbiAgICAgICAgcmV0dXJuICcmIycgKyAoKChoaSAtIDB4RDgwMCkgKiAweDQwMCkgKyAobG93IC0gMHhEQzAwKSArIDB4MTAwMDApICsgJzsnO1xuICAgIH0pXG4gICAgICAgIC5yZXBsYWNlKE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQLCBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuICcmIycgKyBtYXRjaC5jaGFyQ29kZUF0KDApICsgJzsnOyB9KVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG59XG52YXIgaW5lcnRCb2R5SGVscGVyO1xuLyoqXG4gKiBTYW5pdGl6ZXMgdGhlIGdpdmVuIHVuc2FmZSwgdW50cnVzdGVkIEhUTUwgZnJhZ21lbnQsIGFuZCByZXR1cm5zIEhUTUwgdGV4dCB0aGF0IGlzIHNhZmUgdG8gYWRkIHRvXG4gKiB0aGUgRE9NIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAqL1xuZnVuY3Rpb24gX3Nhbml0aXplSHRtbChkZWZhdWx0RG9jLCB1bnNhZmVIdG1sSW5wdXQpIHtcbiAgICB2YXIgaW5lcnRCb2R5RWxlbWVudCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgICAgaW5lcnRCb2R5SGVscGVyID0gaW5lcnRCb2R5SGVscGVyIHx8IG5ldyBJbmVydEJvZHlIZWxwZXIoZGVmYXVsdERvYyk7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB1bnNhZmVIdG1sIGlzIGFjdHVhbGx5IGEgc3RyaW5nIChUeXBlU2NyaXB0IHR5cGVzIGFyZSBub3QgZW5mb3JjZWQgYXQgcnVudGltZSkuXG4gICAgICAgIHZhciB1bnNhZmVIdG1sID0gdW5zYWZlSHRtbElucHV0ID8gU3RyaW5nKHVuc2FmZUh0bWxJbnB1dCkgOiAnJztcbiAgICAgICAgaW5lcnRCb2R5RWxlbWVudCA9IGluZXJ0Qm9keUhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KHVuc2FmZUh0bWwpO1xuICAgICAgICAvLyBtWFNTIHByb3RlY3Rpb24uIFJlcGVhdGVkbHkgcGFyc2UgdGhlIGRvY3VtZW50IHRvIG1ha2Ugc3VyZSBpdCBzdGFiaWxpemVzLCBzbyB0aGF0IGEgYnJvd3NlclxuICAgICAgICAvLyB0cnlpbmcgdG8gYXV0by1jb3JyZWN0IGluY29ycmVjdCBIVE1MIGNhbm5vdCBjYXVzZSBmb3JtZXJseSBpbmVydCBIVE1MIHRvIGJlY29tZSBkYW5nZXJvdXMuXG4gICAgICAgIHZhciBtWFNTQXR0ZW1wdHMgPSA1O1xuICAgICAgICB2YXIgcGFyc2VkSHRtbCA9IHVuc2FmZUh0bWw7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChtWFNTQXR0ZW1wdHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGlucHV0IGlzIHVuc3RhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtWFNTQXR0ZW1wdHMtLTtcbiAgICAgICAgICAgIHVuc2FmZUh0bWwgPSBwYXJzZWRIdG1sO1xuICAgICAgICAgICAgcGFyc2VkSHRtbCA9IGluZXJ0Qm9keUVsZW1lbnQuaW5uZXJIVE1MO1xuICAgICAgICAgICAgaW5lcnRCb2R5RWxlbWVudCA9IGluZXJ0Qm9keUhlbHBlci5nZXRJbmVydEJvZHlFbGVtZW50KHVuc2FmZUh0bWwpO1xuICAgICAgICB9IHdoaWxlICh1bnNhZmVIdG1sICE9PSBwYXJzZWRIdG1sKTtcbiAgICAgICAgdmFyIHNhbml0aXplciA9IG5ldyBTYW5pdGl6aW5nSHRtbFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgdmFyIHNhZmVIdG1sID0gc2FuaXRpemVyLnNhbml0aXplQ2hpbGRyZW4oZ2V0VGVtcGxhdGVDb250ZW50KGluZXJ0Qm9keUVsZW1lbnQpIHx8IGluZXJ0Qm9keUVsZW1lbnQpO1xuICAgICAgICBpZiAoaXNEZXZNb2RlKCkgJiYgc2FuaXRpemVyLnNhbml0aXplZFNvbWV0aGluZykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBzYW5pdGl6aW5nIEhUTUwgc3RyaXBwZWQgc29tZSBjb250ZW50LCBzZWUgaHR0cDovL2cuY28vbmcvc2VjdXJpdHkjeHNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNhZmVIdG1sO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgLy8gSW4gY2FzZSBhbnl0aGluZyBnb2VzIHdyb25nLCBjbGVhciBvdXQgaW5lcnRFbGVtZW50IHRvIHJlc2V0IHRoZSBlbnRpcmUgRE9NIHN0cnVjdHVyZS5cbiAgICAgICAgaWYgKGluZXJ0Qm9keUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IGdldFRlbXBsYXRlQ29udGVudChpbmVydEJvZHlFbGVtZW50KSB8fCBpbmVydEJvZHlFbGVtZW50O1xuICAgICAgICAgICAgd2hpbGUgKHBhcmVudF8xLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRfMS5yZW1vdmVDaGlsZChwYXJlbnRfMS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRlbXBsYXRlQ29udGVudChlbCkge1xuICAgIHJldHVybiAnY29udGVudCcgaW4gZWwgLyoqIE1pY3Jvc29mdC9UeXBlU2NyaXB0IzIxNTE3ICovICYmIGlzVGVtcGxhdGVFbGVtZW50KGVsKSA/XG4gICAgICAgIGVsLmNvbnRlbnQgOlxuICAgICAgICBudWxsO1xufVxuZnVuY3Rpb24gaXNUZW1wbGF0ZUVsZW1lbnQoZWwpIHtcbiAgICByZXR1cm4gZWwubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIGVsLm5vZGVOYW1lID09PSAnVEVNUExBVEUnO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIE1hcmtzIHRoYXQgdGhlIG5leHQgc3RyaW5nIGlzIGZvciBlbGVtZW50LlxuICpcbiAqIFNlZSBgSTE4bk11dGF0ZU9wQ29kZXNgIGRvY3VtZW50YXRpb24uXG4gKi9cbnZhciBFTEVNRU5UX01BUktFUiA9IHtcbiAgICBtYXJrZXI6ICdlbGVtZW50J1xufTtcbi8qKlxuICogTWFya3MgdGhhdCB0aGUgbmV4dCBzdHJpbmcgaXMgZm9yIGNvbW1lbnQuXG4gKlxuICogU2VlIGBJMThuTXV0YXRlT3BDb2Rlc2AgZG9jdW1lbnRhdGlvbi5cbiAqL1xudmFyIENPTU1FTlRfTUFSS0VSID0ge1xuICAgIG1hcmtlcjogJ2NvbW1lbnQnXG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgTUFSS0VSID0gXCJcXHVGRkZEXCI7XG52YXIgSUNVX0JMT0NLX1JFR0VYID0gL15cXHMqKO+/vVxcZCs6P1xcZCrvv70pXFxzKixcXHMqKHNlbGVjdHxwbHVyYWwpXFxzKiwvO1xudmFyIFNVQlRFTVBMQVRFX1JFR0VYUCA9IC/vv71cXC8/XFwqKFxcZCs6XFxkKynvv70vZ2k7XG52YXIgUEhfUkVHRVhQID0gL++/vShcXC8/WyMqXVxcZCspOj9cXGQq77+9L2dpO1xudmFyIEJJTkRJTkdfUkVHRVhQID0gL++/vShcXGQrKTo/XFxkKu+/vS9naTtcbnZhciBJQ1VfUkVHRVhQID0gLyh7XFxzKu+/vVxcZCs6P1xcZCrvv71cXHMqLFxccypcXFN7Nn1cXHMqLFtcXHNcXFNdKn0pL2dpO1xuLy8gaTE4blBvc3Rwcm9vY2VzcyByZWdleHBzXG52YXIgUFBfUExBQ0VIT0xERVJTID0gL1xcWyjvv70uKz/vv70/KVxcXS9nO1xudmFyIFBQX0lDVV9WQVJTID0gLyh7XFxzKikoVkFSXyhQTFVSQUx8U0VMRUNUKShfXFxkKyk/KShcXHMqLCkvZztcbnZhciBQUF9JQ1VTID0gL++/vUkxOE5fRVhQXyhJQ1UoX1xcZCspPynvv70vZztcbi8qKlxuICogQnJlYWtzIHBhdHRlcm4gaW50byBzdHJpbmdzIGFuZCB0b3AgbGV2ZWwgey4uLn0gYmxvY2tzLlxuICogQ2FuIGJlIHVzZWQgdG8gYnJlYWsgYSBtZXNzYWdlIGludG8gdGV4dCBhbmQgSUNVIGV4cHJlc3Npb25zLCBvciB0byBicmVhayBhbiBJQ1UgZXhwcmVzc2lvbiBpbnRvXG4gKiBrZXlzIGFuZCBjYXNlcy5cbiAqIE9yaWdpbmFsIGNvZGUgZnJvbSBjbG9zdXJlIGxpYnJhcnksIG1vZGlmaWVkIGZvciBBbmd1bGFyLlxuICpcbiAqIEBwYXJhbSBwYXR0ZXJuIChzdWIpUGF0dGVybiB0byBiZSBicm9rZW4uXG4gKlxuICovXG5mdW5jdGlvbiBleHRyYWN0UGFydHMocGF0dGVybikge1xuICAgIGlmICghcGF0dGVybikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHZhciBwcmV2UG9zID0gMDtcbiAgICB2YXIgYnJhY2VTdGFjayA9IFtdO1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIGJyYWNlcyA9IC9be31dL2c7XG4gICAgLy8gbGFzdEluZGV4IGRvZXNuJ3QgZ2V0IHNldCB0byAwIHNvIHdlIGhhdmUgdG8uXG4gICAgYnJhY2VzLmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIG1hdGNoO1xuICAgIHdoaWxlIChtYXRjaCA9IGJyYWNlcy5leGVjKHBhdHRlcm4pKSB7XG4gICAgICAgIHZhciBwb3MgPSBtYXRjaC5pbmRleDtcbiAgICAgICAgaWYgKG1hdGNoWzBdID09ICd9Jykge1xuICAgICAgICAgICAgYnJhY2VTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChicmFjZVN0YWNrLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRW5kIG9mIHRoZSBibG9jay5cbiAgICAgICAgICAgICAgICB2YXIgYmxvY2sgPSBwYXR0ZXJuLnN1YnN0cmluZyhwcmV2UG9zLCBwb3MpO1xuICAgICAgICAgICAgICAgIGlmIChJQ1VfQkxPQ0tfUkVHRVgudGVzdChibG9jaykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHBhcnNlSUNVQmxvY2soYmxvY2spKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmxvY2spIHsgLy8gRG9uJ3QgcHVzaCBlbXB0eSBzdHJpbmdzXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChibG9jayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZQb3MgPSBwb3MgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGJyYWNlU3RhY2subGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgc3Vic3RyaW5nXzEgPSBwYXR0ZXJuLnN1YnN0cmluZyhwcmV2UG9zLCBwb3MpO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzdWJzdHJpbmdfMSk7XG4gICAgICAgICAgICAgICAgcHJldlBvcyA9IHBvcyArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmFjZVN0YWNrLnB1c2goJ3snKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3Vic3RyaW5nID0gcGF0dGVybi5zdWJzdHJpbmcocHJldlBvcyk7XG4gICAgaWYgKHN1YnN0cmluZyAhPSAnJykge1xuICAgICAgICByZXN1bHRzLnB1c2goc3Vic3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG4vKipcbiAqIFBhcnNlcyB0ZXh0IGNvbnRhaW5pbmcgYW4gSUNVIGV4cHJlc3Npb24gYW5kIHByb2R1Y2VzIGEgSlNPTiBvYmplY3QgZm9yIGl0LlxuICogT3JpZ2luYWwgY29kZSBmcm9tIGNsb3N1cmUgbGlicmFyeSwgbW9kaWZpZWQgZm9yIEFuZ3VsYXIuXG4gKlxuICogQHBhcmFtIHBhdHRlcm4gVGV4dCBjb250YWluaW5nIGFuIElDVSBleHByZXNzaW9uIHRoYXQgbmVlZHMgdG8gYmUgcGFyc2VkLlxuICpcbiAqL1xuZnVuY3Rpb24gcGFyc2VJQ1VCbG9jayhwYXR0ZXJuKSB7XG4gICAgdmFyIGNhc2VzID0gW107XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpY3VUeXBlID0gMSAvKiBwbHVyYWwgKi87XG4gICAgdmFyIG1haW5CaW5kaW5nID0gMDtcbiAgICBwYXR0ZXJuID0gcGF0dGVybi5yZXBsYWNlKElDVV9CTE9DS19SRUdFWCwgZnVuY3Rpb24gKHN0ciwgYmluZGluZywgdHlwZSkge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgICAgIGljdVR5cGUgPSAwIC8qIHNlbGVjdCAqLztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGljdVR5cGUgPSAxIC8qIHBsdXJhbCAqLztcbiAgICAgICAgfVxuICAgICAgICBtYWluQmluZGluZyA9IHBhcnNlSW50KGJpbmRpbmcuc3Vic3RyKDEpLCAxMCk7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9KTtcbiAgICB2YXIgcGFydHMgPSBleHRyYWN0UGFydHMocGF0dGVybik7XG4gICAgLy8gTG9va2luZyBmb3IgKGtleSBibG9jaykrIHNlcXVlbmNlLiBPbmUgb2YgdGhlIGtleXMgaGFzIHRvIGJlIFwib3RoZXJcIi5cbiAgICBmb3IgKHZhciBwb3MgPSAwOyBwb3MgPCBwYXJ0cy5sZW5ndGg7KSB7XG4gICAgICAgIHZhciBrZXkgPSBwYXJ0c1twb3MrK10udHJpbSgpO1xuICAgICAgICBpZiAoaWN1VHlwZSA9PT0gMSAvKiBwbHVyYWwgKi8pIHtcbiAgICAgICAgICAgIC8vIEtleSBjYW4gYmUgXCI9eFwiLCB3ZSBqdXN0IHdhbnQgXCJ4XCJcbiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cXHMqKD86PSk/KFxcdyspXFxzKi8sICckMScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlcy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJsb2NrcyA9IGV4dHJhY3RQYXJ0cyhwYXJ0c1twb3MrK10pO1xuICAgICAgICBpZiAoYmxvY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goYmxvY2tzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3NlcnRHcmVhdGVyVGhhbihjYXNlcy5pbmRleE9mKCdvdGhlcicpLCAtMSwgJ01pc3Npbmcga2V5IFwib3RoZXJcIiBpbiBJQ1Ugc3RhdGVtZW50LicpO1xuICAgIC8vIFRPRE8ob2NvbWJlKTogc3VwcG9ydCBJQ1UgZXhwcmVzc2lvbnMgaW4gYXR0cmlidXRlcywgc2VlICMyMTYxNVxuICAgIHJldHVybiB7IHR5cGU6IGljdVR5cGUsIG1haW5CaW5kaW5nOiBtYWluQmluZGluZywgY2FzZXM6IGNhc2VzLCB2YWx1ZXM6IHZhbHVlcyB9O1xufVxuLyoqXG4gKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgaW5zaWRlIHRoZSBzdWItdGVtcGxhdGVzIG9mIGEgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlSW5uZXJUZW1wbGF0ZVRyYW5zbGF0aW9uKG1lc3NhZ2UpIHtcbiAgICB2YXIgbWF0Y2g7XG4gICAgdmFyIHJlcyA9ICcnO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGluVGVtcGxhdGUgPSBmYWxzZTtcbiAgICB2YXIgdGFnTWF0Y2hlZDtcbiAgICB3aGlsZSAoKG1hdGNoID0gU1VCVEVNUExBVEVfUkVHRVhQLmV4ZWMobWVzc2FnZSkpICE9PSBudWxsKSB7XG4gICAgICAgIGlmICghaW5UZW1wbGF0ZSkge1xuICAgICAgICAgICAgcmVzICs9IG1lc3NhZ2Uuc3Vic3RyaW5nKGluZGV4LCBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB0YWdNYXRjaGVkID0gbWF0Y2hbMV07XG4gICAgICAgICAgICBpblRlbXBsYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChtYXRjaFswXSA9PT0gTUFSS0VSICsgXCIvKlwiICsgdGFnTWF0Y2hlZCArIE1BUktFUikge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgICAgICAgaW5UZW1wbGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICBhc3NlcnRFcXVhbChpblRlbXBsYXRlLCBmYWxzZSwgXCJUYWcgbWlzbWF0Y2g6IHVuYWJsZSB0byBmaW5kIHRoZSBlbmQgb2YgdGhlIHN1Yi10ZW1wbGF0ZSBpbiB0aGUgdHJhbnNsYXRpb24gXFxcIlwiICsgbWVzc2FnZSArIFwiXFxcIlwiKTtcbiAgICByZXMgKz0gbWVzc2FnZS5zdWJzdHIoaW5kZXgpO1xuICAgIHJldHVybiByZXM7XG59XG4vKipcbiAqIEV4dHJhY3RzIGEgcGFydCBvZiBhIG1lc3NhZ2UgYW5kIHJlbW92ZXMgdGhlIHJlc3QuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgZXh0cmFjdGluZyBhIHBhcnQgb2YgdGhlIG1lc3NhZ2UgYXNzb2NpYXRlZCB3aXRoIGEgdGVtcGxhdGUuIEEgdHJhbnNsYXRlZFxuICogbWVzc2FnZSBjYW4gc3BhbiBtdWx0aXBsZSB0ZW1wbGF0ZXMuXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYFxuICogPGRpdiBpMThuPlRyYW5zbGF0ZSA8c3BhbiAqbmdJZj5tZTwvc3Bhbj4hPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBjcm9wXG4gKiBAcGFyYW0gc3ViVGVtcGxhdGVJbmRleCBJbmRleCBvZiB0aGUgc3ViLXRlbXBsYXRlIHRvIGV4dHJhY3QuIElmIHVuZGVmaW5lZCBpdCByZXR1cm5zIHRoZVxuICogZXh0ZXJuYWwgdGVtcGxhdGUgYW5kIHJlbW92ZXMgYWxsIHN1Yi10ZW1wbGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uRm9yVGVtcGxhdGUobWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCkge1xuICAgIGlmICh0eXBlb2Ygc3ViVGVtcGxhdGVJbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgLy8gV2Ugd2FudCB0aGUgcm9vdCB0ZW1wbGF0ZSBtZXNzYWdlLCBpZ25vcmUgYWxsIHN1Yi10ZW1wbGF0ZXNcbiAgICAgICAgcmV0dXJuIHJlbW92ZUlubmVyVGVtcGxhdGVUcmFuc2xhdGlvbihtZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFdlIHdhbnQgYSBzcGVjaWZpYyBzdWItdGVtcGxhdGVcbiAgICAgICAgdmFyIHN0YXJ0ID0gbWVzc2FnZS5pbmRleE9mKFwiOlwiICsgc3ViVGVtcGxhdGVJbmRleCArIE1BUktFUikgKyAyICsgc3ViVGVtcGxhdGVJbmRleC50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgdmFyIGVuZCA9IG1lc3NhZ2Uuc2VhcmNoKG5ldyBSZWdFeHAoTUFSS0VSICsgXCJcXFxcL1xcXFwqXFxcXGQrOlwiICsgc3ViVGVtcGxhdGVJbmRleCArIE1BUktFUikpO1xuICAgICAgICByZXR1cm4gcmVtb3ZlSW5uZXJUZW1wbGF0ZVRyYW5zbGF0aW9uKG1lc3NhZ2Uuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpKTtcbiAgICB9XG59XG4vKipcbiAqIEdlbmVyYXRlIHRoZSBPcENvZGVzIHRvIHVwZGF0ZSB0aGUgYmluZGluZ3Mgb2YgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHN0ciBUaGUgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGJpbmRpbmdzLlxuICogQHBhcmFtIGRlc3RpbmF0aW9uTm9kZSBJbmRleCBvZiB0aGUgZGVzdGluYXRpb24gbm9kZSB3aGljaCB3aWxsIHJlY2VpdmUgdGhlIGJpbmRpbmcuXG4gKiBAcGFyYW0gYXR0ck5hbWUgTmFtZSBvZiB0aGUgYXR0cmlidXRlLCBpZiB0aGUgc3RyaW5nIGJlbG9uZ3MgdG8gYW4gYXR0cmlidXRlLlxuICogQHBhcmFtIHNhbml0aXplRm4gU2FuaXRpemF0aW9uIGZ1bmN0aW9uIHVzZWQgdG8gc2FuaXRpemUgdGhlIHN0cmluZyBhZnRlciB1cGRhdGUsIGlmIG5lY2Vzc2FyeS5cbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2RlcyhzdHIsIGRlc3RpbmF0aW9uTm9kZSwgYXR0ck5hbWUsIHNhbml0aXplRm4pIHtcbiAgICBpZiAoc2FuaXRpemVGbiA9PT0gdm9pZCAwKSB7IHNhbml0aXplRm4gPSBudWxsOyB9XG4gICAgdmFyIHVwZGF0ZU9wQ29kZXMgPSBbbnVsbCwgbnVsbF07IC8vIEFsbG9jIHNwYWNlIGZvciBtYXNrIGFuZCBzaXplXG4gICAgdmFyIHRleHRQYXJ0cyA9IHN0ci5zcGxpdChCSU5ESU5HX1JFR0VYUCk7XG4gICAgdmFyIG1hc2sgPSAwO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dFBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciB0ZXh0VmFsdWUgPSB0ZXh0UGFydHNbal07XG4gICAgICAgIGlmIChqICYgMSkge1xuICAgICAgICAgICAgLy8gT2RkIGluZGV4ZXMgYXJlIGJpbmRpbmdzXG4gICAgICAgICAgICB2YXIgYmluZGluZ0luZGV4ID0gcGFyc2VJbnQodGV4dFZhbHVlLCAxMCk7XG4gICAgICAgICAgICB1cGRhdGVPcENvZGVzLnB1c2goLTEgLSBiaW5kaW5nSW5kZXgpO1xuICAgICAgICAgICAgbWFzayA9IG1hc2sgfCB0b01hc2tCaXQoYmluZGluZ0luZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0VmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAvLyBFdmVuIGluZGV4ZXMgYXJlIHRleHRcbiAgICAgICAgICAgIHVwZGF0ZU9wQ29kZXMucHVzaCh0ZXh0VmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZU9wQ29kZXMucHVzaChkZXN0aW5hdGlvbk5vZGUgPDwgMiAvKiBTSElGVF9SRUYgKi8gfFxuICAgICAgICAoYXR0ck5hbWUgPyAxIC8qIEF0dHIgKi8gOiAwIC8qIFRleHQgKi8pKTtcbiAgICBpZiAoYXR0ck5hbWUpIHtcbiAgICAgICAgdXBkYXRlT3BDb2Rlcy5wdXNoKGF0dHJOYW1lLCBzYW5pdGl6ZUZuKTtcbiAgICB9XG4gICAgdXBkYXRlT3BDb2Rlc1swXSA9IG1hc2s7XG4gICAgdXBkYXRlT3BDb2Rlc1sxXSA9IHVwZGF0ZU9wQ29kZXMubGVuZ3RoIC0gMjtcbiAgICByZXR1cm4gdXBkYXRlT3BDb2Rlcztcbn1cbmZ1bmN0aW9uIGdldEJpbmRpbmdNYXNrKGljdUV4cHJlc3Npb24sIG1hc2spIHtcbiAgICBpZiAobWFzayA9PT0gdm9pZCAwKSB7IG1hc2sgPSAwOyB9XG4gICAgbWFzayA9IG1hc2sgfCB0b01hc2tCaXQoaWN1RXhwcmVzc2lvbi5tYWluQmluZGluZyk7XG4gICAgdmFyIG1hdGNoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWN1RXhwcmVzc2lvbi52YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHZhbHVlQXJyID0gaWN1RXhwcmVzc2lvbi52YWx1ZXNbaV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsdWVBcnIubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlQXJyW2pdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAobWF0Y2ggPSBCSU5ESU5HX1JFR0VYUC5leGVjKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXNrID0gbWFzayB8IHRvTWFza0JpdChwYXJzZUludChtYXRjaFsxXSwgMTApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXNrID0gZ2V0QmluZGluZ01hc2sodmFsdWUsIG1hc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXNrO1xufVxudmFyIGkxOG5JbmRleFN0YWNrID0gW107XG52YXIgaTE4bkluZGV4U3RhY2tQb2ludGVyID0gLTE7XG4vKipcbiAqIENvbnZlcnQgYmluZGluZyBpbmRleCB0byBtYXNrIGJpdC5cbiAqXG4gKiBFYWNoIGluZGV4IHJlcHJlc2VudHMgYSBzaW5nbGUgYml0IG9uIHRoZSBiaXQtbWFzay4gQmVjYXVzZSBiaXQtbWFzayBvbmx5IGhhcyAzMiBiaXRzLCB3ZSBtYWtlXG4gKiB0aGUgMzJuZCBiaXQgc2hhcmUgYWxsIG1hc2tzIGZvciBhbGwgYmluZGluZ3MgaGlnaGVyIHRoYW4gMzIuIFNpbmNlIGl0IGlzIGV4dHJlbWVseSByYXJlIHRvIGhhdmVcbiAqIG1vcmUgdGhhbiAzMiBiaW5kaW5ncyB0aGlzIHdpbGwgYmUgaGl0IHZlcnkgcmFyZWx5LiBUaGUgZG93bnNpZGUgb2YgaGl0dGluZyB0aGlzIGNvcm5lciBjYXNlIGlzXG4gKiB0aGF0IHdlIHdpbGwgZXhlY3V0ZSBiaW5kaW5nIGNvZGUgbW9yZSBvZnRlbiB0aGFuIG5lY2Vzc2FyeS4gKHBlbmFsdHkgb2YgcGVyZm9ybWFuY2UpXG4gKi9cbmZ1bmN0aW9uIHRvTWFza0JpdChiaW5kaW5nSW5kZXgpIHtcbiAgICByZXR1cm4gMSA8PCBNYXRoLm1pbihiaW5kaW5nSW5kZXgsIDMxKTtcbn1cbnZhciBwYXJlbnRJbmRleFN0YWNrID0gW107XG4vKipcbiAqIE1hcmtzIGEgYmxvY2sgb2YgdGV4dCBhcyB0cmFuc2xhdGFibGUuXG4gKlxuICogVGhlIGluc3RydWN0aW9ucyBgaTE4blN0YXJ0YCBhbmQgYGkxOG5FbmRgIG1hcmsgdGhlIHRyYW5zbGF0aW9uIGJsb2NrIGluIHRoZSB0ZW1wbGF0ZS5cbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgaXMgdGhlIHZhbHVlIHdoaWNoIGlzIGxvY2FsZSBzcGVjaWZpYy4gVGhlIHRyYW5zbGF0aW9uIHN0cmluZyBtYXlcbiAqIGNvbnRhaW4gcGxhY2Vob2xkZXJzIHdoaWNoIGFzc29jaWF0ZSBpbm5lciBlbGVtZW50cyBhbmQgc3ViLXRlbXBsYXRlcyB3aXRoaW4gdGhlIHRyYW5zbGF0aW9uLlxuICpcbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgcGxhY2Vob2xkZXJzIGFyZTpcbiAqIC0gYO+/vXtpbmRleH0oOntibG9ja30p77+9YDogKkJpbmRpbmcgUGxhY2Vob2xkZXIqOiBNYXJrcyBhIGxvY2F0aW9uIHdoZXJlIGFuIGV4cHJlc3Npb24gd2lsbCBiZVxuICogICBpbnRlcnBvbGF0ZWQgaW50by4gVGhlIHBsYWNlaG9sZGVyIGBpbmRleGAgcG9pbnRzIHRvIHRoZSBleHByZXNzaW9uIGJpbmRpbmcgaW5kZXguIEFuIG9wdGlvbmFsXG4gKiAgIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9I3tpbmRleH0oOntibG9ja30p77+9YC9g77+9LyN7aW5kZXh9KDp7YmxvY2t9Ke+/vWA6ICpFbGVtZW50IFBsYWNlaG9sZGVyKjogIE1hcmtzIHRoZSBiZWdpbm5pbmdcbiAqICAgYW5kIGVuZCBvZiBET00gZWxlbWVudCB0aGF0IHdlcmUgZW1iZWRkZWQgaW4gdGhlIG9yaWdpbmFsIHRyYW5zbGF0aW9uIGJsb2NrLiBUaGUgcGxhY2Vob2xkZXJcbiAqICAgYGluZGV4YCBwb2ludHMgdG8gdGhlIGVsZW1lbnQgaW5kZXggaW4gdGhlIHRlbXBsYXRlIGluc3RydWN0aW9ucyBzZXQuIEFuIG9wdGlvbmFsIGBibG9ja2AgdGhhdFxuICogICBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9KntpbmRleH06e2Jsb2Nrfe+/vWAvYO+/vS8qe2luZGV4fTp7YmxvY2t977+9YDogKlN1Yi10ZW1wbGF0ZSBQbGFjZWhvbGRlcio6IFN1Yi10ZW1wbGF0ZXMgbXVzdCBiZVxuICogICBzcGxpdCB1cCBhbmQgdHJhbnNsYXRlZCBzZXBhcmF0ZWx5IGluIGVhY2ggYW5ndWxhciB0ZW1wbGF0ZSBmdW5jdGlvbi4gVGhlIGBpbmRleGAgcG9pbnRzIHRvIHRoZVxuICogICBgdGVtcGxhdGVgIGluc3RydWN0aW9uIGluZGV4LiBBIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICpcbiAqIEBwYXJhbSBpbmRleCBBIHVuaXF1ZSBpbmRleCBvZiB0aGUgdHJhbnNsYXRpb24gaW4gdGhlIHN0YXRpYyBibG9jay5cbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSB0cmFuc2xhdGlvbiBtZXNzYWdlLlxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggT3B0aW9uYWwgc3ViLXRlbXBsYXRlIGluZGV4IGluIHRoZSBgbWVzc2FnZWAuXG4gKi9cbmZ1bmN0aW9uIGkxOG5TdGFydChpbmRleCwgbWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCkge1xuICAgIHZhciB0VmlldyA9IGdldExWaWV3KClbVFZJRVddO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnREZWZpbmVkKHRWaWV3LCBcInRWaWV3IHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgIGkxOG5JbmRleFN0YWNrWysraTE4bkluZGV4U3RhY2tQb2ludGVyXSA9IGluZGV4O1xuICAgIGlmICh0Vmlldy5maXJzdFRlbXBsYXRlUGFzcyAmJiB0Vmlldy5kYXRhW2luZGV4ICsgSEVBREVSX09GRlNFVF0gPT09IG51bGwpIHtcbiAgICAgICAgaTE4blN0YXJ0Rmlyc3RQYXNzKHRWaWV3LCBpbmRleCwgbWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCk7XG4gICAgfVxufVxuLyoqXG4gKiBTZWUgYGkxOG5TdGFydGAgYWJvdmUuXG4gKi9cbmZ1bmN0aW9uIGkxOG5TdGFydEZpcnN0UGFzcyh0VmlldywgaW5kZXgsIG1lc3NhZ2UsIHN1YlRlbXBsYXRlSW5kZXgpIHtcbiAgICB2YXIgdmlld0RhdGEgPSBnZXRMVmlldygpO1xuICAgIHZhciBleHBhbmRvU3RhcnRJbmRleCA9IHRWaWV3LmJsdWVwcmludC5sZW5ndGggLSBIRUFERVJfT0ZGU0VUO1xuICAgIHZhciBwcmV2aW91c09yUGFyZW50VE5vZGUgPSBnZXRQcmV2aW91c09yUGFyZW50VE5vZGUoKTtcbiAgICB2YXIgcGFyZW50VE5vZGUgPSBnZXRJc1BhcmVudCgpID8gZ2V0UHJldmlvdXNPclBhcmVudFROb2RlKCkgOlxuICAgICAgICBwcmV2aW91c09yUGFyZW50VE5vZGUgJiYgcHJldmlvdXNPclBhcmVudFROb2RlLnBhcmVudDtcbiAgICB2YXIgcGFyZW50SW5kZXggPSBwYXJlbnRUTm9kZSAmJiBwYXJlbnRUTm9kZSAhPT0gdmlld0RhdGFbSE9TVF9OT0RFXSA/XG4gICAgICAgIHBhcmVudFROb2RlLmluZGV4IC0gSEVBREVSX09GRlNFVCA6XG4gICAgICAgIGluZGV4O1xuICAgIHZhciBwYXJlbnRJbmRleFBvaW50ZXIgPSAwO1xuICAgIHBhcmVudEluZGV4U3RhY2tbcGFyZW50SW5kZXhQb2ludGVyXSA9IHBhcmVudEluZGV4O1xuICAgIHZhciBjcmVhdGVPcENvZGVzID0gW107XG4gICAgLy8gSWYgdGhlIHByZXZpb3VzIG5vZGUgd2Fzbid0IHRoZSBkaXJlY3QgcGFyZW50IHRoZW4gd2UgaGF2ZSBhIHRyYW5zbGF0aW9uIHdpdGhvdXQgdG9wIGxldmVsXG4gICAgLy8gZWxlbWVudCBhbmQgd2UgbmVlZCB0byBrZWVwIGEgcmVmZXJlbmNlIG9mIHRoZSBwcmV2aW91cyBlbGVtZW50IGlmIHRoZXJlIGlzIG9uZVxuICAgIGlmIChpbmRleCA+IDAgJiYgcHJldmlvdXNPclBhcmVudFROb2RlICE9PSBwYXJlbnRUTm9kZSkge1xuICAgICAgICAvLyBDcmVhdGUgYW4gT3BDb2RlIHRvIHNlbGVjdCB0aGUgcHJldmlvdXMgVE5vZGVcbiAgICAgICAgY3JlYXRlT3BDb2Rlcy5wdXNoKHByZXZpb3VzT3JQYXJlbnRUTm9kZS5pbmRleCA8PCAzIC8qIFNISUZUX1JFRiAqLyB8IDAgLyogU2VsZWN0ICovKTtcbiAgICB9XG4gICAgdmFyIHVwZGF0ZU9wQ29kZXMgPSBbXTtcbiAgICB2YXIgaWN1RXhwcmVzc2lvbnMgPSBbXTtcbiAgICB2YXIgdGVtcGxhdGVUcmFuc2xhdGlvbiA9IGdldFRyYW5zbGF0aW9uRm9yVGVtcGxhdGUobWVzc2FnZSwgc3ViVGVtcGxhdGVJbmRleCk7XG4gICAgdmFyIG1zZ1BhcnRzID0gdGVtcGxhdGVUcmFuc2xhdGlvbi5zcGxpdChQSF9SRUdFWFApO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbXNnUGFydHNbaV07XG4gICAgICAgIGlmIChpICYgMSkge1xuICAgICAgICAgICAgLy8gT2RkIGluZGV4ZXMgYXJlIHBsYWNlaG9sZGVycyAoZWxlbWVudHMgYW5kIHN1Yi10ZW1wbGF0ZXMpXG4gICAgICAgICAgICBpZiAodmFsdWUuY2hhckF0KDApID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBpcyBhIGNsb3NpbmcgdGFnXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmNoYXJBdCgxKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwaEluZGV4ID0gcGFyc2VJbnQodmFsdWUuc3Vic3RyKDIpLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEluZGV4ID0gcGFyZW50SW5kZXhTdGFja1stLXBhcmVudEluZGV4UG9pbnRlcl07XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU9wQ29kZXMucHVzaChwaEluZGV4IDw8IDMgLyogU0hJRlRfUkVGICovIHwgNSAvKiBFbGVtZW50RW5kICovKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcGhJbmRleCA9IHBhcnNlSW50KHZhbHVlLnN1YnN0cigxKSwgMTApO1xuICAgICAgICAgICAgICAgIC8vIFRoZSB2YWx1ZSByZXByZXNlbnRzIGEgcGxhY2Vob2xkZXIgdGhhdCB3ZSBtb3ZlIHRvIHRoZSBkZXNpZ25hdGVkIGluZGV4XG4gICAgICAgICAgICAgICAgY3JlYXRlT3BDb2Rlcy5wdXNoKHBoSW5kZXggPDwgMyAvKiBTSElGVF9SRUYgKi8gfCAwIC8qIFNlbGVjdCAqLywgcGFyZW50SW5kZXggPDwgMTcgLyogU0hJRlRfUEFSRU5UICovIHwgMSAvKiBBcHBlbmRDaGlsZCAqLyk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEluZGV4U3RhY2tbKytwYXJlbnRJbmRleFBvaW50ZXJdID0gcGFyZW50SW5kZXggPSBwaEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEV2ZW4gaW5kZXhlcyBhcmUgdGV4dCAoaW5jbHVkaW5nIGJpbmRpbmdzICYgSUNVIGV4cHJlc3Npb25zKVxuICAgICAgICAgICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoSUNVX1JFR0VYUCk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoaiAmIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT2RkIGluZGV4ZXMgYXJlIElDVSBleHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbW1lbnQgbm9kZSB0aGF0IHdpbGwgYW5jaG9yIHRoZSBJQ1UgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAgICBhbGxvY0V4cGFuZG8odmlld0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWN1Tm9kZUluZGV4ID0gdFZpZXcuYmx1ZXByaW50Lmxlbmd0aCAtIDEgLSBIRUFERVJfT0ZGU0VUO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVPcENvZGVzLnB1c2goQ09NTUVOVF9NQVJLRVIsIG5nRGV2TW9kZSA/IFwiSUNVIFwiICsgaWN1Tm9kZUluZGV4IDogJycsIHBhcmVudEluZGV4IDw8IDE3IC8qIFNISUZUX1BBUkVOVCAqLyB8IDEgLyogQXBwZW5kQ2hpbGQgKi8pO1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgY29kZXMgZm9yIHRoZSBJQ1UgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAgICB2YXIgaWN1RXhwcmVzc2lvbiA9IHBhcnNlSUNVQmxvY2sodmFsdWUuc3Vic3RyKDEsIHZhbHVlLmxlbmd0aCAtIDIpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hc2sgPSBnZXRCaW5kaW5nTWFzayhpY3VFeHByZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWN1U3RhcnQoaWN1RXhwcmVzc2lvbnMsIGljdUV4cHJlc3Npb24sIGljdU5vZGVJbmRleCwgaWN1Tm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyByZWN1cnNpdmUsIHRoZSBsYXN0IFRJY3UgdGhhdCB3YXMgcHVzaGVkIGlzIHRoZSBvbmUgd2Ugd2FudFxuICAgICAgICAgICAgICAgICAgICB2YXIgdEljdUluZGV4ID0gaWN1RXhwcmVzc2lvbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlT3BDb2Rlcy5wdXNoKHRvTWFza0JpdChpY3VFeHByZXNzaW9uLm1haW5CaW5kaW5nKSwgLy8gbWFzayBvZiB0aGUgbWFpbiBiaW5kaW5nXG4gICAgICAgICAgICAgICAgICAgIDMsIC8vIHNraXAgMyBvcENvZGVzIGlmIG5vdCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIC0xIC0gaWN1RXhwcmVzc2lvbi5tYWluQmluZGluZywgaWN1Tm9kZUluZGV4IDw8IDIgLyogU0hJRlRfUkVGICovIHwgMiAvKiBJY3VTd2l0Y2ggKi8sIHRJY3VJbmRleCwgbWFzaywgLy8gbWFzayBvZiBhbGwgdGhlIGJpbmRpbmdzIG9mIHRoaXMgSUNVIGV4cHJlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgMiwgLy8gc2tpcCAyIG9wQ29kZXMgaWYgbm90IGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgaWN1Tm9kZUluZGV4IDw8IDIgLyogU0hJRlRfUkVGICovIHwgMyAvKiBJY3VVcGRhdGUgKi8sIHRJY3VJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBFdmVuIGluZGV4ZXMgYXJlIHRleHQgKGluY2x1ZGluZyBiaW5kaW5ncylcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0JpbmRpbmcgPSB2YWx1ZS5tYXRjaChCSU5ESU5HX1JFR0VYUCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0ZXh0IG5vZGVzXG4gICAgICAgICAgICAgICAgICAgIGFsbG9jRXhwYW5kbyh2aWV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU9wQ29kZXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBiaW5kaW5nLCB0aGUgdmFsdWUgd2lsbCBiZSBzZXQgZHVyaW5nIHVwZGF0ZVxuICAgICAgICAgICAgICAgICAgICBoYXNCaW5kaW5nID8gJycgOiB2YWx1ZSwgcGFyZW50SW5kZXggPDwgMTcgLyogU0hJRlRfUEFSRU5UICovIHwgMSAvKiBBcHBlbmRDaGlsZCAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBbGxUb0FycmF5KGdlbmVyYXRlQmluZGluZ1VwZGF0ZU9wQ29kZXModmFsdWUsIHRWaWV3LmJsdWVwcmludC5sZW5ndGggLSAxIC0gSEVBREVSX09GRlNFVCksIHVwZGF0ZU9wQ29kZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE5PVEU6IGxvY2FsIHZhciBuZWVkZWQgdG8gcHJvcGVybHkgYXNzZXJ0IHRoZSB0eXBlIG9mIGBUSTE4bmAuXG4gICAgdmFyIHRJMThuID0ge1xuICAgICAgICB2YXJzOiB0Vmlldy5ibHVlcHJpbnQubGVuZ3RoIC0gSEVBREVSX09GRlNFVCAtIGV4cGFuZG9TdGFydEluZGV4LFxuICAgICAgICBleHBhbmRvU3RhcnRJbmRleDogZXhwYW5kb1N0YXJ0SW5kZXgsXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlT3BDb2RlcyxcbiAgICAgICAgdXBkYXRlOiB1cGRhdGVPcENvZGVzLFxuICAgICAgICBpY3VzOiBpY3VFeHByZXNzaW9ucy5sZW5ndGggPyBpY3VFeHByZXNzaW9ucyA6IG51bGwsXG4gICAgfTtcbiAgICB0Vmlldy5kYXRhW2luZGV4ICsgSEVBREVSX09GRlNFVF0gPSB0STE4bjtcbn1cbmZ1bmN0aW9uIGFwcGVuZEkxOG5Ob2RlKHROb2RlLCBwYXJlbnRUTm9kZSwgcHJldmlvdXNUTm9kZSkge1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJNb3ZlTm9kZSsrO1xuICAgIHZhciB2aWV3RGF0YSA9IGdldExWaWV3KCk7XG4gICAgaWYgKCFwcmV2aW91c1ROb2RlKSB7XG4gICAgICAgIHByZXZpb3VzVE5vZGUgPSBwYXJlbnRUTm9kZTtcbiAgICB9XG4gICAgLy8gcmUtb3JnYW5pemUgbm9kZSB0cmVlIHRvIHB1dCB0aGlzIG5vZGUgaW4gdGhlIGNvcnJlY3QgcG9zaXRpb24uXG4gICAgaWYgKHByZXZpb3VzVE5vZGUgPT09IHBhcmVudFROb2RlICYmIHROb2RlICE9PSBwYXJlbnRUTm9kZS5jaGlsZCkge1xuICAgICAgICB0Tm9kZS5uZXh0ID0gcGFyZW50VE5vZGUuY2hpbGQ7XG4gICAgICAgIHBhcmVudFROb2RlLmNoaWxkID0gdE5vZGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByZXZpb3VzVE5vZGUgIT09IHBhcmVudFROb2RlICYmIHROb2RlICE9PSBwcmV2aW91c1ROb2RlLm5leHQpIHtcbiAgICAgICAgdE5vZGUubmV4dCA9IHByZXZpb3VzVE5vZGUubmV4dDtcbiAgICAgICAgcHJldmlvdXNUTm9kZS5uZXh0ID0gdE5vZGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0Tm9kZS5uZXh0ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHBhcmVudFROb2RlICE9PSB2aWV3RGF0YVtIT1NUX05PREVdKSB7XG4gICAgICAgIHROb2RlLnBhcmVudCA9IHBhcmVudFROb2RlO1xuICAgIH1cbiAgICBhcHBlbmRDaGlsZChnZXROYXRpdmVCeVROb2RlKHROb2RlLCB2aWV3RGF0YSksIHROb2RlLCB2aWV3RGF0YSk7XG4gICAgdmFyIHNsb3RWYWx1ZSA9IHZpZXdEYXRhW3ROb2RlLmluZGV4XTtcbiAgICBpZiAodE5vZGUudHlwZSAhPT0gMCAvKiBDb250YWluZXIgKi8gJiYgaXNMQ29udGFpbmVyKHNsb3RWYWx1ZSkpIHtcbiAgICAgICAgLy8gTm9kZXMgdGhhdCBpbmplY3QgVmlld0NvbnRhaW5lclJlZiBhbHNvIGhhdmUgYSBjb21tZW50IG5vZGUgdGhhdCBzaG91bGQgYmUgbW92ZWRcbiAgICAgICAgYXBwZW5kQ2hpbGQoc2xvdFZhbHVlW05BVElWRV0sIHROb2RlLCB2aWV3RGF0YSk7XG4gICAgfVxuICAgIHJldHVybiB0Tm9kZTtcbn1cbi8qKlxuICogSGFuZGxlcyBtZXNzYWdlIHN0cmluZyBwb3N0LXByb2Nlc3NpbmcgZm9yIGludGVybmF0aW9uYWxpemF0aW9uLlxuICpcbiAqIEhhbmRsZXMgbWVzc2FnZSBzdHJpbmcgcG9zdC1wcm9jZXNzaW5nIGJ5IHRyYW5zZm9ybWluZyBpdCBmcm9tIGludGVybWVkaWF0ZVxuICogZm9ybWF0ICh0aGF0IG1pZ2h0IGNvbnRhaW4gc29tZSBtYXJrZXJzIHRoYXQgd2UgbmVlZCB0byByZXBsYWNlKSB0byB0aGUgZmluYWxcbiAqIGZvcm0sIGNvbnN1bWFibGUgYnkgaTE4blN0YXJ0IGluc3RydWN0aW9uLiBQb3N0IHByb2Nlc3Npbmcgc3RlcHMgaW5jbHVkZTpcbiAqXG4gKiAxLiBSZXNvbHZlIGFsbCBtdWx0aS12YWx1ZSBjYXNlcyAobGlrZSBb77+9KjE6Me+/ve+/vSMyOjHvv71877+9IzQ6Me+/vXzvv70177+9XSlcbiAqIDIuIFJlcGxhY2UgYWxsIElDVSB2YXJzIChsaWtlIFwiVkFSX1BMVVJBTFwiKVxuICogMy4gUmVwbGFjZSBhbGwgSUNVIHJlZmVyZW5jZXMgd2l0aCBjb3JyZXNwb25kaW5nIHZhbHVlcyAobGlrZSDvv71JQ1VfRVhQX0lDVV8x77+9KVxuICogICAgaW4gY2FzZSBtdWx0aXBsZSBJQ1VzIGhhdmUgdGhlIHNhbWUgcGxhY2Vob2xkZXIgbmFtZVxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFJhdyB0cmFuc2xhdGlvbiBzdHJpbmcgZm9yIHBvc3QgcHJvY2Vzc2luZ1xuICogQHBhcmFtIHJlcGxhY2VtZW50cyBTZXQgb2YgcmVwbGFjZW1lbnRzIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWRcbiAqXG4gKiBAcmV0dXJucyBUcmFuc2Zvcm1lZCBzdHJpbmcgdGhhdCBjYW4gYmUgY29uc3VtZWQgYnkgaTE4blN0YXJ0IGluc3RydWN0aW9uXG4gKlxuICogQHB1YmxpY0FQSVxuICovXG5mdW5jdGlvbiBpMThuUG9zdHByb2Nlc3MobWVzc2FnZSwgcmVwbGFjZW1lbnRzKSB7XG4gICAgLy9cbiAgICAvLyBTdGVwIDE6IHJlc29sdmUgYWxsIG11bHRpLXZhbHVlIGNhc2VzIChsaWtlIFvvv70qMTox77+977+9IzI6Me+/vXzvv70jNDox77+9fO+/vTXvv71dKVxuICAgIC8vXG4gICAgdmFyIG1hdGNoZXMgPSB7fTtcbiAgICB2YXIgcmVzdWx0ID0gbWVzc2FnZS5yZXBsYWNlKFBQX1BMQUNFSE9MREVSUywgZnVuY3Rpb24gKF9tYXRjaCwgY29udGVudCkge1xuICAgICAgICBpZiAoIW1hdGNoZXNbY29udGVudF0pIHtcbiAgICAgICAgICAgIG1hdGNoZXNbY29udGVudF0gPSBjb250ZW50LnNwbGl0KCd8Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXRjaGVzW2NvbnRlbnRdLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaTE4biBwb3N0cHJvY2VzczogdW5tYXRjaGVkIHBsYWNlaG9sZGVyIC0gXCIgKyBjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2hlc1tjb250ZW50XS5zaGlmdCgpO1xuICAgIH0pO1xuICAgIC8vIHZlcmlmeSB0aGF0IHdlIGluamVjdGVkIGFsbCB2YWx1ZXNcbiAgICB2YXIgaGFzVW5tYXRjaGVkVmFsdWVzID0gT2JqZWN0LmtleXMobWF0Y2hlcykuc29tZShmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAhIW1hdGNoZXNba2V5XS5sZW5ndGg7IH0pO1xuICAgIGlmIChoYXNVbm1hdGNoZWRWYWx1ZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaTE4biBwb3N0cHJvY2VzczogdW5tYXRjaGVkIHZhbHVlcyAtIFwiICsgSlNPTi5zdHJpbmdpZnkobWF0Y2hlcykpO1xuICAgIH1cbiAgICAvLyByZXR1cm4gY3VycmVudCByZXN1bHQgaWYgbm8gcmVwbGFjZW1lbnRzIHNwZWNpZmllZFxuICAgIGlmICghT2JqZWN0LmtleXMocmVwbGFjZW1lbnRzKS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy9cbiAgICAvLyBTdGVwIDI6IHJlcGxhY2UgYWxsIElDVSB2YXJzIChsaWtlIFwiVkFSX1BMVVJBTFwiKVxuICAgIC8vXG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoUFBfSUNVX1ZBUlMsIGZ1bmN0aW9uIChtYXRjaCwgc3RhcnQsIGtleSwgX3R5cGUsIF9pZHgsIGVuZCkge1xuICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnRzLmhhc093blByb3BlcnR5KGtleSkgPyBcIlwiICsgc3RhcnQgKyByZXBsYWNlbWVudHNba2V5XSArIGVuZCA6IG1hdGNoO1xuICAgIH0pO1xuICAgIC8vXG4gICAgLy8gU3RlcCAzOiByZXBsYWNlIGFsbCBJQ1UgcmVmZXJlbmNlcyB3aXRoIGNvcnJlc3BvbmRpbmcgdmFsdWVzIChsaWtlIO+/vUlDVV9FWFBfSUNVXzHvv70pXG4gICAgLy8gaW4gY2FzZSBtdWx0aXBsZSBJQ1VzIGhhdmUgdGhlIHNhbWUgcGxhY2Vob2xkZXIgbmFtZVxuICAgIC8vXG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoUFBfSUNVUywgZnVuY3Rpb24gKG1hdGNoLCBrZXkpIHtcbiAgICAgICAgaWYgKHJlcGxhY2VtZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICB2YXIgbGlzdCA9IHJlcGxhY2VtZW50c1trZXldO1xuICAgICAgICAgICAgaWYgKCFsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImkxOG4gcG9zdHByb2Nlc3M6IHVubWF0Y2hlZCBJQ1UgLSBcIiArIG1hdGNoICsgXCIgd2l0aCBrZXk6IFwiICsga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIFRyYW5zbGF0ZXMgYSB0cmFuc2xhdGlvbiBibG9jayBtYXJrZWQgYnkgYGkxOG5TdGFydGAgYW5kIGBpMThuRW5kYC4gSXQgaW5zZXJ0cyB0aGUgdGV4dC9JQ1Ugbm9kZXNcbiAqIGludG8gdGhlIHJlbmRlciB0cmVlLCBtb3ZlcyB0aGUgcGxhY2Vob2xkZXIgbm9kZXMgYW5kIHJlbW92ZXMgdGhlIGRlbGV0ZWQgbm9kZXMuXG4gKi9cbmZ1bmN0aW9uIGkxOG5FbmQoKSB7XG4gICAgdmFyIHRWaWV3ID0gZ2V0TFZpZXcoKVtUVklFV107XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQodFZpZXcsIFwidFZpZXcgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgaTE4bkVuZEZpcnN0UGFzcyh0Vmlldyk7XG59XG4vKipcbiAqIFNlZSBgaTE4bkVuZGAgYWJvdmUuXG4gKi9cbmZ1bmN0aW9uIGkxOG5FbmRGaXJzdFBhc3ModFZpZXcpIHtcbiAgICB2YXIgdmlld0RhdGEgPSBnZXRMVmlldygpO1xuICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh2aWV3RGF0YVtCSU5ESU5HX0lOREVYXSwgdmlld0RhdGFbVFZJRVddLmJpbmRpbmdTdGFydEluZGV4LCAnaTE4bkVuZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBhbnkgYmluZGluZycpO1xuICAgIHZhciByb290SW5kZXggPSBpMThuSW5kZXhTdGFja1tpMThuSW5kZXhTdGFja1BvaW50ZXItLV07XG4gICAgdmFyIHRJMThuID0gdFZpZXcuZGF0YVtyb290SW5kZXggKyBIRUFERVJfT0ZGU0VUXTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0STE4biwgXCJZb3Ugc2hvdWxkIGNhbGwgaTE4blN0YXJ0IGJlZm9yZSBpMThuRW5kXCIpO1xuICAgIC8vIFRoZSBsYXN0IHBsYWNlaG9sZGVyIHRoYXQgd2FzIGFkZGVkIGJlZm9yZSBgaTE4bkVuZGBcbiAgICB2YXIgcHJldmlvdXNPclBhcmVudFROb2RlID0gZ2V0UHJldmlvdXNPclBhcmVudFROb2RlKCk7XG4gICAgdmFyIHZpc2l0ZWRQbGFjZWhvbGRlcnMgPSByZWFkQ3JlYXRlT3BDb2Rlcyhyb290SW5kZXgsIHRJMThuLmNyZWF0ZSwgdEkxOG4uZXhwYW5kb1N0YXJ0SW5kZXgsIHZpZXdEYXRhKTtcbiAgICAvLyBSZW1vdmUgZGVsZXRlZCBwbGFjZWhvbGRlcnNcbiAgICAvLyBUaGUgbGFzdCBwbGFjZWhvbGRlciB0aGF0IHdhcyBhZGRlZCBiZWZvcmUgYGkxOG5FbmRgIGlzIGBwcmV2aW91c09yUGFyZW50VE5vZGVgXG4gICAgZm9yICh2YXIgaSA9IHJvb3RJbmRleCArIDE7IGkgPD0gcHJldmlvdXNPclBhcmVudFROb2RlLmluZGV4IC0gSEVBREVSX09GRlNFVDsgaSsrKSB7XG4gICAgICAgIGlmICh2aXNpdGVkUGxhY2Vob2xkZXJzLmluZGV4T2YoaSkgPT09IC0xKSB7XG4gICAgICAgICAgICByZW1vdmVOb2RlKGksIHZpZXdEYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWRDcmVhdGVPcENvZGVzKGluZGV4LCBjcmVhdGVPcENvZGVzLCBleHBhbmRvU3RhcnRJbmRleCwgdmlld0RhdGEpIHtcbiAgICB2YXIgcmVuZGVyZXIgPSBnZXRMVmlldygpW1JFTkRFUkVSXTtcbiAgICB2YXIgY3VycmVudFROb2RlID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXNUTm9kZSA9IG51bGw7XG4gICAgdmFyIHZpc2l0ZWRQbGFjZWhvbGRlcnMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNyZWF0ZU9wQ29kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9wQ29kZSA9IGNyZWF0ZU9wQ29kZXNbaV07XG4gICAgICAgIGlmICh0eXBlb2Ygb3BDb2RlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdGV4dFJOb2RlID0gY3JlYXRlVGV4dE5vZGUob3BDb2RlLCByZW5kZXJlcik7XG4gICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlVGV4dE5vZGUrKztcbiAgICAgICAgICAgIHByZXZpb3VzVE5vZGUgPSBjdXJyZW50VE5vZGU7XG4gICAgICAgICAgICBjdXJyZW50VE5vZGUgPVxuICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGVBdEluZGV4KGV4cGFuZG9TdGFydEluZGV4KyssIDMgLyogRWxlbWVudCAqLywgdGV4dFJOb2RlLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgIHNldElzUGFyZW50KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3BDb2RlID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wQ29kZSAmIDcgLyogTUFTS19PUENPREUgKi8pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogQXBwZW5kQ2hpbGQgKi86XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbk5vZGVJbmRleCA9IG9wQ29kZSA+Pj4gMTcgLyogU0hJRlRfUEFSRU5UICovO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVzdGluYXRpb25UTm9kZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc3RpbmF0aW9uTm9kZUluZGV4ID09PSBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRlc3RpbmF0aW9uIG5vZGUgaXMgYGkxOG5TdGFydGAsIHdlIGRvbid0IGhhdmUgYVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG9wLWxldmVsIG5vZGUgYW5kIHdlIHNob3VsZCB1c2UgdGhlIGhvc3Qgbm9kZSBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvblROb2RlID0gdmlld0RhdGFbSE9TVF9OT0RFXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uVE5vZGUgPSBnZXRUTm9kZShkZXN0aW5hdGlvbk5vZGVJbmRleCwgdmlld0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZChjdXJyZW50VE5vZGUsIFwiWW91IG5lZWQgdG8gY3JlYXRlIG9yIHNlbGVjdCBhIG5vZGUgYmVmb3JlIHlvdSBjYW4gaW5zZXJ0IGl0IGludG8gdGhlIERPTVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUTm9kZSA9IGFwcGVuZEkxOG5Ob2RlKGN1cnJlbnRUTm9kZSwgZGVzdGluYXRpb25UTm9kZSwgcHJldmlvdXNUTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uVE5vZGUubmV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBTZWxlY3QgKi86XG4gICAgICAgICAgICAgICAgICAgIHZhciBub2RlSW5kZXggPSBvcENvZGUgPj4+IDMgLyogU0hJRlRfUkVGICovO1xuICAgICAgICAgICAgICAgICAgICB2aXNpdGVkUGxhY2Vob2xkZXJzLnB1c2gobm9kZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUTm9kZSA9IGN1cnJlbnRUTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFROb2RlID0gZ2V0VE5vZGUobm9kZUluZGV4LCB2aWV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByZXZpb3VzT3JQYXJlbnRUTm9kZShjdXJyZW50VE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUTm9kZS50eXBlID09PSAzIC8qIEVsZW1lbnQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1BhcmVudCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogRWxlbWVudEVuZCAqLzpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRJbmRleCA9IG9wQ29kZSA+Pj4gMyAvKiBTSElGVF9SRUYgKi87XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVE5vZGUgPSBjdXJyZW50VE5vZGUgPSBnZXRUTm9kZShlbGVtZW50SW5kZXgsIHZpZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJldmlvdXNPclBhcmVudFROb2RlKGN1cnJlbnRUTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldElzUGFyZW50KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIEF0dHIgKi86XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50Tm9kZUluZGV4ID0gb3BDb2RlID4+PiAzIC8qIFNISUZUX1JFRiAqLztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJOYW1lID0gY3JlYXRlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0clZhbHVlID0gY3JlYXRlT3BDb2Rlc1srK2ldO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50QXR0cmlidXRlKGVsZW1lbnROb2RlSW5kZXgsIGF0dHJOYW1lLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIG11dGF0ZSBvcGVyYXRpb24gZm9yIFxcXCJcIiArIG9wQ29kZSArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAob3BDb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDT01NRU5UX01BUktFUjpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRWYWx1ZSA9IGNyZWF0ZU9wQ29kZXNbKytpXTtcbiAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydEVxdWFsKHR5cGVvZiBjb21tZW50VmFsdWUsICdzdHJpbmcnLCBcIkV4cGVjdGVkIFxcXCJcIiArIGNvbW1lbnRWYWx1ZSArIFwiXFxcIiB0byBiZSBhIGNvbW1lbnQgbm9kZSB2YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRSTm9kZSA9IHJlbmRlcmVyLmNyZWF0ZUNvbW1lbnQoY29tbWVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmIG5nRGV2TW9kZS5yZW5kZXJlckNyZWF0ZUNvbW1lbnQrKztcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUTm9kZSA9IGN1cnJlbnRUTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFROb2RlID0gY3JlYXRlTm9kZUF0SW5kZXgoZXhwYW5kb1N0YXJ0SW5kZXgrKywgNSAvKiBJY3VDb250YWluZXIgKi8sIGNvbW1lbnRSTm9kZSwgbnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBhdGNoRGF0YShjb21tZW50Uk5vZGUsIHZpZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFROb2RlLmFjdGl2ZUNhc2VJbmRleCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHdpbGwgYWRkIHRoZSBjYXNlIG5vZGVzIGxhdGVyLCBkdXJpbmcgdGhlIHVwZGF0ZSBwaGFzZVxuICAgICAgICAgICAgICAgICAgICBzZXRJc1BhcmVudChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRUxFTUVOVF9NQVJLRVI6XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWdOYW1lVmFsdWUgPSBjcmVhdGVPcENvZGVzWysraV07XG4gICAgICAgICAgICAgICAgICAgIG5nRGV2TW9kZSAmJiBhc3NlcnRFcXVhbCh0eXBlb2YgdGFnTmFtZVZhbHVlLCAnc3RyaW5nJywgXCJFeHBlY3RlZCBcXFwiXCIgKyB0YWdOYW1lVmFsdWUgKyBcIlxcXCIgdG8gYmUgYW4gZWxlbWVudCBub2RlIHRhZyBuYW1lXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudFJOb2RlID0gcmVuZGVyZXIuY3JlYXRlRWxlbWVudCh0YWdOYW1lVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgbmdEZXZNb2RlLnJlbmRlcmVyQ3JlYXRlRWxlbWVudCsrO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1ROb2RlID0gY3VycmVudFROb2RlO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VE5vZGUgPSBjcmVhdGVOb2RlQXRJbmRleChleHBhbmRvU3RhcnRJbmRleCsrLCAzIC8qIEVsZW1lbnQgKi8sIGVsZW1lbnRSTm9kZSwgdGFnTmFtZVZhbHVlLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGRldGVybWluZSB0aGUgdHlwZSBvZiBtdXRhdGUgb3BlcmF0aW9uIGZvciBcXFwiXCIgKyBvcENvZGUgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0SXNQYXJlbnQoZmFsc2UpO1xuICAgIHJldHVybiB2aXNpdGVkUGxhY2Vob2xkZXJzO1xufVxuZnVuY3Rpb24gcmVhZFVwZGF0ZU9wQ29kZXModXBkYXRlT3BDb2RlcywgaWN1cywgYmluZGluZ3NTdGFydEluZGV4LCBjaGFuZ2VNYXNrLCB2aWV3RGF0YSwgYnlwYXNzQ2hlY2tCaXQpIHtcbiAgICBpZiAoYnlwYXNzQ2hlY2tCaXQgPT09IHZvaWQgMCkgeyBieXBhc3NDaGVja0JpdCA9IGZhbHNlOyB9XG4gICAgdmFyIGNhc2VDcmVhdGVkID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cGRhdGVPcENvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGJpdCBjb2RlIHRvIGNoZWNrIGlmIHdlIHNob3VsZCBhcHBseSB0aGUgbmV4dCB1cGRhdGVcbiAgICAgICAgdmFyIGNoZWNrQml0ID0gdXBkYXRlT3BDb2Rlc1tpXTtcbiAgICAgICAgLy8gTnVtYmVyIG9mIG9wQ29kZXMgdG8gc2tpcCB1bnRpbCBuZXh0IHNldCBvZiB1cGRhdGUgY29kZXNcbiAgICAgICAgdmFyIHNraXBDb2RlcyA9IHVwZGF0ZU9wQ29kZXNbKytpXTtcbiAgICAgICAgaWYgKGJ5cGFzc0NoZWNrQml0IHx8IChjaGVja0JpdCAmIGNoYW5nZU1hc2spKSB7XG4gICAgICAgICAgICAvLyBUaGUgdmFsdWUgaGFzIGJlZW4gdXBkYXRlZCBzaW5jZSBsYXN0IGNoZWNrZWRcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDw9IChpICsgc2tpcENvZGVzKTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wQ29kZSA9IHVwZGF0ZU9wQ29kZXNbal07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcENvZGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gb3BDb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb3BDb2RlID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcENvZGUgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdCdzIGEgYmluZGluZyBpbmRleCB3aG9zZSB2YWx1ZSBpcyBuZWdhdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gc3RyaW5naWZ5JDEodmlld0RhdGFbYmluZGluZ3NTdGFydEluZGV4IC0gb3BDb2RlXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZUluZGV4ID0gb3BDb2RlID4+PiAyIC8qIFNISUZUX1JFRiAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob3BDb2RlICYgMyAvKiBNQVNLX09QQ09ERSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBBdHRyICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ck5hbWUgPSB1cGRhdGVPcENvZGVzWysral07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzYW5pdGl6ZUZuID0gdXBkYXRlT3BDb2Rlc1srK2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50QXR0cmlidXRlKG5vZGVJbmRleCwgYXR0ck5hbWUsIHZhbHVlLCBzYW5pdGl6ZUZuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwIC8qIFRleHQgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRCaW5kaW5nKG5vZGVJbmRleCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIgLyogSWN1U3dpdGNoICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdEljdUluZGV4ID0gdXBkYXRlT3BDb2Rlc1srK2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdEljdSA9IGljdXNbdEljdUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGljdVROb2RlID0gZ2V0VE5vZGUobm9kZUluZGV4LCB2aWV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGFjdGl2ZSBjYXNlLCBkZWxldGUgdGhlIG9sZCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWN1VE5vZGUuYWN0aXZlQ2FzZUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlQ29kZXMgPSB0SWN1LnJlbW92ZVtpY3VUTm9kZS5hY3RpdmVDYXNlSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCByZW1vdmVDb2Rlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVPcENvZGUgPSByZW1vdmVDb2Rlc1trXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlbW92ZU9wQ29kZSAmIDcgLyogTUFTS19PUENPREUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzIC8qIFJlbW92ZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub2RlSW5kZXhfMSA9IHJlbW92ZU9wQ29kZSA+Pj4gMyAvKiBTSElGVF9SRUYgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2RlKG5vZGVJbmRleF8xLCB2aWV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2IC8qIFJlbW92ZU5lc3RlZEljdSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXN0ZWRJY3VOb2RlSW5kZXggPSByZW1vdmVDb2Rlc1trICsgMV0gPj4+IDMgLyogU0hJRlRfUkVGICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5lc3RlZEljdVROb2RlID0gZ2V0VE5vZGUobmVzdGVkSWN1Tm9kZUluZGV4LCB2aWV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSBuZXN0ZWRJY3VUTm9kZS5hY3RpdmVDYXNlSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVzdGVkSWN1VEluZGV4ID0gcmVtb3ZlT3BDb2RlID4+PiAzIC8qIFNISUZUX1JFRiAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVzdGVkVEljdSA9IGljdXNbbmVzdGVkSWN1VEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRBbGxUb0FycmF5KG5lc3RlZFRJY3UucmVtb3ZlW2FjdGl2ZUluZGV4XSwgcmVtb3ZlQ29kZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgYWN0aXZlIGNhc2VJbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FzZUluZGV4ID0gZ2V0Q2FzZUluZGV4KHRJY3UsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWN1VE5vZGUuYWN0aXZlQ2FzZUluZGV4ID0gY2FzZUluZGV4ICE9PSAtMSA/IGNhc2VJbmRleCA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgbm9kZXMgZm9yIHRoZSBuZXcgY2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkQ3JlYXRlT3BDb2RlcygtMSwgdEljdS5jcmVhdGVbY2FzZUluZGV4XSwgdEljdS5leHBhbmRvU3RhcnRJbmRleCwgdmlld0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlQ3JlYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBJY3VVcGRhdGUgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRJY3VJbmRleCA9IHVwZGF0ZU9wQ29kZXNbKytqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdEljdSA9IGljdXNbdEljdUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWN1VE5vZGUgPSBnZXRUTm9kZShub2RlSW5kZXgsIHZpZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZFVwZGF0ZU9wQ29kZXModEljdS51cGRhdGVbaWN1VE5vZGUuYWN0aXZlQ2FzZUluZGV4XSwgaWN1cywgYmluZGluZ3NTdGFydEluZGV4LCBjaGFuZ2VNYXNrLCB2aWV3RGF0YSwgY2FzZUNyZWF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpICs9IHNraXBDb2RlcztcbiAgICB9XG59XG5mdW5jdGlvbiByZW1vdmVOb2RlKGluZGV4LCB2aWV3RGF0YSkge1xuICAgIHZhciByZW1vdmVkUGhUTm9kZSA9IGdldFROb2RlKGluZGV4LCB2aWV3RGF0YSk7XG4gICAgdmFyIHJlbW92ZWRQaFJOb2RlID0gZ2V0TmF0aXZlQnlJbmRleChpbmRleCwgdmlld0RhdGEpO1xuICAgIHJlbW92ZUNoaWxkKHJlbW92ZWRQaFROb2RlLCByZW1vdmVkUGhSTm9kZSB8fCBudWxsLCB2aWV3RGF0YSk7XG4gICAgcmVtb3ZlZFBoVE5vZGUuZGV0YWNoZWQgPSB0cnVlO1xuICAgIG5nRGV2TW9kZSAmJiBuZ0Rldk1vZGUucmVuZGVyZXJSZW1vdmVOb2RlKys7XG4gICAgdmFyIHNsb3RWYWx1ZSA9IGxvYWQoaW5kZXgpO1xuICAgIGlmIChpc0xDb250YWluZXIoc2xvdFZhbHVlKSkge1xuICAgICAgICB2YXIgbENvbnRhaW5lciA9IHNsb3RWYWx1ZTtcbiAgICAgICAgaWYgKHJlbW92ZWRQaFROb2RlLnR5cGUgIT09IDAgLyogQ29udGFpbmVyICovKSB7XG4gICAgICAgICAgICByZW1vdmVDaGlsZChyZW1vdmVkUGhUTm9kZSwgbENvbnRhaW5lcltOQVRJVkVdIHx8IG51bGwsIHZpZXdEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBsQ29udGFpbmVyW1JFTkRFUl9QQVJFTlRdID0gbnVsbDtcbiAgICB9XG59XG4vKipcbiAqXG4gKiBVc2UgdGhpcyBpbnN0cnVjdGlvbiB0byBjcmVhdGUgYSB0cmFuc2xhdGlvbiBibG9jayB0aGF0IGRvZXNuJ3QgY29udGFpbiBhbnkgcGxhY2Vob2xkZXIuXG4gKiBJdCBjYWxscyBib3RoIHtAbGluayBpMThuU3RhcnR9IGFuZCB7QGxpbmsgaTE4bkVuZH0gaW4gb25lIGluc3RydWN0aW9uLlxuICpcbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgaXMgdGhlIHZhbHVlIHdoaWNoIGlzIGxvY2FsZSBzcGVjaWZpYy4gVGhlIHRyYW5zbGF0aW9uIHN0cmluZyBtYXlcbiAqIGNvbnRhaW4gcGxhY2Vob2xkZXJzIHdoaWNoIGFzc29jaWF0ZSBpbm5lciBlbGVtZW50cyBhbmQgc3ViLXRlbXBsYXRlcyB3aXRoaW4gdGhlIHRyYW5zbGF0aW9uLlxuICpcbiAqIFRoZSB0cmFuc2xhdGlvbiBgbWVzc2FnZWAgcGxhY2Vob2xkZXJzIGFyZTpcbiAqIC0gYO+/vXtpbmRleH0oOntibG9ja30p77+9YDogKkJpbmRpbmcgUGxhY2Vob2xkZXIqOiBNYXJrcyBhIGxvY2F0aW9uIHdoZXJlIGFuIGV4cHJlc3Npb24gd2lsbCBiZVxuICogICBpbnRlcnBvbGF0ZWQgaW50by4gVGhlIHBsYWNlaG9sZGVyIGBpbmRleGAgcG9pbnRzIHRvIHRoZSBleHByZXNzaW9uIGJpbmRpbmcgaW5kZXguIEFuIG9wdGlvbmFsXG4gKiAgIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9I3tpbmRleH0oOntibG9ja30p77+9YC9g77+9LyN7aW5kZXh9KDp7YmxvY2t9Ke+/vWA6ICpFbGVtZW50IFBsYWNlaG9sZGVyKjogIE1hcmtzIHRoZSBiZWdpbm5pbmdcbiAqICAgYW5kIGVuZCBvZiBET00gZWxlbWVudCB0aGF0IHdlcmUgZW1iZWRkZWQgaW4gdGhlIG9yaWdpbmFsIHRyYW5zbGF0aW9uIGJsb2NrLiBUaGUgcGxhY2Vob2xkZXJcbiAqICAgYGluZGV4YCBwb2ludHMgdG8gdGhlIGVsZW1lbnQgaW5kZXggaW4gdGhlIHRlbXBsYXRlIGluc3RydWN0aW9ucyBzZXQuIEFuIG9wdGlvbmFsIGBibG9ja2AgdGhhdFxuICogICBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICogLSBg77+9KntpbmRleH06e2Jsb2Nrfe+/vWAvYO+/vS8qe2luZGV4fTp7YmxvY2t977+9YDogKlN1Yi10ZW1wbGF0ZSBQbGFjZWhvbGRlcio6IFN1Yi10ZW1wbGF0ZXMgbXVzdCBiZVxuICogICBzcGxpdCB1cCBhbmQgdHJhbnNsYXRlZCBzZXBhcmF0ZWx5IGluIGVhY2ggYW5ndWxhciB0ZW1wbGF0ZSBmdW5jdGlvbi4gVGhlIGBpbmRleGAgcG9pbnRzIHRvIHRoZVxuICogICBgdGVtcGxhdGVgIGluc3RydWN0aW9uIGluZGV4LiBBIGBibG9ja2AgdGhhdCBtYXRjaGVzIHRoZSBzdWItdGVtcGxhdGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkLlxuICpcbiAqIEBwYXJhbSBpbmRleCBBIHVuaXF1ZSBpbmRleCBvZiB0aGUgdHJhbnNsYXRpb24gaW4gdGhlIHN0YXRpYyBibG9jay5cbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSB0cmFuc2xhdGlvbiBtZXNzYWdlLlxuICogQHBhcmFtIHN1YlRlbXBsYXRlSW5kZXggT3B0aW9uYWwgc3ViLXRlbXBsYXRlIGluZGV4IGluIHRoZSBgbWVzc2FnZWAuXG4gKi9cbmZ1bmN0aW9uIGkxOG4oaW5kZXgsIG1lc3NhZ2UsIHN1YlRlbXBsYXRlSW5kZXgpIHtcbiAgICBpMThuU3RhcnQoaW5kZXgsIG1lc3NhZ2UsIHN1YlRlbXBsYXRlSW5kZXgpO1xuICAgIGkxOG5FbmQoKTtcbn1cbi8qKlxuICogTWFya3MgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgYXMgdHJhbnNsYXRhYmxlLlxuICpcbiAqIEBwYXJhbSBpbmRleCBBIHVuaXF1ZSBpbmRleCBpbiB0aGUgc3RhdGljIGJsb2NrXG4gKiBAcGFyYW0gdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIGkxOG5BdHRyaWJ1dGVzKGluZGV4LCB2YWx1ZXMpIHtcbiAgICB2YXIgdFZpZXcgPSBnZXRMVmlldygpW1RWSUVXXTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0VmlldywgXCJ0VmlldyBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgYXNzZXJ0RXF1YWwodFZpZXcuZmlyc3RUZW1wbGF0ZVBhc3MsIHRydWUsIFwiWW91IHNob3VsZCBvbmx5IGNhbGwgaTE4bkVuZCBvbiBmaXJzdCB0ZW1wbGF0ZSBwYXNzXCIpO1xuICAgIGlmICh0Vmlldy5maXJzdFRlbXBsYXRlUGFzcyAmJiB0Vmlldy5kYXRhW2luZGV4ICsgSEVBREVSX09GRlNFVF0gPT09IG51bGwpIHtcbiAgICAgICAgaTE4bkF0dHJpYnV0ZXNGaXJzdFBhc3ModFZpZXcsIGluZGV4LCB2YWx1ZXMpO1xuICAgIH1cbn1cbi8qKlxuICogU2VlIGBpMThuQXR0cmlidXRlc2AgYWJvdmUuXG4gKi9cbmZ1bmN0aW9uIGkxOG5BdHRyaWJ1dGVzRmlyc3RQYXNzKHRWaWV3LCBpbmRleCwgdmFsdWVzKSB7XG4gICAgdmFyIHByZXZpb3VzRWxlbWVudCA9IGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSgpO1xuICAgIHZhciBwcmV2aW91c0VsZW1lbnRJbmRleCA9IHByZXZpb3VzRWxlbWVudC5pbmRleCAtIEhFQURFUl9PRkZTRVQ7XG4gICAgdmFyIHVwZGF0ZU9wQ29kZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICB2YXIgYXR0ck5hbWUgPSB2YWx1ZXNbaV07XG4gICAgICAgIHZhciBtZXNzYWdlID0gdmFsdWVzW2kgKyAxXTtcbiAgICAgICAgdmFyIHBhcnRzID0gbWVzc2FnZS5zcGxpdChJQ1VfUkVHRVhQKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFydHNbal07XG4gICAgICAgICAgICBpZiAoaiAmIDEpIDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICAgIC8vIEV2ZW4gaW5kZXhlcyBhcmUgdGV4dCAoaW5jbHVkaW5nIGJpbmRpbmdzKVxuICAgICAgICAgICAgICAgIHZhciBoYXNCaW5kaW5nID0gISF2YWx1ZS5tYXRjaChCSU5ESU5HX1JFR0VYUCk7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0JpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkQWxsVG9BcnJheShnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKHZhbHVlLCBwcmV2aW91c0VsZW1lbnRJbmRleCwgYXR0ck5hbWUpLCB1cGRhdGVPcENvZGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRBdHRyaWJ1dGUocHJldmlvdXNFbGVtZW50SW5kZXgsIGF0dHJOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRWaWV3LmRhdGFbaW5kZXggKyBIRUFERVJfT0ZGU0VUXSA9IHVwZGF0ZU9wQ29kZXM7XG59XG52YXIgY2hhbmdlTWFzayA9IDA7XG52YXIgc2hpZnRzQ291bnRlciA9IDA7XG4vKipcbiAqIFN0b3JlcyB0aGUgdmFsdWVzIG9mIHRoZSBiaW5kaW5ncyBkdXJpbmcgZWFjaCB1cGRhdGUgY3ljbGUgaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG9cbiAqIHVwZGF0ZSB0aGUgdHJhbnNsYXRlZCBub2Rlcy5cbiAqXG4gKiBAcGFyYW0gZXhwcmVzc2lvbiBUaGUgYmluZGluZydzIG5ldyB2YWx1ZSBvciBOT19DSEFOR0VcbiAqL1xuZnVuY3Rpb24gaTE4bkV4cChleHByZXNzaW9uKSB7XG4gICAgaWYgKGV4cHJlc3Npb24gIT09IE5PX0NIQU5HRSkge1xuICAgICAgICBjaGFuZ2VNYXNrID0gY2hhbmdlTWFzayB8ICgxIDw8IHNoaWZ0c0NvdW50ZXIpO1xuICAgIH1cbiAgICBzaGlmdHNDb3VudGVyKys7XG59XG4vKipcbiAqIFVwZGF0ZXMgYSB0cmFuc2xhdGlvbiBibG9jayBvciBhbiBpMThuIGF0dHJpYnV0ZSB3aGVuIHRoZSBiaW5kaW5ncyBoYXZlIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIGluZGV4IEluZGV4IG9mIGVpdGhlciB7QGxpbmsgaTE4blN0YXJ0fSAodHJhbnNsYXRpb24gYmxvY2spIG9yIHtAbGluayBpMThuQXR0cmlidXRlc31cbiAqIChpMThuIGF0dHJpYnV0ZSkgb24gd2hpY2ggaXQgc2hvdWxkIHVwZGF0ZSB0aGUgY29udGVudC5cbiAqL1xuZnVuY3Rpb24gaTE4bkFwcGx5KGluZGV4KSB7XG4gICAgaWYgKHNoaWZ0c0NvdW50ZXIpIHtcbiAgICAgICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICAgICAgdmFyIHRWaWV3ID0gbFZpZXdbVFZJRVddO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0VmlldywgXCJ0VmlldyBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAgICAgdmFyIHRJMThuID0gdFZpZXcuZGF0YVtpbmRleCArIEhFQURFUl9PRkZTRVRdO1xuICAgICAgICB2YXIgdXBkYXRlT3BDb2RlcyA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGljdXMgPSBudWxsO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0STE4bikpIHtcbiAgICAgICAgICAgIHVwZGF0ZU9wQ29kZXMgPSB0STE4bjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVwZGF0ZU9wQ29kZXMgPSB0STE4bi51cGRhdGU7XG4gICAgICAgICAgICBpY3VzID0gdEkxOG4uaWN1cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmluZGluZ3NTdGFydEluZGV4ID0gbFZpZXdbQklORElOR19JTkRFWF0gLSBzaGlmdHNDb3VudGVyIC0gMTtcbiAgICAgICAgcmVhZFVwZGF0ZU9wQ29kZXModXBkYXRlT3BDb2RlcywgaWN1cywgYmluZGluZ3NTdGFydEluZGV4LCBjaGFuZ2VNYXNrLCBsVmlldyk7XG4gICAgICAgIC8vIFJlc2V0IGNoYW5nZU1hc2sgJiBtYXNrQml0IHRvIGRlZmF1bHQgZm9yIHRoZSBuZXh0IHVwZGF0ZSBjeWNsZVxuICAgICAgICBjaGFuZ2VNYXNrID0gMDtcbiAgICAgICAgc2hpZnRzQ291bnRlciA9IDA7XG4gICAgfVxufVxudmFyIFBsdXJhbDtcbihmdW5jdGlvbiAoUGx1cmFsKSB7XG4gICAgUGx1cmFsW1BsdXJhbFtcIlplcm9cIl0gPSAwXSA9IFwiWmVyb1wiO1xuICAgIFBsdXJhbFtQbHVyYWxbXCJPbmVcIl0gPSAxXSA9IFwiT25lXCI7XG4gICAgUGx1cmFsW1BsdXJhbFtcIlR3b1wiXSA9IDJdID0gXCJUd29cIjtcbiAgICBQbHVyYWxbUGx1cmFsW1wiRmV3XCJdID0gM10gPSBcIkZld1wiO1xuICAgIFBsdXJhbFtQbHVyYWxbXCJNYW55XCJdID0gNF0gPSBcIk1hbnlcIjtcbiAgICBQbHVyYWxbUGx1cmFsW1wiT3RoZXJcIl0gPSA1XSA9IFwiT3RoZXJcIjtcbn0pKFBsdXJhbCB8fCAoUGx1cmFsID0ge30pKTtcbi8qKlxuICogUmV0dXJucyB0aGUgcGx1cmFsIGNhc2UgYmFzZWQgb24gdGhlIGxvY2FsZS5cbiAqIFRoaXMgaXMgYSBjb3B5IG9mIHRoZSBkZXByZWNhdGVkIGZ1bmN0aW9uIHRoYXQgd2UgdXNlZCBpbiBBbmd1bGFyIHY0LlxuICogLy8gVE9ETyhvY29tYmUpOiByZW1vdmUgdGhpcyBvbmNlIHdlIGNhbiB0aGUgcmVhbCBnZXRQbHVyYWxDYXNlIGZ1bmN0aW9uXG4gKlxuICogQGRlcHJlY2F0ZWQgZnJvbSB2NSB0aGUgcGx1cmFsIGNhc2UgZnVuY3Rpb24gaXMgaW4gbG9jYWxlIGRhdGEgZmlsZXMgY29tbW9uL2xvY2FsZXMvKi50c1xuICovXG5mdW5jdGlvbiBnZXRQbHVyYWxDYXNlKGxvY2FsZSwgbkxpa2UpIHtcbiAgICBpZiAodHlwZW9mIG5MaWtlID09PSAnc3RyaW5nJykge1xuICAgICAgICBuTGlrZSA9IHBhcnNlSW50KG5MaWtlLCAxMCk7XG4gICAgfVxuICAgIHZhciBuID0gbkxpa2U7XG4gICAgdmFyIG5EZWNpbWFsID0gbi50b1N0cmluZygpLnJlcGxhY2UoL15bXi5dKlxcLj8vLCAnJyk7XG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKE1hdGguYWJzKG4pKTtcbiAgICB2YXIgdiA9IG5EZWNpbWFsLmxlbmd0aDtcbiAgICB2YXIgZiA9IHBhcnNlSW50KG5EZWNpbWFsLCAxMCk7XG4gICAgdmFyIHQgPSBwYXJzZUludChuLnRvU3RyaW5nKCkucmVwbGFjZSgvXlteLl0qXFwuP3wwKyQvZywgJycpLCAxMCkgfHwgMDtcbiAgICB2YXIgbGFuZyA9IGxvY2FsZS5zcGxpdCgnLScpWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgc3dpdGNoIChsYW5nKSB7XG4gICAgICAgIGNhc2UgJ2FmJzpcbiAgICAgICAgY2FzZSAnYXNhJzpcbiAgICAgICAgY2FzZSAnYXonOlxuICAgICAgICBjYXNlICdiZW0nOlxuICAgICAgICBjYXNlICdiZXonOlxuICAgICAgICBjYXNlICdiZyc6XG4gICAgICAgIGNhc2UgJ2JyeCc6XG4gICAgICAgIGNhc2UgJ2NlJzpcbiAgICAgICAgY2FzZSAnY2dnJzpcbiAgICAgICAgY2FzZSAnY2hyJzpcbiAgICAgICAgY2FzZSAnY2tiJzpcbiAgICAgICAgY2FzZSAnZWUnOlxuICAgICAgICBjYXNlICdlbCc6XG4gICAgICAgIGNhc2UgJ2VvJzpcbiAgICAgICAgY2FzZSAnZXMnOlxuICAgICAgICBjYXNlICdldSc6XG4gICAgICAgIGNhc2UgJ2ZvJzpcbiAgICAgICAgY2FzZSAnZnVyJzpcbiAgICAgICAgY2FzZSAnZ3N3JzpcbiAgICAgICAgY2FzZSAnaGEnOlxuICAgICAgICBjYXNlICdoYXcnOlxuICAgICAgICBjYXNlICdodSc6XG4gICAgICAgIGNhc2UgJ2pnbyc6XG4gICAgICAgIGNhc2UgJ2ptYyc6XG4gICAgICAgIGNhc2UgJ2thJzpcbiAgICAgICAgY2FzZSAna2snOlxuICAgICAgICBjYXNlICdra2onOlxuICAgICAgICBjYXNlICdrbCc6XG4gICAgICAgIGNhc2UgJ2tzJzpcbiAgICAgICAgY2FzZSAna3NiJzpcbiAgICAgICAgY2FzZSAna3knOlxuICAgICAgICBjYXNlICdsYic6XG4gICAgICAgIGNhc2UgJ2xnJzpcbiAgICAgICAgY2FzZSAnbWFzJzpcbiAgICAgICAgY2FzZSAnbWdvJzpcbiAgICAgICAgY2FzZSAnbWwnOlxuICAgICAgICBjYXNlICdtbic6XG4gICAgICAgIGNhc2UgJ25iJzpcbiAgICAgICAgY2FzZSAnbmQnOlxuICAgICAgICBjYXNlICduZSc6XG4gICAgICAgIGNhc2UgJ25uJzpcbiAgICAgICAgY2FzZSAnbm5oJzpcbiAgICAgICAgY2FzZSAnbnluJzpcbiAgICAgICAgY2FzZSAnb20nOlxuICAgICAgICBjYXNlICdvcic6XG4gICAgICAgIGNhc2UgJ29zJzpcbiAgICAgICAgY2FzZSAncHMnOlxuICAgICAgICBjYXNlICdybSc6XG4gICAgICAgIGNhc2UgJ3JvZic6XG4gICAgICAgIGNhc2UgJ3J3ayc6XG4gICAgICAgIGNhc2UgJ3NhcSc6XG4gICAgICAgIGNhc2UgJ3NlaCc6XG4gICAgICAgIGNhc2UgJ3NuJzpcbiAgICAgICAgY2FzZSAnc28nOlxuICAgICAgICBjYXNlICdzcSc6XG4gICAgICAgIGNhc2UgJ3RhJzpcbiAgICAgICAgY2FzZSAndGUnOlxuICAgICAgICBjYXNlICd0ZW8nOlxuICAgICAgICBjYXNlICd0ayc6XG4gICAgICAgIGNhc2UgJ3RyJzpcbiAgICAgICAgY2FzZSAndWcnOlxuICAgICAgICBjYXNlICd1eic6XG4gICAgICAgIGNhc2UgJ3ZvJzpcbiAgICAgICAgY2FzZSAndnVuJzpcbiAgICAgICAgY2FzZSAnd2FlJzpcbiAgICAgICAgY2FzZSAneG9nJzpcbiAgICAgICAgICAgIGlmIChuID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnYWsnOlxuICAgICAgICBjYXNlICdsbic6XG4gICAgICAgIGNhc2UgJ21nJzpcbiAgICAgICAgY2FzZSAncGEnOlxuICAgICAgICBjYXNlICd0aSc6XG4gICAgICAgICAgICBpZiAobiA9PT0gTWF0aC5mbG9vcihuKSAmJiBuID49IDAgJiYgbiA8PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnYW0nOlxuICAgICAgICBjYXNlICdhcyc6XG4gICAgICAgIGNhc2UgJ2JuJzpcbiAgICAgICAgY2FzZSAnZmEnOlxuICAgICAgICBjYXNlICdndSc6XG4gICAgICAgIGNhc2UgJ2hpJzpcbiAgICAgICAgY2FzZSAna24nOlxuICAgICAgICBjYXNlICdtcic6XG4gICAgICAgIGNhc2UgJ3p1JzpcbiAgICAgICAgICAgIGlmIChpID09PSAwIHx8IG4gPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdhcic6XG4gICAgICAgICAgICBpZiAobiA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLlplcm87XG4gICAgICAgICAgICBpZiAobiA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk9uZTtcbiAgICAgICAgICAgIGlmIChuID09PSAyKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuVHdvO1xuICAgICAgICAgICAgaWYgKG4gJSAxMDAgPT09IE1hdGguZmxvb3IobiAlIDEwMCkgJiYgbiAlIDEwMCA+PSAzICYmIG4gJSAxMDAgPD0gMTApXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5GZXc7XG4gICAgICAgICAgICBpZiAobiAlIDEwMCA9PT0gTWF0aC5mbG9vcihuICUgMTAwKSAmJiBuICUgMTAwID49IDExICYmIG4gJSAxMDAgPD0gOTkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5NYW55O1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnYXN0JzpcbiAgICAgICAgY2FzZSAnY2EnOlxuICAgICAgICBjYXNlICdkZSc6XG4gICAgICAgIGNhc2UgJ2VuJzpcbiAgICAgICAgY2FzZSAnZXQnOlxuICAgICAgICBjYXNlICdmaSc6XG4gICAgICAgIGNhc2UgJ2Z5JzpcbiAgICAgICAgY2FzZSAnZ2wnOlxuICAgICAgICBjYXNlICdpdCc6XG4gICAgICAgIGNhc2UgJ25sJzpcbiAgICAgICAgY2FzZSAnc3YnOlxuICAgICAgICBjYXNlICdzdyc6XG4gICAgICAgIGNhc2UgJ3VyJzpcbiAgICAgICAgY2FzZSAneWknOlxuICAgICAgICAgICAgaWYgKGkgPT09IDEgJiYgdiA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk9uZTtcbiAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT3RoZXI7XG4gICAgICAgIGNhc2UgJ2JlJzpcbiAgICAgICAgICAgIGlmIChuICUgMTAgPT09IDEgJiYgIShuICUgMTAwID09PSAxMSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICBpZiAobiAlIDEwID09PSBNYXRoLmZsb29yKG4gJSAxMCkgJiYgbiAlIDEwID49IDIgJiYgbiAlIDEwIDw9IDQgJiZcbiAgICAgICAgICAgICAgICAhKG4gJSAxMDAgPj0gMTIgJiYgbiAlIDEwMCA8PSAxNCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5GZXc7XG4gICAgICAgICAgICBpZiAobiAlIDEwID09PSAwIHx8IG4gJSAxMCA9PT0gTWF0aC5mbG9vcihuICUgMTApICYmIG4gJSAxMCA+PSA1ICYmIG4gJSAxMCA8PSA5IHx8XG4gICAgICAgICAgICAgICAgbiAlIDEwMCA9PT0gTWF0aC5mbG9vcihuICUgMTAwKSAmJiBuICUgMTAwID49IDExICYmIG4gJSAxMDAgPD0gMTQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5NYW55O1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnYnInOlxuICAgICAgICAgICAgaWYgKG4gJSAxMCA9PT0gMSAmJiAhKG4gJSAxMDAgPT09IDExIHx8IG4gJSAxMDAgPT09IDcxIHx8IG4gJSAxMDAgPT09IDkxKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk9uZTtcbiAgICAgICAgICAgIGlmIChuICUgMTAgPT09IDIgJiYgIShuICUgMTAwID09PSAxMiB8fCBuICUgMTAwID09PSA3MiB8fCBuICUgMTAwID09PSA5MikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5Ud287XG4gICAgICAgICAgICBpZiAobiAlIDEwID09PSBNYXRoLmZsb29yKG4gJSAxMCkgJiYgKG4gJSAxMCA+PSAzICYmIG4gJSAxMCA8PSA0IHx8IG4gJSAxMCA9PT0gOSkgJiZcbiAgICAgICAgICAgICAgICAhKG4gJSAxMDAgPj0gMTAgJiYgbiAlIDEwMCA8PSAxOSB8fCBuICUgMTAwID49IDcwICYmIG4gJSAxMDAgPD0gNzkgfHxcbiAgICAgICAgICAgICAgICAgICAgbiAlIDEwMCA+PSA5MCAmJiBuICUgMTAwIDw9IDk5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLkZldztcbiAgICAgICAgICAgIGlmICghKG4gPT09IDApICYmIG4gJSAxZTYgPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5NYW55O1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnYnMnOlxuICAgICAgICBjYXNlICdocic6XG4gICAgICAgIGNhc2UgJ3NyJzpcbiAgICAgICAgICAgIGlmICh2ID09PSAwICYmIGkgJSAxMCA9PT0gMSAmJiAhKGkgJSAxMDAgPT09IDExKSB8fCBmICUgMTAgPT09IDEgJiYgIShmICUgMTAwID09PSAxMSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICBpZiAodiA9PT0gMCAmJiBpICUgMTAgPT09IE1hdGguZmxvb3IoaSAlIDEwKSAmJiBpICUgMTAgPj0gMiAmJiBpICUgMTAgPD0gNCAmJlxuICAgICAgICAgICAgICAgICEoaSAlIDEwMCA+PSAxMiAmJiBpICUgMTAwIDw9IDE0KSB8fFxuICAgICAgICAgICAgICAgIGYgJSAxMCA9PT0gTWF0aC5mbG9vcihmICUgMTApICYmIGYgJSAxMCA+PSAyICYmIGYgJSAxMCA8PSA0ICYmXG4gICAgICAgICAgICAgICAgICAgICEoZiAlIDEwMCA+PSAxMiAmJiBmICUgMTAwIDw9IDE0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLkZldztcbiAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT3RoZXI7XG4gICAgICAgIGNhc2UgJ2NzJzpcbiAgICAgICAgY2FzZSAnc2snOlxuICAgICAgICAgICAgaWYgKGkgPT09IDEgJiYgdiA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk9uZTtcbiAgICAgICAgICAgIGlmIChpID09PSBNYXRoLmZsb29yKGkpICYmIGkgPj0gMiAmJiBpIDw9IDQgJiYgdiA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLkZldztcbiAgICAgICAgICAgIGlmICghKHYgPT09IDApKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuTWFueTtcbiAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT3RoZXI7XG4gICAgICAgIGNhc2UgJ2N5JzpcbiAgICAgICAgICAgIGlmIChuID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuWmVybztcbiAgICAgICAgICAgIGlmIChuID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgaWYgKG4gPT09IDIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5Ud287XG4gICAgICAgICAgICBpZiAobiA9PT0gMylcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLkZldztcbiAgICAgICAgICAgIGlmIChuID09PSA2KVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuTWFueTtcbiAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT3RoZXI7XG4gICAgICAgIGNhc2UgJ2RhJzpcbiAgICAgICAgICAgIGlmIChuID09PSAxIHx8ICEodCA9PT0gMCkgJiYgKGkgPT09IDAgfHwgaSA9PT0gMSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdkc2InOlxuICAgICAgICBjYXNlICdoc2InOlxuICAgICAgICAgICAgaWYgKHYgPT09IDAgJiYgaSAlIDEwMCA9PT0gMSB8fCBmICUgMTAwID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgaWYgKHYgPT09IDAgJiYgaSAlIDEwMCA9PT0gMiB8fCBmICUgMTAwID09PSAyKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuVHdvO1xuICAgICAgICAgICAgaWYgKHYgPT09IDAgJiYgaSAlIDEwMCA9PT0gTWF0aC5mbG9vcihpICUgMTAwKSAmJiBpICUgMTAwID49IDMgJiYgaSAlIDEwMCA8PSA0IHx8XG4gICAgICAgICAgICAgICAgZiAlIDEwMCA9PT0gTWF0aC5mbG9vcihmICUgMTAwKSAmJiBmICUgMTAwID49IDMgJiYgZiAlIDEwMCA8PSA0KVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuRmV3O1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnZmYnOlxuICAgICAgICBjYXNlICdmcic6XG4gICAgICAgIGNhc2UgJ2h5JzpcbiAgICAgICAgY2FzZSAna2FiJzpcbiAgICAgICAgICAgIGlmIChpID09PSAwIHx8IGkgPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdmaWwnOlxuICAgICAgICAgICAgaWYgKHYgPT09IDAgJiYgKGkgPT09IDEgfHwgaSA9PT0gMiB8fCBpID09PSAzKSB8fFxuICAgICAgICAgICAgICAgIHYgPT09IDAgJiYgIShpICUgMTAgPT09IDQgfHwgaSAlIDEwID09PSA2IHx8IGkgJSAxMCA9PT0gOSkgfHxcbiAgICAgICAgICAgICAgICAhKHYgPT09IDApICYmICEoZiAlIDEwID09PSA0IHx8IGYgJSAxMCA9PT0gNiB8fCBmICUgMTAgPT09IDkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnZ2EnOlxuICAgICAgICAgICAgaWYgKG4gPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICBpZiAobiA9PT0gMilcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLlR3bztcbiAgICAgICAgICAgIGlmIChuID09PSBNYXRoLmZsb29yKG4pICYmIG4gPj0gMyAmJiBuIDw9IDYpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5GZXc7XG4gICAgICAgICAgICBpZiAobiA9PT0gTWF0aC5mbG9vcihuKSAmJiBuID49IDcgJiYgbiA8PSAxMClcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk1hbnk7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdnZCc6XG4gICAgICAgICAgICBpZiAobiA9PT0gMSB8fCBuID09PSAxMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk9uZTtcbiAgICAgICAgICAgIGlmIChuID09PSAyIHx8IG4gPT09IDEyKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuVHdvO1xuICAgICAgICAgICAgaWYgKG4gPT09IE1hdGguZmxvb3IobikgJiYgKG4gPj0gMyAmJiBuIDw9IDEwIHx8IG4gPj0gMTMgJiYgbiA8PSAxOSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5GZXc7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdndic6XG4gICAgICAgICAgICBpZiAodiA9PT0gMCAmJiBpICUgMTAgPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICBpZiAodiA9PT0gMCAmJiBpICUgMTAgPT09IDIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5Ud287XG4gICAgICAgICAgICBpZiAodiA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIChpICUgMTAwID09PSAwIHx8IGkgJSAxMDAgPT09IDIwIHx8IGkgJSAxMDAgPT09IDQwIHx8IGkgJSAxMDAgPT09IDYwIHx8IGkgJSAxMDAgPT09IDgwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLkZldztcbiAgICAgICAgICAgIGlmICghKHYgPT09IDApKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuTWFueTtcbiAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT3RoZXI7XG4gICAgICAgIGNhc2UgJ2hlJzpcbiAgICAgICAgICAgIGlmIChpID09PSAxICYmIHYgPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMiAmJiB2ID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuVHdvO1xuICAgICAgICAgICAgaWYgKHYgPT09IDAgJiYgIShuID49IDAgJiYgbiA8PSAxMCkgJiYgbiAlIDEwID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuTWFueTtcbiAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT3RoZXI7XG4gICAgICAgIGNhc2UgJ2lzJzpcbiAgICAgICAgICAgIGlmICh0ID09PSAwICYmIGkgJSAxMCA9PT0gMSAmJiAhKGkgJSAxMDAgPT09IDExKSB8fCAhKHQgPT09IDApKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAna3NoJzpcbiAgICAgICAgICAgIGlmIChuID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuWmVybztcbiAgICAgICAgICAgIGlmIChuID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAna3cnOlxuICAgICAgICBjYXNlICduYXEnOlxuICAgICAgICBjYXNlICdzZSc6XG4gICAgICAgIGNhc2UgJ3Ntbic6XG4gICAgICAgICAgICBpZiAobiA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk9uZTtcbiAgICAgICAgICAgIGlmIChuID09PSAyKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuVHdvO1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnbGFnJzpcbiAgICAgICAgICAgIGlmIChuID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuWmVybztcbiAgICAgICAgICAgIGlmICgoaSA9PT0gMCB8fCBpID09PSAxKSAmJiAhKG4gPT09IDApKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnbHQnOlxuICAgICAgICAgICAgaWYgKG4gJSAxMCA9PT0gMSAmJiAhKG4gJSAxMDAgPj0gMTEgJiYgbiAlIDEwMCA8PSAxOSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICBpZiAobiAlIDEwID09PSBNYXRoLmZsb29yKG4gJSAxMCkgJiYgbiAlIDEwID49IDIgJiYgbiAlIDEwIDw9IDkgJiZcbiAgICAgICAgICAgICAgICAhKG4gJSAxMDAgPj0gMTEgJiYgbiAlIDEwMCA8PSAxOSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5GZXc7XG4gICAgICAgICAgICBpZiAoIShmID09PSAwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk1hbnk7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdsdic6XG4gICAgICAgIGNhc2UgJ3ByZyc6XG4gICAgICAgICAgICBpZiAobiAlIDEwID09PSAwIHx8IG4gJSAxMDAgPT09IE1hdGguZmxvb3IobiAlIDEwMCkgJiYgbiAlIDEwMCA+PSAxMSAmJiBuICUgMTAwIDw9IDE5IHx8XG4gICAgICAgICAgICAgICAgdiA9PT0gMiAmJiBmICUgMTAwID09PSBNYXRoLmZsb29yKGYgJSAxMDApICYmIGYgJSAxMDAgPj0gMTEgJiYgZiAlIDEwMCA8PSAxOSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLlplcm87XG4gICAgICAgICAgICBpZiAobiAlIDEwID09PSAxICYmICEobiAlIDEwMCA9PT0gMTEpIHx8IHYgPT09IDIgJiYgZiAlIDEwID09PSAxICYmICEoZiAlIDEwMCA9PT0gMTEpIHx8XG4gICAgICAgICAgICAgICAgISh2ID09PSAyKSAmJiBmICUgMTAgPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdtayc6XG4gICAgICAgICAgICBpZiAodiA9PT0gMCAmJiBpICUgMTAgPT09IDEgfHwgZiAlIDEwID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnbXQnOlxuICAgICAgICAgICAgaWYgKG4gPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICBpZiAobiA9PT0gMCB8fCBuICUgMTAwID09PSBNYXRoLmZsb29yKG4gJSAxMDApICYmIG4gJSAxMDAgPj0gMiAmJiBuICUgMTAwIDw9IDEwKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuRmV3O1xuICAgICAgICAgICAgaWYgKG4gJSAxMDAgPT09IE1hdGguZmxvb3IobiAlIDEwMCkgJiYgbiAlIDEwMCA+PSAxMSAmJiBuICUgMTAwIDw9IDE5KVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuTWFueTtcbiAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT3RoZXI7XG4gICAgICAgIGNhc2UgJ3BsJzpcbiAgICAgICAgICAgIGlmIChpID09PSAxICYmIHYgPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICBpZiAodiA9PT0gMCAmJiBpICUgMTAgPT09IE1hdGguZmxvb3IoaSAlIDEwKSAmJiBpICUgMTAgPj0gMiAmJiBpICUgMTAgPD0gNCAmJlxuICAgICAgICAgICAgICAgICEoaSAlIDEwMCA+PSAxMiAmJiBpICUgMTAwIDw9IDE0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLkZldztcbiAgICAgICAgICAgIGlmICh2ID09PSAwICYmICEoaSA9PT0gMSkgJiYgaSAlIDEwID09PSBNYXRoLmZsb29yKGkgJSAxMCkgJiYgaSAlIDEwID49IDAgJiYgaSAlIDEwIDw9IDEgfHxcbiAgICAgICAgICAgICAgICB2ID09PSAwICYmIGkgJSAxMCA9PT0gTWF0aC5mbG9vcihpICUgMTApICYmIGkgJSAxMCA+PSA1ICYmIGkgJSAxMCA8PSA5IHx8XG4gICAgICAgICAgICAgICAgdiA9PT0gMCAmJiBpICUgMTAwID09PSBNYXRoLmZsb29yKGkgJSAxMDApICYmIGkgJSAxMDAgPj0gMTIgJiYgaSAlIDEwMCA8PSAxNClcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk1hbnk7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdwdCc6XG4gICAgICAgICAgICBpZiAobiA9PT0gTWF0aC5mbG9vcihuKSAmJiBuID49IDAgJiYgbiA8PSAyICYmICEobiA9PT0gMikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdybyc6XG4gICAgICAgICAgICBpZiAoaSA9PT0gMSAmJiB2ID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgaWYgKCEodiA9PT0gMCkgfHwgbiA9PT0gMCB8fFxuICAgICAgICAgICAgICAgICEobiA9PT0gMSkgJiYgbiAlIDEwMCA9PT0gTWF0aC5mbG9vcihuICUgMTAwKSAmJiBuICUgMTAwID49IDEgJiYgbiAlIDEwMCA8PSAxOSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLkZldztcbiAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT3RoZXI7XG4gICAgICAgIGNhc2UgJ3J1JzpcbiAgICAgICAgY2FzZSAndWsnOlxuICAgICAgICAgICAgaWYgKHYgPT09IDAgJiYgaSAlIDEwID09PSAxICYmICEoaSAlIDEwMCA9PT0gMTEpKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgaWYgKHYgPT09IDAgJiYgaSAlIDEwID09PSBNYXRoLmZsb29yKGkgJSAxMCkgJiYgaSAlIDEwID49IDIgJiYgaSAlIDEwIDw9IDQgJiZcbiAgICAgICAgICAgICAgICAhKGkgJSAxMDAgPj0gMTIgJiYgaSAlIDEwMCA8PSAxNCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5GZXc7XG4gICAgICAgICAgICBpZiAodiA9PT0gMCAmJiBpICUgMTAgPT09IDAgfHxcbiAgICAgICAgICAgICAgICB2ID09PSAwICYmIGkgJSAxMCA9PT0gTWF0aC5mbG9vcihpICUgMTApICYmIGkgJSAxMCA+PSA1ICYmIGkgJSAxMCA8PSA5IHx8XG4gICAgICAgICAgICAgICAgdiA9PT0gMCAmJiBpICUgMTAwID09PSBNYXRoLmZsb29yKGkgJSAxMDApICYmIGkgJSAxMDAgPj0gMTEgJiYgaSAlIDEwMCA8PSAxNClcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk1hbnk7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdzaGknOlxuICAgICAgICAgICAgaWYgKGkgPT09IDAgfHwgbiA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLk9uZTtcbiAgICAgICAgICAgIGlmIChuID09PSBNYXRoLmZsb29yKG4pICYmIG4gPj0gMiAmJiBuIDw9IDEwKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuRmV3O1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAnc2knOlxuICAgICAgICAgICAgaWYgKG4gPT09IDAgfHwgbiA9PT0gMSB8fCBpID09PSAwICYmIGYgPT09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICBjYXNlICdzbCc6XG4gICAgICAgICAgICBpZiAodiA9PT0gMCAmJiBpICUgMTAwID09PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT25lO1xuICAgICAgICAgICAgaWYgKHYgPT09IDAgJiYgaSAlIDEwMCA9PT0gMilcbiAgICAgICAgICAgICAgICByZXR1cm4gUGx1cmFsLlR3bztcbiAgICAgICAgICAgIGlmICh2ID09PSAwICYmIGkgJSAxMDAgPT09IE1hdGguZmxvb3IoaSAlIDEwMCkgJiYgaSAlIDEwMCA+PSAzICYmIGkgJSAxMDAgPD0gNCB8fCAhKHYgPT09IDApKVxuICAgICAgICAgICAgICAgIHJldHVybiBQbHVyYWwuRmV3O1xuICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PdGhlcjtcbiAgICAgICAgY2FzZSAndHptJzpcbiAgICAgICAgICAgIGlmIChuID09PSBNYXRoLmZsb29yKG4pICYmIG4gPj0gMCAmJiBuIDw9IDEgfHwgbiA9PT0gTWF0aC5mbG9vcihuKSAmJiBuID49IDExICYmIG4gPD0gOTkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBsdXJhbC5PbmU7XG4gICAgICAgICAgICByZXR1cm4gUGx1cmFsLk90aGVyO1xuICAgICAgICAvLyBXaGVuIHRoZXJlIGlzIG5vIHNwZWNpZmljYXRpb24sIHRoZSBkZWZhdWx0IGlzIGFsd2F5cyBcIm90aGVyXCJcbiAgICAgICAgLy8gU3BlYzogaHR0cDovL2NsZHIudW5pY29kZS5vcmcvaW5kZXgvY2xkci1zcGVjL3BsdXJhbC1ydWxlc1xuICAgICAgICAvLyA+IG90aGVyIChyZXF1aXJlZOKAlGdlbmVyYWwgcGx1cmFsIGZvcm0g4oCUIGFsc28gdXNlZCBpZiB0aGUgbGFuZ3VhZ2Ugb25seSBoYXMgYSBzaW5nbGUgZm9ybSlcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBQbHVyYWwuT3RoZXI7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0UGx1cmFsQ2F0ZWdvcnkodmFsdWUsIGxvY2FsZSkge1xuICAgIHZhciBwbHVyYWwgPSBnZXRQbHVyYWxDYXNlKGxvY2FsZSwgdmFsdWUpO1xuICAgIHN3aXRjaCAocGx1cmFsKSB7XG4gICAgICAgIGNhc2UgUGx1cmFsLlplcm86XG4gICAgICAgICAgICByZXR1cm4gJ3plcm8nO1xuICAgICAgICBjYXNlIFBsdXJhbC5PbmU6XG4gICAgICAgICAgICByZXR1cm4gJ29uZSc7XG4gICAgICAgIGNhc2UgUGx1cmFsLlR3bzpcbiAgICAgICAgICAgIHJldHVybiAndHdvJztcbiAgICAgICAgY2FzZSBQbHVyYWwuRmV3OlxuICAgICAgICAgICAgcmV0dXJuICdmZXcnO1xuICAgICAgICBjYXNlIFBsdXJhbC5NYW55OlxuICAgICAgICAgICAgcmV0dXJuICdtYW55JztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnb3RoZXInO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgY2FzZSBvZiBhbiBJQ1UgZXhwcmVzc2lvbiBkZXBlbmRpbmcgb24gdGhlIG1haW4gYmluZGluZyB2YWx1ZVxuICpcbiAqIEBwYXJhbSBpY3VFeHByZXNzaW9uXG4gKiBAcGFyYW0gYmluZGluZ1ZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgbWFpbiBiaW5kaW5nIHVzZWQgYnkgdGhpcyBJQ1UgZXhwcmVzc2lvblxuICovXG5mdW5jdGlvbiBnZXRDYXNlSW5kZXgoaWN1RXhwcmVzc2lvbiwgYmluZGluZ1ZhbHVlKSB7XG4gICAgdmFyIGluZGV4ID0gaWN1RXhwcmVzc2lvbi5jYXNlcy5pbmRleE9mKGJpbmRpbmdWYWx1ZSk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBzd2l0Y2ggKGljdUV4cHJlc3Npb24udHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIHBsdXJhbCAqLzoge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8ob2NvbWJlKTogcmVwbGFjZSB0aGlzIGhhcmQtY29kZWQgdmFsdWUgYnkgdGhlIHJlYWwgTE9DQUxFX0lEIHZhbHVlXG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsZSA9ICdlbi1VUyc7XG4gICAgICAgICAgICAgICAgdmFyIHJlc29sdmVkQ2FzZSA9IGdldFBsdXJhbENhdGVnb3J5KGJpbmRpbmdWYWx1ZSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZihyZXNvbHZlZENhc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEgJiYgcmVzb2x2ZWRDYXNlICE9PSAnb3RoZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaWN1RXhwcmVzc2lvbi5jYXNlcy5pbmRleE9mKCdvdGhlcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMCAvKiBzZWxlY3QgKi86IHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGljdUV4cHJlc3Npb24uY2FzZXMuaW5kZXhPZignb3RoZXInKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIEdlbmVyYXRlIHRoZSBPcENvZGVzIGZvciBJQ1UgZXhwcmVzc2lvbnMuXG4gKlxuICogQHBhcmFtIHRJY3VzXG4gKiBAcGFyYW0gaWN1RXhwcmVzc2lvblxuICogQHBhcmFtIHN0YXJ0SW5kZXhcbiAqIEBwYXJhbSBleHBhbmRvU3RhcnRJbmRleFxuICovXG5mdW5jdGlvbiBpY3VTdGFydCh0SWN1cywgaWN1RXhwcmVzc2lvbiwgc3RhcnRJbmRleCwgZXhwYW5kb1N0YXJ0SW5kZXgpIHtcbiAgICB2YXIgY3JlYXRlQ29kZXMgPSBbXTtcbiAgICB2YXIgcmVtb3ZlQ29kZXMgPSBbXTtcbiAgICB2YXIgdXBkYXRlQ29kZXMgPSBbXTtcbiAgICB2YXIgdmFycyA9IFtdO1xuICAgIHZhciBjaGlsZEljdXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGljdUV4cHJlc3Npb24udmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIEVhY2ggdmFsdWUgaXMgYW4gYXJyYXkgb2Ygc3RyaW5ncyAmIG90aGVyIElDVSBleHByZXNzaW9uc1xuICAgICAgICB2YXIgdmFsdWVBcnIgPSBpY3VFeHByZXNzaW9uLnZhbHVlc1tpXTtcbiAgICAgICAgdmFyIG5lc3RlZEljdXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZUFyci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVBcnJbal07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGFuIG5lc3RlZCBJQ1UgZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgIHZhciBpY3VJbmRleCA9IG5lc3RlZEljdXMucHVzaCh2YWx1ZSkgLSAxO1xuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgbmVzdGVkIElDVSBleHByZXNzaW9uIGJ5IGEgY29tbWVudCBub2RlXG4gICAgICAgICAgICAgICAgdmFsdWVBcnJbal0gPSBcIjwhLS1cXHVGRkZEXCIgKyBpY3VJbmRleCArIFwiXFx1RkZGRC0tPlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBpY3VDYXNlID0gcGFyc2VJY3VDYXNlKHZhbHVlQXJyLmpvaW4oJycpLCBzdGFydEluZGV4LCBuZXN0ZWRJY3VzLCB0SWN1cywgZXhwYW5kb1N0YXJ0SW5kZXgpO1xuICAgICAgICBjcmVhdGVDb2Rlcy5wdXNoKGljdUNhc2UuY3JlYXRlKTtcbiAgICAgICAgcmVtb3ZlQ29kZXMucHVzaChpY3VDYXNlLnJlbW92ZSk7XG4gICAgICAgIHVwZGF0ZUNvZGVzLnB1c2goaWN1Q2FzZS51cGRhdGUpO1xuICAgICAgICB2YXJzLnB1c2goaWN1Q2FzZS52YXJzKTtcbiAgICAgICAgY2hpbGRJY3VzLnB1c2goaWN1Q2FzZS5jaGlsZEljdXMpO1xuICAgIH1cbiAgICB2YXIgdEljdSA9IHtcbiAgICAgICAgdHlwZTogaWN1RXhwcmVzc2lvbi50eXBlLFxuICAgICAgICB2YXJzOiB2YXJzLFxuICAgICAgICBleHBhbmRvU3RhcnRJbmRleDogZXhwYW5kb1N0YXJ0SW5kZXggKyAxLCBjaGlsZEljdXM6IGNoaWxkSWN1cyxcbiAgICAgICAgY2FzZXM6IGljdUV4cHJlc3Npb24uY2FzZXMsXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlQ29kZXMsXG4gICAgICAgIHJlbW92ZTogcmVtb3ZlQ29kZXMsXG4gICAgICAgIHVwZGF0ZTogdXBkYXRlQ29kZXNcbiAgICB9O1xuICAgIHRJY3VzLnB1c2godEljdSk7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgd29yc3RDYXNlU2l6ZSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF9fc3ByZWFkKHZhcnMpKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcnN0Q2FzZVNpemU7IGkrKykge1xuICAgICAgICBhbGxvY0V4cGFuZG8obFZpZXcpO1xuICAgIH1cbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhIHN0cmluZyB0ZW1wbGF0ZSBpbnRvIGFuIEhUTUwgdGVtcGxhdGUgYW5kIGEgbGlzdCBvZiBpbnN0cnVjdGlvbnMgdXNlZCB0byB1cGRhdGVcbiAqIGF0dHJpYnV0ZXMgb3Igbm9kZXMgdGhhdCBjb250YWluIGJpbmRpbmdzLlxuICpcbiAqIEBwYXJhbSB1bnNhZmVIdG1sIFRoZSBzdHJpbmcgdG8gcGFyc2VcbiAqIEBwYXJhbSBwYXJlbnRJbmRleFxuICogQHBhcmFtIG5lc3RlZEljdXNcbiAqIEBwYXJhbSB0SWN1c1xuICogQHBhcmFtIGV4cGFuZG9TdGFydEluZGV4XG4gKi9cbmZ1bmN0aW9uIHBhcnNlSWN1Q2FzZSh1bnNhZmVIdG1sLCBwYXJlbnRJbmRleCwgbmVzdGVkSWN1cywgdEljdXMsIGV4cGFuZG9TdGFydEluZGV4KSB7XG4gICAgdmFyIGluZXJ0Qm9keUhlbHBlciA9IG5ldyBJbmVydEJvZHlIZWxwZXIoZG9jdW1lbnQpO1xuICAgIHZhciBpbmVydEJvZHlFbGVtZW50ID0gaW5lcnRCb2R5SGVscGVyLmdldEluZXJ0Qm9keUVsZW1lbnQodW5zYWZlSHRtbCk7XG4gICAgaWYgKCFpbmVydEJvZHlFbGVtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdlbmVyYXRlIGluZXJ0IGJvZHkgZWxlbWVudCcpO1xuICAgIH1cbiAgICB2YXIgd3JhcHBlciA9IGdldFRlbXBsYXRlQ29udGVudChpbmVydEJvZHlFbGVtZW50KSB8fCBpbmVydEJvZHlFbGVtZW50O1xuICAgIHZhciBvcENvZGVzID0geyB2YXJzOiAwLCBjaGlsZEljdXM6IFtdLCBjcmVhdGU6IFtdLCByZW1vdmU6IFtdLCB1cGRhdGU6IFtdIH07XG4gICAgcGFyc2VOb2Rlcyh3cmFwcGVyLmZpcnN0Q2hpbGQsIG9wQ29kZXMsIHBhcmVudEluZGV4LCBuZXN0ZWRJY3VzLCB0SWN1cywgZXhwYW5kb1N0YXJ0SW5kZXgpO1xuICAgIHJldHVybiBvcENvZGVzO1xufVxudmFyIE5FU1RFRF9JQ1UgPSAv77+9KFxcZCsp77+9Lztcbi8qKlxuICogUGFyc2VzIGEgbm9kZSwgaXRzIGNoaWxkcmVuIGFuZCBpdHMgc2libGluZ3MsIGFuZCBnZW5lcmF0ZXMgdGhlIG11dGF0ZSAmIHVwZGF0ZSBPcENvZGVzLlxuICpcbiAqIEBwYXJhbSBjdXJyZW50Tm9kZSBUaGUgZmlyc3Qgbm9kZSB0byBwYXJzZVxuICogQHBhcmFtIGljdUNhc2UgVGhlIGRhdGEgZm9yIHRoZSBJQ1UgZXhwcmVzc2lvbiBjYXNlIHRoYXQgY29udGFpbnMgdGhvc2Ugbm9kZXNcbiAqIEBwYXJhbSBwYXJlbnRJbmRleCBJbmRleCBvZiB0aGUgY3VycmVudCBub2RlJ3MgcGFyZW50XG4gKiBAcGFyYW0gbmVzdGVkSWN1cyBEYXRhIGZvciB0aGUgbmVzdGVkIElDVSBleHByZXNzaW9ucyB0aGF0IHRoaXMgY2FzZSBjb250YWluc1xuICogQHBhcmFtIHRJY3VzIERhdGEgZm9yIGFsbCBJQ1UgZXhwcmVzc2lvbnMgb2YgdGhlIGN1cnJlbnQgbWVzc2FnZVxuICogQHBhcmFtIGV4cGFuZG9TdGFydEluZGV4IEV4cGFuZG8gc3RhcnQgaW5kZXggZm9yIHRoZSBjdXJyZW50IElDVSBleHByZXNzaW9uXG4gKi9cbmZ1bmN0aW9uIHBhcnNlTm9kZXMoY3VycmVudE5vZGUsIGljdUNhc2UsIHBhcmVudEluZGV4LCBuZXN0ZWRJY3VzLCB0SWN1cywgZXhwYW5kb1N0YXJ0SW5kZXgpIHtcbiAgICBpZiAoY3VycmVudE5vZGUpIHtcbiAgICAgICAgdmFyIG5lc3RlZEljdXNUb0NyZWF0ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgIHZhciBuZXh0Tm9kZSA9IGN1cnJlbnROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgdmFyIG5ld0luZGV4ID0gZXhwYW5kb1N0YXJ0SW5kZXggKyArK2ljdUNhc2UudmFycztcbiAgICAgICAgICAgIHN3aXRjaCAoY3VycmVudE5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOlxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCQkMSA9IGN1cnJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFnTmFtZSA9IGVsZW1lbnQkJDEudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVZBTElEX0VMRU1FTlRTLmhhc093blByb3BlcnR5KHRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzbid0IGEgdmFsaWQgZWxlbWVudCwgd2Ugd29uJ3QgY3JlYXRlIGFuIGVsZW1lbnQgZm9yIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICBpY3VDYXNlLnZhcnMtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljdUNhc2UuY3JlYXRlLnB1c2goRUxFTUVOVF9NQVJLRVIsIHRhZ05hbWUsIHBhcmVudEluZGV4IDw8IDE3IC8qIFNISUZUX1BBUkVOVCAqLyB8IDEgLyogQXBwZW5kQ2hpbGQgKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsQXR0cnMgPSBlbGVtZW50JCQxLmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ciA9IGVsQXR0cnMuaXRlbShpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG93ZXJBdHRyTmFtZSA9IGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNCaW5kaW5nXzEgPSAhIWF0dHIudmFsdWUubWF0Y2goQklORElOR19SRUdFWFApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFzc3VtZSB0aGUgaW5wdXQgc3RyaW5nIGlzIHNhZmUsIHVubGVzcyBpdCdzIHVzaW5nIGEgYmluZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNCaW5kaW5nXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFZBTElEX0FUVFJTLmhhc093blByb3BlcnR5KGxvd2VyQXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVVJJX0FUVFJTW2xvd2VyQXR0ck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQWxsVG9BcnJheShnZW5lcmF0ZUJpbmRpbmdVcGRhdGVPcENvZGVzKGF0dHIudmFsdWUsIG5ld0luZGV4LCBhdHRyLm5hbWUsIF9zYW5pdGl6ZVVybCksIGljdUNhc2UudXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKFNSQ1NFVF9BVFRSU1tsb3dlckF0dHJOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFsbFRvQXJyYXkoZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2RlcyhhdHRyLnZhbHVlLCBuZXdJbmRleCwgYXR0ci5uYW1lLCBzYW5pdGl6ZVNyY3NldCksIGljdUNhc2UudXBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFsbFRvQXJyYXkoZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2RlcyhhdHRyLnZhbHVlLCBuZXdJbmRleCwgYXR0ci5uYW1lKSwgaWN1Q2FzZS51cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEZXZNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV0FSTklORzogaWdub3JpbmcgdW5zYWZlIGF0dHJpYnV0ZSB2YWx1ZSBcIiArIGxvd2VyQXR0ck5hbWUgKyBcIiBvbiBlbGVtZW50IFwiICsgdGFnTmFtZSArIFwiIChzZWUgaHR0cDovL2cuY28vbmcvc2VjdXJpdHkjeHNzKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWN1Q2FzZS5jcmVhdGUucHVzaChuZXdJbmRleCA8PCAzIC8qIFNISUZUX1JFRiAqLyB8IDQgLyogQXR0ciAqLywgYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgY2hpbGRyZW4gb2YgdGhpcyBub2RlIChpZiBhbnkpXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZU5vZGVzKGN1cnJlbnROb2RlLmZpcnN0Q2hpbGQsIGljdUNhc2UsIG5ld0luZGV4LCBuZXN0ZWRJY3VzLCB0SWN1cywgZXhwYW5kb1N0YXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBwYXJlbnQgbm9kZSBhZnRlciB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGljdUNhc2UucmVtb3ZlLnB1c2gobmV3SW5kZXggPDwgMyAvKiBTSElGVF9SRUYgKi8gfCAzIC8qIFJlbW92ZSAqLyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBOb2RlLlRFWFRfTk9ERTpcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY3VycmVudE5vZGUudGV4dENvbnRlbnQgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNCaW5kaW5nID0gdmFsdWUubWF0Y2goQklORElOR19SRUdFWFApO1xuICAgICAgICAgICAgICAgICAgICBpY3VDYXNlLmNyZWF0ZS5wdXNoKGhhc0JpbmRpbmcgPyAnJyA6IHZhbHVlLCBwYXJlbnRJbmRleCA8PCAxNyAvKiBTSElGVF9QQVJFTlQgKi8gfCAxIC8qIEFwcGVuZENoaWxkICovKTtcbiAgICAgICAgICAgICAgICAgICAgaWN1Q2FzZS5yZW1vdmUucHVzaChuZXdJbmRleCA8PCAzIC8qIFNISUZUX1JFRiAqLyB8IDMgLyogUmVtb3ZlICovKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0JpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFsbFRvQXJyYXkoZ2VuZXJhdGVCaW5kaW5nVXBkYXRlT3BDb2Rlcyh2YWx1ZSwgbmV3SW5kZXgpLCBpY3VDYXNlLnVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbW1lbnQgbm9kZSBpcyBhIHBsYWNlaG9sZGVyIGZvciBhIG5lc3RlZCBJQ1VcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gTkVTVEVEX0lDVS5leGVjKGN1cnJlbnROb2RlLnRleHRDb250ZW50IHx8ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVzdGVkSWN1SW5kZXggPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0xvY2FsID0gbmdEZXZNb2RlID8gXCJuZXN0ZWQgSUNVIFwiICsgbmVzdGVkSWN1SW5kZXggOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgY29tbWVudCBub2RlIHRoYXQgd2lsbCBhbmNob3IgdGhlIElDVSBleHByZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpY3VDYXNlLmNyZWF0ZS5wdXNoKENPTU1FTlRfTUFSS0VSLCBuZXdMb2NhbCwgcGFyZW50SW5kZXggPDwgMTcgLyogU0hJRlRfUEFSRU5UICovIHwgMSAvKiBBcHBlbmRDaGlsZCAqLyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmVzdGVkSWN1ID0gbmVzdGVkSWN1c1tuZXN0ZWRJY3VJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXN0ZWRJY3VzVG9DcmVhdGUucHVzaChbbmVzdGVkSWN1LCBuZXdJbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG8gbm90IGhhbmRsZSBhbnkgb3RoZXIgdHlwZSBvZiBjb21tZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpY3VDYXNlLnZhcnMtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBub3QgaGFuZGxlIGFueSBvdGhlciB0eXBlIG9mIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgaWN1Q2FzZS52YXJzLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50Tm9kZSA9IG5leHROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVzdGVkSWN1c1RvQ3JlYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmVzdGVkSWN1ID0gbmVzdGVkSWN1c1RvQ3JlYXRlW2ldWzBdO1xuICAgICAgICAgICAgdmFyIG5lc3RlZEljdU5vZGVJbmRleCA9IG5lc3RlZEljdXNUb0NyZWF0ZVtpXVsxXTtcbiAgICAgICAgICAgIGljdVN0YXJ0KHRJY3VzLCBuZXN0ZWRJY3UsIG5lc3RlZEljdU5vZGVJbmRleCwgZXhwYW5kb1N0YXJ0SW5kZXggKyBpY3VDYXNlLnZhcnMpO1xuICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyByZWN1cnNpdmUsIHRoZSBsYXN0IFRJY3UgdGhhdCB3YXMgcHVzaGVkIGlzIHRoZSBvbmUgd2Ugd2FudFxuICAgICAgICAgICAgdmFyIG5lc3RUSWN1SW5kZXggPSB0SWN1cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgaWN1Q2FzZS52YXJzICs9IE1hdGgubWF4LmFwcGx5KE1hdGgsIF9fc3ByZWFkKHRJY3VzW25lc3RUSWN1SW5kZXhdLnZhcnMpKTtcbiAgICAgICAgICAgIGljdUNhc2UuY2hpbGRJY3VzLnB1c2gobmVzdFRJY3VJbmRleCk7XG4gICAgICAgICAgICB2YXIgbWFzayA9IGdldEJpbmRpbmdNYXNrKG5lc3RlZEljdSk7XG4gICAgICAgICAgICBpY3VDYXNlLnVwZGF0ZS5wdXNoKHRvTWFza0JpdChuZXN0ZWRJY3UubWFpbkJpbmRpbmcpLCAvLyBtYXNrIG9mIHRoZSBtYWluIGJpbmRpbmdcbiAgICAgICAgICAgIDMsIC8vIHNraXAgMyBvcENvZGVzIGlmIG5vdCBjaGFuZ2VkXG4gICAgICAgICAgICAtMSAtIG5lc3RlZEljdS5tYWluQmluZGluZywgbmVzdGVkSWN1Tm9kZUluZGV4IDw8IDIgLyogU0hJRlRfUkVGICovIHwgMiAvKiBJY3VTd2l0Y2ggKi8sIG5lc3RUSWN1SW5kZXgsIG1hc2ssIC8vIG1hc2sgb2YgYWxsIHRoZSBiaW5kaW5ncyBvZiB0aGlzIElDVSBleHByZXNzaW9uXG4gICAgICAgICAgICAyLCAvLyBza2lwIDIgb3BDb2RlcyBpZiBub3QgY2hhbmdlZFxuICAgICAgICAgICAgbmVzdGVkSWN1Tm9kZUluZGV4IDw8IDIgLyogU0hJRlRfUkVGICovIHwgMyAvKiBJY3VVcGRhdGUgKi8sIG5lc3RUSWN1SW5kZXgpO1xuICAgICAgICAgICAgaWN1Q2FzZS5yZW1vdmUucHVzaChuZXN0VEljdUluZGV4IDw8IDMgLyogU0hJRlRfUkVGICovIHwgNiAvKiBSZW1vdmVOZXN0ZWRJY3UgKi8sIG5lc3RlZEljdU5vZGVJbmRleCA8PCAzIC8qIFNISUZUX1JFRiAqLyB8IDMgLyogUmVtb3ZlICovKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIENPTVBPTkVOVF9GQUNUT1JZX1JFU09MVkVSID0ge1xuICAgIHByb3ZpZGU6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgICB1c2VDbGFzczogQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyJDEsXG4gICAgZGVwczogW05nTW9kdWxlUmVmXSxcbn07XG52YXIgTmdNb2R1bGVSZWYkMSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmdNb2R1bGVSZWYkJDEsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTmdNb2R1bGVSZWYkJDEobmdNb2R1bGVUeXBlLCBfcGFyZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cmVxdWlyZS1pbnRlcm5hbC13aXRoLXVuZGVyc2NvcmVcbiAgICAgICAgX3RoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgX3RoaXMuaW5qZWN0b3IgPSBfdGhpcztcbiAgICAgICAgX3RoaXMuZGVzdHJveUNicyA9IFtdO1xuICAgICAgICB2YXIgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZihuZ01vZHVsZVR5cGUpO1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChuZ01vZHVsZURlZiwgXCJOZ01vZHVsZSAnXCIgKyBzdHJpbmdpZnkobmdNb2R1bGVUeXBlKSArIFwiJyBpcyBub3QgYSBzdWJ0eXBlIG9mICdOZ01vZHVsZVR5cGUnLlwiKTtcbiAgICAgICAgX3RoaXMuX2Jvb3RzdHJhcENvbXBvbmVudHMgPSBuZ01vZHVsZURlZi5ib290c3RyYXA7XG4gICAgICAgIHZhciBhZGRpdGlvbmFsUHJvdmlkZXJzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IE5nTW9kdWxlUmVmLFxuICAgICAgICAgICAgICAgIHVzZVZhbHVlOiBfdGhpcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBDT01QT05FTlRfRkFDVE9SWV9SRVNPTFZFUlxuICAgICAgICBdO1xuICAgICAgICBfdGhpcy5fcjNJbmplY3RvciA9IGNyZWF0ZUluamVjdG9yKG5nTW9kdWxlVHlwZSwgX3BhcmVudCwgYWRkaXRpb25hbFByb3ZpZGVycyk7XG4gICAgICAgIF90aGlzLmluc3RhbmNlID0gX3RoaXMuZ2V0KG5nTW9kdWxlVHlwZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTmdNb2R1bGVSZWYkJDEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbiwgbm90Rm91bmRWYWx1ZSwgaW5qZWN0RmxhZ3MpIHtcbiAgICAgICAgaWYgKG5vdEZvdW5kVmFsdWUgPT09IHZvaWQgMCkgeyBub3RGb3VuZFZhbHVlID0gSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5EOyB9XG4gICAgICAgIGlmIChpbmplY3RGbGFncyA9PT0gdm9pZCAwKSB7IGluamVjdEZsYWdzID0gSW5qZWN0RmxhZ3MuRGVmYXVsdDsgfVxuICAgICAgICBpZiAodG9rZW4gPT09IEluamVjdG9yIHx8IHRva2VuID09PSBOZ01vZHVsZVJlZiB8fCB0b2tlbiA9PT0gSU5KRUNUT1IkMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3IzSW5qZWN0b3IuZ2V0KHRva2VuLCBub3RGb3VuZFZhbHVlLCBpbmplY3RGbGFncyk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdNb2R1bGVSZWYkJDEucHJvdG90eXBlLCBcImNvbXBvbmVudEZhY3RvcnlSZXNvbHZlclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE5nTW9kdWxlUmVmJCQxLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0aGlzLmRlc3Ryb3lDYnMsICdOZ01vZHVsZSBhbHJlYWR5IGRlc3Ryb3llZCcpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuKCk7IH0pO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMgPSBudWxsO1xuICAgIH07XG4gICAgTmdNb2R1bGVSZWYkJDEucHJvdG90eXBlLm9uRGVzdHJveSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZCh0aGlzLmRlc3Ryb3lDYnMsICdOZ01vZHVsZSBhbHJlYWR5IGRlc3Ryb3llZCcpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lDYnMucHVzaChjYWxsYmFjayk7XG4gICAgfTtcbiAgICByZXR1cm4gTmdNb2R1bGVSZWYkJDE7XG59KE5nTW9kdWxlUmVmKSk7XG52YXIgTmdNb2R1bGVGYWN0b3J5JDEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE5nTW9kdWxlRmFjdG9yeSQkMSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZ01vZHVsZUZhY3RvcnkkJDEobW9kdWxlVHlwZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5tb2R1bGVUeXBlID0gbW9kdWxlVHlwZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBOZ01vZHVsZUZhY3RvcnkkJDEucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChwYXJlbnRJbmplY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IE5nTW9kdWxlUmVmJDEodGhpcy5tb2R1bGVUeXBlLCBwYXJlbnRJbmplY3Rvcik7XG4gICAgfTtcbiAgICByZXR1cm4gTmdNb2R1bGVGYWN0b3J5JCQxO1xufShOZ01vZHVsZUZhY3RvcnkpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBZGRzIGRlY29yYXRvciwgY29uc3RydWN0b3IsIGFuZCBwcm9wZXJ0eSBtZXRhZGF0YSB0byBhIGdpdmVuIHR5cGUgdmlhIHN0YXRpYyBtZXRhZGF0YSBmaWVsZHNcbiAqIG9uIHRoZSB0eXBlLlxuICpcbiAqIFRoZXNlIG1ldGFkYXRhIGZpZWxkcyBjYW4gbGF0ZXIgYmUgcmVhZCB3aXRoIEFuZ3VsYXIncyBgUmVmbGVjdGlvbkNhcGFiaWxpdGllc2AgQVBJLlxuICpcbiAqIENhbGxzIHRvIGBzZXRDbGFzc01ldGFkYXRhYCBjYW4gYmUgbWFya2VkIGFzIHB1cmUsIHJlc3VsdGluZyBpbiB0aGUgbWV0YWRhdGEgYXNzaWdubWVudHMgYmVpbmdcbiAqIHRyZWUtc2hha2VuIGF3YXkgZHVyaW5nIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovXG5mdW5jdGlvbiBzZXRDbGFzc01ldGFkYXRhKHR5cGUsIGRlY29yYXRvcnMsIGN0b3JQYXJhbWV0ZXJzLCBwcm9wRGVjb3JhdG9ycykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgY2xhenogPSB0eXBlO1xuICAgIGlmIChkZWNvcmF0b3JzICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChjbGF6ei5kZWNvcmF0b3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIChfYSA9IGNsYXp6LmRlY29yYXRvcnMpLnB1c2guYXBwbHkoX2EsIF9fc3ByZWFkKGRlY29yYXRvcnMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsYXp6LmRlY29yYXRvcnMgPSBkZWNvcmF0b3JzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjdG9yUGFyYW1ldGVycyAhPT0gbnVsbCkge1xuICAgICAgICAvLyBSYXRoZXIgdGhhbiBtZXJnaW5nLCBjbG9iYmVyIHRoZSBleGlzdGluZyBwYXJhbWV0ZXJzLiBJZiBvdGhlciBwcm9qZWN0cyBleGlzdCB3aGljaCB1c2VcbiAgICAgICAgLy8gdHNpY2tsZS1zdHlsZSBhbm5vdGF0aW9ucyBhbmQgcmVmbGVjdCBvdmVyIHRoZW0gaW4gdGhlIHNhbWUgd2F5LCB0aGlzIGNvdWxkIGNhdXNlIGlzc3VlcyxcbiAgICAgICAgLy8gYnV0IHRoYXQgaXMgdmFuaXNoaW5nbHkgdW5saWtlbHkuXG4gICAgICAgIGNsYXp6LmN0b3JQYXJhbWV0ZXJzID0gY3RvclBhcmFtZXRlcnM7XG4gICAgfVxuICAgIGlmIChwcm9wRGVjb3JhdG9ycyAhPT0gbnVsbCkge1xuICAgICAgICAvLyBUaGUgcHJvcGVydHkgZGVjb3JhdG9yIG9iamVjdHMgYXJlIG1lcmdlZCBhcyBpdCBpcyBwb3NzaWJsZSBkaWZmZXJlbnQgZmllbGRzIGhhdmUgZGlmZmVyZW50XG4gICAgICAgIC8vIGRlY29yYXRvciB0eXBlcy4gRGVjb3JhdG9ycyBvbiBpbmRpdmlkdWFsIGZpZWxkcyBhcmUgbm90IG1lcmdlZCwgYXMgaXQncyBhbHNvIGluY3JlZGlibHlcbiAgICAgICAgLy8gdW5saWtlbHkgdGhhdCBhIGZpZWxkIHdpbGwgYmUgZGVjb3JhdGVkIGJvdGggd2l0aCBhbiBBbmd1bGFyIGRlY29yYXRvciBhbmQgYSBub24tQW5ndWxhclxuICAgICAgICAvLyBkZWNvcmF0b3IgdGhhdCdzIGFsc28gYmVlbiBkb3dubGV2ZWxlZC5cbiAgICAgICAgaWYgKGNsYXp6LnByb3BEZWNvcmF0b3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNsYXp6LnByb3BEZWNvcmF0b3JzID0gX19hc3NpZ24oe30sIGNsYXp6LnByb3BEZWNvcmF0b3JzLCBwcm9wRGVjb3JhdG9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjbGF6ei5wcm9wRGVjb3JhdG9ycyA9IHByb3BEZWNvcmF0b3JzO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJpbmRpbmdzIGZvciBwdXJlIGZ1bmN0aW9ucyBhcmUgc3RvcmVkIGFmdGVyIHJlZ3VsYXIgYmluZGluZ3MuXG4gKlxuICogfC0tLS0tLWNvbnN0cy0tLS0tLXwtLS0tLS0tLS12YXJzLS0tLS0tLS0tfCAgICAgICAgICAgICAgICAgfC0tLS0tIGhvc3RWYXJzIChkaXIxKSAtLS0tLS18XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHwgbm9kZXMvcmVmcy9waXBlcyB8IGJpbmRpbmdzIHwgZm4gc2xvdHMgIHwgaW5qZWN0b3IgfCBkaXIxIHwgaG9zdCBiaW5kaW5ncyB8IGhvc3Qgc2xvdHMgfFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgICAgICAgICAgICAgICAgICAgXiAgICAgICAgICAgICAgICAgICAgICBeXG4gKiAgICAgIFRWaWV3LmJpbmRpbmdTdGFydEluZGV4ICAgICAgVFZpZXcuZXhwYW5kb1N0YXJ0SW5kZXhcbiAqXG4gKiBQdXJlIGZ1bmN0aW9uIGluc3RydWN0aW9ucyBhcmUgZ2l2ZW4gYW4gb2Zmc2V0IGZyb20gdGhlIGJpbmRpbmcgcm9vdC4gQWRkaW5nIHRoZSBvZmZzZXQgdG8gdGhlXG4gKiBiaW5kaW5nIHJvb3QgZ2l2ZXMgdGhlIGZpcnN0IGluZGV4IHdoZXJlIHRoZSBiaW5kaW5ncyBhcmUgc3RvcmVkLiBJbiBjb21wb25lbnQgdmlld3MsIHRoZSBiaW5kaW5nXG4gKiByb290IGlzIHRoZSBiaW5kaW5nU3RhcnRJbmRleC4gSW4gaG9zdCBiaW5kaW5ncywgdGhlIGJpbmRpbmcgcm9vdCBpcyB0aGUgZXhwYW5kb1N0YXJ0SW5kZXggK1xuICogYW55IGRpcmVjdGl2ZSBpbnN0YW5jZXMgKyBhbnkgaG9zdFZhcnMgaW4gZGlyZWN0aXZlcyBldmFsdWF0ZWQgYmVmb3JlIGl0LlxuICpcbiAqIFNlZSBWSUVXX0RBVEEubWQgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG9zdCBiaW5kaW5nIHJlc29sdXRpb24uXG4gKi9cbi8qKlxuICogSWYgdGhlIHZhbHVlIGhhc24ndCBiZWVuIHNhdmVkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byBzdG9yZSBhbmQgcmV0dXJuIHRoZVxuICogdmFsdWUuIElmIGl0IGhhcyBiZWVuIHNhdmVkLCByZXR1cm5zIHRoZSBzYXZlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuIEZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZhbHVlXG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb24wKHNsb3RPZmZzZXQsIHB1cmVGbiwgdGhpc0FyZykge1xuICAgIC8vIFRPRE8oa2FyYSk6IHVzZSBiaW5kaW5nUm9vdCBpbnN0ZWFkIG9mIGJpbmRpbmdTdGFydEluZGV4IHdoZW4gaW1wbGVtZW50aW5nIGhvc3QgYmluZGluZ3NcbiAgICB2YXIgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICByZXR1cm4gaXNDcmVhdGlvbk1vZGUoKSA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcpIDogcHVyZUZuKCkpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4KTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgdGhlIHZhbHVlIGhhcyBub3QgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGbiBGdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gdXBkYXRlZCB2YWx1ZVxuICogQHBhcmFtIGV4cCBVcGRhdGVkIGV4cHJlc3Npb24gdmFsdWVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjEoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAsIHRoaXNBcmcpIHtcbiAgICAvLyBUT0RPKGthcmEpOiB1c2UgYmluZGluZ1Jvb3QgaW5zdGVhZCBvZiBiaW5kaW5nU3RhcnRJbmRleCB3aGVuIGltcGxlbWVudGluZyBob3N0IGJpbmRpbmdzXG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cCkgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAxLCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwKSA6IHB1cmVGbihleHApKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDEpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjIoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCB0aGlzQXJnKSB7XG4gICAgLy8gVE9ETyhrYXJhKTogdXNlIGJpbmRpbmdSb290IGluc3RlYWQgb2YgYmluZGluZ1N0YXJ0SW5kZXggd2hlbiBpbXBsZW1lbnRpbmcgaG9zdCBiaW5kaW5nc1xuICAgIHZhciBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMikgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAyLCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMikgOiBwdXJlRm4oZXhwMSwgZXhwMikpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgMik7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjMoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCB0aGlzQXJnKSB7XG4gICAgLy8gVE9ETyhrYXJhKTogdXNlIGJpbmRpbmdSb290IGluc3RlYWQgb2YgYmluZGluZ1N0YXJ0SW5kZXggd2hlbiBpbXBsZW1lbnRpbmcgaG9zdCBiaW5kaW5nc1xuICAgIHZhciBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDMobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMykgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyAzLCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMykgOiBwdXJlRm4oZXhwMSwgZXhwMiwgZXhwMykpIDpcbiAgICAgICAgZ2V0QmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgMyk7XG59XG4vKipcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm5cbiAqIEBwYXJhbSBleHAxXG4gKiBAcGFyYW0gZXhwMlxuICogQHBhcmFtIGV4cDNcbiAqIEBwYXJhbSBleHA0XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb240KHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgdGhpc0FyZykge1xuICAgIC8vIFRPRE8oa2FyYSk6IHVzZSBiaW5kaW5nUm9vdCBpbnN0ZWFkIG9mIGJpbmRpbmdTdGFydEluZGV4IHdoZW4gaW1wbGVtZW50aW5nIGhvc3QgYmluZGluZ3NcbiAgICB2YXIgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpID9cbiAgICAgICAgdXBkYXRlQmluZGluZyhsVmlldywgYmluZGluZ0luZGV4ICsgNCwgdGhpc0FyZyA/IHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpIDogcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDQpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvbjUoc2xvdE9mZnNldCwgcHVyZUZuLCBleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCB0aGlzQXJnKSB7XG4gICAgLy8gVE9ETyhrYXJhKTogdXNlIGJpbmRpbmdSb290IGluc3RlYWQgb2YgYmluZGluZ1N0YXJ0SW5kZXggd2hlbiBpbXBsZW1lbnRpbmcgaG9zdCBiaW5kaW5nc1xuICAgIHZhciBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICB2YXIgbFZpZXcgPSBnZXRMVmlldygpO1xuICAgIHZhciBkaWZmZXJlbnQgPSBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCk7XG4gICAgcmV0dXJuIGJpbmRpbmdVcGRhdGVkKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA1LCB0aGlzQXJnID8gcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSkgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDUpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSBleHA2XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb242KHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgdGhpc0FyZykge1xuICAgIC8vIFRPRE8oa2FyYSk6IHVzZSBiaW5kaW5nUm9vdCBpbnN0ZWFkIG9mIGJpbmRpbmdTdGFydEluZGV4IHdoZW4gaW1wbGVtZW50aW5nIGhvc3QgYmluZGluZ3NcbiAgICB2YXIgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDIobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIGV4cDUsIGV4cDYpIHx8IGRpZmZlcmVudCA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDYsIHRoaXNBcmcgP1xuICAgICAgICAgICAgcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNikgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDYpO1xufVxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgb2YgYW55IHByb3ZpZGVkIGV4cCBoYXMgY2hhbmdlZCwgY2FsbHMgdGhlIHB1cmUgZnVuY3Rpb24gdG8gcmV0dXJuXG4gKiBhbiB1cGRhdGVkIHZhbHVlLiBPciBpZiBubyB2YWx1ZXMgaGF2ZSBjaGFuZ2VkLCByZXR1cm5zIGNhY2hlZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGZyb20gYmluZGluZyByb290IHRvIHRoZSByZXNlcnZlZCBzbG90XG4gKiBAcGFyYW0gcHVyZUZuXG4gKiBAcGFyYW0gZXhwMVxuICogQHBhcmFtIGV4cDJcbiAqIEBwYXJhbSBleHAzXG4gKiBAcGFyYW0gZXhwNFxuICogQHBhcmFtIGV4cDVcbiAqIEBwYXJhbSBleHA2XG4gKiBAcGFyYW0gZXhwN1xuICogQHBhcmFtIHRoaXNBcmcgT3B0aW9uYWwgY2FsbGluZyBjb250ZXh0IG9mIHB1cmVGblxuICogQHJldHVybnMgVXBkYXRlZCBvciBjYWNoZWQgdmFsdWVcbiAqL1xuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uNyhzbG90T2Zmc2V0LCBwdXJlRm4sIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIHRoaXNBcmcpIHtcbiAgICAvLyBUT0RPKGthcmEpOiB1c2UgYmluZGluZ1Jvb3QgaW5zdGVhZCBvZiBiaW5kaW5nU3RhcnRJbmRleCB3aGVuIGltcGxlbWVudGluZyBob3N0IGJpbmRpbmdzXG4gICAgdmFyIGJpbmRpbmdJbmRleCA9IGdldEJpbmRpbmdSb290KCkgKyBzbG90T2Zmc2V0O1xuICAgIHZhciBsVmlldyA9IGdldExWaWV3KCk7XG4gICAgdmFyIGRpZmZlcmVudCA9IGJpbmRpbmdVcGRhdGVkNChsVmlldywgYmluZGluZ0luZGV4LCBleHAxLCBleHAyLCBleHAzLCBleHA0KTtcbiAgICByZXR1cm4gYmluZGluZ1VwZGF0ZWQzKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA0LCBleHA1LCBleHA2LCBleHA3KSB8fCBkaWZmZXJlbnQgP1xuICAgICAgICB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA3LCB0aGlzQXJnID9cbiAgICAgICAgICAgIHB1cmVGbi5jYWxsKHRoaXNBcmcsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcpIDpcbiAgICAgICAgICAgIHB1cmVGbihleHAxLCBleHAyLCBleHAzLCBleHA0LCBleHA1LCBleHA2LCBleHA3KSkgOlxuICAgICAgICBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXggKyA3KTtcbn1cbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIGFueSBwcm92aWRlZCBleHAgaGFzIGNoYW5nZWQsIGNhbGxzIHRoZSBwdXJlIGZ1bmN0aW9uIHRvIHJldHVyblxuICogYW4gdXBkYXRlZCB2YWx1ZS4gT3IgaWYgbm8gdmFsdWVzIGhhdmUgY2hhbmdlZCwgcmV0dXJucyBjYWNoZWQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHNsb3RPZmZzZXQgdGhlIG9mZnNldCBmcm9tIGJpbmRpbmcgcm9vdCB0byB0aGUgcmVzZXJ2ZWQgc2xvdFxuICogQHBhcmFtIHB1cmVGblxuICogQHBhcmFtIGV4cDFcbiAqIEBwYXJhbSBleHAyXG4gKiBAcGFyYW0gZXhwM1xuICogQHBhcmFtIGV4cDRcbiAqIEBwYXJhbSBleHA1XG4gKiBAcGFyYW0gZXhwNlxuICogQHBhcmFtIGV4cDdcbiAqIEBwYXJhbSBleHA4XG4gKiBAcGFyYW0gdGhpc0FyZyBPcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgb2YgcHVyZUZuXG4gKiBAcmV0dXJucyBVcGRhdGVkIG9yIGNhY2hlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwdXJlRnVuY3Rpb244KHNsb3RPZmZzZXQsIHB1cmVGbiwgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNywgZXhwOCwgdGhpc0FyZykge1xuICAgIC8vIFRPRE8oa2FyYSk6IHVzZSBiaW5kaW5nUm9vdCBpbnN0ZWFkIG9mIGJpbmRpbmdTdGFydEluZGV4IHdoZW4gaW1wbGVtZW50aW5nIGhvc3QgYmluZGluZ3NcbiAgICB2YXIgYmluZGluZ0luZGV4ID0gZ2V0QmluZGluZ1Jvb3QoKSArIHNsb3RPZmZzZXQ7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB2YXIgZGlmZmVyZW50ID0gYmluZGluZ1VwZGF0ZWQ0KGxWaWV3LCBiaW5kaW5nSW5kZXgsIGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQpO1xuICAgIHJldHVybiBiaW5kaW5nVXBkYXRlZDQobFZpZXcsIGJpbmRpbmdJbmRleCArIDQsIGV4cDUsIGV4cDYsIGV4cDcsIGV4cDgpIHx8IGRpZmZlcmVudCA/XG4gICAgICAgIHVwZGF0ZUJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDgsIHRoaXNBcmcgP1xuICAgICAgICAgICAgcHVyZUZuLmNhbGwodGhpc0FyZywgZXhwMSwgZXhwMiwgZXhwMywgZXhwNCwgZXhwNSwgZXhwNiwgZXhwNywgZXhwOCkgOlxuICAgICAgICAgICAgcHVyZUZuKGV4cDEsIGV4cDIsIGV4cDMsIGV4cDQsIGV4cDUsIGV4cDYsIGV4cDcsIGV4cDgpKSA6XG4gICAgICAgIGdldEJpbmRpbmcobFZpZXcsIGJpbmRpbmdJbmRleCArIDgpO1xufVxuLyoqXG4gKiBwdXJlRnVuY3Rpb24gaW5zdHJ1Y3Rpb24gdGhhdCBjYW4gc3VwcG9ydCBhbnkgbnVtYmVyIG9mIGJpbmRpbmdzLlxuICpcbiAqIElmIHRoZSB2YWx1ZSBvZiBhbnkgcHJvdmlkZWQgZXhwIGhhcyBjaGFuZ2VkLCBjYWxscyB0aGUgcHVyZSBmdW5jdGlvbiB0byByZXR1cm5cbiAqIGFuIHVwZGF0ZWQgdmFsdWUuIE9yIGlmIG5vIHZhbHVlcyBoYXZlIGNoYW5nZWQsIHJldHVybnMgY2FjaGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgZnJvbSBiaW5kaW5nIHJvb3QgdG8gdGhlIHJlc2VydmVkIHNsb3RcbiAqIEBwYXJhbSBwdXJlRm4gQSBwdXJlIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYmluZGluZyB2YWx1ZXMgYW5kIGJ1aWxkcyBhbiBvYmplY3Qgb3IgYXJyYXlcbiAqIGNvbnRhaW5pbmcgdGhvc2UgdmFsdWVzLlxuICogQHBhcmFtIGV4cHMgQW4gYXJyYXkgb2YgYmluZGluZyB2YWx1ZXNcbiAqIEBwYXJhbSB0aGlzQXJnIE9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBvZiBwdXJlRm5cbiAqIEByZXR1cm5zIFVwZGF0ZWQgb3IgY2FjaGVkIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHB1cmVGdW5jdGlvblYoc2xvdE9mZnNldCwgcHVyZUZuLCBleHBzLCB0aGlzQXJnKSB7XG4gICAgLy8gVE9ETyhrYXJhKTogdXNlIGJpbmRpbmdSb290IGluc3RlYWQgb2YgYmluZGluZ1N0YXJ0SW5kZXggd2hlbiBpbXBsZW1lbnRpbmcgaG9zdCBiaW5kaW5nc1xuICAgIHZhciBiaW5kaW5nSW5kZXggPSBnZXRCaW5kaW5nUm9vdCgpICsgc2xvdE9mZnNldDtcbiAgICB2YXIgZGlmZmVyZW50ID0gZmFsc2U7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmluZGluZ1VwZGF0ZWQobFZpZXcsIGJpbmRpbmdJbmRleCsrLCBleHBzW2ldKSAmJiAoZGlmZmVyZW50ID0gdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBkaWZmZXJlbnQgPyB1cGRhdGVCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgsIHB1cmVGbi5hcHBseSh0aGlzQXJnLCBleHBzKSkgOlxuICAgICAgICBnZXRCaW5kaW5nKGxWaWV3LCBiaW5kaW5nSW5kZXgpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENyZWF0ZSBhIHBpcGUuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2lsbCBiZSBzdG9yZWQuXG4gKiBAcGFyYW0gcGlwZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHBpcGVcbiAqIEByZXR1cm5zIFQgdGhlIGluc3RhbmNlIG9mIHRoZSBwaXBlLlxuICovXG5mdW5jdGlvbiBwaXBlKGluZGV4LCBwaXBlTmFtZSkge1xuICAgIHZhciB0VmlldyA9IGdldExWaWV3KClbVFZJRVddO1xuICAgIHZhciBwaXBlRGVmO1xuICAgIHZhciBhZGp1c3RlZEluZGV4ID0gaW5kZXggKyBIRUFERVJfT0ZGU0VUO1xuICAgIGlmICh0Vmlldy5maXJzdFRlbXBsYXRlUGFzcykge1xuICAgICAgICBwaXBlRGVmID0gZ2V0UGlwZURlZiQxKHBpcGVOYW1lLCB0Vmlldy5waXBlUmVnaXN0cnkpO1xuICAgICAgICB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdID0gcGlwZURlZjtcbiAgICAgICAgaWYgKHBpcGVEZWYub25EZXN0cm95KSB7XG4gICAgICAgICAgICAodFZpZXcucGlwZURlc3Ryb3lIb29rcyB8fCAodFZpZXcucGlwZURlc3Ryb3lIb29rcyA9IFtdKSkucHVzaChhZGp1c3RlZEluZGV4LCBwaXBlRGVmLm9uRGVzdHJveSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBpcGVEZWYgPSB0Vmlldy5kYXRhW2FkanVzdGVkSW5kZXhdO1xuICAgIH1cbiAgICB2YXIgcGlwZUluc3RhbmNlID0gcGlwZURlZi5mYWN0b3J5KG51bGwpO1xuICAgIHN0b3JlKGluZGV4LCBwaXBlSW5zdGFuY2UpO1xuICAgIHJldHVybiBwaXBlSW5zdGFuY2U7XG59XG4vKipcbiAqIFNlYXJjaGVzIHRoZSBwaXBlIHJlZ2lzdHJ5IGZvciBhIHBpcGUgd2l0aCB0aGUgZ2l2ZW4gbmFtZS4gSWYgb25lIGlzIGZvdW5kLFxuICogcmV0dXJucyB0aGUgcGlwZS4gT3RoZXJ3aXNlLCBhbiBlcnJvciBpcyB0aHJvd24gYmVjYXVzZSB0aGUgcGlwZSBjYW5ub3QgYmUgcmVzb2x2ZWQuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBwaXBlIHRvIHJlc29sdmVcbiAqIEBwYXJhbSByZWdpc3RyeSBGdWxsIGxpc3Qgb2YgYXZhaWxhYmxlIHBpcGVzXG4gKiBAcmV0dXJucyBNYXRjaGluZyBQaXBlRGVmXG4gKi9cbmZ1bmN0aW9uIGdldFBpcGVEZWYkMShuYW1lLCByZWdpc3RyeSkge1xuICAgIGlmIChyZWdpc3RyeSkge1xuICAgICAgICBmb3IgKHZhciBpID0gcmVnaXN0cnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBwaXBlRGVmID0gcmVnaXN0cnlbaV07XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gcGlwZURlZi5uYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpcGVEZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHBpcGUgJ1wiICsgbmFtZSArIFwiJyBjb3VsZCBub3QgYmUgZm91bmQhXCIpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDEgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKi9cbmZ1bmN0aW9uIHBpcGVCaW5kMShpbmRleCwgc2xvdE9mZnNldCwgdjEpIHtcbiAgICB2YXIgcGlwZUluc3RhbmNlID0gbG9hZChpbmRleCk7XG4gICAgcmV0dXJuIHVud3JhcFZhbHVlKGlzUHVyZShpbmRleCkgPyBwdXJlRnVuY3Rpb24xKHNsb3RPZmZzZXQsIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0sIHYxLCBwaXBlSW5zdGFuY2UpIDpcbiAgICAgICAgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSh2MSkpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDIgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjIgMm5kIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKi9cbmZ1bmN0aW9uIHBpcGVCaW5kMihpbmRleCwgc2xvdE9mZnNldCwgdjEsIHYyKSB7XG4gICAgdmFyIHBpcGVJbnN0YW5jZSA9IGxvYWQoaW5kZXgpO1xuICAgIHJldHVybiB1bndyYXBWYWx1ZShpc1B1cmUoaW5kZXgpID8gcHVyZUZ1bmN0aW9uMihzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2MSwgdjIsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtKHYxLCB2MikpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDMgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjIgMm5kIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjMgNHJkIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKi9cbmZ1bmN0aW9uIHBpcGVCaW5kMyhpbmRleCwgc2xvdE9mZnNldCwgdjEsIHYyLCB2Mykge1xuICAgIHZhciBwaXBlSW5zdGFuY2UgPSBsb2FkKGluZGV4KTtcbiAgICByZXR1cm4gdW53cmFwVmFsdWUoaXNQdXJlKGluZGV4KSA/IHB1cmVGdW5jdGlvbjMoc2xvdE9mZnNldCwgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSwgdjEsIHYyLCB2MywgcGlwZUluc3RhbmNlKSA6XG4gICAgICAgIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0odjEsIHYyLCB2MykpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIDQgYXJndW1lbnRzLlxuICpcbiAqIFRoaXMgaW5zdHJ1Y3Rpb24gYWN0cyBhcyBhIGd1YXJkIHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0gaW52b2tpbmdcbiAqIHRoZSBwaXBlIG9ubHkgd2hlbiBhbiBpbnB1dCB0byB0aGUgcGlwZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSBpbmRleCBQaXBlIGluZGV4IHdoZXJlIHRoZSBwaXBlIHdhcyBzdG9yZWQgb24gY3JlYXRpb24uXG4gKiBAcGFyYW0gc2xvdE9mZnNldCB0aGUgb2Zmc2V0IGluIHRoZSByZXNlcnZlZCBzbG90IHNwYWNlXG4gKiBAcGFyYW0gdjEgMXN0IGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjIgMm5kIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjMgM3JkIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKiBAcGFyYW0gdjQgNHRoIGFyZ3VtZW50IHRvIHtAbGluayBQaXBlVHJhbnNmb3JtI3RyYW5zZm9ybX0uXG4gKi9cbmZ1bmN0aW9uIHBpcGVCaW5kNChpbmRleCwgc2xvdE9mZnNldCwgdjEsIHYyLCB2MywgdjQpIHtcbiAgICB2YXIgcGlwZUluc3RhbmNlID0gbG9hZChpbmRleCk7XG4gICAgcmV0dXJuIHVud3JhcFZhbHVlKGlzUHVyZShpbmRleCkgP1xuICAgICAgICBwdXJlRnVuY3Rpb240KHNsb3RPZmZzZXQsIHBpcGVJbnN0YW5jZS50cmFuc2Zvcm0sIHYxLCB2MiwgdjMsIHY0LCBwaXBlSW5zdGFuY2UpIDpcbiAgICAgICAgcGlwZUluc3RhbmNlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCkpO1xufVxuLyoqXG4gKiBJbnZva2VzIGEgcGlwZSB3aXRoIHZhcmlhYmxlIG51bWJlciBvZiBhcmd1bWVudHMuXG4gKlxuICogVGhpcyBpbnN0cnVjdGlvbiBhY3RzIGFzIGEgZ3VhcmQgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBpbnZva2luZ1xuICogdGhlIHBpcGUgb25seSB3aGVuIGFuIGlucHV0IHRvIHRoZSBwaXBlIGNoYW5nZXMuXG4gKlxuICogQHBhcmFtIGluZGV4IFBpcGUgaW5kZXggd2hlcmUgdGhlIHBpcGUgd2FzIHN0b3JlZCBvbiBjcmVhdGlvbi5cbiAqIEBwYXJhbSBzbG90T2Zmc2V0IHRoZSBvZmZzZXQgaW4gdGhlIHJlc2VydmVkIHNsb3Qgc3BhY2VcbiAqIEBwYXJhbSB2YWx1ZXMgQXJyYXkgb2YgYXJndW1lbnRzIHRvIHBhc3MgdG8ge0BsaW5rIFBpcGVUcmFuc2Zvcm0jdHJhbnNmb3JtfSBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uIHBpcGVCaW5kVihpbmRleCwgc2xvdE9mZnNldCwgdmFsdWVzKSB7XG4gICAgdmFyIHBpcGVJbnN0YW5jZSA9IGxvYWQoaW5kZXgpO1xuICAgIHJldHVybiB1bndyYXBWYWx1ZShpc1B1cmUoaW5kZXgpID8gcHVyZUZ1bmN0aW9uVihzbG90T2Zmc2V0LCBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLCB2YWx1ZXMsIHBpcGVJbnN0YW5jZSkgOlxuICAgICAgICBwaXBlSW5zdGFuY2UudHJhbnNmb3JtLmFwcGx5KHBpcGVJbnN0YW5jZSwgdmFsdWVzKSk7XG59XG5mdW5jdGlvbiBpc1B1cmUoaW5kZXgpIHtcbiAgICByZXR1cm4gZ2V0TFZpZXcoKVtUVklFV10uZGF0YVtpbmRleCArIEhFQURFUl9PRkZTRVRdLnB1cmU7XG59XG4vKipcbiAqIFVud3JhcCB0aGUgb3V0cHV0IG9mIGEgcGlwZSB0cmFuc2Zvcm1hdGlvbi5cbiAqIEluIG9yZGVyIHRvIHRyaWNrIGNoYW5nZSBkZXRlY3Rpb24gaW50byBjb25zaWRlcmluZyB0aGF0IHRoZSBuZXcgdmFsdWUgaXMgYWx3YXlzIGRpZmZlcmVudCBmcm9tXG4gKiB0aGUgb2xkIG9uZSwgdGhlIG9sZCB2YWx1ZSBpcyBvdmVyd3JpdHRlbiBieSBOT19DSEFOR0UuXG4gKlxuICogQHBhcmFtIG5ld1ZhbHVlIHRoZSBwaXBlIHRyYW5zZm9ybWF0aW9uIG91dHB1dC5cbiAqL1xuZnVuY3Rpb24gdW53cmFwVmFsdWUobmV3VmFsdWUpIHtcbiAgICBpZiAoV3JhcHBlZFZhbHVlLmlzV3JhcHBlZChuZXdWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBXcmFwcGVkVmFsdWUudW53cmFwKG5ld1ZhbHVlKTtcbiAgICAgICAgZ2V0TFZpZXcoKVtnZXRCaW5kaW5nUm9vdCgpXSA9IE5PX0NIQU5HRTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1ZhbHVlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFVzZSBpbiBkaXJlY3RpdmVzIGFuZCBjb21wb25lbnRzIHRvIGVtaXQgY3VzdG9tIGV2ZW50cyBzeW5jaHJvbm91c2x5XG4gKiBvciBhc3luY2hyb25vdXNseSwgYW5kIHJlZ2lzdGVyIGhhbmRsZXJzIGZvciB0aG9zZSBldmVudHMgYnkgc3Vic2NyaWJpbmdcbiAqIHRvIGFuIGluc3RhbmNlLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlLCBhIGNvbXBvbmVudCBkZWZpbmVzIHR3byBvdXRwdXQgcHJvcGVydGllc1xuICogdGhhdCBjcmVhdGUgZXZlbnQgZW1pdHRlcnMuIFdoZW4gdGhlIHRpdGxlIGlzIGNsaWNrZWQsIHRoZSBlbWl0dGVyXG4gKiBlbWl0cyBhbiBvcGVuIG9yIGNsb3NlIGV2ZW50IHRvIHRvZ2dsZSB0aGUgY3VycmVudCB2aXNpYmlsaXR5IHN0YXRlLlxuICpcbiAqIGBgYFxuICogQENvbXBvbmVudCh7XG4gKiAgIHNlbGVjdG9yOiAnemlwcHknLFxuICogICB0ZW1wbGF0ZTogYFxuICogICA8ZGl2IGNsYXNzPVwiemlwcHlcIj5cbiAqICAgICA8ZGl2IChjbGljayk9XCJ0b2dnbGUoKVwiPlRvZ2dsZTwvZGl2PlxuICogICAgIDxkaXYgW2hpZGRlbl09XCIhdmlzaWJsZVwiPlxuICogICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICogICAgIDwvZGl2PlxuICogIDwvZGl2PmB9KVxuICogZXhwb3J0IGNsYXNzIFppcHB5IHtcbiAqICAgdmlzaWJsZTogYm9vbGVhbiA9IHRydWU7XG4gKiAgIEBPdXRwdXQoKSBvcGVuOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAqICAgQE91dHB1dCgpIGNsb3NlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAqXG4gKiAgIHRvZ2dsZSgpIHtcbiAqICAgICB0aGlzLnZpc2libGUgPSAhdGhpcy52aXNpYmxlO1xuICogICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAqICAgICAgIHRoaXMub3Blbi5lbWl0KG51bGwpO1xuICogICAgIH0gZWxzZSB7XG4gKiAgICAgICB0aGlzLmNsb3NlLmVtaXQobnVsbCk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBY2Nlc3MgdGhlIGV2ZW50IG9iamVjdCB3aXRoIHRoZSBgJGV2ZW50YCBhcmd1bWVudCBwYXNzZWQgdG8gdGhlIG91dHB1dCBldmVudFxuICogaGFuZGxlcjpcbiAqXG4gKiBgYGBcbiAqIDx6aXBweSAob3Blbik9XCJvbk9wZW4oJGV2ZW50KVwiIChjbG9zZSk9XCJvbkNsb3NlKCRldmVudClcIj48L3ppcHB5PlxuICogYGBgXG4gKlxuICogIyMjIE5vdGVzXG4gKlxuICogVXNlcyBSeC5PYnNlcnZhYmxlIGJ1dCBwcm92aWRlcyBhbiBhZGFwdGVyIHRvIG1ha2UgaXQgd29yayBhcyBzcGVjaWZpZWQgaGVyZTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qaHVzYWluL29ic2VydmFibGUtc3BlY1xuICpcbiAqIE9uY2UgYSByZWZlcmVuY2UgaW1wbGVtZW50YXRpb24gb2YgdGhlIHNwZWMgaXMgYXZhaWxhYmxlLCBzd2l0Y2ggdG8gaXQuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgRXZlbnRFbWl0dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFdmVudEVtaXR0ZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIHRoYXQgY2FuXG4gICAgICogZGVsaXZlciBldmVudHMgc3luY2hyb25vdXNseSBvciBhc3luY2hyb25vdXNseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpc0FzeW5jIFdoZW4gdHJ1ZSwgZGVsaXZlciBldmVudHMgYXN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFdmVudEVtaXR0ZXIoaXNBc3luYykge1xuICAgICAgICBpZiAoaXNBc3luYyA9PT0gdm9pZCAwKSB7IGlzQXN5bmMgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fX2lzQXN5bmMgPSBpc0FzeW5jO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGFuIGV2ZW50IGNvbnRhaW5pbmcgYSBnaXZlbiB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGVtaXQuXG4gICAgICovXG4gICAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKHZhbHVlKSB7IF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHZhbHVlKTsgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgaGFuZGxlcnMgZm9yIGV2ZW50cyBlbWl0dGVkIGJ5IHRoaXMgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIGdlbmVyYXRvck9yTmV4dCBXaGVuIHN1cHBsaWVkLCBhIGN1c3RvbSBoYW5kbGVyIGZvciBlbWl0dGVkIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0gZXJyb3IgV2hlbiBzdXBwbGllZCwgYSBjdXN0b20gaGFuZGxlciBmb3IgYW4gZXJyb3Igbm90aWZpY2F0aW9uXG4gICAgICogZnJvbSB0aGlzIGVtaXR0ZXIuXG4gICAgICogQHBhcmFtIGNvbXBsZXRlIFdoZW4gc3VwcGxpZWQsIGEgY3VzdG9tIGhhbmRsZXIgZm9yIGEgY29tcGxldGlvblxuICAgICAqIG5vdGlmaWNhdGlvbiBmcm9tIHRoaXMgZW1pdHRlci5cbiAgICAgKi9cbiAgICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChnZW5lcmF0b3JPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc2NoZWR1bGVyRm47XG4gICAgICAgIHZhciBlcnJvckZuID0gZnVuY3Rpb24gKGVycikgeyByZXR1cm4gbnVsbDsgfTtcbiAgICAgICAgdmFyIGNvbXBsZXRlRm4gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsOyB9O1xuICAgICAgICBpZiAoZ2VuZXJhdG9yT3JOZXh0ICYmIHR5cGVvZiBnZW5lcmF0b3JPck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXJGbiA9IHRoaXMuX19pc0FzeW5jID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBnZW5lcmF0b3JPck5leHQubmV4dCh2YWx1ZSk7IH0pO1xuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uICh2YWx1ZSkgeyBnZW5lcmF0b3JPck5leHQubmV4dCh2YWx1ZSk7IH07XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdG9yT3JOZXh0LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JGbiA9IHRoaXMuX19pc0FzeW5jID8gZnVuY3Rpb24gKGVycikgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRvck9yTmV4dC5lcnJvcihlcnIpOyB9KTsgfSA6XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsgZ2VuZXJhdG9yT3JOZXh0LmVycm9yKGVycik7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdG9yT3JOZXh0LmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVGbiA9IHRoaXMuX19pc0FzeW5jID8gZnVuY3Rpb24gKCkgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdlbmVyYXRvck9yTmV4dC5jb21wbGV0ZSgpOyB9KTsgfSA6XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgZ2VuZXJhdG9yT3JOZXh0LmNvbXBsZXRlKCk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzY2hlZHVsZXJGbiA9IHRoaXMuX19pc0FzeW5jID8gZnVuY3Rpb24gKHZhbHVlKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2VuZXJhdG9yT3JOZXh0KHZhbHVlKTsgfSk7IH0gOlxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkgeyBnZW5lcmF0b3JPck5leHQodmFsdWUpOyB9O1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JGbiA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19pc0FzeW5jID8gZnVuY3Rpb24gKGVycikgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVycm9yKGVycik7IH0pOyB9IDogZnVuY3Rpb24gKGVycikgeyBlcnJvcihlcnIpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVGbiA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19pc0FzeW5jID8gZnVuY3Rpb24gKCkgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbXBsZXRlKCk7IH0pOyB9IDogZnVuY3Rpb24gKCkgeyBjb21wbGV0ZSgpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaW5rID0gX3N1cGVyLnByb3RvdHlwZS5zdWJzY3JpYmUuY2FsbCh0aGlzLCBzY2hlZHVsZXJGbiwgZXJyb3JGbiwgY29tcGxldGVGbik7XG4gICAgICAgIGlmIChnZW5lcmF0b3JPck5leHQgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGdlbmVyYXRvck9yTmV4dC5hZGQoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xufShTdWJqZWN0KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBlbWJlZGRlZCB0ZW1wbGF0ZSB0aGF0IGNhbiBiZSB1c2VkIHRvIGluc3RhbnRpYXRlIGVtYmVkZGVkIHZpZXdzLlxuICogVG8gaW5zdGFudGlhdGUgZW1iZWRkZWQgdmlld3MgYmFzZWQgb24gYSB0ZW1wbGF0ZSwgdXNlIHRoZSBgVmlld0NvbnRhaW5lclJlZmBcbiAqIG1ldGhvZCBgY3JlYXRlRW1iZWRkZWRWaWV3KClgLlxuICpcbiAqIEFjY2VzcyBhIGBUZW1wbGF0ZVJlZmAgaW5zdGFuY2UgYnkgcGxhY2luZyBhIGRpcmVjdGl2ZSBvbiBhbiBgPG5nLXRlbXBsYXRlPmBcbiAqIGVsZW1lbnQgKG9yIGRpcmVjdGl2ZSBwcmVmaXhlZCB3aXRoIGAqYCkuIFRoZSBgVGVtcGxhdGVSZWZgIGZvciB0aGUgZW1iZWRkZWQgdmlld1xuICogaXMgaW5qZWN0ZWQgaW50byB0aGUgY29uc3RydWN0b3Igb2YgdGhlIGRpcmVjdGl2ZSxcbiAqIHVzaW5nIHRoZSBgVGVtcGxhdGVSZWZgIHRva2VuLlxuICpcbiAqIFlvdSBjYW4gYWxzbyB1c2UgYSBgUXVlcnlgIHRvIGZpbmQgYSBgVGVtcGxhdGVSZWZgIGFzc29jaWF0ZWQgd2l0aFxuICogYSBjb21wb25lbnQgb3IgYSBkaXJlY3RpdmUuXG4gKlxuICogQHNlZSBgVmlld0NvbnRhaW5lclJlZmBcbiAqIEBzZWUgW05hdmlnYXRlIHRoZSBDb21wb25lbnQgVHJlZSB3aXRoIERJXShndWlkZS9kZXBlbmRlbmN5LWluamVjdGlvbi1uYXZ0cmVlKVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFRlbXBsYXRlUmVmID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRlbXBsYXRlUmVmKCkge1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgVGVtcGxhdGVSZWYuX19OR19FTEVNRU5UX0lEX18gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBTV0lUQ0hfVEVNUExBVEVfUkVGX0ZBQ1RPUlkoVGVtcGxhdGVSZWYsIEVsZW1lbnRSZWYpOyB9O1xuICAgIHJldHVybiBUZW1wbGF0ZVJlZjtcbn0oKSk7XG52YXIgU1dJVENIX1RFTVBMQVRFX1JFRl9GQUNUT1JZX19QT1NUX1IzX18gPSBpbmplY3RUZW1wbGF0ZVJlZjtcbnZhciBTV0lUQ0hfVEVNUExBVEVfUkVGX0ZBQ1RPUllfX1BSRV9SM19fID0gbm9vcDtcbnZhciBTV0lUQ0hfVEVNUExBVEVfUkVGX0ZBQ1RPUlkgPSBTV0lUQ0hfVEVNUExBVEVfUkVGX0ZBQ1RPUllfX1BSRV9SM19fO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIExRdWVyaWVzXyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMUXVlcmllc18ocGFyZW50LCBzaGFsbG93LCBkZWVwKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLnNoYWxsb3cgPSBzaGFsbG93O1xuICAgICAgICB0aGlzLmRlZXAgPSBkZWVwO1xuICAgIH1cbiAgICBMUXVlcmllc18ucHJvdG90eXBlLnRyYWNrID0gZnVuY3Rpb24gKHF1ZXJ5TGlzdCwgcHJlZGljYXRlLCBkZXNjZW5kLCByZWFkKSB7XG4gICAgICAgIGlmIChkZXNjZW5kKSB7XG4gICAgICAgICAgICB0aGlzLmRlZXAgPSBjcmVhdGVRdWVyeSh0aGlzLmRlZXAsIHF1ZXJ5TGlzdCwgcHJlZGljYXRlLCByZWFkICE9IG51bGwgPyByZWFkIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNoYWxsb3cgPSBjcmVhdGVRdWVyeSh0aGlzLnNoYWxsb3csIHF1ZXJ5TGlzdCwgcHJlZGljYXRlLCByZWFkICE9IG51bGwgPyByZWFkIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExRdWVyaWVzXy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTFF1ZXJpZXNfKHRoaXMsIG51bGwsIHRoaXMuZGVlcCk7IH07XG4gICAgTFF1ZXJpZXNfLnByb3RvdHlwZS5jb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaGFsbG93UmVzdWx0cyA9IGNvcHlRdWVyaWVzVG9Db250YWluZXIodGhpcy5zaGFsbG93KTtcbiAgICAgICAgdmFyIGRlZXBSZXN1bHRzID0gY29weVF1ZXJpZXNUb0NvbnRhaW5lcih0aGlzLmRlZXApO1xuICAgICAgICByZXR1cm4gc2hhbGxvd1Jlc3VsdHMgfHwgZGVlcFJlc3VsdHMgPyBuZXcgTFF1ZXJpZXNfKHRoaXMsIHNoYWxsb3dSZXN1bHRzLCBkZWVwUmVzdWx0cykgOiBudWxsO1xuICAgIH07XG4gICAgTFF1ZXJpZXNfLnByb3RvdHlwZS5jcmVhdGVWaWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2hhbGxvd1Jlc3VsdHMgPSBjb3B5UXVlcmllc1RvVmlldyh0aGlzLnNoYWxsb3cpO1xuICAgICAgICB2YXIgZGVlcFJlc3VsdHMgPSBjb3B5UXVlcmllc1RvVmlldyh0aGlzLmRlZXApO1xuICAgICAgICByZXR1cm4gc2hhbGxvd1Jlc3VsdHMgfHwgZGVlcFJlc3VsdHMgPyBuZXcgTFF1ZXJpZXNfKHRoaXMsIHNoYWxsb3dSZXN1bHRzLCBkZWVwUmVzdWx0cykgOiBudWxsO1xuICAgIH07XG4gICAgTFF1ZXJpZXNfLnByb3RvdHlwZS5pbnNlcnRWaWV3ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGluc2VydFZpZXckMShpbmRleCwgdGhpcy5zaGFsbG93KTtcbiAgICAgICAgaW5zZXJ0VmlldyQxKGluZGV4LCB0aGlzLmRlZXApO1xuICAgIH07XG4gICAgTFF1ZXJpZXNfLnByb3RvdHlwZS5hZGROb2RlID0gZnVuY3Rpb24gKHROb2RlKSB7XG4gICAgICAgIGFkZCh0aGlzLmRlZXAsIHROb2RlKTtcbiAgICAgICAgaWYgKGlzQ29udGVudFF1ZXJ5SG9zdCh0Tm9kZSkpIHtcbiAgICAgICAgICAgIGFkZCh0aGlzLnNoYWxsb3csIHROb2RlKTtcbiAgICAgICAgICAgIGlmICh0Tm9kZS5wYXJlbnQgJiYgaXNDb250ZW50UXVlcnlIb3N0KHROb2RlLnBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBub2RlIGhhcyBhIGNvbnRlbnQgcXVlcnkgYW5kIHBhcmVudCBhbHNvIGhhcyBhIGNvbnRlbnQgcXVlcnlcbiAgICAgICAgICAgICAgICAvLyBib3RoIHF1ZXJpZXMgbmVlZCB0byBjaGVjayB0aGlzIG5vZGUgZm9yIHNoYWxsb3cgbWF0Y2hlc1xuICAgICAgICAgICAgICAgIGFkZCh0aGlzLnBhcmVudC5zaGFsbG93LCB0Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaXNSb290Tm9kZU9mUXVlcnkodE5vZGUpICYmIGFkZCh0aGlzLnNoYWxsb3csIHROb2RlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBMUXVlcmllc18ucHJvdG90eXBlLnJlbW92ZVZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZVZpZXckMSh0aGlzLnNoYWxsb3cpO1xuICAgICAgICByZW1vdmVWaWV3JDEodGhpcy5kZWVwKTtcbiAgICB9O1xuICAgIHJldHVybiBMUXVlcmllc187XG59KCkpO1xuZnVuY3Rpb24gaXNSb290Tm9kZU9mUXVlcnkodE5vZGUpIHtcbiAgICByZXR1cm4gdE5vZGUucGFyZW50ID09PSBudWxsIHx8IGlzQ29udGVudFF1ZXJ5SG9zdCh0Tm9kZS5wYXJlbnQpO1xufVxuZnVuY3Rpb24gY29weVF1ZXJpZXNUb0NvbnRhaW5lcihxdWVyeSkge1xuICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgIHdoaWxlIChxdWVyeSkge1xuICAgICAgICB2YXIgY29udGFpbmVyVmFsdWVzID0gW107IC8vIHByZXBhcmUgcm9vbSBmb3Igdmlld3NcbiAgICAgICAgcXVlcnkudmFsdWVzLnB1c2goY29udGFpbmVyVmFsdWVzKTtcbiAgICAgICAgdmFyIGNsb25lZFF1ZXJ5ID0ge1xuICAgICAgICAgICAgbmV4dDogcmVzdWx0LFxuICAgICAgICAgICAgbGlzdDogcXVlcnkubGlzdCxcbiAgICAgICAgICAgIHByZWRpY2F0ZTogcXVlcnkucHJlZGljYXRlLFxuICAgICAgICAgICAgdmFsdWVzOiBjb250YWluZXJWYWx1ZXMsXG4gICAgICAgICAgICBjb250YWluZXJWYWx1ZXM6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgcmVzdWx0ID0gY2xvbmVkUXVlcnk7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNvcHlRdWVyaWVzVG9WaWV3KHF1ZXJ5KSB7XG4gICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgd2hpbGUgKHF1ZXJ5KSB7XG4gICAgICAgIHZhciBjbG9uZWRRdWVyeSA9IHtcbiAgICAgICAgICAgIG5leHQ6IHJlc3VsdCxcbiAgICAgICAgICAgIGxpc3Q6IHF1ZXJ5Lmxpc3QsXG4gICAgICAgICAgICBwcmVkaWNhdGU6IHF1ZXJ5LnByZWRpY2F0ZSxcbiAgICAgICAgICAgIHZhbHVlczogW10sXG4gICAgICAgICAgICBjb250YWluZXJWYWx1ZXM6IHF1ZXJ5LnZhbHVlc1xuICAgICAgICB9O1xuICAgICAgICByZXN1bHQgPSBjbG9uZWRRdWVyeTtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5uZXh0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaW5zZXJ0VmlldyQxKGluZGV4LCBxdWVyeSkge1xuICAgIHdoaWxlIChxdWVyeSkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydERlZmluZWQocXVlcnkuY29udGFpbmVyVmFsdWVzLCAnVmlldyBxdWVyaWVzIG5lZWQgdG8gaGF2ZSBhIHBvaW50ZXIgdG8gY29udGFpbmVyIHZhbHVlcy4nKTtcbiAgICAgICAgcXVlcnkuY29udGFpbmVyVmFsdWVzLnNwbGljZShpbmRleCwgMCwgcXVlcnkudmFsdWVzKTtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5uZXh0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZVZpZXckMShxdWVyeSkge1xuICAgIHdoaWxlIChxdWVyeSkge1xuICAgICAgICBuZ0Rldk1vZGUgJiZcbiAgICAgICAgICAgIGFzc2VydERlZmluZWQocXVlcnkuY29udGFpbmVyVmFsdWVzLCAnVmlldyBxdWVyaWVzIG5lZWQgdG8gaGF2ZSBhIHBvaW50ZXIgdG8gY29udGFpbmVyIHZhbHVlcy4nKTtcbiAgICAgICAgdmFyIGNvbnRhaW5lclZhbHVlcyA9IHF1ZXJ5LmNvbnRhaW5lclZhbHVlcztcbiAgICAgICAgdmFyIHZpZXdWYWx1ZXNJZHggPSBjb250YWluZXJWYWx1ZXMuaW5kZXhPZihxdWVyeS52YWx1ZXMpO1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IGNvbnRhaW5lclZhbHVlcy5zcGxpY2Uodmlld1ZhbHVlc0lkeCwgMSk7XG4gICAgICAgIC8vIG1hcmsgYSBxdWVyeSBhcyBkaXJ0eSBvbmx5IHdoZW4gcmVtb3ZlZCB2aWV3IGhhZCBtYXRjaGluZyBtb2Rlc1xuICAgICAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RXF1YWwocmVtb3ZlZC5sZW5ndGgsIDEsICdyZW1vdmVkLmxlbmd0aCcpO1xuICAgICAgICBpZiAocmVtb3ZlZFswXS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHF1ZXJ5Lmxpc3Quc2V0RGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm5leHQ7XG4gICAgfVxufVxuLyoqXG4gKiBJdGVyYXRlcyBvdmVyIGxvY2FsIG5hbWVzIGZvciBhIGdpdmVuIG5vZGUgYW5kIHJldHVybnMgZGlyZWN0aXZlIGluZGV4XG4gKiAob3IgLTEgaWYgYSBsb2NhbCBuYW1lIHBvaW50cyB0byBhbiBlbGVtZW50KS5cbiAqXG4gKiBAcGFyYW0gdE5vZGUgc3RhdGljIGRhdGEgb2YgYSBub2RlIHRvIGNoZWNrXG4gKiBAcGFyYW0gc2VsZWN0b3Igc2VsZWN0b3IgdG8gbWF0Y2hcbiAqIEByZXR1cm5zIGRpcmVjdGl2ZSBpbmRleCwgLTEgb3IgbnVsbCBpZiBhIHNlbGVjdG9yIGRpZG4ndCBtYXRjaCBhbnkgb2YgdGhlIGxvY2FsIG5hbWVzXG4gKi9cbmZ1bmN0aW9uIGdldElkeE9mTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3IpIHtcbiAgICB2YXIgbG9jYWxOYW1lcyA9IHROb2RlLmxvY2FsTmFtZXM7XG4gICAgaWYgKGxvY2FsTmFtZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb2NhbE5hbWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxOYW1lc1tpXSA9PT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxOYW1lc1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vLyBUT0RPOiBcInJlYWRcIiBzaG91bGQgYmUgYW4gQWJzdHJhY3RUeXBlIChGVy00ODYpXG5mdW5jdGlvbiBxdWVyeUJ5UmVhZFRva2VuKHJlYWQsIHROb2RlLCBjdXJyZW50Vmlldykge1xuICAgIHZhciBmYWN0b3J5Rm4gPSByZWFkW05HX0VMRU1FTlRfSURdO1xuICAgIGlmICh0eXBlb2YgZmFjdG9yeUZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3J5Rm4oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBtYXRjaGluZ0lkeCA9IGxvY2F0ZURpcmVjdGl2ZU9yUHJvdmlkZXIodE5vZGUsIGN1cnJlbnRWaWV3LCByZWFkLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBpZiAobWF0Y2hpbmdJZHggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXROb2RlSW5qZWN0YWJsZShjdXJyZW50Vmlld1tUVklFV10uZGF0YSwgY3VycmVudFZpZXcsIG1hdGNoaW5nSWR4LCB0Tm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBxdWVyeUJ5VE5vZGVUeXBlKHROb2RlLCBjdXJyZW50Vmlldykge1xuICAgIGlmICh0Tm9kZS50eXBlID09PSAzIC8qIEVsZW1lbnQgKi8gfHwgdE5vZGUudHlwZSA9PT0gNCAvKiBFbGVtZW50Q29udGFpbmVyICovKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50UmVmKEVsZW1lbnRSZWYsIHROb2RlLCBjdXJyZW50Vmlldyk7XG4gICAgfVxuICAgIGlmICh0Tm9kZS50eXBlID09PSAwIC8qIENvbnRhaW5lciAqLykge1xuICAgICAgICByZXR1cm4gY3JlYXRlVGVtcGxhdGVSZWYoVGVtcGxhdGVSZWYsIEVsZW1lbnRSZWYsIHROb2RlLCBjdXJyZW50Vmlldyk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcXVlcnlCeVRlbXBsYXRlUmVmKHRlbXBsYXRlUmVmVG9rZW4sIHROb2RlLCBjdXJyZW50VmlldywgcmVhZCkge1xuICAgIHZhciB0ZW1wbGF0ZVJlZlJlc3VsdCA9IHRlbXBsYXRlUmVmVG9rZW5bTkdfRUxFTUVOVF9JRF0oKTtcbiAgICBpZiAocmVhZCkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGVSZWZSZXN1bHQgPyBxdWVyeUJ5UmVhZFRva2VuKHJlYWQsIHROb2RlLCBjdXJyZW50VmlldykgOiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGVtcGxhdGVSZWZSZXN1bHQ7XG59XG5mdW5jdGlvbiBxdWVyeVJlYWQodE5vZGUsIGN1cnJlbnRWaWV3LCByZWFkLCBtYXRjaGluZ0lkeCkge1xuICAgIGlmIChyZWFkKSB7XG4gICAgICAgIHJldHVybiBxdWVyeUJ5UmVhZFRva2VuKHJlYWQsIHROb2RlLCBjdXJyZW50Vmlldyk7XG4gICAgfVxuICAgIGlmIChtYXRjaGluZ0lkeCA+IC0xKSB7XG4gICAgICAgIHJldHVybiBnZXROb2RlSW5qZWN0YWJsZShjdXJyZW50Vmlld1tUVklFV10uZGF0YSwgY3VycmVudFZpZXcsIG1hdGNoaW5nSWR4LCB0Tm9kZSk7XG4gICAgfVxuICAgIC8vIGlmIHJlYWQgdG9rZW4gYW5kIC8gb3Igc3RyYXRlZ3kgaXMgbm90IHNwZWNpZmllZCxcbiAgICAvLyBkZXRlY3QgaXQgdXNpbmcgYXBwcm9wcmlhdGUgdE5vZGUgdHlwZVxuICAgIHJldHVybiBxdWVyeUJ5VE5vZGVUeXBlKHROb2RlLCBjdXJyZW50Vmlldyk7XG59XG5mdW5jdGlvbiBhZGQocXVlcnksIHROb2RlKSB7XG4gICAgdmFyIGN1cnJlbnRWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICB3aGlsZSAocXVlcnkpIHtcbiAgICAgICAgdmFyIHByZWRpY2F0ZSA9IHF1ZXJ5LnByZWRpY2F0ZTtcbiAgICAgICAgdmFyIHR5cGUgPSBwcmVkaWNhdGUudHlwZTtcbiAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFRlbXBsYXRlUmVmKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcXVlcnlCeVRlbXBsYXRlUmVmKHR5cGUsIHROb2RlLCBjdXJyZW50VmlldywgcHJlZGljYXRlLnJlYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nSWR4ID0gbG9jYXRlRGlyZWN0aXZlT3JQcm92aWRlcih0Tm9kZSwgY3VycmVudFZpZXcsIHR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nSWR4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHF1ZXJ5UmVhZCh0Tm9kZSwgY3VycmVudFZpZXcsIHByZWRpY2F0ZS5yZWFkLCBtYXRjaGluZ0lkeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGFkZE1hdGNoKHF1ZXJ5LCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gcHJlZGljYXRlLnNlbGVjdG9yO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3Rvci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ0lkeCA9IGdldElkeE9mTWF0Y2hpbmdTZWxlY3Rvcih0Tm9kZSwgc2VsZWN0b3JbaV0pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZ0lkeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcXVlcnlSZWFkKHROb2RlLCBjdXJyZW50VmlldywgcHJlZGljYXRlLnJlYWQsIG1hdGNoaW5nSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkTWF0Y2gocXVlcnksIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVlcnkgPSBxdWVyeS5uZXh0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZE1hdGNoKHF1ZXJ5LCBtYXRjaGluZ1ZhbHVlKSB7XG4gICAgcXVlcnkudmFsdWVzLnB1c2gobWF0Y2hpbmdWYWx1ZSk7XG4gICAgcXVlcnkubGlzdC5zZXREaXJ0eSgpO1xufVxuZnVuY3Rpb24gY3JlYXRlUHJlZGljYXRlKHByZWRpY2F0ZSwgcmVhZCkge1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShwcmVkaWNhdGUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGlzQXJyYXkgPyBudWxsIDogcHJlZGljYXRlLFxuICAgICAgICBzZWxlY3RvcjogaXNBcnJheSA/IHByZWRpY2F0ZSA6IG51bGwsXG4gICAgICAgIHJlYWQ6IHJlYWRcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUXVlcnkocHJldmlvdXMsIHF1ZXJ5TGlzdCwgcHJlZGljYXRlLCByZWFkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogcHJldmlvdXMsXG4gICAgICAgIGxpc3Q6IHF1ZXJ5TGlzdCxcbiAgICAgICAgcHJlZGljYXRlOiBjcmVhdGVQcmVkaWNhdGUocHJlZGljYXRlLCByZWFkKSxcbiAgICAgICAgdmFsdWVzOiBxdWVyeUxpc3QuX3ZhbHVlc1RyZWUsXG4gICAgICAgIGNvbnRhaW5lclZhbHVlczogbnVsbFxuICAgIH07XG59XG52YXIgUXVlcnlMaXN0XyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRdWVyeUxpc3RfKCkge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl92YWx1ZXNUcmVlID0gW107XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRdWVyeUxpc3RfLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ZhbHVlcy5sZW5ndGg7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRdWVyeUxpc3RfLnByb3RvdHlwZSwgXCJmaXJzdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzWzBdIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFF1ZXJ5TGlzdF8ucHJvdG90eXBlLCBcImxhc3RcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLl92YWx1ZXM7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1t2YWx1ZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkubWFwXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9tYXApXG4gICAgICovXG4gICAgUXVlcnlMaXN0Xy5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuKSB7IHJldHVybiB0aGlzLl92YWx1ZXMubWFwKGZuKTsgfTtcbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkuZmlsdGVyXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9maWx0ZXIpXG4gICAgICovXG4gICAgUXVlcnlMaXN0Xy5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXMuZmlsdGVyKGZuKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5maW5kXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9maW5kKVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdF8ucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5maW5kKGZuKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5yZWR1Y2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3JlZHVjZSlcbiAgICAgKi9cbiAgICBRdWVyeUxpc3RfLnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiAoZm4sIGluaXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlcy5yZWR1Y2UoZm4sIGluaXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LmZvckVhY2hdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZvckVhY2gpXG4gICAgICovXG4gICAgUXVlcnlMaXN0Xy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChmbikgeyB0aGlzLl92YWx1ZXMuZm9yRWFjaChmbik7IH07XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LnNvbWVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvbWUpXG4gICAgICovXG4gICAgUXVlcnlMaXN0Xy5wcm90b3R5cGUuc29tZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVzLnNvbWUoZm4pO1xuICAgIH07XG4gICAgUXVlcnlMaXN0Xy5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ZhbHVlcy5zbGljZSgwKTsgfTtcbiAgICBRdWVyeUxpc3RfLnByb3RvdHlwZVtnZXRTeW1ib2xJdGVyYXRvcigpXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ZhbHVlc1tnZXRTeW1ib2xJdGVyYXRvcigpXSgpOyB9O1xuICAgIFF1ZXJ5TGlzdF8ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdmFsdWVzLnRvU3RyaW5nKCk7IH07XG4gICAgUXVlcnlMaXN0Xy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlcyA9IGZsYXR0ZW4ocmVzKTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG4gICAgUXVlcnlMaXN0Xy5wcm90b3R5cGUubm90aWZ5T25DaGFuZ2VzID0gZnVuY3Rpb24gKCkgeyB0aGlzLmNoYW5nZXMuZW1pdCh0aGlzKTsgfTtcbiAgICBRdWVyeUxpc3RfLnByb3RvdHlwZS5zZXREaXJ0eSA9IGZ1bmN0aW9uICgpIHsgdGhpcy5kaXJ0eSA9IHRydWU7IH07XG4gICAgUXVlcnlMaXN0Xy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzLmNvbXBsZXRlKCk7XG4gICAgICAgIHRoaXMuY2hhbmdlcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFF1ZXJ5TGlzdF87XG59KCkpO1xudmFyIFF1ZXJ5TGlzdCA9IFF1ZXJ5TGlzdF87XG4vKipcbiAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBRdWVyeUxpc3QuXG4gKlxuICogQHBhcmFtIG1lbW9yeUluZGV4IFRoZSBpbmRleCBpbiBtZW1vcnkgd2hlcmUgdGhlIFF1ZXJ5TGlzdCBzaG91bGQgYmUgc2F2ZWQuIElmIG51bGwsXG4gKiB0aGlzIGlzIGlzIGEgY29udGVudCBxdWVyeSBhbmQgdGhlIFF1ZXJ5TGlzdCB3aWxsIGJlIHNhdmVkIGxhdGVyIHRocm91Z2ggZGlyZWN0aXZlQ3JlYXRlLlxuICogQHBhcmFtIHByZWRpY2F0ZSBUaGUgdHlwZSBmb3Igd2hpY2ggdGhlIHF1ZXJ5IHdpbGwgc2VhcmNoXG4gKiBAcGFyYW0gZGVzY2VuZCBXaGV0aGVyIG9yIG5vdCB0byBkZXNjZW5kIGludG8gY2hpbGRyZW5cbiAqIEBwYXJhbSByZWFkIFdoYXQgdG8gc2F2ZSBpbiB0aGUgcXVlcnlcbiAqIEByZXR1cm5zIFF1ZXJ5TGlzdDxUPlxuICovXG5mdW5jdGlvbiBxdWVyeShtZW1vcnlJbmRleCwgcHJlZGljYXRlLCBkZXNjZW5kLCBcbi8vIFRPRE86IFwicmVhZFwiIHNob3VsZCBiZSBhbiBBYnN0cmFjdFR5cGUgKEZXLTQ4NilcbnJlYWQpIHtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0UHJldmlvdXNJc1BhcmVudChnZXRJc1BhcmVudCgpKTtcbiAgICB2YXIgcXVlcnlMaXN0ID0gbmV3IFF1ZXJ5TGlzdCgpO1xuICAgIHZhciBxdWVyaWVzID0gZ2V0T3JDcmVhdGVDdXJyZW50UXVlcmllcyhMUXVlcmllc18pO1xuICAgIHF1ZXJpZXMudHJhY2socXVlcnlMaXN0LCBwcmVkaWNhdGUsIGRlc2NlbmQsIHJlYWQpO1xuICAgIHN0b3JlQ2xlYW51cFdpdGhDb250ZXh0KGdldExWaWV3KCksIHF1ZXJ5TGlzdCwgcXVlcnlMaXN0LmRlc3Ryb3kpO1xuICAgIGlmIChtZW1vcnlJbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHN0b3JlKG1lbW9yeUluZGV4LCBxdWVyeUxpc3QpO1xuICAgIH1cbiAgICByZXR1cm4gcXVlcnlMaXN0O1xufVxuLyoqXG4gKiBSZWZyZXNoZXMgYSBxdWVyeSBieSBjb21iaW5pbmcgbWF0Y2hlcyBmcm9tIGFsbCBhY3RpdmUgdmlld3MgYW5kIHJlbW92aW5nIG1hdGNoZXMgZnJvbSBkZWxldGVkXG4gKiB2aWV3cy5cbiAqIFJldHVybnMgdHJ1ZSBpZiBhIHF1ZXJ5IGdvdCBkaXJ0eSBkdXJpbmcgY2hhbmdlIGRldGVjdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBxdWVyeVJlZnJlc2gocXVlcnlMaXN0KSB7XG4gICAgdmFyIHF1ZXJ5TGlzdEltcGwgPSBxdWVyeUxpc3Q7XG4gICAgaWYgKHF1ZXJ5TGlzdC5kaXJ0eSkge1xuICAgICAgICBxdWVyeUxpc3QucmVzZXQocXVlcnlMaXN0SW1wbC5fdmFsdWVzVHJlZSk7XG4gICAgICAgIHF1ZXJ5TGlzdC5ub3RpZnlPbkNoYW5nZXMoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXRyaWV2ZXMgYFRlbXBsYXRlUmVmYCBpbnN0YW5jZSBmcm9tIGBJbmplY3RvcmAgd2hlbiBhIGxvY2FsIHJlZmVyZW5jZSBpcyBwbGFjZWQgb24gdGhlXG4gKiBgPG5nLXRlbXBsYXRlPmAgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gdGVtcGxhdGVSZWZFeHRyYWN0b3IodE5vZGUsIGN1cnJlbnRWaWV3KSB7XG4gICAgcmV0dXJuIGNyZWF0ZVRlbXBsYXRlUmVmKFRlbXBsYXRlUmVmLCBFbGVtZW50UmVmLCB0Tm9kZSwgY3VycmVudFZpZXcpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBCUkFORCA9ICdfX1NBTklUSVpFUl9UUlVTVEVEX0JSQU5EX18nO1xuZnVuY3Rpb24gYWxsb3dTYW5pdGl6YXRpb25CeXBhc3ModmFsdWUsIHR5cGUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nICYmIHZhbHVlW0JSQU5EXSA9PT0gdHlwZSk7XG59XG4vKipcbiAqIE1hcmsgYGh0bWxgIHN0cmluZyBhcyB0cnVzdGVkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gd3JhcHMgdGhlIHRydXN0ZWQgc3RyaW5nIGluIGBTdHJpbmdgIGFuZCBicmFuZHMgaXQgaW4gYSB3YXkgd2hpY2ggbWFrZXMgaXRcbiAqIHJlY29nbml6YWJsZSB0byB7QGxpbmsgaHRtbFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkSHRtbCBgaHRtbGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYGh0bWxgIGBTdHJpbmdgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdEh0bWwodHJ1c3RlZEh0bWwpIHtcbiAgICByZXR1cm4gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHJpbmcodHJ1c3RlZEh0bWwsIFwiSHRtbFwiIC8qIEh0bWwgKi8pO1xufVxuLyoqXG4gKiBNYXJrIGBzdHlsZWAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayBzdHlsZVNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkU3R5bGUgYHN0eWxlYCBzdHJpbmcgd2hpY2ggbmVlZHMgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICogQHJldHVybnMgYSBgc3R5bGVgIGBTdHJpbmdgIHdoaWNoIGhhcyBiZWVuIGJyYW5kZWQgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICovXG5mdW5jdGlvbiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0eWxlKHRydXN0ZWRTdHlsZSkge1xuICAgIHJldHVybiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0cmluZyh0cnVzdGVkU3R5bGUsIFwiU3R5bGVcIiAvKiBTdHlsZSAqLyk7XG59XG4vKipcbiAqIE1hcmsgYHNjcmlwdGAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayBzY3JpcHRTYW5pdGl6ZXJ9IHRvIGJlIHRydXN0ZWQgaW1wbGljaXRseS5cbiAqXG4gKiBAcGFyYW0gdHJ1c3RlZFNjcmlwdCBgc2NyaXB0YCBzdHJpbmcgd2hpY2ggbmVlZHMgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICogQHJldHVybnMgYSBgc2NyaXB0YCBgU3RyaW5nYCB3aGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTY3JpcHQodHJ1c3RlZFNjcmlwdCkge1xuICAgIHJldHVybiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0cmluZyh0cnVzdGVkU2NyaXB0LCBcIlNjcmlwdFwiIC8qIFNjcmlwdCAqLyk7XG59XG4vKipcbiAqIE1hcmsgYHVybGAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayB1cmxTYW5pdGl6ZXJ9IHRvIGJlIHRydXN0ZWQgaW1wbGljaXRseS5cbiAqXG4gKiBAcGFyYW0gdHJ1c3RlZFVybCBgdXJsYCBzdHJpbmcgd2hpY2ggbmVlZHMgdG8gYmUgaW1wbGljaXRseSB0cnVzdGVkLlxuICogQHJldHVybnMgYSBgdXJsYCBgU3RyaW5nYCB3aGljaCBoYXMgYmVlbiBicmFuZGVkIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqL1xuZnVuY3Rpb24gYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwodHJ1c3RlZFVybCkge1xuICAgIHJldHVybiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFN0cmluZyh0cnVzdGVkVXJsLCBcIlVybFwiIC8qIFVybCAqLyk7XG59XG4vKipcbiAqIE1hcmsgYHVybGAgc3RyaW5nIGFzIHRydXN0ZWQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiB3cmFwcyB0aGUgdHJ1c3RlZCBzdHJpbmcgaW4gYFN0cmluZ2AgYW5kIGJyYW5kcyBpdCBpbiBhIHdheSB3aGljaCBtYWtlcyBpdFxuICogcmVjb2duaXphYmxlIHRvIHtAbGluayByZXNvdXJjZVVybFNhbml0aXplcn0gdG8gYmUgdHJ1c3RlZCBpbXBsaWNpdGx5LlxuICpcbiAqIEBwYXJhbSB0cnVzdGVkUmVzb3VyY2VVcmwgYHVybGAgc3RyaW5nIHdoaWNoIG5lZWRzIHRvIGJlIGltcGxpY2l0bHkgdHJ1c3RlZC5cbiAqIEByZXR1cm5zIGEgYHVybGAgYFN0cmluZ2Agd2hpY2ggaGFzIGJlZW4gYnJhbmRlZCB0byBiZSBpbXBsaWNpdGx5IHRydXN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwodHJ1c3RlZFJlc291cmNlVXJsKSB7XG4gICAgcmV0dXJuIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3RyaW5nKHRydXN0ZWRSZXNvdXJjZVVybCwgXCJSZXNvdXJjZVVybFwiIC8qIFJlc291cmNlVXJsICovKTtcbn1cbmZ1bmN0aW9uIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3RyaW5nKHRydXN0ZWRTdHJpbmcsIG1vZGUpIHtcbiAgICB2YXIgdHJ1c3RlZCA9IG5ldyBTdHJpbmcodHJ1c3RlZFN0cmluZyk7XG4gICAgdHJ1c3RlZFtCUkFORF0gPSBtb2RlO1xuICAgIHJldHVybiB0cnVzdGVkO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiBmb3Igc2FmZSBzdHlsZSB2YWx1ZXMuXG4gKlxuICogUXVvdGVzIChcIiBhbmQgJykgYXJlIGFsbG93ZWQsIGJ1dCBhIGNoZWNrIG11c3QgYmUgZG9uZSBlbHNld2hlcmUgdG8gZW5zdXJlIHRoZXkncmUgYmFsYW5jZWQuXG4gKlxuICogJywnIGFsbG93cyBtdWx0aXBsZSB2YWx1ZXMgdG8gYmUgYXNzaWduZWQgdG8gdGhlIHNhbWUgcHJvcGVydHkgKGUuZy4gYmFja2dyb3VuZC1hdHRhY2htZW50IG9yXG4gKiBmb250LWZhbWlseSkgYW5kIGhlbmNlIGNvdWxkIGFsbG93IG11bHRpcGxlIHZhbHVlcyB0byBnZXQgaW5qZWN0ZWQsIGJ1dCB0aGF0IHNob3VsZCBwb3NlIG5vIHJpc2tcbiAqIG9mIFhTUy5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gZXhwcmVzc2lvbiBjaGVja3Mgb25seSBmb3IgWFNTIHNhZmV0eSwgbm90IGZvciBDU1MgdmFsaWRpdHkuXG4gKlxuICogVGhpcyByZWd1bGFyIGV4cHJlc3Npb24gd2FzIHRha2VuIGZyb20gdGhlIENsb3N1cmUgc2FuaXRpemF0aW9uIGxpYnJhcnksIGFuZCBhdWdtZW50ZWQgZm9yXG4gKiB0cmFuc2Zvcm1hdGlvbiB2YWx1ZXMuXG4gKi9cbnZhciBWQUxVRVMgPSAnWy0sLlwiXFwnJV8hIyBhLXpBLVowLTldKyc7XG52YXIgVFJBTlNGT1JNQVRJT05fRk5TID0gJyg/Om1hdHJpeHx0cmFuc2xhdGV8c2NhbGV8cm90YXRlfHNrZXd8cGVyc3BlY3RpdmUpKD86WHxZfDNkKT8nO1xudmFyIENPTE9SX0ZOUyA9ICcoPzpyZ2J8aHNsKWE/JztcbnZhciBHUkFESUVOVFMgPSAnKD86cmVwZWF0aW5nLSk/KD86bGluZWFyfHJhZGlhbCktZ3JhZGllbnQnO1xudmFyIENTUzNfRk5TID0gJyg/OmNhbGN8YXR0ciknO1xudmFyIEZOX0FSR1MgPSAnXFxcXChbLTAtOS4lLCAjYS16QS1aXStcXFxcKSc7XG52YXIgU0FGRV9TVFlMRV9WQUxVRSA9IG5ldyBSZWdFeHAoXCJeKFwiICsgVkFMVUVTICsgXCJ8XCIgK1xuICAgIChcIig/OlwiICsgVFJBTlNGT1JNQVRJT05fRk5TICsgXCJ8XCIgKyBDT0xPUl9GTlMgKyBcInxcIiArIEdSQURJRU5UUyArIFwifFwiICsgQ1NTM19GTlMgKyBcIilcIikgK1xuICAgIChGTl9BUkdTICsgXCIpJFwiKSwgJ2cnKTtcbi8qKlxuICogTWF0Y2hlcyBhIGB1cmwoLi4uKWAgdmFsdWUgd2l0aCBhbiBhcmJpdHJhcnkgYXJndW1lbnQgYXMgbG9uZyBhcyBpdCBkb2VzXG4gKiBub3QgY29udGFpbiBwYXJlbnRoZXNlcy5cbiAqXG4gKiBUaGUgVVJMIHZhbHVlIHN0aWxsIG5lZWRzIHRvIGJlIHNhbml0aXplZCBzZXBhcmF0ZWx5LlxuICpcbiAqIGB1cmwoLi4uKWAgdmFsdWVzIGFyZSBhIHZlcnkgY29tbW9uIHVzZSBjYXNlLCBlLmcuIGZvciBgYmFja2dyb3VuZC1pbWFnZWAuIFdpdGggY2FyZWZ1bGx5IGNyYWZ0ZWRcbiAqIENTUyBzdHlsZSBydWxlcywgaXQgaXMgcG9zc2libGUgdG8gY29uc3RydWN0IGFuIGluZm9ybWF0aW9uIGxlYWsgd2l0aCBgdXJsYCB2YWx1ZXMgaW4gQ1NTLCBlLmcuXG4gKiBieSBvYnNlcnZpbmcgd2hldGhlciBzY3JvbGwgYmFycyBhcmUgZGlzcGxheWVkLCBvciBjaGFyYWN0ZXIgcmFuZ2VzIHVzZWQgYnkgYSBmb250IGZhY2VcbiAqIGRlZmluaXRpb24uXG4gKlxuICogQW5ndWxhciBvbmx5IGFsbG93cyBiaW5kaW5nIENTUyB2YWx1ZXMgKGFzIG9wcG9zZWQgdG8gZW50aXJlIENTUyBydWxlcyksIHNvIGl0IGlzIHVubGlrZWx5IHRoYXRcbiAqIGJpbmRpbmcgYSBVUkwgdmFsdWUgd2l0aG91dCBmdXJ0aGVyIGNvb3BlcmF0aW9uIGZyb20gdGhlIHBhZ2Ugd2lsbCBjYXVzZSBhbiBpbmZvcm1hdGlvbiBsZWFrLCBhbmRcbiAqIGlmIHNvLCBpdCBpcyBqdXN0IGEgbGVhaywgbm90IGEgZnVsbCBibG93biBYU1MgdnVsbmVyYWJpbGl0eS5cbiAqXG4gKiBHaXZlbiB0aGUgY29tbW9uIHVzZSBjYXNlLCBsb3cgbGlrZWxpaG9vZCBvZiBhdHRhY2sgdmVjdG9yLCBhbmQgbG93IGltcGFjdCBvZiBhbiBhdHRhY2ssIHRoaXNcbiAqIGNvZGUgaXMgcGVybWlzc2l2ZSBhbmQgYWxsb3dzIFVSTHMgdGhhdCBzYW5pdGl6ZSBvdGhlcndpc2UuXG4gKi9cbnZhciBVUkxfUkUgPSAvXnVybFxcKChbXildKylcXCkkLztcbi8qKlxuICogQ2hlY2tzIHRoYXQgcXVvdGVzIChcIiBhbmQgJykgYXJlIHByb3Blcmx5IGJhbGFuY2VkIGluc2lkZSBhIHN0cmluZy4gQXNzdW1lc1xuICogdGhhdCBuZWl0aGVyIGVzY2FwZSAoXFwpIG5vciBhbnkgb3RoZXIgY2hhcmFjdGVyIHRoYXQgY291bGQgcmVzdWx0IGluXG4gKiBicmVha2luZyBvdXQgb2YgYSBzdHJpbmcgcGFyc2luZyBjb250ZXh0IGFyZSBhbGxvd2VkO1xuICogc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc3ludGF4LyNzdHJpbmctdG9rZW4tZGlhZ3JhbS5cbiAqXG4gKiBUaGlzIGNvZGUgd2FzIHRha2VuIGZyb20gdGhlIENsb3N1cmUgc2FuaXRpemF0aW9uIGxpYnJhcnkuXG4gKi9cbmZ1bmN0aW9uIGhhc0JhbGFuY2VkUXVvdGVzKHZhbHVlKSB7XG4gICAgdmFyIG91dHNpZGVTaW5nbGUgPSB0cnVlO1xuICAgIHZhciBvdXRzaWRlRG91YmxlID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjID0gdmFsdWUuY2hhckF0KGkpO1xuICAgICAgICBpZiAoYyA9PT0gJ1xcJycgJiYgb3V0c2lkZURvdWJsZSkge1xuICAgICAgICAgICAgb3V0c2lkZVNpbmdsZSA9ICFvdXRzaWRlU2luZ2xlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09ICdcIicgJiYgb3V0c2lkZVNpbmdsZSkge1xuICAgICAgICAgICAgb3V0c2lkZURvdWJsZSA9ICFvdXRzaWRlRG91YmxlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRzaWRlU2luZ2xlICYmIG91dHNpZGVEb3VibGU7XG59XG4vKipcbiAqIFNhbml0aXplcyB0aGUgZ2l2ZW4gdW50cnVzdGVkIENTUyBzdHlsZSBwcm9wZXJ0eSB2YWx1ZSAoaS5lLiBub3QgYW4gZW50aXJlIG9iamVjdCwganVzdCBhIHNpbmdsZVxuICogdmFsdWUpIGFuZCByZXR1cm5zIGEgdmFsdWUgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gKi9cbmZ1bmN0aW9uIF9zYW5pdGl6ZVN0eWxlKHZhbHVlKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpLnRyaW0oKTsgLy8gTWFrZSBzdXJlIGl0J3MgYWN0dWFsbHkgYSBzdHJpbmcuXG4gICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIC8vIFNpbmdsZSB1cmwoLi4uKSB2YWx1ZXMgYXJlIHN1cHBvcnRlZCwgYnV0IG9ubHkgZm9yIFVSTHMgdGhhdCBzYW5pdGl6ZSBjbGVhbmx5LiBTZWUgYWJvdmUgZm9yXG4gICAgLy8gcmVhc29uaW5nIGJlaGluZCB0aGlzLlxuICAgIHZhciB1cmxNYXRjaCA9IHZhbHVlLm1hdGNoKFVSTF9SRSk7XG4gICAgaWYgKCh1cmxNYXRjaCAmJiBfc2FuaXRpemVVcmwodXJsTWF0Y2hbMV0pID09PSB1cmxNYXRjaFsxXSkgfHxcbiAgICAgICAgdmFsdWUubWF0Y2goU0FGRV9TVFlMRV9WQUxVRSkgJiYgaGFzQmFsYW5jZWRRdW90ZXModmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTsgLy8gU2FmZSBzdHlsZSB2YWx1ZXMuXG4gICAgfVxuICAgIGlmIChpc0Rldk1vZGUoKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJXQVJOSU5HOiBzYW5pdGl6aW5nIHVuc2FmZSBzdHlsZSB2YWx1ZSBcIiArIHZhbHVlICsgXCIgKHNlZSBodHRwOi8vZy5jby9uZy9zZWN1cml0eSN4c3MpLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuICd1bnNhZmUnO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIGBodG1sYCBzYW5pdGl6ZXIgd2hpY2ggY29udmVydHMgdW50cnVzdGVkIGBodG1sYCAqKnN0cmluZyoqIGludG8gdHJ1c3RlZCBzdHJpbmcgYnkgcmVtb3ZpbmdcbiAqIGRhbmdlcm91cyBjb250ZW50LlxuICpcbiAqIFRoaXMgbWV0aG9kIHBhcnNlcyB0aGUgYGh0bWxgIGFuZCBsb2NhdGVzIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjb250ZW50IChzdWNoIGFzIHVybHMgYW5kXG4gKiBqYXZhc2NyaXB0KSBhbmQgcmVtb3ZlcyBpdC5cbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBtYXJrIGEgc3RyaW5nIGFzIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RIdG1sfS5cbiAqXG4gKiBAcGFyYW0gdW5zYWZlSHRtbCB1bnRydXN0ZWQgYGh0bWxgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGBodG1sYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBkaXNwbGF5IHRvIHVzZXIsIGJlY2F1c2UgYWxsIG9mIHRoZSBkYW5nZXJvdXMgamF2YXNjcmlwdFxuICogYW5kIHVybHMgaGF2ZSBiZWVuIHJlbW92ZWQuXG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplSHRtbCh1bnNhZmVIdG1sKSB7XG4gICAgdmFyIHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuSFRNTCwgdW5zYWZlSHRtbCkgfHwgJyc7XG4gICAgfVxuICAgIGlmIChhbGxvd1Nhbml0aXphdGlvbkJ5cGFzcyh1bnNhZmVIdG1sLCBcIkh0bWxcIiAvKiBIdG1sICovKSkge1xuICAgICAgICByZXR1cm4gdW5zYWZlSHRtbC50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gX3Nhbml0aXplSHRtbChkb2N1bWVudCwgc3RyaW5naWZ5JDEodW5zYWZlSHRtbCkpO1xufVxuLyoqXG4gKiBBIGBzdHlsZWAgc2FuaXRpemVyIHdoaWNoIGNvbnZlcnRzIHVudHJ1c3RlZCBgc3R5bGVgICoqc3RyaW5nKiogaW50byB0cnVzdGVkIHN0cmluZyBieSByZW1vdmluZ1xuICogZGFuZ2Vyb3VzIGNvbnRlbnQuXG4gKlxuICogVGhpcyBtZXRob2QgcGFyc2VzIHRoZSBgc3R5bGVgIGFuZCBsb2NhdGVzIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjb250ZW50IChzdWNoIGFzIHVybHMgYW5kXG4gKiBqYXZhc2NyaXB0KSBhbmQgcmVtb3ZlcyBpdC5cbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBtYXJrIGEgc3RyaW5nIGFzIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZX0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVN0eWxlIHVudHJ1c3RlZCBgc3R5bGVgLCB0eXBpY2FsbHkgZnJvbSB0aGUgdXNlci5cbiAqIEByZXR1cm5zIGBzdHlsZWAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZCB0byB0aGUgYHN0eWxlYCBwcm9wZXJ0aWVzLCBiZWNhdXNlIGFsbCBvZiB0aGVcbiAqIGRhbmdlcm91cyBqYXZhc2NyaXB0IGFuZCB1cmxzIGhhdmUgYmVlbiByZW1vdmVkLlxuICovXG5mdW5jdGlvbiBzYW5pdGl6ZVN0eWxlKHVuc2FmZVN0eWxlKSB7XG4gICAgdmFyIHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuU1RZTEUsIHVuc2FmZVN0eWxlKSB8fCAnJztcbiAgICB9XG4gICAgaWYgKGFsbG93U2FuaXRpemF0aW9uQnlwYXNzKHVuc2FmZVN0eWxlLCBcIlN0eWxlXCIgLyogU3R5bGUgKi8pKSB7XG4gICAgICAgIHJldHVybiB1bnNhZmVTdHlsZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gX3Nhbml0aXplU3R5bGUoc3RyaW5naWZ5JDEodW5zYWZlU3R5bGUpKTtcbn1cbi8qKlxuICogQSBgdXJsYCBzYW5pdGl6ZXIgd2hpY2ggY29udmVydHMgdW50cnVzdGVkIGB1cmxgICoqc3RyaW5nKiogaW50byB0cnVzdGVkIHN0cmluZyBieSByZW1vdmluZ1xuICogZGFuZ2Vyb3VzXG4gKiBjb250ZW50LlxuICpcbiAqIFRoaXMgbWV0aG9kIHBhcnNlcyB0aGUgYHVybGAgYW5kIGxvY2F0ZXMgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNvbnRlbnQgKHN1Y2ggYXMgamF2YXNjcmlwdCkgYW5kXG4gKiByZW1vdmVzIGl0LlxuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hcmsgYSBzdHJpbmcgYXMgdHJ1c3RlZCBieSBjYWxsaW5nIHtAbGluayBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFVybH0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVVybCB1bnRydXN0ZWQgYHVybGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYHVybGAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZCB0byB0aGUgYHNyY2AgcHJvcGVydGllcyBzdWNoIGFzIGA8aW1nIHNyYz5gLCBiZWNhdXNlXG4gKiBhbGwgb2YgdGhlIGRhbmdlcm91cyBqYXZhc2NyaXB0IGhhcyBiZWVuIHJlbW92ZWQuXG4gKi9cbmZ1bmN0aW9uIHNhbml0aXplVXJsKHVuc2FmZVVybCkge1xuICAgIHZhciBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlVSTCwgdW5zYWZlVXJsKSB8fCAnJztcbiAgICB9XG4gICAgaWYgKGFsbG93U2FuaXRpemF0aW9uQnlwYXNzKHVuc2FmZVVybCwgXCJVcmxcIiAvKiBVcmwgKi8pKSB7XG4gICAgICAgIHJldHVybiB1bnNhZmVVcmwudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIF9zYW5pdGl6ZVVybChzdHJpbmdpZnkkMSh1bnNhZmVVcmwpKTtcbn1cbi8qKlxuICogQSBgdXJsYCBzYW5pdGl6ZXIgd2hpY2ggb25seSBsZXRzIHRydXN0ZWQgYHVybGBzIHRocm91Z2guXG4gKlxuICogVGhpcyBwYXNzZXMgb25seSBgdXJsYHMgbWFya2VkIHRydXN0ZWQgYnkgY2FsbGluZyB7QGxpbmsgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RSZXNvdXJjZVVybH0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVJlc291cmNlVXJsIHVudHJ1c3RlZCBgdXJsYCwgdHlwaWNhbGx5IGZyb20gdGhlIHVzZXIuXG4gKiBAcmV0dXJucyBgdXJsYCBzdHJpbmcgd2hpY2ggaXMgc2FmZSB0byBiaW5kIHRvIHRoZSBgc3JjYCBwcm9wZXJ0aWVzIHN1Y2ggYXMgYDxpbWcgc3JjPmAsIGJlY2F1c2VcbiAqIG9ubHkgdHJ1c3RlZCBgdXJsYHMgaGF2ZSBiZWVuIGFsbG93ZWQgdG8gcGFzcy5cbiAqL1xuZnVuY3Rpb24gc2FuaXRpemVSZXNvdXJjZVVybCh1bnNhZmVSZXNvdXJjZVVybCkge1xuICAgIHZhciBzYW5pdGl6ZXIgPSBnZXRTYW5pdGl6ZXIoKTtcbiAgICBpZiAoc2FuaXRpemVyKSB7XG4gICAgICAgIHJldHVybiBzYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlJFU09VUkNFX1VSTCwgdW5zYWZlUmVzb3VyY2VVcmwpIHx8ICcnO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3ModW5zYWZlUmVzb3VyY2VVcmwsIFwiUmVzb3VyY2VVcmxcIiAvKiBSZXNvdXJjZVVybCAqLykpIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZVJlc291cmNlVXJsLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcigndW5zYWZlIHZhbHVlIHVzZWQgaW4gYSByZXNvdXJjZSBVUkwgY29udGV4dCAoc2VlIGh0dHA6Ly9nLmNvL25nL3NlY3VyaXR5I3hzcyknKTtcbn1cbi8qKlxuICogQSBgc2NyaXB0YCBzYW5pdGl6ZXIgd2hpY2ggb25seSBsZXRzIHRydXN0ZWQgamF2YXNjcmlwdCB0aHJvdWdoLlxuICpcbiAqIFRoaXMgcGFzc2VzIG9ubHkgYHNjcmlwdGBzIG1hcmtlZCB0cnVzdGVkIGJ5IGNhbGxpbmcge0BsaW5rXG4gKiBieXBhc3NTYW5pdGl6YXRpb25UcnVzdFNjcmlwdH0uXG4gKlxuICogQHBhcmFtIHVuc2FmZVNjcmlwdCB1bnRydXN0ZWQgYHNjcmlwdGAsIHR5cGljYWxseSBmcm9tIHRoZSB1c2VyLlxuICogQHJldHVybnMgYHVybGAgc3RyaW5nIHdoaWNoIGlzIHNhZmUgdG8gYmluZCB0byB0aGUgYDxzY3JpcHQ+YCBlbGVtZW50IHN1Y2ggYXMgYDxpbWcgc3JjPmAsXG4gKiBiZWNhdXNlIG9ubHkgdHJ1c3RlZCBgc2NyaXB0c2AgaGF2ZSBiZWVuIGFsbG93ZWQgdG8gcGFzcy5cbiAqL1xuZnVuY3Rpb24gc2FuaXRpemVTY3JpcHQodW5zYWZlU2NyaXB0KSB7XG4gICAgdmFyIHNhbml0aXplciA9IGdldFNhbml0aXplcigpO1xuICAgIGlmIChzYW5pdGl6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHNhbml0aXplci5zYW5pdGl6ZShTZWN1cml0eUNvbnRleHQuU0NSSVBULCB1bnNhZmVTY3JpcHQpIHx8ICcnO1xuICAgIH1cbiAgICBpZiAoYWxsb3dTYW5pdGl6YXRpb25CeXBhc3ModW5zYWZlU2NyaXB0LCBcIlNjcmlwdFwiIC8qIFNjcmlwdCAqLykpIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZVNjcmlwdC50b1N0cmluZygpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc2FmZSB2YWx1ZSB1c2VkIGluIGEgc2NyaXB0IGNvbnRleHQnKTtcbn1cbi8qKlxuICogVGhlIGRlZmF1bHQgc3R5bGUgc2FuaXRpemVyIHdpbGwgaGFuZGxlIHNhbml0aXphdGlvbiBmb3Igc3R5bGUgcHJvcGVydGllcyBieVxuICogc2FuaXRpemluZyBhbnkgQ1NTIHByb3BlcnR5IHRoYXQgY2FuIGluY2x1ZGUgYSBgdXJsYCB2YWx1ZSAodXN1YWxseSBpbWFnZS1iYXNlZCBwcm9wZXJ0aWVzKVxuICovXG52YXIgZGVmYXVsdFN0eWxlU2FuaXRpemVyID0gZnVuY3Rpb24gKHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHByb3AgPT09ICdiYWNrZ3JvdW5kLWltYWdlJyB8fCBwcm9wID09PSAnYmFja2dyb3VuZCcgfHwgcHJvcCA9PT0gJ2JvcmRlci1pbWFnZScgfHxcbiAgICAgICAgICAgIHByb3AgPT09ICdmaWx0ZXInIHx8IHByb3AgPT09ICdsaXN0LXN0eWxlJyB8fCBwcm9wID09PSAnbGlzdC1zdHlsZS1pbWFnZSc7XG4gICAgfVxuICAgIHJldHVybiBzYW5pdGl6ZVN0eWxlKHZhbHVlKTtcbn07XG5mdW5jdGlvbiBnZXRTYW5pdGl6ZXIoKSB7XG4gICAgdmFyIGxWaWV3ID0gZ2V0TFZpZXcoKTtcbiAgICByZXR1cm4gbFZpZXcgJiYgbFZpZXdbU0FOSVRJWkVSXTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIG1hcHBpbmcgb2YgdGhlIEBhbmd1bGFyL2NvcmUgQVBJIHN1cmZhY2UgdXNlZCBpbiBnZW5lcmF0ZWQgZXhwcmVzc2lvbnMgdG8gdGhlIGFjdHVhbCBzeW1ib2xzLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIGtlcHQgdXAgdG8gZGF0ZSB3aXRoIHRoZSBwdWJsaWMgZXhwb3J0cyBvZiBAYW5ndWxhci9jb3JlLlxuICovXG52YXIgYW5ndWxhckNvcmVFbnYgPSB7XG4gICAgJ8m1ZGVmaW5lQmFzZSc6IGRlZmluZUJhc2UsXG4gICAgJ8m1ZGVmaW5lQ29tcG9uZW50JzogZGVmaW5lQ29tcG9uZW50LFxuICAgICfJtWRlZmluZURpcmVjdGl2ZSc6IGRlZmluZURpcmVjdGl2ZSxcbiAgICAnZGVmaW5lSW5qZWN0YWJsZSc6IGRlZmluZUluamVjdGFibGUsXG4gICAgJ2RlZmluZUluamVjdG9yJzogZGVmaW5lSW5qZWN0b3IsXG4gICAgJ8m1ZGVmaW5lTmdNb2R1bGUnOiBkZWZpbmVOZ01vZHVsZSxcbiAgICAnybVkZWZpbmVQaXBlJzogZGVmaW5lUGlwZSxcbiAgICAnybVkaXJlY3RpdmVJbmplY3QnOiBkaXJlY3RpdmVJbmplY3QsXG4gICAgJ8m1Z2V0RmFjdG9yeU9mJzogZ2V0RmFjdG9yeU9mLFxuICAgICfJtWdldEluaGVyaXRlZEZhY3RvcnknOiBnZXRJbmhlcml0ZWRGYWN0b3J5LFxuICAgICdpbmplY3QnOiBpbmplY3QsXG4gICAgJ8m1aW5qZWN0QXR0cmlidXRlJzogaW5qZWN0QXR0cmlidXRlLFxuICAgICfJtXRlbXBsYXRlUmVmRXh0cmFjdG9yJzogdGVtcGxhdGVSZWZFeHRyYWN0b3IsXG4gICAgJ8m1TmdPbkNoYW5nZXNGZWF0dXJlJzogTmdPbkNoYW5nZXNGZWF0dXJlLFxuICAgICfJtVByb3ZpZGVyc0ZlYXR1cmUnOiBQcm92aWRlcnNGZWF0dXJlLFxuICAgICfJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZSc6IEluaGVyaXREZWZpbml0aW9uRmVhdHVyZSxcbiAgICAnybVlbGVtZW50QXR0cmlidXRlJzogZWxlbWVudEF0dHJpYnV0ZSxcbiAgICAnybViaW5kJzogYmluZCxcbiAgICAnybVjb250YWluZXInOiBjb250YWluZXIsXG4gICAgJ8m1bmV4dENvbnRleHQnOiBuZXh0Q29udGV4dCxcbiAgICAnybVjb250YWluZXJSZWZyZXNoU3RhcnQnOiBjb250YWluZXJSZWZyZXNoU3RhcnQsXG4gICAgJ8m1Y29udGFpbmVyUmVmcmVzaEVuZCc6IGNvbnRhaW5lclJlZnJlc2hFbmQsXG4gICAgJ8m1bG9hZFF1ZXJ5TGlzdCc6IGxvYWRRdWVyeUxpc3QsXG4gICAgJ8m1bmFtZXNwYWNlSFRNTCc6IG5hbWVzcGFjZUhUTUwsXG4gICAgJ8m1bmFtZXNwYWNlTWF0aE1MJzogbmFtZXNwYWNlTWF0aE1MLFxuICAgICfJtW5hbWVzcGFjZVNWRyc6IG5hbWVzcGFjZVNWRyxcbiAgICAnybVlbmFibGVCaW5kaW5ncyc6IGVuYWJsZUJpbmRpbmdzLFxuICAgICfJtWRpc2FibGVCaW5kaW5ncyc6IGRpc2FibGVCaW5kaW5ncyxcbiAgICAnybVhbGxvY0hvc3RWYXJzJzogYWxsb2NIb3N0VmFycyxcbiAgICAnybVlbGVtZW50U3RhcnQnOiBlbGVtZW50U3RhcnQsXG4gICAgJ8m1ZWxlbWVudEVuZCc6IGVsZW1lbnRFbmQsXG4gICAgJ8m1ZWxlbWVudCc6IGVsZW1lbnQsXG4gICAgJ8m1ZWxlbWVudENvbnRhaW5lclN0YXJ0JzogZWxlbWVudENvbnRhaW5lclN0YXJ0LFxuICAgICfJtWVsZW1lbnRDb250YWluZXJFbmQnOiBlbGVtZW50Q29udGFpbmVyRW5kLFxuICAgICfJtXB1cmVGdW5jdGlvbjAnOiBwdXJlRnVuY3Rpb24wLFxuICAgICfJtXB1cmVGdW5jdGlvbjEnOiBwdXJlRnVuY3Rpb24xLFxuICAgICfJtXB1cmVGdW5jdGlvbjInOiBwdXJlRnVuY3Rpb24yLFxuICAgICfJtXB1cmVGdW5jdGlvbjMnOiBwdXJlRnVuY3Rpb24zLFxuICAgICfJtXB1cmVGdW5jdGlvbjQnOiBwdXJlRnVuY3Rpb240LFxuICAgICfJtXB1cmVGdW5jdGlvbjUnOiBwdXJlRnVuY3Rpb241LFxuICAgICfJtXB1cmVGdW5jdGlvbjYnOiBwdXJlRnVuY3Rpb242LFxuICAgICfJtXB1cmVGdW5jdGlvbjcnOiBwdXJlRnVuY3Rpb243LFxuICAgICfJtXB1cmVGdW5jdGlvbjgnOiBwdXJlRnVuY3Rpb244LFxuICAgICfJtXB1cmVGdW5jdGlvblYnOiBwdXJlRnVuY3Rpb25WLFxuICAgICfJtWdldEN1cnJlbnRWaWV3JzogZ2V0Q3VycmVudFZpZXcsXG4gICAgJ8m1cmVzdG9yZVZpZXcnOiByZXN0b3JlVmlldyxcbiAgICAnybVpbnRlcnBvbGF0aW9uMSc6IGludGVycG9sYXRpb24xLFxuICAgICfJtWludGVycG9sYXRpb24yJzogaW50ZXJwb2xhdGlvbjIsXG4gICAgJ8m1aW50ZXJwb2xhdGlvbjMnOiBpbnRlcnBvbGF0aW9uMyxcbiAgICAnybVpbnRlcnBvbGF0aW9uNCc6IGludGVycG9sYXRpb240LFxuICAgICfJtWludGVycG9sYXRpb241JzogaW50ZXJwb2xhdGlvbjUsXG4gICAgJ8m1aW50ZXJwb2xhdGlvbjYnOiBpbnRlcnBvbGF0aW9uNixcbiAgICAnybVpbnRlcnBvbGF0aW9uNyc6IGludGVycG9sYXRpb243LFxuICAgICfJtWludGVycG9sYXRpb244JzogaW50ZXJwb2xhdGlvbjgsXG4gICAgJ8m1aW50ZXJwb2xhdGlvblYnOiBpbnRlcnBvbGF0aW9uVixcbiAgICAnybVlbGVtZW50Q2xhc3NQcm9wJzogZWxlbWVudENsYXNzUHJvcCxcbiAgICAnybVsaXN0ZW5lcic6IGxpc3RlbmVyLFxuICAgICfJtWxvYWQnOiBsb2FkLFxuICAgICfJtXByb2plY3Rpb24nOiBwcm9qZWN0aW9uLFxuICAgICfJtWVsZW1lbnRQcm9wZXJ0eSc6IGVsZW1lbnRQcm9wZXJ0eSxcbiAgICAnybVjb21wb25lbnRIb3N0U3ludGhldGljUHJvcGVydHknOiBjb21wb25lbnRIb3N0U3ludGhldGljUHJvcGVydHksXG4gICAgJ8m1cGlwZUJpbmQxJzogcGlwZUJpbmQxLFxuICAgICfJtXBpcGVCaW5kMic6IHBpcGVCaW5kMixcbiAgICAnybVwaXBlQmluZDMnOiBwaXBlQmluZDMsXG4gICAgJ8m1cGlwZUJpbmQ0JzogcGlwZUJpbmQ0LFxuICAgICfJtXBpcGVCaW5kVic6IHBpcGVCaW5kVixcbiAgICAnybVwcm9qZWN0aW9uRGVmJzogcHJvamVjdGlvbkRlZixcbiAgICAnybVwaXBlJzogcGlwZSxcbiAgICAnybVxdWVyeSc6IHF1ZXJ5LFxuICAgICfJtXF1ZXJ5UmVmcmVzaCc6IHF1ZXJ5UmVmcmVzaCxcbiAgICAnybVyZWdpc3RlckNvbnRlbnRRdWVyeSc6IHJlZ2lzdGVyQ29udGVudFF1ZXJ5LFxuICAgICfJtXJlZmVyZW5jZSc6IHJlZmVyZW5jZSxcbiAgICAnybVlbGVtZW50U3R5bGluZyc6IGVsZW1lbnRTdHlsaW5nLFxuICAgICfJtWVsZW1lbnRIb3N0QXR0cnMnOiBlbGVtZW50SG9zdEF0dHJzLFxuICAgICfJtWVsZW1lbnRTdHlsaW5nTWFwJzogZWxlbWVudFN0eWxpbmdNYXAsXG4gICAgJ8m1ZWxlbWVudFN0eWxlUHJvcCc6IGVsZW1lbnRTdHlsZVByb3AsXG4gICAgJ8m1ZWxlbWVudFN0eWxpbmdBcHBseSc6IGVsZW1lbnRTdHlsaW5nQXBwbHksXG4gICAgJ8m1dGVtcGxhdGUnOiB0ZW1wbGF0ZSxcbiAgICAnybV0ZXh0JzogdGV4dCxcbiAgICAnybV0ZXh0QmluZGluZyc6IHRleHRCaW5kaW5nLFxuICAgICfJtWVtYmVkZGVkVmlld1N0YXJ0JzogZW1iZWRkZWRWaWV3U3RhcnQsXG4gICAgJ8m1ZW1iZWRkZWRWaWV3RW5kJzogZW1iZWRkZWRWaWV3RW5kLFxuICAgICfJtWkxOG4nOiBpMThuLFxuICAgICfJtWkxOG5BdHRyaWJ1dGVzJzogaTE4bkF0dHJpYnV0ZXMsXG4gICAgJ8m1aTE4bkV4cCc6IGkxOG5FeHAsXG4gICAgJ8m1aTE4blN0YXJ0JzogaTE4blN0YXJ0LFxuICAgICfJtWkxOG5FbmQnOiBpMThuRW5kLFxuICAgICfJtWkxOG5BcHBseSc6IGkxOG5BcHBseSxcbiAgICAnybVpMThuUG9zdHByb2Nlc3MnOiBpMThuUG9zdHByb2Nlc3MsXG4gICAgJ8m1c2FuaXRpemVIdG1sJzogc2FuaXRpemVIdG1sLFxuICAgICfJtXNhbml0aXplU3R5bGUnOiBzYW5pdGl6ZVN0eWxlLFxuICAgICfJtWRlZmF1bHRTdHlsZVNhbml0aXplcic6IGRlZmF1bHRTdHlsZVNhbml0aXplcixcbiAgICAnybVzYW5pdGl6ZVJlc291cmNlVXJsJzogc2FuaXRpemVSZXNvdXJjZVVybCxcbiAgICAnybVzYW5pdGl6ZVNjcmlwdCc6IHNhbml0aXplU2NyaXB0LFxuICAgICfJtXNhbml0aXplVXJsJzogc2FuaXRpemVVcmxcbn07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVXNlZCB0byBsb2FkIG5nIG1vZHVsZSBmYWN0b3JpZXMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgTmdNb2R1bGVGYWN0b3J5TG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nTW9kdWxlRmFjdG9yeUxvYWRlcigpIHtcbiAgICB9XG4gICAgcmV0dXJuIE5nTW9kdWxlRmFjdG9yeUxvYWRlcjtcbn0oKSk7XG4vKipcbiAqIE1hcCBvZiBtb2R1bGUtaWQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgTmdNb2R1bGUuXG4gKiAtIEluIHByZSBJdnkgd2UgdHJhY2sgTmdNb2R1bGVGYWN0b3J5LFxuICogLSBJbiBwb3N0IEl2eSB3ZSB0cmFjayB0aGUgTmdNb2R1bGVUeXBlXG4gKi9cbnZhciBtb2R1bGVzID0gbmV3IE1hcCgpO1xuLyoqXG4gKiBSZWdpc3RlcnMgYSBsb2FkZWQgbW9kdWxlLiBTaG91bGQgb25seSBiZSBjYWxsZWQgZnJvbSBnZW5lcmF0ZWQgTmdNb2R1bGVGYWN0b3J5IGNvZGUuXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTW9kdWxlRmFjdG9yeShpZCwgZmFjdG9yeSkge1xuICAgIHZhciBleGlzdGluZyA9IG1vZHVsZXMuZ2V0KGlkKTtcbiAgICBhc3NlcnROb3RFeGlzdGluZyhpZCwgZXhpc3RpbmcgJiYgZXhpc3RpbmcubW9kdWxlVHlwZSk7XG4gICAgbW9kdWxlcy5zZXQoaWQsIGZhY3RvcnkpO1xufVxuZnVuY3Rpb24gYXNzZXJ0Tm90RXhpc3RpbmcoaWQsIHR5cGUpIHtcbiAgICBpZiAodHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEdXBsaWNhdGUgbW9kdWxlIHJlZ2lzdGVyZWQgZm9yIFwiICsgaWQgKyBcIiAtIFwiICsgc3RyaW5naWZ5KHR5cGUpICsgXCIgdnMgXCIgKyBzdHJpbmdpZnkodHlwZS5uYW1lKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVnaXN0ZXJOZ01vZHVsZVR5cGUoaWQsIG5nTW9kdWxlVHlwZSkge1xuICAgIHZhciBleGlzdGluZyA9IG1vZHVsZXMuZ2V0KGlkKTtcbiAgICBhc3NlcnROb3RFeGlzdGluZyhpZCwgZXhpc3RpbmcpO1xuICAgIG1vZHVsZXMuc2V0KGlkLCBuZ01vZHVsZVR5cGUpO1xufVxuZnVuY3Rpb24gZ2V0TW9kdWxlRmFjdG9yeV9fUFJFX1IzX18oaWQpIHtcbiAgICB2YXIgZmFjdG9yeSA9IG1vZHVsZXMuZ2V0KGlkKTtcbiAgICBpZiAoIWZhY3RvcnkpXG4gICAgICAgIHRocm93IG5vTW9kdWxlRXJyb3IoaWQpO1xuICAgIHJldHVybiBmYWN0b3J5O1xufVxuZnVuY3Rpb24gZ2V0TW9kdWxlRmFjdG9yeV9fUE9TVF9SM19fKGlkKSB7XG4gICAgdmFyIHR5cGUgPSBtb2R1bGVzLmdldChpZCk7XG4gICAgaWYgKCF0eXBlKVxuICAgICAgICB0aHJvdyBub01vZHVsZUVycm9yKGlkKTtcbiAgICByZXR1cm4gbmV3IE5nTW9kdWxlRmFjdG9yeSQxKHR5cGUpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBOZ01vZHVsZUZhY3Rvcnkgd2l0aCB0aGUgZ2l2ZW4gaWQsIGlmIGl0IGV4aXN0cyBhbmQgaGFzIGJlZW4gbG9hZGVkLlxuICogRmFjdG9yaWVzIGZvciBtb2R1bGVzIHRoYXQgZG8gbm90IHNwZWNpZnkgYW4gYGlkYCBjYW5ub3QgYmUgcmV0cmlldmVkLiBUaHJvd3MgaWYgdGhlIG1vZHVsZVxuICogY2Fubm90IGJlIGZvdW5kLlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgZ2V0TW9kdWxlRmFjdG9yeSA9IGdldE1vZHVsZUZhY3RvcnlfX1BSRV9SM19fO1xuZnVuY3Rpb24gbm9Nb2R1bGVFcnJvcihpZCkge1xuICAgIHJldHVybiBuZXcgRXJyb3IoXCJObyBtb2R1bGUgd2l0aCBJRCBcIiArIGlkICsgXCIgbG9hZGVkXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFJlcHJlc2VudHMgYSB0eXBlIHRoYXQgYSBDb21wb25lbnQgb3Igb3RoZXIgb2JqZWN0IGlzIGluc3RhbmNlcyBvZi5cbiAqXG4gKiBBbiBleGFtcGxlIG9mIGEgYFR5cGVgIGlzIGBNeUN1c3RvbUNvbXBvbmVudGAgY2xhc3MsIHdoaWNoIGluIEphdmFTY3JpcHQgaXMgYmUgcmVwcmVzZW50ZWQgYnlcbiAqIHRoZSBgTXlDdXN0b21Db21wb25lbnRgIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFR5cGUgPSBGdW5jdGlvbjtcbmZ1bmN0aW9uIGlzVHlwZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEF0dGVudGlvbjogVGhlc2UgcmVnZXggaGFzIHRvIGhvbGQgZXZlbiBpZiB0aGUgY29kZSBpcyBtaW5pZmllZCFcbiAqL1xudmFyIERFTEVHQVRFX0NUT1IgPSAvXmZ1bmN0aW9uXFxzK1xcUytcXChcXClcXHMqe1tcXHNcXFNdK1xcLmFwcGx5XFwodGhpcyxcXHMqYXJndW1lbnRzXFwpLztcbnZhciBJTkhFUklURURfQ0xBU1MgPSAvXmNsYXNzXFxzK1tBLVphLXpcXGQkX10qXFxzKmV4dGVuZHNcXHMrW157XSt7LztcbnZhciBJTkhFUklURURfQ0xBU1NfV0lUSF9DVE9SID0gL15jbGFzc1xccytbQS1aYS16XFxkJF9dKlxccypleHRlbmRzXFxzK1tee10re1tcXHNcXFNdKmNvbnN0cnVjdG9yXFxzKlxcKC87XG52YXIgUmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKHJlZmxlY3QpIHtcbiAgICAgICAgdGhpcy5fcmVmbGVjdCA9IHJlZmxlY3QgfHwgX2dsb2JhbFsnUmVmbGVjdCddO1xuICAgIH1cbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5pc1JlZmxlY3Rpb25FbmFibGVkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5mYWN0b3J5ID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3ICh0LmJpbmQuYXBwbHkodCwgX19zcHJlYWQoW3ZvaWQgMF0sIGFyZ3MpKSkoKTtcbiAgICB9OyB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5femlwVHlwZXNBbmRBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uIChwYXJhbVR5cGVzLCBwYXJhbUFubm90YXRpb25zKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1UeXBlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShwYXJhbUFubm90YXRpb25zLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgQXJyYXkocGFyYW1UeXBlcy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBUUyBvdXRwdXRzIE9iamVjdCBmb3IgcGFyYW1ldGVycyB3aXRob3V0IHR5cGVzLCB3aGlsZSBUcmFjZXVyIG9taXRzXG4gICAgICAgICAgICAvLyB0aGUgYW5ub3RhdGlvbnMuIEZvciBub3cgd2UgcHJlc2VydmUgdGhlIFRyYWNldXIgYmVoYXZpb3IgdG8gYWlkXG4gICAgICAgICAgICAvLyBtaWdyYXRpb24sIGJ1dCB0aGlzIGNhbiBiZSByZXZpc2l0ZWQuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtVHlwZXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbVR5cGVzW2ldICE9IE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IFtwYXJhbVR5cGVzW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcmFtQW5ub3RhdGlvbnMgJiYgcGFyYW1Bbm5vdGF0aW9uc1tpXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gcmVzdWx0W2ldLmNvbmNhdChwYXJhbUFubm90YXRpb25zW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUuX293blBhcmFtZXRlcnMgPSBmdW5jdGlvbiAodHlwZSwgcGFyZW50Q3Rvcikge1xuICAgICAgICB2YXIgdHlwZVN0ciA9IHR5cGUudG9TdHJpbmcoKTtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBubyBkZWNvcmF0b3JzLCB3ZSBvbmx5IGhhdmUgZnVuY3Rpb24ubGVuZ3RoIGFzIG1ldGFkYXRhLlxuICAgICAgICAvLyBJbiB0aGF0IGNhc2UsIHRvIGRldGVjdCB3aGV0aGVyIGEgY2hpbGQgY2xhc3MgZGVjbGFyZWQgYW4gb3duIGNvbnN0cnVjdG9yIG9yIG5vdCxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBsb29rIGluc2lkZSBvZiB0aGF0IGNvbnN0cnVjdG9yIHRvIGNoZWNrIHdoZXRoZXIgaXQgaXNcbiAgICAgICAgLy8ganVzdCBjYWxsaW5nIHRoZSBwYXJlbnQuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBoZWxwcyB0byB3b3JrIGFyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMjQzOVxuICAgICAgICAvLyB0aGF0IHNldHMgJ2Rlc2lnbjpwYXJhbXR5cGVzJyB0byBbXVxuICAgICAgICAvLyBpZiBhIGNsYXNzIGluaGVyaXRzIGZyb20gYW5vdGhlciBjbGFzcyBidXQgaGFzIG5vIGN0b3IgZGVjbGFyZWQgaXRzZWxmLlxuICAgICAgICBpZiAoREVMRUdBVEVfQ1RPUi5leGVjKHR5cGVTdHIpIHx8XG4gICAgICAgICAgICAoSU5IRVJJVEVEX0NMQVNTLmV4ZWModHlwZVN0cikgJiYgIUlOSEVSSVRFRF9DTEFTU19XSVRIX0NUT1IuZXhlYyh0eXBlU3RyKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZWZlciB0aGUgZGlyZWN0IEFQSS5cbiAgICAgICAgaWYgKHR5cGUucGFyYW1ldGVycyAmJiB0eXBlLnBhcmFtZXRlcnMgIT09IHBhcmVudEN0b3IucGFyYW1ldGVycykge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGUucGFyYW1ldGVycztcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgb2YgdHNpY2tsZSBmb3IgbG93ZXJpbmcgZGVjb3JhdG9ycyB0byBwcm9wZXJ0aWVzIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgdmFyIHRzaWNrbGVDdG9yUGFyYW1zID0gdHlwZS5jdG9yUGFyYW1ldGVycztcbiAgICAgICAgaWYgKHRzaWNrbGVDdG9yUGFyYW1zICYmIHRzaWNrbGVDdG9yUGFyYW1zICE9PSBwYXJlbnRDdG9yLmN0b3JQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAvLyBOZXdlciB0c2lja2xlIHVzZXMgYSBmdW5jdGlvbiBjbG9zdXJlXG4gICAgICAgICAgICAvLyBSZXRhaW4gdGhlIG5vbi1mdW5jdGlvbiBjYXNlIGZvciBjb21wYXRpYmlsaXR5IHdpdGggb2xkZXIgdHNpY2tsZVxuICAgICAgICAgICAgdmFyIGN0b3JQYXJhbWV0ZXJzID0gdHlwZW9mIHRzaWNrbGVDdG9yUGFyYW1zID09PSAnZnVuY3Rpb24nID8gdHNpY2tsZUN0b3JQYXJhbXMoKSA6IHRzaWNrbGVDdG9yUGFyYW1zO1xuICAgICAgICAgICAgdmFyIHBhcmFtVHlwZXNfMSA9IGN0b3JQYXJhbWV0ZXJzLm1hcChmdW5jdGlvbiAoY3RvclBhcmFtKSB7IHJldHVybiBjdG9yUGFyYW0gJiYgY3RvclBhcmFtLnR5cGU7IH0pO1xuICAgICAgICAgICAgdmFyIHBhcmFtQW5ub3RhdGlvbnNfMSA9IGN0b3JQYXJhbWV0ZXJzLm1hcChmdW5jdGlvbiAoY3RvclBhcmFtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0b3JQYXJhbSAmJiBjb252ZXJ0VHNpY2tsZURlY29yYXRvckludG9NZXRhZGF0YShjdG9yUGFyYW0uZGVjb3JhdG9ycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96aXBUeXBlc0FuZEFubm90YXRpb25zKHBhcmFtVHlwZXNfMSwgcGFyYW1Bbm5vdGF0aW9uc18xKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBUEkgZm9yIG1ldGFkYXRhIGNyZWF0ZWQgYnkgaW52b2tpbmcgdGhlIGRlY29yYXRvcnMuXG4gICAgICAgIHZhciBwYXJhbUFubm90YXRpb25zID0gdHlwZS5oYXNPd25Qcm9wZXJ0eShQQVJBTUVURVJTKSAmJiB0eXBlW1BBUkFNRVRFUlNdO1xuICAgICAgICB2YXIgcGFyYW1UeXBlcyA9IHRoaXMuX3JlZmxlY3QgJiYgdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSAmJlxuICAgICAgICAgICAgdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCB0eXBlKTtcbiAgICAgICAgaWYgKHBhcmFtVHlwZXMgfHwgcGFyYW1Bbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMocGFyYW1UeXBlcywgcGFyYW1Bbm5vdGF0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYSBjbGFzcyBoYXMgbm8gZGVjb3JhdG9ycywgYXQgbGVhc3QgY3JlYXRlIG1ldGFkYXRhXG4gICAgICAgIC8vIGJhc2VkIG9uIGZ1bmN0aW9uLmxlbmd0aC5cbiAgICAgICAgLy8gTm90ZTogV2Uga25vdyB0aGF0IHRoaXMgaXMgYSByZWFsIGNvbnN0cnVjdG9yIGFzIHdlIGNoZWNrZWRcbiAgICAgICAgLy8gdGhlIGNvbnRlbnQgb2YgdGhlIGNvbnN0cnVjdG9yIGFib3ZlLlxuICAgICAgICByZXR1cm4gbmV3IEFycmF5KHR5cGUubGVuZ3RoKS5maWxsKHVuZGVmaW5lZCk7XG4gICAgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5wYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgLy8gTm90ZTogb25seSByZXBvcnQgbWV0YWRhdGEgaWYgd2UgaGF2ZSBhdCBsZWFzdCBvbmUgY2xhc3MgZGVjb3JhdG9yXG4gICAgICAgIC8vIHRvIHN0YXkgaW4gc3luYyB3aXRoIHRoZSBzdGF0aWMgcmVmbGVjdG9yLlxuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJlbnRDdG9yID0gZ2V0UGFyZW50Q3Rvcih0eXBlKTtcbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSB0aGlzLl9vd25QYXJhbWV0ZXJzKHR5cGUsIHBhcmVudEN0b3IpO1xuICAgICAgICBpZiAoIXBhcmFtZXRlcnMgJiYgcGFyZW50Q3RvciAhPT0gT2JqZWN0KSB7XG4gICAgICAgICAgICBwYXJhbWV0ZXJzID0gdGhpcy5wYXJhbWV0ZXJzKHBhcmVudEN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbWV0ZXJzIHx8IFtdO1xuICAgIH07XG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUuX293bkFubm90YXRpb25zID0gZnVuY3Rpb24gKHR5cGVPckZ1bmMsIHBhcmVudEN0b3IpIHtcbiAgICAgICAgLy8gUHJlZmVyIHRoZSBkaXJlY3QgQVBJLlxuICAgICAgICBpZiAodHlwZU9yRnVuYy5hbm5vdGF0aW9ucyAmJiB0eXBlT3JGdW5jLmFubm90YXRpb25zICE9PSBwYXJlbnRDdG9yLmFubm90YXRpb25zKSB7XG4gICAgICAgICAgICB2YXIgYW5ub3RhdGlvbnMgPSB0eXBlT3JGdW5jLmFubm90YXRpb25zO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhbm5vdGF0aW9ucyA9PT0gJ2Z1bmN0aW9uJyAmJiBhbm5vdGF0aW9ucy5hbm5vdGF0aW9ucykge1xuICAgICAgICAgICAgICAgIGFubm90YXRpb25zID0gYW5ub3RhdGlvbnMuYW5ub3RhdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYW5ub3RhdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIG9mIHRzaWNrbGUgZm9yIGxvd2VyaW5nIGRlY29yYXRvcnMgdG8gcHJvcGVydGllcyBvbiB0aGUgY2xhc3MuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLmRlY29yYXRvcnMgJiYgdHlwZU9yRnVuYy5kZWNvcmF0b3JzICE9PSBwYXJlbnRDdG9yLmRlY29yYXRvcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBjb252ZXJ0VHNpY2tsZURlY29yYXRvckludG9NZXRhZGF0YSh0eXBlT3JGdW5jLmRlY29yYXRvcnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFQSSBmb3IgbWV0YWRhdGEgY3JlYXRlZCBieSBpbnZva2luZyB0aGUgZGVjb3JhdG9ycy5cbiAgICAgICAgaWYgKHR5cGVPckZ1bmMuaGFzT3duUHJvcGVydHkoQU5OT1RBVElPTlMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZU9yRnVuY1tBTk5PVEFUSU9OU107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5hbm5vdGF0aW9ucyA9IGZ1bmN0aW9uICh0eXBlT3JGdW5jKSB7XG4gICAgICAgIGlmICghaXNUeXBlKHR5cGVPckZ1bmMpKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmVudEN0b3IgPSBnZXRQYXJlbnRDdG9yKHR5cGVPckZ1bmMpO1xuICAgICAgICB2YXIgb3duQW5ub3RhdGlvbnMgPSB0aGlzLl9vd25Bbm5vdGF0aW9ucyh0eXBlT3JGdW5jLCBwYXJlbnRDdG9yKSB8fCBbXTtcbiAgICAgICAgdmFyIHBhcmVudEFubm90YXRpb25zID0gcGFyZW50Q3RvciAhPT0gT2JqZWN0ID8gdGhpcy5hbm5vdGF0aW9ucyhwYXJlbnRDdG9yKSA6IFtdO1xuICAgICAgICByZXR1cm4gcGFyZW50QW5ub3RhdGlvbnMuY29uY2F0KG93bkFubm90YXRpb25zKTtcbiAgICB9O1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLl9vd25Qcm9wTWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZU9yRnVuYywgcGFyZW50Q3Rvcikge1xuICAgICAgICAvLyBQcmVmZXIgdGhlIGRpcmVjdCBBUEkuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLnByb3BNZXRhZGF0YSAmJlxuICAgICAgICAgICAgdHlwZU9yRnVuYy5wcm9wTWV0YWRhdGEgIT09IHBhcmVudEN0b3IucHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICB2YXIgcHJvcE1ldGFkYXRhID0gdHlwZU9yRnVuYy5wcm9wTWV0YWRhdGE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3BNZXRhZGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiBwcm9wTWV0YWRhdGEucHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgcHJvcE1ldGFkYXRhID0gcHJvcE1ldGFkYXRhLnByb3BNZXRhZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9wTWV0YWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIG9mIHRzaWNrbGUgZm9yIGxvd2VyaW5nIGRlY29yYXRvcnMgdG8gcHJvcGVydGllcyBvbiB0aGUgY2xhc3MuXG4gICAgICAgIGlmICh0eXBlT3JGdW5jLnByb3BEZWNvcmF0b3JzICYmXG4gICAgICAgICAgICB0eXBlT3JGdW5jLnByb3BEZWNvcmF0b3JzICE9PSBwYXJlbnRDdG9yLnByb3BEZWNvcmF0b3JzKSB7XG4gICAgICAgICAgICB2YXIgcHJvcERlY29yYXRvcnNfMSA9IHR5cGVPckZ1bmMucHJvcERlY29yYXRvcnM7XG4gICAgICAgICAgICB2YXIgcHJvcE1ldGFkYXRhXzEgPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHByb3BEZWNvcmF0b3JzXzEpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgICBwcm9wTWV0YWRhdGFfMVtwcm9wXSA9IGNvbnZlcnRUc2lja2xlRGVjb3JhdG9ySW50b01ldGFkYXRhKHByb3BEZWNvcmF0b3JzXzFbcHJvcF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvcE1ldGFkYXRhXzE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQVBJIGZvciBtZXRhZGF0YSBjcmVhdGVkIGJ5IGludm9raW5nIHRoZSBkZWNvcmF0b3JzLlxuICAgICAgICBpZiAodHlwZU9yRnVuYy5oYXNPd25Qcm9wZXJ0eShQUk9QX01FVEFEQVRBKSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVPckZ1bmNbUFJPUF9NRVRBREFUQV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5wcm9wTWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZU9yRnVuYykge1xuICAgICAgICBpZiAoIWlzVHlwZSh0eXBlT3JGdW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJlbnRDdG9yID0gZ2V0UGFyZW50Q3Rvcih0eXBlT3JGdW5jKTtcbiAgICAgICAgdmFyIHByb3BNZXRhZGF0YSA9IHt9O1xuICAgICAgICBpZiAocGFyZW50Q3RvciAhPT0gT2JqZWN0KSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50UHJvcE1ldGFkYXRhXzEgPSB0aGlzLnByb3BNZXRhZGF0YShwYXJlbnRDdG9yKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhcmVudFByb3BNZXRhZGF0YV8xKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIHByb3BNZXRhZGF0YVtwcm9wTmFtZV0gPSBwYXJlbnRQcm9wTWV0YWRhdGFfMVtwcm9wTmFtZV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3duUHJvcE1ldGFkYXRhID0gdGhpcy5fb3duUHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMsIHBhcmVudEN0b3IpO1xuICAgICAgICBpZiAob3duUHJvcE1ldGFkYXRhKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvd25Qcm9wTWV0YWRhdGEpLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcE1ldGFkYXRhLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWNvcmF0b3JzLnB1c2guYXBwbHkoZGVjb3JhdG9ycywgX19zcHJlYWQocHJvcE1ldGFkYXRhW3Byb3BOYW1lXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvcmF0b3JzLnB1c2guYXBwbHkoZGVjb3JhdG9ycywgX19zcHJlYWQob3duUHJvcE1ldGFkYXRhW3Byb3BOYW1lXSkpO1xuICAgICAgICAgICAgICAgIHByb3BNZXRhZGF0YVtwcm9wTmFtZV0gPSBkZWNvcmF0b3JzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BNZXRhZGF0YTtcbiAgICB9O1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLmhhc0xpZmVjeWNsZUhvb2sgPSBmdW5jdGlvbiAodHlwZSwgbGNQcm9wZXJ0eSkge1xuICAgICAgICByZXR1cm4gdHlwZSBpbnN0YW5jZW9mIFR5cGUgJiYgbGNQcm9wZXJ0eSBpbiB0eXBlLnByb3RvdHlwZTtcbiAgICB9O1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLmd1YXJkcyA9IGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiB7fTsgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5nZXR0ZXIgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbmV3IEZ1bmN0aW9uKCdvJywgJ3JldHVybiBvLicgKyBuYW1lICsgJzsnKTsgfTtcbiAgICBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5zZXR0ZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCdvJywgJ3YnLCAncmV0dXJuIG8uJyArIG5hbWUgKyAnID0gdjsnKTtcbiAgICB9O1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLm1ldGhvZCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBmdW5jdGlvbkJvZHkgPSBcImlmICghby5cIiArIG5hbWUgKyBcIikgdGhyb3cgbmV3IEVycm9yKCdcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGlzIHVuZGVmaW5lZCcpO1xcbiAgICAgICAgcmV0dXJuIG8uXCIgKyBuYW1lICsgXCIuYXBwbHkobywgYXJncyk7XCI7XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ28nLCAnYXJncycsIGZ1bmN0aW9uQm9keSk7XG4gICAgfTtcbiAgICAvLyBUaGVyZSBpcyBub3QgYSBjb25jZXB0IG9mIGltcG9ydCB1cmkgaW4gSnMsIGJ1dCB0aGlzIGlzIHVzZWZ1bCBpbiBkZXZlbG9waW5nIERhcnQgYXBwbGljYXRpb25zLlxuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLmltcG9ydFVyaSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIC8vIFN0YXRpY1N5bWJvbFxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGVbJ2ZpbGVQYXRoJ10pIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlWydmaWxlUGF0aCddO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJ1bnRpbWUgdHlwZVxuICAgICAgICByZXR1cm4gXCIuL1wiICsgc3RyaW5naWZ5KHR5cGUpO1xuICAgIH07XG4gICAgUmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wcm90b3R5cGUucmVzb3VyY2VVcmkgPSBmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gXCIuL1wiICsgc3RyaW5naWZ5KHR5cGUpOyB9O1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLnJlc29sdmVJZGVudGlmaWVyID0gZnVuY3Rpb24gKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSkge1xuICAgICAgICByZXR1cm4gcnVudGltZTtcbiAgICB9O1xuICAgIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvdG90eXBlLnJlc29sdmVFbnVtID0gZnVuY3Rpb24gKGVudW1JZGVudGlmaWVyLCBuYW1lKSB7IHJldHVybiBlbnVtSWRlbnRpZmllcltuYW1lXTsgfTtcbiAgICByZXR1cm4gUmVmbGVjdGlvbkNhcGFiaWxpdGllcztcbn0oKSk7XG5mdW5jdGlvbiBjb252ZXJ0VHNpY2tsZURlY29yYXRvckludG9NZXRhZGF0YShkZWNvcmF0b3JJbnZvY2F0aW9ucykge1xuICAgIGlmICghZGVjb3JhdG9ySW52b2NhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb3JhdG9ySW52b2NhdGlvbnMubWFwKGZ1bmN0aW9uIChkZWNvcmF0b3JJbnZvY2F0aW9uKSB7XG4gICAgICAgIHZhciBkZWNvcmF0b3JUeXBlID0gZGVjb3JhdG9ySW52b2NhdGlvbi50eXBlO1xuICAgICAgICB2YXIgYW5ub3RhdGlvbkNscyA9IGRlY29yYXRvclR5cGUuYW5ub3RhdGlvbkNscztcbiAgICAgICAgdmFyIGFubm90YXRpb25BcmdzID0gZGVjb3JhdG9ySW52b2NhdGlvbi5hcmdzID8gZGVjb3JhdG9ySW52b2NhdGlvbi5hcmdzIDogW107XG4gICAgICAgIHJldHVybiBuZXcgKGFubm90YXRpb25DbHMuYmluZC5hcHBseShhbm5vdGF0aW9uQ2xzLCBfX3NwcmVhZChbdm9pZCAwXSwgYW5ub3RhdGlvbkFyZ3MpKSkoKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudEN0b3IoY3Rvcikge1xuICAgIHZhciBwYXJlbnRQcm90byA9IGN0b3IucHJvdG90eXBlID8gT2JqZWN0LmdldFByb3RvdHlwZU9mKGN0b3IucHJvdG90eXBlKSA6IG51bGw7XG4gICAgdmFyIHBhcmVudEN0b3IgPSBwYXJlbnRQcm90byA/IHBhcmVudFByb3RvLmNvbnN0cnVjdG9yIDogbnVsbDtcbiAgICAvLyBOb3RlOiBXZSBhbHdheXMgdXNlIGBPYmplY3RgIGFzIHRoZSBudWxsIHZhbHVlXG4gICAgLy8gdG8gc2ltcGxpZnkgY2hlY2tpbmcgbGF0ZXIgb24uXG4gICAgcmV0dXJuIHBhcmVudEN0b3IgfHwgT2JqZWN0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgX3JlZmxlY3QgPSBudWxsO1xuZnVuY3Rpb24gZ2V0UmVmbGVjdCgpIHtcbiAgICByZXR1cm4gKF9yZWZsZWN0ID0gX3JlZmxlY3QgfHwgbmV3IFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMoKSk7XG59XG5mdW5jdGlvbiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpIHtcbiAgICByZXR1cm4gY29udmVydERlcGVuZGVuY2llcyhnZXRSZWZsZWN0KCkucGFyYW1ldGVycyh0eXBlKSk7XG59XG5mdW5jdGlvbiBjb252ZXJ0RGVwZW5kZW5jaWVzKGRlcHMpIHtcbiAgICB2YXIgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSgpO1xuICAgIHJldHVybiBkZXBzLm1hcChmdW5jdGlvbiAoZGVwKSB7IHJldHVybiByZWZsZWN0RGVwZW5kZW5jeShjb21waWxlciwgZGVwKTsgfSk7XG59XG5mdW5jdGlvbiByZWZsZWN0RGVwZW5kZW5jeShjb21waWxlciwgZGVwKSB7XG4gICAgdmFyIG1ldGEgPSB7XG4gICAgICAgIHRva2VuOiBudWxsLFxuICAgICAgICBob3N0OiBmYWxzZSxcbiAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICByZXNvbHZlZDogY29tcGlsZXIuUjNSZXNvbHZlZERlcGVuZGVuY3lUeXBlLlRva2VuLFxuICAgICAgICBzZWxmOiBmYWxzZSxcbiAgICAgICAgc2tpcFNlbGY6IGZhbHNlLFxuICAgIH07XG4gICAgZnVuY3Rpb24gc2V0VG9rZW5BbmRSZXNvbHZlZFR5cGUodG9rZW4pIHtcbiAgICAgICAgbWV0YS5yZXNvbHZlZCA9IGNvbXBpbGVyLlIzUmVzb2x2ZWREZXBlbmRlbmN5VHlwZS5Ub2tlbjtcbiAgICAgICAgbWV0YS50b2tlbiA9IHRva2VuO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZXApKSB7XG4gICAgICAgIGlmIChkZXAubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlcGVuZGVuY3kgYXJyYXkgbXVzdCBoYXZlIGFyZ3VtZW50cy4nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRlcC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIHBhcmFtID0gZGVwW2pdO1xuICAgICAgICAgICAgaWYgKHBhcmFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBwYXJhbSBtYXkgYmUgdW5kZWZpbmVkIGlmIHR5cGUgb2YgZGVwIGlzIG5vdCBzZXQgYnkgbmd0c2NcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtIGluc3RhbmNlb2YgT3B0aW9uYWwgfHwgcGFyYW0uX19wcm90b19fLm5nTWV0YWRhdGFOYW1lID09PSAnT3B0aW9uYWwnKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5vcHRpb25hbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIFNraXBTZWxmIHx8IHBhcmFtLl9fcHJvdG9fXy5uZ01ldGFkYXRhTmFtZSA9PT0gJ1NraXBTZWxmJykge1xuICAgICAgICAgICAgICAgIG1ldGEuc2tpcFNlbGYgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBTZWxmIHx8IHBhcmFtLl9fcHJvdG9fXy5uZ01ldGFkYXRhTmFtZSA9PT0gJ1NlbGYnKSB7XG4gICAgICAgICAgICAgICAgbWV0YS5zZWxmID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtIGluc3RhbmNlb2YgSG9zdCB8fCBwYXJhbS5fX3Byb3RvX18ubmdNZXRhZGF0YU5hbWUgPT09ICdIb3N0Jykge1xuICAgICAgICAgICAgICAgIG1ldGEuaG9zdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIEluamVjdCkge1xuICAgICAgICAgICAgICAgIG1ldGEudG9rZW4gPSBwYXJhbS50b2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtIGluc3RhbmNlb2YgQXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLmF0dHJpYnV0ZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRyaWJ1dGUgbmFtZSBtdXN0IGJlIGRlZmluZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZXRhLnRva2VuID0gcGFyYW0uYXR0cmlidXRlTmFtZTtcbiAgICAgICAgICAgICAgICBtZXRhLnJlc29sdmVkID0gY29tcGlsZXIuUjNSZXNvbHZlZERlcGVuZGVuY3lUeXBlLkF0dHJpYnV0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFRva2VuQW5kUmVzb2x2ZWRUeXBlKHBhcmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0VG9rZW5BbmRSZXNvbHZlZFR5cGUoZGVwKTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGE7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBFTVBUWV9BUlJBWSQyID0gW107XG52YXIgbW9kdWxlUXVldWUgPSBbXTtcbi8qKlxuICogRW5xdWV1ZXMgbW9kdWxlRGVmIHRvIGJlIGNoZWNrZWQgbGF0ZXIgdG8gc2VlIGlmIHNjb3BlIGNhbiBiZSBzZXQgb24gaXRzXG4gKiBjb21wb25lbnQgZGVjbGFyYXRpb25zLlxuICovXG5mdW5jdGlvbiBlbnF1ZXVlTW9kdWxlRm9yRGVsYXllZFNjb3BpbmcobW9kdWxlVHlwZSwgbmdNb2R1bGUpIHtcbiAgICBtb2R1bGVRdWV1ZS5wdXNoKHsgbW9kdWxlVHlwZTogbW9kdWxlVHlwZSwgbmdNb2R1bGU6IG5nTW9kdWxlIH0pO1xufVxudmFyIGZsdXNoaW5nTW9kdWxlUXVldWUgPSBmYWxzZTtcbi8qKlxuICogTG9vcHMgb3ZlciBxdWV1ZWQgbW9kdWxlIGRlZmluaXRpb25zLCBpZiBhIGdpdmVuIG1vZHVsZSBkZWZpbml0aW9uIGhhcyBhbGwgb2YgaXRzXG4gKiBkZWNsYXJhdGlvbnMgcmVzb2x2ZWQsIGl0IGRlcXVldWVzIHRoYXQgbW9kdWxlIGRlZmluaXRpb24gYW5kIHNldHMgdGhlIHNjb3BlIG9uXG4gKiBpdHMgZGVjbGFyYXRpb25zLlxuICovXG5mdW5jdGlvbiBmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUoKSB7XG4gICAgaWYgKCFmbHVzaGluZ01vZHVsZVF1ZXVlKSB7XG4gICAgICAgIGZsdXNoaW5nTW9kdWxlUXVldWUgPSB0cnVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IG1vZHVsZVF1ZXVlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gbW9kdWxlUXVldWVbaV0sIG1vZHVsZVR5cGUgPSBfYS5tb2R1bGVUeXBlLCBuZ01vZHVsZSA9IF9hLm5nTW9kdWxlO1xuICAgICAgICAgICAgICAgIGlmIChuZ01vZHVsZS5kZWNsYXJhdGlvbnMgJiYgbmdNb2R1bGUuZGVjbGFyYXRpb25zLmV2ZXJ5KGlzUmVzb2x2ZWREZWNsYXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVxdWV1ZVxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVRdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNjb3BlT25EZWNsYXJlZENvbXBvbmVudHMobW9kdWxlVHlwZSwgbmdNb2R1bGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGZsdXNoaW5nTW9kdWxlUXVldWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0cnV0aHkgaWYgYSBkZWNsYXJhdGlvbiBoYXMgcmVzb2x2ZWQuIElmIHRoZSBkZWNsYXJhdGlvbiBoYXBwZW5zIHRvIGJlXG4gKiBhbiBhcnJheSBvZiBkZWNsYXJhdGlvbnMsIGl0IHdpbGwgcmVjdXJzZSB0byBjaGVjayBlYWNoIGRlY2xhcmF0aW9uIGluIHRoYXQgYXJyYXlcbiAqICh3aGljaCBtYXkgYWxzbyBiZSBhcnJheXMpLlxuICovXG5mdW5jdGlvbiBpc1Jlc29sdmVkRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZWNsYXJhdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIGRlY2xhcmF0aW9uLmV2ZXJ5KGlzUmVzb2x2ZWREZWNsYXJhdGlvbik7XG4gICAgfVxuICAgIHJldHVybiAhIXJlc29sdmVGb3J3YXJkUmVmKGRlY2xhcmF0aW9uKTtcbn1cbi8qKlxuICogQ29tcGlsZXMgYSBtb2R1bGUgaW4gSklUIG1vZGUuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhdXRvbWF0aWNhbGx5IGdldHMgY2FsbGVkIHdoZW4gYSBjbGFzcyBoYXMgYSBgQE5nTW9kdWxlYCBkZWNvcmF0b3IuXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVOZ01vZHVsZShtb2R1bGVUeXBlLCBuZ01vZHVsZSkge1xuICAgIGlmIChuZ01vZHVsZSA9PT0gdm9pZCAwKSB7IG5nTW9kdWxlID0ge307IH1cbiAgICBjb21waWxlTmdNb2R1bGVEZWZzKG1vZHVsZVR5cGUsIG5nTW9kdWxlKTtcbiAgICAvLyBCZWNhdXNlIHdlIGRvbid0IGtub3cgaWYgYWxsIGRlY2xhcmF0aW9ucyBoYXZlIHJlc29sdmVkIHlldCBhdCB0aGUgbW9tZW50IHRoZVxuICAgIC8vIE5nTW9kdWxlIGRlY29yYXRvciBpcyBleGVjdXRpbmcsIHdlJ3JlIGVucXVldWVpbmcgdGhlIHNldHRpbmcgb2YgbW9kdWxlIHNjb3BlXG4gICAgLy8gb24gaXRzIGRlY2xhcmF0aW9ucyB0byBiZSBydW4gYXQgYSBsYXRlciB0aW1lIHdoZW4gYWxsIGRlY2xhcmF0aW9ucyBmb3IgdGhlIG1vZHVsZSxcbiAgICAvLyBpbmNsdWRpbmcgZm9yd2FyZCByZWZzLCBoYXZlIHJlc29sdmVkLlxuICAgIGVucXVldWVNb2R1bGVGb3JEZWxheWVkU2NvcGluZyhtb2R1bGVUeXBlLCBuZ01vZHVsZSk7XG59XG4vKipcbiAqIENvbXBpbGVzIGFuZCBhZGRzIHRoZSBgbmdNb2R1bGVEZWZgIGFuZCBgbmdJbmplY3RvckRlZmAgcHJvcGVydGllcyB0byB0aGUgbW9kdWxlIGNsYXNzLlxuICovXG5mdW5jdGlvbiBjb21waWxlTmdNb2R1bGVEZWZzKG1vZHVsZVR5cGUsIG5nTW9kdWxlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydERlZmluZWQobW9kdWxlVHlwZSwgJ1JlcXVpcmVkIHZhbHVlIG1vZHVsZVR5cGUnKTtcbiAgICBuZ0Rldk1vZGUgJiYgYXNzZXJ0RGVmaW5lZChuZ01vZHVsZSwgJ1JlcXVpcmVkIHZhbHVlIG5nTW9kdWxlJyk7XG4gICAgdmFyIGRlY2xhcmF0aW9ucyA9IGZsYXR0ZW4kMShuZ01vZHVsZS5kZWNsYXJhdGlvbnMgfHwgRU1QVFlfQVJSQVkkMik7XG4gICAgdmFyIG5nTW9kdWxlRGVmID0gbnVsbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlVHlwZSwgTkdfTU9EVUxFX0RFRiwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG5nTW9kdWxlRGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbmdNb2R1bGVEZWYgPSBnZXRDb21waWxlckZhY2FkZSgpLmNvbXBpbGVOZ01vZHVsZShhbmd1bGFyQ29yZUVudiwgXCJuZzovL1wiICsgbW9kdWxlVHlwZS5uYW1lICsgXCIvbmdNb2R1bGVEZWYuanNcIiwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtb2R1bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBib290c3RyYXA6IGZsYXR0ZW4kMShuZ01vZHVsZS5ib290c3RyYXAgfHwgRU1QVFlfQVJSQVkkMiwgcmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucy5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBmbGF0dGVuJDEobmdNb2R1bGUuaW1wb3J0cyB8fCBFTVBUWV9BUlJBWSQyLCByZXNvbHZlRm9yd2FyZFJlZilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZXhwYW5kTW9kdWxlV2l0aFByb3ZpZGVycyksXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydHM6IGZsYXR0ZW4kMShuZ01vZHVsZS5leHBvcnRzIHx8IEVNUFRZX0FSUkFZJDIsIHJlc29sdmVGb3J3YXJkUmVmKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChleHBhbmRNb2R1bGVXaXRoUHJvdmlkZXJzKSxcbiAgICAgICAgICAgICAgICAgICAgZW1pdElubGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ01vZHVsZURlZjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChuZ01vZHVsZS5pZCkge1xuICAgICAgICByZWdpc3Rlck5nTW9kdWxlVHlwZShuZ01vZHVsZS5pZCwgbW9kdWxlVHlwZSk7XG4gICAgfVxuICAgIHZhciBuZ0luamVjdG9yRGVmID0gbnVsbDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlVHlwZSwgTkdfSU5KRUNUT1JfREVGLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG5nSW5qZWN0b3JEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBuZ0Rldk1vZGUgJiYgdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2R1bGVUeXBlKTtcbiAgICAgICAgICAgICAgICB2YXIgbWV0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbW9kdWxlVHlwZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtb2R1bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKG1vZHVsZVR5cGUpLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IG5nTW9kdWxlLnByb3ZpZGVycyB8fCBFTVBUWV9BUlJBWSQyLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAobmdNb2R1bGUuaW1wb3J0cyB8fCBFTVBUWV9BUlJBWSQyKS5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKG5nTW9kdWxlLmV4cG9ydHMgfHwgRU1QVFlfQVJSQVkkMikubWFwKHJlc29sdmVGb3J3YXJkUmVmKSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG5nSW5qZWN0b3JEZWYgPSBnZXRDb21waWxlckZhY2FkZSgpLmNvbXBpbGVJbmplY3Rvcihhbmd1bGFyQ29yZUVudiwgXCJuZzovL1wiICsgbW9kdWxlVHlwZS5uYW1lICsgXCIvbmdJbmplY3RvckRlZi5qc1wiLCBtZXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0luamVjdG9yRGVmO1xuICAgICAgICB9LFxuICAgICAgICAvLyBNYWtlIHRoZSBwcm9wZXJ0eSBjb25maWd1cmFibGUgaW4gZGV2IG1vZGUgdG8gYWxsb3cgb3ZlcnJpZGluZyBpbiB0ZXN0c1xuICAgICAgICBjb25maWd1cmFibGU6ICEhbmdEZXZNb2RlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gdmVyaWZ5U2VtYW50aWNzT2ZOZ01vZHVsZURlZihtb2R1bGVUeXBlKSB7XG4gICAgaWYgKHZlcmlmaWVkTmdNb2R1bGUuZ2V0KG1vZHVsZVR5cGUpKVxuICAgICAgICByZXR1cm47XG4gICAgdmVyaWZpZWROZ01vZHVsZS5zZXQobW9kdWxlVHlwZSwgdHJ1ZSk7XG4gICAgbW9kdWxlVHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKG1vZHVsZVR5cGUpO1xuICAgIHZhciBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUsIHRydWUpO1xuICAgIHZhciBlcnJvcnMgPSBbXTtcbiAgICBuZ01vZHVsZURlZi5kZWNsYXJhdGlvbnMuZm9yRWFjaCh2ZXJpZnlEZWNsYXJhdGlvbnNIYXZlRGVmaW5pdGlvbnMpO1xuICAgIHZhciBjb21iaW5lZERlY2xhcmF0aW9ucyA9IF9fc3ByZWFkKG5nTW9kdWxlRGVmLmRlY2xhcmF0aW9ucy5tYXAocmVzb2x2ZUZvcndhcmRSZWYpLCBmbGF0dGVuJDEobmdNb2R1bGVEZWYuaW1wb3J0cy5tYXAoY29tcHV0ZUNvbWJpbmVkRXhwb3J0cyksIHJlc29sdmVGb3J3YXJkUmVmKSk7XG4gICAgbmdNb2R1bGVEZWYuZXhwb3J0cy5mb3JFYWNoKHZlcmlmeUV4cG9ydHNBcmVEZWNsYXJlZE9yUmVFeHBvcnRlZCk7XG4gICAgbmdNb2R1bGVEZWYuZGVjbGFyYXRpb25zLmZvckVhY2godmVyaWZ5RGVjbGFyYXRpb25Jc1VuaXF1ZSk7XG4gICAgbmdNb2R1bGVEZWYuZGVjbGFyYXRpb25zLmZvckVhY2godmVyaWZ5Q29tcG9uZW50RW50cnlDb21wb25lbnRzSXNQYXJ0T2ZOZ01vZHVsZSk7XG4gICAgdmFyIG5nTW9kdWxlID0gZ2V0QW5ub3RhdGlvbihtb2R1bGVUeXBlLCAnTmdNb2R1bGUnKTtcbiAgICBpZiAobmdNb2R1bGUpIHtcbiAgICAgICAgbmdNb2R1bGUuaW1wb3J0cyAmJlxuICAgICAgICAgICAgZmxhdHRlbiQxKG5nTW9kdWxlLmltcG9ydHMsIHVud3JhcE1vZHVsZVdpdGhQcm92aWRlcnNJbXBvcnRzKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYpO1xuICAgICAgICBuZ01vZHVsZS5ib290c3RyYXAgJiYgbmdNb2R1bGUuYm9vdHN0cmFwLmZvckVhY2godmVyaWZ5Q29tcG9uZW50SXNQYXJ0T2ZOZ01vZHVsZSk7XG4gICAgICAgIG5nTW9kdWxlLmVudHJ5Q29tcG9uZW50cyAmJiBuZ01vZHVsZS5lbnRyeUNvbXBvbmVudHMuZm9yRWFjaCh2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKTtcbiAgICB9XG4gICAgLy8gVGhyb3cgRXJyb3IgaWYgYW55IGVycm9ycyB3ZXJlIGRldGVjdGVkLlxuICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcnMuam9pbignXFxuJykpO1xuICAgIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICBmdW5jdGlvbiB2ZXJpZnlEZWNsYXJhdGlvbnNIYXZlRGVmaW5pdGlvbnModHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIHZhciBkZWYgPSBnZXRDb21wb25lbnREZWYodHlwZSkgfHwgZ2V0RGlyZWN0aXZlRGVmKHR5cGUpIHx8IGdldFBpcGVEZWYodHlwZSk7XG4gICAgICAgIGlmICghZGVmKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChcIlVuZXhwZWN0ZWQgdmFsdWUgJ1wiICsgc3RyaW5naWZ5JDEodHlwZSkgKyBcIicgZGVjbGFyZWQgYnkgdGhlIG1vZHVsZSAnXCIgKyBzdHJpbmdpZnkkMShtb2R1bGVUeXBlKSArIFwiJy4gUGxlYXNlIGFkZCBhIEBQaXBlL0BEaXJlY3RpdmUvQENvbXBvbmVudCBhbm5vdGF0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlFeHBvcnRzQXJlRGVjbGFyZWRPclJlRXhwb3J0ZWQodHlwZSkge1xuICAgICAgICB0eXBlID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZSk7XG4gICAgICAgIHZhciBraW5kID0gZ2V0Q29tcG9uZW50RGVmKHR5cGUpICYmICdjb21wb25lbnQnIHx8IGdldERpcmVjdGl2ZURlZih0eXBlKSAmJiAnZGlyZWN0aXZlJyB8fFxuICAgICAgICAgICAgZ2V0UGlwZURlZih0eXBlKSAmJiAncGlwZSc7XG4gICAgICAgIGlmIChraW5kKSB7XG4gICAgICAgICAgICAvLyBvbmx5IGNoZWNrZWQgaWYgd2UgYXJlIGRlY2xhcmVkIGFzIENvbXBvbmVudCwgRGlyZWN0aXZlLCBvciBQaXBlXG4gICAgICAgICAgICAvLyBNb2R1bGVzIGRvbid0IG5lZWQgdG8gYmUgZGVjbGFyZWQgb3IgaW1wb3J0ZWQuXG4gICAgICAgICAgICBpZiAoY29tYmluZWREZWNsYXJhdGlvbnMubGFzdEluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGV4cG9ydGluZyBzb21ldGhpbmcgd2hpY2ggd2UgZG9uJ3QgZXhwbGljaXRseSBkZWNsYXJlIG9yIGltcG9ydC5cbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChcIkNhbid0IGV4cG9ydCBcIiArIGtpbmQgKyBcIiBcIiArIHN0cmluZ2lmeSQxKHR5cGUpICsgXCIgZnJvbSBcIiArIHN0cmluZ2lmeSQxKG1vZHVsZVR5cGUpICsgXCIgYXMgaXQgd2FzIG5laXRoZXIgZGVjbGFyZWQgbm9yIGltcG9ydGVkIVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlEZWNsYXJhdGlvbklzVW5pcXVlKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICB2YXIgZXhpc3RpbmdNb2R1bGUgPSBvd25lck5nTW9kdWxlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nTW9kdWxlICYmIGV4aXN0aW5nTW9kdWxlICE9PSBtb2R1bGVUeXBlKSB7XG4gICAgICAgICAgICB2YXIgbW9kdWxlcyA9IFtleGlzdGluZ01vZHVsZSwgbW9kdWxlVHlwZV0ubWFwKHN0cmluZ2lmeSQxKS5zb3J0KCk7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChcIlR5cGUgXCIgKyBzdHJpbmdpZnkkMSh0eXBlKSArIFwiIGlzIHBhcnQgb2YgdGhlIGRlY2xhcmF0aW9ucyBvZiAyIG1vZHVsZXM6IFwiICsgbW9kdWxlc1swXSArIFwiIGFuZCBcIiArIG1vZHVsZXNbMV0gKyBcIiEgXCIgK1xuICAgICAgICAgICAgICAgIChcIlBsZWFzZSBjb25zaWRlciBtb3ZpbmcgXCIgKyBzdHJpbmdpZnkkMSh0eXBlKSArIFwiIHRvIGEgaGlnaGVyIG1vZHVsZSB0aGF0IGltcG9ydHMgXCIgKyBtb2R1bGVzWzBdICsgXCIgYW5kIFwiICsgbW9kdWxlc1sxXSArIFwiLiBcIikgK1xuICAgICAgICAgICAgICAgIChcIllvdSBjYW4gYWxzbyBjcmVhdGUgYSBuZXcgTmdNb2R1bGUgdGhhdCBleHBvcnRzIGFuZCBpbmNsdWRlcyBcIiArIHN0cmluZ2lmeSQxKHR5cGUpICsgXCIgdGhlbiBpbXBvcnQgdGhhdCBOZ01vZHVsZSBpbiBcIiArIG1vZHVsZXNbMF0gKyBcIiBhbmQgXCIgKyBtb2R1bGVzWzFdICsgXCIuXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE1hcmsgdHlwZSBhcyBoYXZpbmcgb3duZXIuXG4gICAgICAgICAgICBvd25lck5nTW9kdWxlLnNldCh0eXBlLCBtb2R1bGVUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICB2YXIgZXhpc3RpbmdNb2R1bGUgPSBvd25lck5nTW9kdWxlLmdldCh0eXBlKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ01vZHVsZSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goXCJDb21wb25lbnQgXCIgKyBzdHJpbmdpZnkkMSh0eXBlKSArIFwiIGlzIG5vdCBwYXJ0IG9mIGFueSBOZ01vZHVsZSBvciB0aGUgbW9kdWxlIGhhcyBub3QgYmVlbiBpbXBvcnRlZCBpbnRvIHlvdXIgbW9kdWxlLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2ZXJpZnlDb21wb25lbnRFbnRyeUNvbXBvbmVudHNJc1BhcnRPZk5nTW9kdWxlKHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmKHR5cGUpO1xuICAgICAgICBpZiAoZ2V0Q29tcG9uZW50RGVmKHR5cGUpKSB7XG4gICAgICAgICAgICAvLyBXZSBrbm93IHdlIGFyZSBjb21wb25lbnRcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBnZXRBbm5vdGF0aW9uKHR5cGUsICdDb21wb25lbnQnKTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LmVudHJ5Q29tcG9uZW50cykge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5lbnRyeUNvbXBvbmVudHMuZm9yRWFjaCh2ZXJpZnlDb21wb25lbnRJc1BhcnRPZk5nTW9kdWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHVud3JhcE1vZHVsZVdpdGhQcm92aWRlcnNJbXBvcnRzKHR5cGVPcldpdGhQcm92aWRlcnMpIHtcbiAgICB0eXBlT3JXaXRoUHJvdmlkZXJzID0gcmVzb2x2ZUZvcndhcmRSZWYodHlwZU9yV2l0aFByb3ZpZGVycyk7XG4gICAgcmV0dXJuIHR5cGVPcldpdGhQcm92aWRlcnMubmdNb2R1bGUgfHwgdHlwZU9yV2l0aFByb3ZpZGVycztcbn1cbmZ1bmN0aW9uIGdldEFubm90YXRpb24odHlwZSwgbmFtZSkge1xuICAgIHZhciBhbm5vdGF0aW9uID0gbnVsbDtcbiAgICBjb2xsZWN0KHR5cGUuX19hbm5vdGF0aW9uc19fKTtcbiAgICBjb2xsZWN0KHR5cGUuZGVjb3JhdG9ycyk7XG4gICAgcmV0dXJuIGFubm90YXRpb247XG4gICAgZnVuY3Rpb24gY29sbGVjdChhbm5vdGF0aW9ucykge1xuICAgICAgICBpZiAoYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgIGFubm90YXRpb25zLmZvckVhY2gocmVhZEFubm90YXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRBbm5vdGF0aW9uKGRlY29yYXRvcikge1xuICAgICAgICBpZiAoIWFubm90YXRpb24pIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihkZWNvcmF0b3IpO1xuICAgICAgICAgICAgaWYgKHByb3RvLm5nTWV0YWRhdGFOYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uID0gZGVjb3JhdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGVjb3JhdG9yLnR5cGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvdG9fMSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihkZWNvcmF0b3IudHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKHByb3RvXzEubmdNZXRhZGF0YU5hbWUgPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uID0gZGVjb3JhdG9yLmFyZ3NbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBLZWVwIHRyYWNrIG9mIGNvbXBpbGVkIGNvbXBvbmVudHMuIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgaW4gdGVzdHMgd2Ugb2Z0ZW4gd2FudCB0byBjb21waWxlIHRoZVxuICogc2FtZSBjb21wb25lbnQgd2l0aCBtb3JlIHRoYW4gb25lIE5nTW9kdWxlLiBUaGlzIHdvdWxkIGNhdXNlIGFuIGVycm9yIHVubGVzcyB3ZSByZXNldCB3aGljaFxuICogTmdNb2R1bGUgdGhlIGNvbXBvbmVudCBiZWxvbmdzIHRvLiBXZSBrZWVwIHRoZSBsaXN0IG9mIGNvbXBpbGVkIGNvbXBvbmVudHMgaGVyZSBzbyB0aGF0IHRoZVxuICogVGVzdEJlZCBjYW4gcmVzZXQgaXQgbGF0ZXIuXG4gKi9cbnZhciBvd25lck5nTW9kdWxlID0gbmV3IE1hcCgpO1xudmFyIHZlcmlmaWVkTmdNb2R1bGUgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiByZXNldENvbXBpbGVkQ29tcG9uZW50cygpIHtcbiAgICBvd25lck5nTW9kdWxlID0gbmV3IE1hcCgpO1xuICAgIHZlcmlmaWVkTmdNb2R1bGUgPSBuZXcgTWFwKCk7XG4gICAgbW9kdWxlUXVldWUubGVuZ3RoID0gMDtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNvbWJpbmVkIGRlY2xhcmF0aW9ucyBvZiBleHBsaWNpdCBkZWNsYXJhdGlvbnMsIGFzIHdlbGwgYXMgZGVjbGFyYXRpb25zIGluaGVyaXRlZFxuICogYnlcbiAqIHRyYXZlcnNpbmcgdGhlIGV4cG9ydHMgb2YgaW1wb3J0ZWQgbW9kdWxlcy5cbiAqIEBwYXJhbSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVDb21iaW5lZEV4cG9ydHModHlwZSkge1xuICAgIHR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZih0eXBlKTtcbiAgICB2YXIgbmdNb2R1bGVEZWYgPSBnZXROZ01vZHVsZURlZih0eXBlLCB0cnVlKTtcbiAgICByZXR1cm4gX19zcHJlYWQoZmxhdHRlbiQxKG5nTW9kdWxlRGVmLmV4cG9ydHMubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHZhciBuZ01vZHVsZURlZiA9IGdldE5nTW9kdWxlRGVmKHR5cGUpO1xuICAgICAgICBpZiAobmdNb2R1bGVEZWYpIHtcbiAgICAgICAgICAgIHZlcmlmeVNlbWFudGljc09mTmdNb2R1bGVEZWYodHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZUNvbWJpbmVkRXhwb3J0cyh0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICB9XG4gICAgfSkpKTtcbn1cbi8qKlxuICogU29tZSBkZWNsYXJlZCBjb21wb25lbnRzIG1heSBiZSBjb21waWxlZCBhc3luY2hyb25vdXNseSwgYW5kIHRodXMgbWF5IG5vdCBoYXZlIHRoZWlyXG4gKiBuZ0NvbXBvbmVudERlZiBzZXQgeWV0LiBJZiB0aGlzIGlzIHRoZSBjYXNlLCB0aGVuIGEgcmVmZXJlbmNlIHRvIHRoZSBtb2R1bGUgaXMgd3JpdHRlbiBpbnRvXG4gKiB0aGUgYG5nU2VsZWN0b3JTY29wZWAgcHJvcGVydHkgb2YgdGhlIGRlY2xhcmVkIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIHNldFNjb3BlT25EZWNsYXJlZENvbXBvbmVudHMobW9kdWxlVHlwZSwgbmdNb2R1bGUpIHtcbiAgICB2YXIgZGVjbGFyYXRpb25zID0gZmxhdHRlbiQxKG5nTW9kdWxlLmRlY2xhcmF0aW9ucyB8fCBFTVBUWV9BUlJBWSQyKTtcbiAgICB2YXIgdHJhbnNpdGl2ZVNjb3BlcyA9IHRyYW5zaXRpdmVTY29wZXNGb3IobW9kdWxlVHlwZSk7XG4gICAgZGVjbGFyYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGRlY2xhcmF0aW9uKSB7XG4gICAgICAgIGlmIChkZWNsYXJhdGlvbi5oYXNPd25Qcm9wZXJ0eShOR19DT01QT05FTlRfREVGKSkge1xuICAgICAgICAgICAgLy8gQW4gYG5nQ29tcG9uZW50RGVmYCBmaWVsZCBleGlzdHMgLSBnbyBhaGVhZCBhbmQgcGF0Y2ggdGhlIGNvbXBvbmVudCBkaXJlY3RseS5cbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBkZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIHZhciBjb21wb25lbnREZWYgPSBnZXRDb21wb25lbnREZWYoY29tcG9uZW50KTtcbiAgICAgICAgICAgIHBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlKGNvbXBvbmVudERlZiwgdHJhbnNpdGl2ZVNjb3Blcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWRlY2xhcmF0aW9uLmhhc093blByb3BlcnR5KE5HX0RJUkVDVElWRV9ERUYpICYmICFkZWNsYXJhdGlvbi5oYXNPd25Qcm9wZXJ0eShOR19QSVBFX0RFRikpIHtcbiAgICAgICAgICAgIC8vIFNldCBgbmdTZWxlY3RvclNjb3BlYCBmb3IgZnV0dXJlIHJlZmVyZW5jZSB3aGVuIHRoZSBjb21wb25lbnQgY29tcGlsYXRpb24gZmluaXNoZXMuXG4gICAgICAgICAgICBkZWNsYXJhdGlvbi5uZ1NlbGVjdG9yU2NvcGUgPSBtb2R1bGVUeXBlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFBhdGNoIHRoZSBkZWZpbml0aW9uIG9mIGEgY29tcG9uZW50IHdpdGggZGlyZWN0aXZlcyBhbmQgcGlwZXMgZnJvbSB0aGUgY29tcGlsYXRpb24gc2NvcGUgb2ZcbiAqIGEgZ2l2ZW4gbW9kdWxlLlxuICovXG5mdW5jdGlvbiBwYXRjaENvbXBvbmVudERlZldpdGhTY29wZShjb21wb25lbnREZWYsIHRyYW5zaXRpdmVTY29wZXMpIHtcbiAgICBjb21wb25lbnREZWYuZGlyZWN0aXZlRGVmcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFycmF5LmZyb20odHJhbnNpdGl2ZVNjb3Blcy5jb21waWxhdGlvbi5kaXJlY3RpdmVzKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChkaXIpIHsgcmV0dXJuIGdldERpcmVjdGl2ZURlZihkaXIpIHx8IGdldENvbXBvbmVudERlZihkaXIpOyB9KVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChkZWYpIHsgcmV0dXJuICEhZGVmOyB9KTsgfTtcbiAgICBjb21wb25lbnREZWYucGlwZURlZnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRyYW5zaXRpdmVTY29wZXMuY29tcGlsYXRpb24ucGlwZXMpLm1hcChmdW5jdGlvbiAocGlwZSkgeyByZXR1cm4gZ2V0UGlwZURlZihwaXBlKTsgfSk7XG4gICAgfTtcbn1cbi8qKlxuICogQ29tcHV0ZSB0aGUgcGFpciBvZiB0cmFuc2l0aXZlIHNjb3BlcyAoY29tcGlsYXRpb24gc2NvcGUgYW5kIGV4cG9ydGVkIHNjb3BlKSBmb3IgYSBnaXZlbiBtb2R1bGUuXG4gKlxuICogVGhpcyBvcGVyYXRpb24gaXMgbWVtb2l6ZWQgYW5kIHRoZSByZXN1bHQgaXMgY2FjaGVkIG9uIHRoZSBtb2R1bGUncyBkZWZpbml0aW9uLiBJdCBjYW4gYmUgY2FsbGVkXG4gKiBvbiBtb2R1bGVzIHdpdGggY29tcG9uZW50cyB0aGF0IGhhdmUgbm90IGZ1bGx5IGNvbXBpbGVkIHlldCwgYnV0IHRoZSByZXN1bHQgc2hvdWxkIG5vdCBiZSB1c2VkXG4gKiB1bnRpbCB0aGV5IGhhdmUuXG4gKi9cbmZ1bmN0aW9uIHRyYW5zaXRpdmVTY29wZXNGb3IobW9kdWxlVHlwZSkge1xuICAgIGlmICghaXNOZ01vZHVsZShtb2R1bGVUeXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobW9kdWxlVHlwZS5uYW1lICsgXCIgZG9lcyBub3QgaGF2ZSBhbiBuZ01vZHVsZURlZlwiKTtcbiAgICB9XG4gICAgdmFyIGRlZiA9IGdldE5nTW9kdWxlRGVmKG1vZHVsZVR5cGUpO1xuICAgIGlmIChkZWYudHJhbnNpdGl2ZUNvbXBpbGVTY29wZXMgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGRlZi50cmFuc2l0aXZlQ29tcGlsZVNjb3BlcztcbiAgICB9XG4gICAgdmFyIHNjb3BlcyA9IHtcbiAgICAgICAgY29tcGlsYXRpb246IHtcbiAgICAgICAgICAgIGRpcmVjdGl2ZXM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIHBpcGVzOiBuZXcgU2V0KCksXG4gICAgICAgIH0sXG4gICAgICAgIGV4cG9ydGVkOiB7XG4gICAgICAgICAgICBkaXJlY3RpdmVzOiBuZXcgU2V0KCksXG4gICAgICAgICAgICBwaXBlczogbmV3IFNldCgpLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgZGVmLmRlY2xhcmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkZWNsYXJlZCkge1xuICAgICAgICB2YXIgZGVjbGFyZWRXaXRoRGVmcyA9IGRlY2xhcmVkO1xuICAgICAgICBpZiAoZ2V0UGlwZURlZihkZWNsYXJlZFdpdGhEZWZzKSkge1xuICAgICAgICAgICAgc2NvcGVzLmNvbXBpbGF0aW9uLnBpcGVzLmFkZChkZWNsYXJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBFaXRoZXIgZGVjbGFyZWQgaGFzIGFuIG5nQ29tcG9uZW50RGVmIG9yIG5nRGlyZWN0aXZlRGVmLCBvciBpdCdzIGEgY29tcG9uZW50IHdoaWNoIGhhc24ndFxuICAgICAgICAgICAgLy8gaGFkIGl0cyB0ZW1wbGF0ZSBjb21waWxlZCB5ZXQuIEluIGVpdGhlciBjYXNlLCBpdCBnZXRzIGFkZGVkIHRvIHRoZSBjb21waWxhdGlvbidzXG4gICAgICAgICAgICAvLyBkaXJlY3RpdmVzLlxuICAgICAgICAgICAgc2NvcGVzLmNvbXBpbGF0aW9uLmRpcmVjdGl2ZXMuYWRkKGRlY2xhcmVkKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRlZi5pbXBvcnRzLmZvckVhY2goZnVuY3Rpb24gKGltcG9ydGVkKSB7XG4gICAgICAgIHZhciBpbXBvcnRlZFR5cGVkID0gaW1wb3J0ZWQ7XG4gICAgICAgIGlmICghaXNOZ01vZHVsZShpbXBvcnRlZFR5cGVkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW1wb3J0aW5nIFwiICsgaW1wb3J0ZWRUeXBlZC5uYW1lICsgXCIgd2hpY2ggZG9lcyBub3QgaGF2ZSBhbiBuZ01vZHVsZURlZlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoaXMgbW9kdWxlIGltcG9ydHMgYW5vdGhlciwgdGhlIGltcG9ydGVkIG1vZHVsZSdzIGV4cG9ydGVkIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGFyZVxuICAgICAgICAvLyBhZGRlZCB0byB0aGUgY29tcGlsYXRpb24gc2NvcGUgb2YgdGhpcyBtb2R1bGUuXG4gICAgICAgIHZhciBpbXBvcnRlZFNjb3BlID0gdHJhbnNpdGl2ZVNjb3Blc0ZvcihpbXBvcnRlZFR5cGVkKTtcbiAgICAgICAgaW1wb3J0ZWRTY29wZS5leHBvcnRlZC5kaXJlY3RpdmVzLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBzY29wZXMuY29tcGlsYXRpb24uZGlyZWN0aXZlcy5hZGQoZW50cnkpOyB9KTtcbiAgICAgICAgaW1wb3J0ZWRTY29wZS5leHBvcnRlZC5waXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gc2NvcGVzLmNvbXBpbGF0aW9uLnBpcGVzLmFkZChlbnRyeSk7IH0pO1xuICAgIH0pO1xuICAgIGRlZi5leHBvcnRzLmZvckVhY2goZnVuY3Rpb24gKGV4cG9ydGVkKSB7XG4gICAgICAgIHZhciBleHBvcnRlZFR5cGVkID0gZXhwb3J0ZWQ7XG4gICAgICAgIC8vIEVpdGhlciB0aGUgdHlwZSBpcyBhIG1vZHVsZSwgYSBwaXBlLCBvciBhIGNvbXBvbmVudC9kaXJlY3RpdmUgKHdoaWNoIG1heSBub3QgaGF2ZSBhblxuICAgICAgICAvLyBuZ0NvbXBvbmVudERlZiBhcyBpdCBtaWdodCBiZSBjb21waWxlZCBhc3luY2hyb25vdXNseSkuXG4gICAgICAgIGlmIChpc05nTW9kdWxlKGV4cG9ydGVkVHlwZWQpKSB7XG4gICAgICAgICAgICAvLyBXaGVuIHRoaXMgbW9kdWxlIGV4cG9ydHMgYW5vdGhlciwgdGhlIGV4cG9ydGVkIG1vZHVsZSdzIGV4cG9ydGVkIGRpcmVjdGl2ZXMgYW5kIHBpcGVzIGFyZVxuICAgICAgICAgICAgLy8gYWRkZWQgdG8gYm90aCB0aGUgY29tcGlsYXRpb24gYW5kIGV4cG9ydGVkIHNjb3BlcyBvZiB0aGlzIG1vZHVsZS5cbiAgICAgICAgICAgIHZhciBleHBvcnRlZFNjb3BlID0gdHJhbnNpdGl2ZVNjb3Blc0ZvcihleHBvcnRlZFR5cGVkKTtcbiAgICAgICAgICAgIGV4cG9ydGVkU2NvcGUuZXhwb3J0ZWQuZGlyZWN0aXZlcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIHNjb3Blcy5jb21waWxhdGlvbi5kaXJlY3RpdmVzLmFkZChlbnRyeSk7XG4gICAgICAgICAgICAgICAgc2NvcGVzLmV4cG9ydGVkLmRpcmVjdGl2ZXMuYWRkKGVudHJ5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwb3J0ZWRTY29wZS5leHBvcnRlZC5waXBlcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIHNjb3Blcy5jb21waWxhdGlvbi5waXBlcy5hZGQoZW50cnkpO1xuICAgICAgICAgICAgICAgIHNjb3Blcy5leHBvcnRlZC5waXBlcy5hZGQoZW50cnkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2V0UGlwZURlZihleHBvcnRlZFR5cGVkKSkge1xuICAgICAgICAgICAgc2NvcGVzLmV4cG9ydGVkLnBpcGVzLmFkZChleHBvcnRlZFR5cGVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNjb3Blcy5leHBvcnRlZC5kaXJlY3RpdmVzLmFkZChleHBvcnRlZFR5cGVkKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRlZi50cmFuc2l0aXZlQ29tcGlsZVNjb3BlcyA9IHNjb3BlcztcbiAgICByZXR1cm4gc2NvcGVzO1xufVxuZnVuY3Rpb24gZmxhdHRlbiQxKHZhbHVlcywgbWFwRm4pIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgb3V0LnB1c2guYXBwbHkob3V0LCBfX3NwcmVhZChmbGF0dGVuJDEodmFsdWUsIG1hcEZuKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3V0LnB1c2gobWFwRm4gPyBtYXBGbih2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb3V0O1xufVxuZnVuY3Rpb24gZXhwYW5kTW9kdWxlV2l0aFByb3ZpZGVycyh2YWx1ZSkge1xuICAgIGlmIChpc01vZHVsZVdpdGhQcm92aWRlcnModmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5uZ01vZHVsZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gaXNNb2R1bGVXaXRoUHJvdmlkZXJzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLm5nTW9kdWxlICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc05nTW9kdWxlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhZ2V0TmdNb2R1bGVEZWYodmFsdWUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbXBpbGUgYW4gQW5ndWxhciBjb21wb25lbnQgYWNjb3JkaW5nIHRvIGl0cyBkZWNvcmF0b3IgbWV0YWRhdGEsIGFuZCBwYXRjaCB0aGUgcmVzdWx0aW5nXG4gKiBuZ0NvbXBvbmVudERlZiBvbnRvIHRoZSBjb21wb25lbnQgdHlwZS5cbiAqXG4gKiBDb21waWxhdGlvbiBtYXkgYmUgYXN5bmNocm9ub3VzIChkdWUgdG8gdGhlIG5lZWQgdG8gcmVzb2x2ZSBVUkxzIGZvciB0aGUgY29tcG9uZW50IHRlbXBsYXRlIG9yXG4gKiBvdGhlciByZXNvdXJjZXMsIGZvciBleGFtcGxlKS4gSW4gdGhlIGV2ZW50IHRoYXQgY29tcGlsYXRpb24gaXMgbm90IGltbWVkaWF0ZSwgYGNvbXBpbGVDb21wb25lbnRgXG4gKiB3aWxsIGVucXVldWUgcmVzb3VyY2UgcmVzb2x1dGlvbiBpbnRvIGEgZ2xvYmFsIHF1ZXVlIGFuZCB3aWxsIGZhaWwgdG8gcmV0dXJuIHRoZSBgbmdDb21wb25lbnREZWZgXG4gKiB1bnRpbCB0aGUgZ2xvYmFsIHF1ZXVlIGhhcyBiZWVuIHJlc29sdmVkIHdpdGggYSBjYWxsIHRvIGByZXNvbHZlQ29tcG9uZW50UmVzb3VyY2VzYC5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZUNvbXBvbmVudCh0eXBlLCBtZXRhZGF0YSkge1xuICAgIHZhciBuZ0NvbXBvbmVudERlZiA9IG51bGw7XG4gICAgLy8gTWV0YWRhdGEgbWF5IGhhdmUgcmVzb3VyY2VzIHdoaWNoIG5lZWQgdG8gYmUgcmVzb2x2ZWQuXG4gICAgbWF5YmVRdWV1ZVJlc29sdXRpb25PZkNvbXBvbmVudFJlc291cmNlcyhtZXRhZGF0YSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0NPTVBPTkVOVF9ERUYsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29tcGlsZXIgPSBnZXRDb21waWxlckZhY2FkZSgpO1xuICAgICAgICAgICAgaWYgKG5nQ29tcG9uZW50RGVmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudE5lZWRzUmVzb2x1dGlvbihtZXRhZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gW1wiQ29tcG9uZW50ICdcIiArIHN0cmluZ2lmeSQxKHR5cGUpICsgXCInIGlzIG5vdCByZXNvbHZlZDpcIl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZXRhZGF0YS50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IucHVzaChcIiAtIHRlbXBsYXRlVXJsOiBcIiArIHN0cmluZ2lmeSQxKG1ldGFkYXRhLnRlbXBsYXRlVXJsKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhLnN0eWxlVXJscyAmJiBtZXRhZGF0YS5zdHlsZVVybHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5wdXNoKFwiIC0gc3R5bGVVcmxzOiBcIiArIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhLnN0eWxlVXJscykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLnB1c2goXCJEaWQgeW91IHJ1biBhbmQgd2FpdCBmb3IgJ3Jlc29sdmVDb21wb25lbnRSZXNvdXJjZXMoKSc/XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3Iuam9pbignXFxuJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWV0YSA9IF9fYXNzaWduKHt9LCBkaXJlY3RpdmVNZXRhZGF0YSh0eXBlLCBtZXRhZGF0YSksIHsgdGVtcGxhdGU6IG1ldGFkYXRhLnRlbXBsYXRlIHx8ICcnLCBwcmVzZXJ2ZVdoaXRlc3BhY2VzOiBtZXRhZGF0YS5wcmVzZXJ2ZVdoaXRlc3BhY2VzIHx8IGZhbHNlLCBzdHlsZXM6IG1ldGFkYXRhLnN0eWxlcyB8fCBFTVBUWV9BUlJBWSwgYW5pbWF0aW9uczogbWV0YWRhdGEuYW5pbWF0aW9ucywgdmlld1F1ZXJpZXM6IGV4dHJhY3RRdWVyaWVzTWV0YWRhdGEodHlwZSwgZ2V0UmVmbGVjdCgpLnByb3BNZXRhZGF0YSh0eXBlKSwgaXNWaWV3UXVlcnkpLCBkaXJlY3RpdmVzOiBbXSwgY2hhbmdlRGV0ZWN0aW9uOiBtZXRhZGF0YS5jaGFuZ2VEZXRlY3Rpb24sIHBpcGVzOiBuZXcgTWFwKCksIGVuY2Fwc3VsYXRpb246IG1ldGFkYXRhLmVuY2Fwc3VsYXRpb24gfHwgVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWQsIGludGVycG9sYXRpb246IG1ldGFkYXRhLmludGVycG9sYXRpb24sIHZpZXdQcm92aWRlcnM6IG1ldGFkYXRhLnZpZXdQcm92aWRlcnMgfHwgbnVsbCB9KTtcbiAgICAgICAgICAgICAgICBuZ0NvbXBvbmVudERlZiA9IGNvbXBpbGVyLmNvbXBpbGVDb21wb25lbnQoYW5ndWxhckNvcmVFbnYsIFwibmc6Ly9cIiArIHN0cmluZ2lmeSQxKHR5cGUpICsgXCIvdGVtcGxhdGUuaHRtbFwiLCBtZXRhKTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIE5nTW9kdWxlIGRlY29yYXRvciBleGVjdXRlZCwgd2UgZW5xdWV1ZWQgdGhlIG1vZHVsZSBkZWZpbml0aW9uIHN1Y2ggdGhhdFxuICAgICAgICAgICAgICAgIC8vIGl0IHdvdWxkIG9ubHkgZGVxdWV1ZSBhbmQgYWRkIGl0c2VsZiBhcyBtb2R1bGUgc2NvcGUgdG8gYWxsIG9mIGl0cyBkZWNsYXJhdGlvbnMsXG4gICAgICAgICAgICAgICAgLy8gYnV0IG9ubHkgaWYgIGlmIGFsbCBvZiBpdHMgZGVjbGFyYXRpb25zIGhhZCByZXNvbHZlZC4gVGhpcyBjYWxsIHJ1bnMgdGhlIGNoZWNrXG4gICAgICAgICAgICAgICAgLy8gdG8gc2VlIGlmIGFueSBtb2R1bGVzIHRoYXQgYXJlIGluIHRoZSBxdWV1ZSBjYW4gYmUgZGVxdWV1ZWQgYW5kIGFkZCBzY29wZSB0b1xuICAgICAgICAgICAgICAgIC8vIHRoZWlyIGRlY2xhcmF0aW9ucy5cbiAgICAgICAgICAgICAgICBmbHVzaE1vZHVsZVNjb3BpbmdRdWV1ZUFzTXVjaEFzUG9zc2libGUoKTtcbiAgICAgICAgICAgICAgICAvLyBJZiBjb21wb25lbnQgY29tcGlsYXRpb24gaXMgYXN5bmMsIHRoZW4gdGhlIEBOZ01vZHVsZSBhbm5vdGF0aW9uIHdoaWNoIGRlY2xhcmVzIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgZXhlY3V0ZSBhbmQgc2V0IGFuIG5nU2VsZWN0b3JTY29wZSBwcm9wZXJ0eSBvbiB0aGUgY29tcG9uZW50IHR5cGUuIFRoaXNcbiAgICAgICAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbXBvbmVudCB0byBwYXRjaCBpdHNlbGYgd2l0aCBkaXJlY3RpdmVEZWZzIGZyb20gdGhlIG1vZHVsZSBhZnRlciBpdFxuICAgICAgICAgICAgICAgIC8vIGZpbmlzaGVzIGNvbXBpbGluZy5cbiAgICAgICAgICAgICAgICBpZiAoaGFzU2VsZWN0b3JTY29wZSh0eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2NvcGVzID0gdHJhbnNpdGl2ZVNjb3Blc0Zvcih0eXBlLm5nU2VsZWN0b3JTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlKG5nQ29tcG9uZW50RGVmLCBzY29wZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ0NvbXBvbmVudERlZjtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWFrZSB0aGUgcHJvcGVydHkgY29uZmlndXJhYmxlIGluIGRldiBtb2RlIHRvIGFsbG93IG92ZXJyaWRpbmcgaW4gdGVzdHNcbiAgICAgICAgY29uZmlndXJhYmxlOiAhIW5nRGV2TW9kZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhc1NlbGVjdG9yU2NvcGUoY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudC5uZ1NlbGVjdG9yU2NvcGUgIT09IHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQ29tcGlsZSBhbiBBbmd1bGFyIGRpcmVjdGl2ZSBhY2NvcmRpbmcgdG8gaXRzIGRlY29yYXRvciBtZXRhZGF0YSwgYW5kIHBhdGNoIHRoZSByZXN1bHRpbmdcbiAqIG5nRGlyZWN0aXZlRGVmIG9udG8gdGhlIGNvbXBvbmVudCB0eXBlLlxuICpcbiAqIEluIHRoZSBldmVudCB0aGF0IGNvbXBpbGF0aW9uIGlzIG5vdCBpbW1lZGlhdGUsIGBjb21waWxlRGlyZWN0aXZlYCB3aWxsIHJldHVybiBhIGBQcm9taXNlYCB3aGljaFxuICogd2lsbCByZXNvbHZlIHdoZW4gY29tcGlsYXRpb24gY29tcGxldGVzIGFuZCB0aGUgZGlyZWN0aXZlIGJlY29tZXMgdXNhYmxlLlxuICovXG5mdW5jdGlvbiBjb21waWxlRGlyZWN0aXZlKHR5cGUsIGRpcmVjdGl2ZSkge1xuICAgIHZhciBuZ0RpcmVjdGl2ZURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX0RJUkVDVElWRV9ERUYsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobmdEaXJlY3RpdmVEZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmFjYWRlID0gZGlyZWN0aXZlTWV0YWRhdGEodHlwZSwgZGlyZWN0aXZlKTtcbiAgICAgICAgICAgICAgICBuZ0RpcmVjdGl2ZURlZiA9IGdldENvbXBpbGVyRmFjYWRlKCkuY29tcGlsZURpcmVjdGl2ZShhbmd1bGFyQ29yZUVudiwgXCJuZzovL1wiICsgKHR5cGUgJiYgdHlwZS5uYW1lKSArIFwiL25nRGlyZWN0aXZlRGVmLmpzXCIsIGZhY2FkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmdEaXJlY3RpdmVEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBleHRlbmRzRGlyZWN0bHlGcm9tT2JqZWN0KHR5cGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHR5cGUucHJvdG90eXBlKSA9PT0gT2JqZWN0LnByb3RvdHlwZTtcbn1cbi8qKlxuICogRXh0cmFjdCB0aGUgYFIzRGlyZWN0aXZlTWV0YWRhdGFgIGZvciBhIHBhcnRpY3VsYXIgZGlyZWN0aXZlIChlaXRoZXIgYSBgRGlyZWN0aXZlYCBvciBhXG4gKiBgQ29tcG9uZW50YCkuXG4gKi9cbmZ1bmN0aW9uIGRpcmVjdGl2ZU1ldGFkYXRhKHR5cGUsIG1ldGFkYXRhKSB7XG4gICAgLy8gUmVmbGVjdCBpbnB1dHMgYW5kIG91dHB1dHMuXG4gICAgdmFyIHByb3BNZXRhZGF0YSA9IGdldFJlZmxlY3QoKS5wcm9wTWV0YWRhdGEodHlwZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICB0eXBlQXJndW1lbnRDb3VudDogMCxcbiAgICAgICAgc2VsZWN0b3I6IG1ldGFkYXRhLnNlbGVjdG9yLFxuICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpLFxuICAgICAgICBob3N0OiBtZXRhZGF0YS5ob3N0IHx8IEVNUFRZX09CSixcbiAgICAgICAgcHJvcE1ldGFkYXRhOiBwcm9wTWV0YWRhdGEsXG4gICAgICAgIGlucHV0czogbWV0YWRhdGEuaW5wdXRzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICBvdXRwdXRzOiBtZXRhZGF0YS5vdXRwdXRzIHx8IEVNUFRZX0FSUkFZLFxuICAgICAgICBxdWVyaWVzOiBleHRyYWN0UXVlcmllc01ldGFkYXRhKHR5cGUsIHByb3BNZXRhZGF0YSwgaXNDb250ZW50UXVlcnkpLFxuICAgICAgICBsaWZlY3ljbGU6IHtcbiAgICAgICAgICAgIHVzZXNPbkNoYW5nZXM6IHR5cGUucHJvdG90eXBlLm5nT25DaGFuZ2VzICE9PSB1bmRlZmluZWQsXG4gICAgICAgIH0sXG4gICAgICAgIHR5cGVTb3VyY2VTcGFuOiBudWxsLFxuICAgICAgICB1c2VzSW5oZXJpdGFuY2U6ICFleHRlbmRzRGlyZWN0bHlGcm9tT2JqZWN0KHR5cGUpLFxuICAgICAgICBleHBvcnRBczogbWV0YWRhdGEuZXhwb3J0QXMgfHwgbnVsbCxcbiAgICAgICAgcHJvdmlkZXJzOiBtZXRhZGF0YS5wcm92aWRlcnMgfHwgbnVsbCxcbiAgICB9O1xufVxuZnVuY3Rpb24gY29udmVydFRvUjNRdWVyeVByZWRpY2F0ZShzZWxlY3Rvcikge1xuICAgIHJldHVybiB0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnID8gc3BsaXRCeUNvbW1hKHNlbGVjdG9yKSA6IHJlc29sdmVGb3J3YXJkUmVmKHNlbGVjdG9yKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRUb1IzUXVlcnlNZXRhZGF0YShwcm9wZXJ0eU5hbWUsIGFubikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BlcnR5TmFtZTogcHJvcGVydHlOYW1lLFxuICAgICAgICBwcmVkaWNhdGU6IGNvbnZlcnRUb1IzUXVlcnlQcmVkaWNhdGUoYW5uLnNlbGVjdG9yKSxcbiAgICAgICAgZGVzY2VuZGFudHM6IGFubi5kZXNjZW5kYW50cyxcbiAgICAgICAgZmlyc3Q6IGFubi5maXJzdCxcbiAgICAgICAgcmVhZDogYW5uLnJlYWQgPyBhbm4ucmVhZCA6IG51bGxcbiAgICB9O1xufVxuZnVuY3Rpb24gZXh0cmFjdFF1ZXJpZXNNZXRhZGF0YSh0eXBlLCBwcm9wTWV0YWRhdGEsIGlzUXVlcnlBbm4pIHtcbiAgICB2YXIgcXVlcmllc01ldGEgPSBbXTtcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICBpZiAocHJvcE1ldGFkYXRhLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICAgICAgcHJvcE1ldGFkYXRhW2ZpZWxkXS5mb3JFYWNoKGZ1bmN0aW9uIChhbm4pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNRdWVyeUFubihhbm4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5uLnNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QgYSBxdWVyeSBmb3IgdGhlIHByb3BlcnR5IFxcXCJcIiArIGZpZWxkICsgXCJcXFwiIG9mIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJcXFwiXCIgKyBzdHJpbmdpZnkkMSh0eXBlKSArIFwiXFxcIiBzaW5jZSB0aGUgcXVlcnkgc2VsZWN0b3Igd2Fzbid0IGRlZmluZWQuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBxdWVyaWVzTWV0YS5wdXNoKGNvbnZlcnRUb1IzUXVlcnlNZXRhZGF0YShmaWVsZCwgYW5uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZvciAodmFyIGZpZWxkIGluIHByb3BNZXRhZGF0YSkge1xuICAgICAgICBfbG9vcF8xKGZpZWxkKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJpZXNNZXRhO1xufVxuZnVuY3Rpb24gaXNDb250ZW50UXVlcnkodmFsdWUpIHtcbiAgICB2YXIgbmFtZSA9IHZhbHVlLm5nTWV0YWRhdGFOYW1lO1xuICAgIHJldHVybiBuYW1lID09PSAnQ29udGVudENoaWxkJyB8fCBuYW1lID09PSAnQ29udGVudENoaWxkcmVuJztcbn1cbmZ1bmN0aW9uIGlzVmlld1F1ZXJ5KHZhbHVlKSB7XG4gICAgdmFyIG5hbWUgPSB2YWx1ZS5uZ01ldGFkYXRhTmFtZTtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ1ZpZXdDaGlsZCcgfHwgbmFtZSA9PT0gJ1ZpZXdDaGlsZHJlbic7XG59XG5mdW5jdGlvbiBzcGxpdEJ5Q29tbWEodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHBpZWNlKSB7IHJldHVybiBwaWVjZS50cmltKCk7IH0pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBjb21waWxlUGlwZSh0eXBlLCBtZXRhKSB7XG4gICAgdmFyIG5nUGlwZURlZiA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIE5HX1BJUEVfREVGLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG5nUGlwZURlZiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5nUGlwZURlZiA9IGdldENvbXBpbGVyRmFjYWRlKCkuY29tcGlsZVBpcGUoYW5ndWxhckNvcmVFbnYsIFwibmc6Ly9cIiArIHN0cmluZ2lmeSQxKHR5cGUpICsgXCIvbmdQaXBlRGVmLmpzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdHlwZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBkZXBzOiByZWZsZWN0RGVwZW5kZW5jaWVzKHR5cGUpLFxuICAgICAgICAgICAgICAgICAgICBwaXBlTmFtZTogbWV0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBwdXJlOiBtZXRhLnB1cmUgIT09IHVuZGVmaW5lZCA/IG1ldGEucHVyZSA6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZ1BpcGVEZWY7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE1ha2UgdGhlIHByb3BlcnR5IGNvbmZpZ3VyYWJsZSBpbiBkZXYgbW9kZSB0byBhbGxvdyBvdmVycmlkaW5nIGluIHRlc3RzXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogISFuZ0Rldk1vZGUsXG4gICAgfSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVHlwZSBvZiB0aGUgRGlyZWN0aXZlIG1ldGFkYXRhLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIERpcmVjdGl2ZSA9IG1ha2VEZWNvcmF0b3IoJ0RpcmVjdGl2ZScsIGZ1bmN0aW9uIChkaXIpIHtcbiAgICBpZiAoZGlyID09PSB2b2lkIDApIHsgZGlyID0ge307IH1cbiAgICByZXR1cm4gZGlyO1xufSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh0eXBlLCBtZXRhKSB7IHJldHVybiBTV0lUQ0hfQ09NUElMRV9ESVJFQ1RJVkUodHlwZSwgbWV0YSk7IH0pO1xuLyoqXG4gKiBDb21wb25lbnQgZGVjb3JhdG9yIGFuZCBtZXRhZGF0YS5cbiAqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG52YXIgQ29tcG9uZW50ID0gbWFrZURlY29yYXRvcignQ29tcG9uZW50JywgZnVuY3Rpb24gKGMpIHtcbiAgICBpZiAoYyA9PT0gdm9pZCAwKSB7IGMgPSB7fTsgfVxuICAgIHJldHVybiAoX19hc3NpZ24oeyBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LkRlZmF1bHQgfSwgYykpO1xufSwgRGlyZWN0aXZlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh0eXBlLCBtZXRhKSB7IHJldHVybiBTV0lUQ0hfQ09NUElMRV9DT01QT05FTlQodHlwZSwgbWV0YSk7IH0pO1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG52YXIgUGlwZSA9IG1ha2VEZWNvcmF0b3IoJ1BpcGUnLCBmdW5jdGlvbiAocCkgeyByZXR1cm4gKF9fYXNzaWduKHsgcHVyZTogdHJ1ZSB9LCBwKSk7IH0sIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodHlwZSwgbWV0YSkgeyByZXR1cm4gU1dJVENIX0NPTVBJTEVfUElQRSh0eXBlLCBtZXRhKTsgfSk7XG52YXIgaW5pdGlhbGl6ZUJhc2VEZWYgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xuICAgIHZhciBpbmhlcml0ZWRCYXNlRGVmID0gY29uc3RydWN0b3IubmdCYXNlRGVmO1xuICAgIHZhciBiYXNlRGVmID0gY29uc3RydWN0b3IubmdCYXNlRGVmID0ge1xuICAgICAgICBpbnB1dHM6IHt9LFxuICAgICAgICBvdXRwdXRzOiB7fSxcbiAgICAgICAgZGVjbGFyZWRJbnB1dHM6IHt9LFxuICAgIH07XG4gICAgaWYgKGluaGVyaXRlZEJhc2VEZWYpIHtcbiAgICAgICAgZmlsbFByb3BlcnRpZXMoYmFzZURlZi5pbnB1dHMsIGluaGVyaXRlZEJhc2VEZWYuaW5wdXRzKTtcbiAgICAgICAgZmlsbFByb3BlcnRpZXMoYmFzZURlZi5vdXRwdXRzLCBpbmhlcml0ZWRCYXNlRGVmLm91dHB1dHMpO1xuICAgICAgICBmaWxsUHJvcGVydGllcyhiYXNlRGVmLmRlY2xhcmVkSW5wdXRzLCBpbmhlcml0ZWRCYXNlRGVmLmRlY2xhcmVkSW5wdXRzKTtcbiAgICB9XG59O1xuLyoqXG4gKiBEb2VzIHRoZSB3b3JrIG9mIGNyZWF0aW5nIHRoZSBgbmdCYXNlRGVmYCBwcm9wZXJ0eSBmb3IgdGhlIEBJbnB1dCBhbmQgQE91dHB1dCBkZWNvcmF0b3JzLlxuICogQHBhcmFtIGtleSBcImlucHV0c1wiIG9yIFwib3V0cHV0c1wiXG4gKi9cbnZhciB1cGRhdGVCYXNlRGVmRnJvbUlPUHJvcCA9IGZ1bmN0aW9uIChnZXRQcm9wKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIG5hbWUpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gdGFyZ2V0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoIWNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KE5HX0JBU0VfREVGKSkge1xuICAgICAgICAgICAgaW5pdGlhbGl6ZUJhc2VEZWYodGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZURlZiA9IGNvbnN0cnVjdG9yLm5nQmFzZURlZjtcbiAgICAgICAgdmFyIGRlZlByb3AgPSBnZXRQcm9wKGJhc2VEZWYpO1xuICAgICAgICBkZWZQcm9wW25hbWVdID0gYXJnc1swXTtcbiAgICB9O1xufTtcbi8qKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIElucHV0ID0gbWFrZVByb3BEZWNvcmF0b3IoJ0lucHV0JywgZnVuY3Rpb24gKGJpbmRpbmdQcm9wZXJ0eU5hbWUpIHsgcmV0dXJuICh7IGJpbmRpbmdQcm9wZXJ0eU5hbWU6IGJpbmRpbmdQcm9wZXJ0eU5hbWUgfSk7IH0sIHVuZGVmaW5lZCwgdXBkYXRlQmFzZURlZkZyb21JT1Byb3AoZnVuY3Rpb24gKGJhc2VEZWYpIHsgcmV0dXJuIGJhc2VEZWYuaW5wdXRzIHx8IHt9OyB9KSk7XG4vKipcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBPdXRwdXQgPSBtYWtlUHJvcERlY29yYXRvcignT3V0cHV0JywgZnVuY3Rpb24gKGJpbmRpbmdQcm9wZXJ0eU5hbWUpIHsgcmV0dXJuICh7IGJpbmRpbmdQcm9wZXJ0eU5hbWU6IGJpbmRpbmdQcm9wZXJ0eU5hbWUgfSk7IH0sIHVuZGVmaW5lZCwgdXBkYXRlQmFzZURlZkZyb21JT1Byb3AoZnVuY3Rpb24gKGJhc2VEZWYpIHsgcmV0dXJuIGJhc2VEZWYub3V0cHV0cyB8fCB7fTsgfSkpO1xuLyoqXG4gKiBAQW5ub3RhdGlvblxuICogQHB1YmxpY0FwaVxuICovXG52YXIgSG9zdEJpbmRpbmcgPSBtYWtlUHJvcERlY29yYXRvcignSG9zdEJpbmRpbmcnLCBmdW5jdGlvbiAoaG9zdFByb3BlcnR5TmFtZSkgeyByZXR1cm4gKHsgaG9zdFByb3BlcnR5TmFtZTogaG9zdFByb3BlcnR5TmFtZSB9KTsgfSk7XG4vKipcbiAqIEJpbmRzIGEgQ1NTIGV2ZW50IHRvIGEgaG9zdCBsaXN0ZW5lciBhbmQgc3VwcGxpZXMgY29uZmlndXJhdGlvbiBtZXRhZGF0YS5cbiAqIEFuZ3VsYXIgaW52b2tlcyB0aGUgc3VwcGxpZWQgaGFuZGxlciBtZXRob2Qgd2hlbiB0aGUgaG9zdCBlbGVtZW50IGVtaXRzIHRoZSBzcGVjaWZpZWQgZXZlbnQsXG4gKiBhbmQgdXBkYXRlcyB0aGUgYm91bmQgZWxlbWVudCB3aXRoIHRoZSByZXN1bHQuXG4gKiBJZiB0aGUgaGFuZGxlciBtZXRob2QgcmV0dXJucyBmYWxzZSwgYXBwbGllcyBgcHJldmVudERlZmF1bHRgIG9uIHRoZSBib3VuZCBlbGVtZW50LlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIGRlY2xhcmVzIGEgZGlyZWN0aXZlXG4gKiB0aGF0IGF0dGFjaGVzIGEgY2xpY2sgbGlzdGVuZXIgdG8gYSBidXR0b24gYW5kIGNvdW50cyBjbGlja3MuXG4gKlxuICogYGBgXG4gKiBARGlyZWN0aXZlKHtzZWxlY3RvcjogJ2J1dHRvbltjb3VudGluZ10nfSlcbiAqIGNsYXNzIENvdW50Q2xpY2tzIHtcbiAqICAgbnVtYmVyT2ZDbGlja3MgPSAwO1xuICpcbiAqICAgQEhvc3RMaXN0ZW5lcignY2xpY2snLCBbJyRldmVudC50YXJnZXQnXSlcbiAqICAgb25DbGljayhidG4pIHtcbiAqICAgICBjb25zb2xlLmxvZygnYnV0dG9uJywgYnRuLCAnbnVtYmVyIG9mIGNsaWNrczonLCB0aGlzLm51bWJlck9mQ2xpY2tzKyspO1xuICogIH1cbiAqIH1cbiAqXG4gKiBAQ29tcG9uZW50KHtcbiAqICAgc2VsZWN0b3I6ICdhcHAnLFxuICogICB0ZW1wbGF0ZTogJzxidXR0b24gY291bnRpbmc+SW5jcmVtZW50PC9idXR0b24+JyxcbiAqIH0pXG4gKiBjbGFzcyBBcHAge31cbiAqIGBgYFxuICpcbiAqIEBBbm5vdGF0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBIb3N0TGlzdGVuZXIgPSBtYWtlUHJvcERlY29yYXRvcignSG9zdExpc3RlbmVyJywgZnVuY3Rpb24gKGV2ZW50TmFtZSwgYXJncykgeyByZXR1cm4gKHsgZXZlbnROYW1lOiBldmVudE5hbWUsIGFyZ3M6IGFyZ3MgfSk7IH0pO1xudmFyIFNXSVRDSF9DT01QSUxFX0NPTVBPTkVOVF9fUE9TVF9SM19fID0gY29tcGlsZUNvbXBvbmVudDtcbnZhciBTV0lUQ0hfQ09NUElMRV9ESVJFQ1RJVkVfX1BPU1RfUjNfXyA9IGNvbXBpbGVEaXJlY3RpdmU7XG52YXIgU1dJVENIX0NPTVBJTEVfUElQRV9fUE9TVF9SM19fID0gY29tcGlsZVBpcGU7XG52YXIgU1dJVENIX0NPTVBJTEVfQ09NUE9ORU5UX19QUkVfUjNfXyA9IG5vb3A7XG52YXIgU1dJVENIX0NPTVBJTEVfRElSRUNUSVZFX19QUkVfUjNfXyA9IG5vb3A7XG52YXIgU1dJVENIX0NPTVBJTEVfUElQRV9fUFJFX1IzX18gPSBub29wO1xudmFyIFNXSVRDSF9DT01QSUxFX0NPTVBPTkVOVCA9IFNXSVRDSF9DT01QSUxFX0NPTVBPTkVOVF9fUFJFX1IzX187XG52YXIgU1dJVENIX0NPTVBJTEVfRElSRUNUSVZFID0gU1dJVENIX0NPTVBJTEVfRElSRUNUSVZFX19QUkVfUjNfXztcbnZhciBTV0lUQ0hfQ09NUElMRV9QSVBFID0gU1dJVENIX0NPTVBJTEVfUElQRV9fUFJFX1IzX187XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciDJtTAkMiA9IGdldENsb3N1cmVTYWZlUHJvcGVydHk7XG52YXIgVVNFX1ZBTFVFJDEgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgcHJvdmlkZTogU3RyaW5nLCB1c2VWYWx1ZTogybUwJDIgfSk7XG52YXIgRU1QVFlfQVJSQVkkMyA9IFtdO1xuZnVuY3Rpb24gY29udmVydEluamVjdGFibGVQcm92aWRlclRvRmFjdG9yeSh0eXBlLCBwcm92aWRlcikge1xuICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIHJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgPSBuZXcgUmVmbGVjdGlvbkNhcGFiaWxpdGllcygpO1xuICAgICAgICB2YXIgZGVwc18xID0gcmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wYXJhbWV0ZXJzKHR5cGUpO1xuICAgICAgICAvLyBUT0RPIC0gY29udmVydCB0byBmbGFncy5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyAodHlwZS5iaW5kLmFwcGx5KHR5cGUsIF9fc3ByZWFkKFt2b2lkIDBdLCBpbmplY3RBcmdzKGRlcHNfMSkpKSkoKTsgfTtcbiAgICB9XG4gICAgaWYgKFVTRV9WQUxVRSQxIGluIHByb3ZpZGVyKSB7XG4gICAgICAgIHZhciB2YWx1ZVByb3ZpZGVyXzEgPSBwcm92aWRlcjtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbHVlUHJvdmlkZXJfMS51c2VWYWx1ZTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvdmlkZXIudXNlRXhpc3RpbmcpIHtcbiAgICAgICAgdmFyIGV4aXN0aW5nUHJvdmlkZXJfMSA9IHByb3ZpZGVyO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5qZWN0KGV4aXN0aW5nUHJvdmlkZXJfMS51c2VFeGlzdGluZyk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3ZpZGVyLnVzZUZhY3RvcnkpIHtcbiAgICAgICAgdmFyIGZhY3RvcnlQcm92aWRlcl8xID0gcHJvdmlkZXI7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWN0b3J5UHJvdmlkZXJfMS51c2VGYWN0b3J5LmFwcGx5KGZhY3RvcnlQcm92aWRlcl8xLCBfX3NwcmVhZChpbmplY3RBcmdzKGZhY3RvcnlQcm92aWRlcl8xLmRlcHMgfHwgRU1QVFlfQVJSQVkkMykpKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAocHJvdmlkZXIudXNlQ2xhc3MpIHtcbiAgICAgICAgdmFyIGNsYXNzUHJvdmlkZXJfMSA9IHByb3ZpZGVyO1xuICAgICAgICB2YXIgZGVwc18yID0gcHJvdmlkZXIuZGVwcztcbiAgICAgICAgaWYgKCFkZXBzXzIpIHtcbiAgICAgICAgICAgIHZhciByZWZsZWN0aW9uQ2FwYWJpbGl0aWVzID0gbmV3IFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMoKTtcbiAgICAgICAgICAgIGRlcHNfMiA9IHJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucGFyYW1ldGVycyh0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyAoKF9hID0gY2xhc3NQcm92aWRlcl8xLnVzZUNsYXNzKS5iaW5kLmFwcGx5KF9hLCBfX3NwcmVhZChbdm9pZCAwXSwgaW5qZWN0QXJncyhkZXBzXzIpKSkpKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgZGVwc18zID0gcHJvdmlkZXIuZGVwcztcbiAgICAgICAgaWYgKCFkZXBzXzMpIHtcbiAgICAgICAgICAgIHZhciByZWZsZWN0aW9uQ2FwYWJpbGl0aWVzID0gbmV3IFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMoKTtcbiAgICAgICAgICAgIGRlcHNfMyA9IHJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucGFyYW1ldGVycyh0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3ICh0eXBlLmJpbmQuYXBwbHkodHlwZSwgX19zcHJlYWQoW3ZvaWQgMF0sIGluamVjdEFyZ3MoZGVwc18zKSkpKSgpOyB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEZWZpbmVzIGEgc2NoZW1hIHRoYXQgYWxsb3dzIGFuIE5nTW9kdWxlIHRvIGNvbnRhaW4gdGhlIGZvbGxvd2luZzpcbiAqIC0gTm9uLUFuZ3VsYXIgZWxlbWVudHMgbmFtZWQgd2l0aCBkYXNoIGNhc2UgKGAtYCkuXG4gKiAtIEVsZW1lbnQgcHJvcGVydGllcyBuYW1lZCB3aXRoIGRhc2ggY2FzZSAoYC1gKS5cbiAqIERhc2ggY2FzZSBpcyB0aGUgbmFtaW5nIGNvbnZlbnRpb24gZm9yIGN1c3RvbSBlbGVtZW50cy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBDVVNUT01fRUxFTUVOVFNfU0NIRU1BID0ge1xuICAgIG5hbWU6ICdjdXN0b20tZWxlbWVudHMnXG59O1xuLyoqXG4gKiBEZWZpbmVzIGEgc2NoZW1hIHRoYXQgYWxsb3dzIGFueSBwcm9wZXJ0eSBvbiBhbnkgZWxlbWVudC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBOT19FUlJPUlNfU0NIRU1BID0ge1xuICAgIG5hbWU6ICduby1lcnJvcnMtc2NoZW1hJ1xufTtcbi8qKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIE5nTW9kdWxlID0gbWFrZURlY29yYXRvcignTmdNb2R1bGUnLCBmdW5jdGlvbiAobmdNb2R1bGUpIHsgcmV0dXJuIG5nTW9kdWxlOyB9LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgXG4vKipcbiAqIERlY29yYXRvciB0aGF0IG1hcmtzIHRoZSBmb2xsb3dpbmcgY2xhc3MgYXMgYW4gTmdNb2R1bGUsIGFuZCBzdXBwbGllc1xuICogY29uZmlndXJhdGlvbiBtZXRhZGF0YSBmb3IgaXQuXG4gKlxuICogKiBUaGUgYGRlY2xhcmF0aW9uc2AgYW5kIGBlbnRyeUNvbXBvbmVudHNgIG9wdGlvbnMgY29uZmlndXJlIHRoZSBjb21waWxlclxuICogd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJlbG9uZ3MgdG8gdGhlIE5nTW9kdWxlLlxuICogKiBUaGUgYHByb3ZpZGVyc2Agb3B0aW9ucyBjb25maWd1cmVzIHRoZSBOZ01vZHVsZSdzIGluamVjdG9yIHRvIHByb3ZpZGVcbiAqIGRlcGVuZGVuY2llcyB0aGUgTmdNb2R1bGUgbWVtYmVycy5cbiAqICogVGhlIGBpbXBvcnRzYCBhbmQgYGV4cG9ydHNgIG9wdGlvbnMgYnJpbmcgaW4gbWVtYmVycyBmcm9tIG90aGVyIG1vZHVsZXMsIGFuZCBtYWtlXG4gKiB0aGlzIG1vZHVsZSdzIG1lbWJlcnMgYXZhaWxhYmxlIHRvIG90aGVycy5cbiAqL1xuZnVuY3Rpb24gKHR5cGUsIG1ldGEpIHsgcmV0dXJuIFNXSVRDSF9DT01QSUxFX05HTU9EVUxFKHR5cGUsIG1ldGEpOyB9KTtcbmZ1bmN0aW9uIHByZVIzTmdNb2R1bGVDb21waWxlKG1vZHVsZVR5cGUsIG1ldGFkYXRhKSB7XG4gICAgdmFyIGltcG9ydHMgPSAobWV0YWRhdGEgJiYgbWV0YWRhdGEuaW1wb3J0cykgfHwgW107XG4gICAgaWYgKG1ldGFkYXRhICYmIG1ldGFkYXRhLmV4cG9ydHMpIHtcbiAgICAgICAgaW1wb3J0cyA9IF9fc3ByZWFkKGltcG9ydHMsIFttZXRhZGF0YS5leHBvcnRzXSk7XG4gICAgfVxuICAgIG1vZHVsZVR5cGUubmdJbmplY3RvckRlZiA9IGRlZmluZUluamVjdG9yKHtcbiAgICAgICAgZmFjdG9yeTogY29udmVydEluamVjdGFibGVQcm92aWRlclRvRmFjdG9yeShtb2R1bGVUeXBlLCB7IHVzZUNsYXNzOiBtb2R1bGVUeXBlIH0pLFxuICAgICAgICBwcm92aWRlcnM6IG1ldGFkYXRhICYmIG1ldGFkYXRhLnByb3ZpZGVycyxcbiAgICAgICAgaW1wb3J0czogaW1wb3J0cyxcbiAgICB9KTtcbn1cbnZhciBTV0lUQ0hfQ09NUElMRV9OR01PRFVMRV9fUE9TVF9SM19fID0gY29tcGlsZU5nTW9kdWxlO1xudmFyIFNXSVRDSF9DT01QSUxFX05HTU9EVUxFX19QUkVfUjNfXyA9IHByZVIzTmdNb2R1bGVDb21waWxlO1xudmFyIFNXSVRDSF9DT01QSUxFX05HTU9EVUxFID0gU1dJVENIX0NPTVBJTEVfTkdNT0RVTEVfX1BSRV9SM19fO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogQ29tcGlsZSBhbiBBbmd1bGFyIGluamVjdGFibGUgYWNjb3JkaW5nIHRvIGl0cyBgSW5qZWN0YWJsZWAgbWV0YWRhdGEsIGFuZCBwYXRjaCB0aGUgcmVzdWx0aW5nXG4gKiBgbmdJbmplY3RhYmxlRGVmYCBvbnRvIHRoZSBpbmplY3RhYmxlIHR5cGUuXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVJbmplY3RhYmxlKHR5cGUsIHNyY01ldGEpIHtcbiAgICB2YXIgZGVmID0gbnVsbDtcbiAgICAvLyBpZiBOR19JTkpFQ1RBQkxFX0RFRiBpcyBhbHJlYWR5IGRlZmluZWQgb24gdGhpcyBjbGFzcyB0aGVuIGRvbid0IG92ZXJ3cml0ZSBpdFxuICAgIGlmICh0eXBlLmhhc093blByb3BlcnR5KE5HX0lOSkVDVEFCTEVfREVGKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBOR19JTkpFQ1RBQkxFX0RFRiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkZWYgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBBbGxvdyB0aGUgY29tcGlsYXRpb24gb2YgYSBjbGFzcyB3aXRoIGEgYEBJbmplY3RhYmxlKClgIGRlY29yYXRvciB3aXRob3V0IHBhcmFtZXRlcnNcbiAgICAgICAgICAgICAgICB2YXIgbWV0YSA9IHNyY01ldGEgfHwgeyBwcm92aWRlZEluOiBudWxsIH07XG4gICAgICAgICAgICAgICAgdmFyIGhhc0FQcm92aWRlciA9IGlzVXNlQ2xhc3NQcm92aWRlcihtZXRhKSB8fCBpc1VzZUZhY3RvcnlQcm92aWRlcihtZXRhKSB8fFxuICAgICAgICAgICAgICAgICAgICBpc1VzZVZhbHVlUHJvdmlkZXIobWV0YSkgfHwgaXNVc2VFeGlzdGluZ1Byb3ZpZGVyKG1ldGEpO1xuICAgICAgICAgICAgICAgIHZhciBjb21waWxlck1ldGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHR5cGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZUFyZ3VtZW50Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVkSW46IG1ldGEucHJvdmlkZWRJbixcbiAgICAgICAgICAgICAgICAgICAgY3RvckRlcHM6IHJlZmxlY3REZXBlbmRlbmNpZXModHlwZSksXG4gICAgICAgICAgICAgICAgICAgIHVzZXJEZXBzOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICgoaXNVc2VDbGFzc1Byb3ZpZGVyKG1ldGEpIHx8IGlzVXNlRmFjdG9yeVByb3ZpZGVyKG1ldGEpKSAmJiBtZXRhLmRlcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb21waWxlck1ldGEudXNlckRlcHMgPSBjb252ZXJ0RGVwZW5kZW5jaWVzKG1ldGEuZGVwcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaGFzQVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHRoZSBjYXNlIHRoZSB1c2VyIHNwZWNpZmllcyBhIHR5cGUgcHJvdmlkZXIsIHRyZWF0IGl0IGFzIHtwcm92aWRlOiBYLCB1c2VDbGFzczogWH0uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkZXBzIHdpbGwgaGF2ZSBiZWVuIHJlZmxlY3RlZCBhYm92ZSwgY2F1c2luZyB0aGUgZmFjdG9yeSB0byBjcmVhdGUgdGhlIGNsYXNzIGJ5XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gaXRzIGNvbnN0cnVjdG9yIHdpdGggaW5qZWN0ZWQgZGVwcy5cbiAgICAgICAgICAgICAgICAgICAgY29tcGlsZXJNZXRhLnVzZUNsYXNzID0gdHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNVc2VDbGFzc1Byb3ZpZGVyKG1ldGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIGV4cGxpY2l0bHkgc3BlY2lmaWVkIHVzZUNsYXNzLCBhbmQgbWF5IG9yIG1heSBub3QgaGF2ZSBwcm92aWRlZCBkZXBzLlxuICAgICAgICAgICAgICAgICAgICBjb21waWxlck1ldGEudXNlQ2xhc3MgPSBtZXRhLnVzZUNsYXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1VzZVZhbHVlUHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgZXhwbGljaXRseSBzcGVjaWZpZWQgdXNlVmFsdWUuXG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyTWV0YS51c2VWYWx1ZSA9IG1ldGEudXNlVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzVXNlRmFjdG9yeVByb3ZpZGVyKG1ldGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIGV4cGxpY2l0bHkgc3BlY2lmaWVkIHVzZUZhY3RvcnkuXG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyTWV0YS51c2VGYWN0b3J5ID0gbWV0YS51c2VGYWN0b3J5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1VzZUV4aXN0aW5nUHJvdmlkZXIobWV0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgZXhwbGljaXRseSBzcGVjaWZpZWQgdXNlRXhpc3RpbmcuXG4gICAgICAgICAgICAgICAgICAgIGNvbXBpbGVyTWV0YS51c2VFeGlzdGluZyA9IG1ldGEudXNlRXhpc3Rpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDYW4ndCBoYXBwZW4gLSBlaXRoZXIgaGFzQVByb3ZpZGVyIHdpbGwgYmUgZmFsc2UsIG9yIG9uZSBvZiB0aGUgcHJvdmlkZXJzIHdpbGwgYmUgc2V0LlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlYWNoYWJsZSBzdGF0ZS5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZiA9IGdldENvbXBpbGVyRmFjYWRlKCkuY29tcGlsZUluamVjdGFibGUoYW5ndWxhckNvcmVFbnYsIFwibmc6Ly9cIiArIHR5cGUubmFtZSArIFwiL25nSW5qZWN0YWJsZURlZi5qc1wiLCBjb21waWxlck1ldGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZjtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbnZhciDJtTAkMyA9IGdldENsb3N1cmVTYWZlUHJvcGVydHk7XG52YXIgVVNFX1ZBTFVFJDIgPSBnZXRDbG9zdXJlU2FmZVByb3BlcnR5KHsgcHJvdmlkZTogU3RyaW5nLCB1c2VWYWx1ZTogybUwJDMgfSk7XG5mdW5jdGlvbiBpc1VzZUNsYXNzUHJvdmlkZXIobWV0YSkge1xuICAgIHJldHVybiBtZXRhLnVzZUNsYXNzICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc1VzZVZhbHVlUHJvdmlkZXIobWV0YSkge1xuICAgIHJldHVybiBVU0VfVkFMVUUkMiBpbiBtZXRhO1xufVxuZnVuY3Rpb24gaXNVc2VGYWN0b3J5UHJvdmlkZXIobWV0YSkge1xuICAgIHJldHVybiBtZXRhLnVzZUZhY3RvcnkgIT09IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGlzVXNlRXhpc3RpbmdQcm92aWRlcihtZXRhKSB7XG4gICAgcmV0dXJuIG1ldGEudXNlRXhpc3RpbmcgIT09IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBJbmplY3RhYmxlIGRlY29yYXRvciBhbmQgbWV0YWRhdGEuXG4gKlxuICogQEFubm90YXRpb25cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEluamVjdGFibGUgPSBtYWtlRGVjb3JhdG9yKCdJbmplY3RhYmxlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHR5cGUsIG1ldGEpIHsgcmV0dXJuIFNXSVRDSF9DT01QSUxFX0lOSkVDVEFCTEUodHlwZSwgbWV0YSk7IH0pO1xuLyoqXG4gKiBTdXBwb3J0cyBASW5qZWN0YWJsZSgpIGluIEpJVCBtb2RlIGZvciBSZW5kZXIyLlxuICovXG5mdW5jdGlvbiByZW5kZXIyQ29tcGlsZUluamVjdGFibGUoaW5qZWN0YWJsZVR5cGUsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnByb3ZpZGVkSW4gIT09IHVuZGVmaW5lZCAmJiAhZ2V0SW5qZWN0YWJsZURlZihpbmplY3RhYmxlVHlwZSkpIHtcbiAgICAgICAgaW5qZWN0YWJsZVR5cGUubmdJbmplY3RhYmxlRGVmID0gZGVmaW5lSW5qZWN0YWJsZSh7XG4gICAgICAgICAgICBwcm92aWRlZEluOiBvcHRpb25zLnByb3ZpZGVkSW4sXG4gICAgICAgICAgICBmYWN0b3J5OiBjb252ZXJ0SW5qZWN0YWJsZVByb3ZpZGVyVG9GYWN0b3J5KGluamVjdGFibGVUeXBlLCBvcHRpb25zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxudmFyIFNXSVRDSF9DT01QSUxFX0lOSkVDVEFCTEVfX1BPU1RfUjNfXyA9IGNvbXBpbGVJbmplY3RhYmxlO1xudmFyIFNXSVRDSF9DT01QSUxFX0lOSkVDVEFCTEVfX1BSRV9SM19fID0gcmVuZGVyMkNvbXBpbGVJbmplY3RhYmxlO1xudmFyIFNXSVRDSF9DT01QSUxFX0lOSkVDVEFCTEUgPSBTV0lUQ0hfQ09NUElMRV9JTkpFQ1RBQkxFX19QUkVfUjNfXztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIEVSUk9SX0RFQlVHX0NPTlRFWFQgPSAnbmdEZWJ1Z0NvbnRleHQnO1xudmFyIEVSUk9SX09SSUdJTkFMX0VSUk9SID0gJ25nT3JpZ2luYWxFcnJvcic7XG52YXIgRVJST1JfTE9HR0VSID0gJ25nRXJyb3JMb2dnZXInO1xuZnVuY3Rpb24gZ2V0RGVidWdDb250ZXh0KGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yW0VSUk9SX0RFQlVHX0NPTlRFWFRdO1xufVxuZnVuY3Rpb24gZ2V0T3JpZ2luYWxFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvcltFUlJPUl9PUklHSU5BTF9FUlJPUl07XG59XG5mdW5jdGlvbiBnZXRFcnJvckxvZ2dlcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvcltFUlJPUl9MT0dHRVJdIHx8IGRlZmF1bHRFcnJvckxvZ2dlcjtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckxvZ2dlcihjb25zb2xlKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhbHVlc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCBfX3NwcmVhZCh2YWx1ZXMpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBQcm92aWRlcyBhIGhvb2sgZm9yIGNlbnRyYWxpemVkIGV4Y2VwdGlvbiBoYW5kbGluZy5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgRXJyb3JIYW5kbGVyYCBwcmludHMgZXJyb3IgbWVzc2FnZXMgdG8gdGhlIGBjb25zb2xlYC4gVG9cbiAqIGludGVyY2VwdCBlcnJvciBoYW5kbGluZywgd3JpdGUgYSBjdXN0b20gZXhjZXB0aW9uIGhhbmRsZXIgdGhhdCByZXBsYWNlcyB0aGlzIGRlZmF1bHQgYXNcbiAqIGFwcHJvcHJpYXRlIGZvciB5b3VyIGFwcC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGNsYXNzIE15RXJyb3JIYW5kbGVyIGltcGxlbWVudHMgRXJyb3JIYW5kbGVyIHtcbiAqICAgaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAqICAgICAvLyBkbyBzb21ldGhpbmcgd2l0aCB0aGUgZXhjZXB0aW9uXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBATmdNb2R1bGUoe1xuICogICBwcm92aWRlcnM6IFt7cHJvdmlkZTogRXJyb3JIYW5kbGVyLCB1c2VDbGFzczogTXlFcnJvckhhbmRsZXJ9XVxuICogfSlcbiAqIGNsYXNzIE15TW9kdWxlIHt9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBFcnJvckhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXJyb3JIYW5kbGVyKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jb25zb2xlID0gY29uc29sZTtcbiAgICB9XG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB2YXIgb3JpZ2luYWxFcnJvciA9IHRoaXMuX2ZpbmRPcmlnaW5hbEVycm9yKGVycm9yKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9maW5kQ29udGV4dChlcnJvcik7XG4gICAgICAgIC8vIE5vdGU6IEJyb3dzZXIgY29uc29sZXMgc2hvdyB0aGUgcGxhY2UgZnJvbSB3aGVyZSBjb25zb2xlLmVycm9yIHdhcyBjYWxsZWQuXG4gICAgICAgIC8vIFdlIGNhbiB1c2UgdGhpcyB0byBnaXZlIHVzZXJzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLlxuICAgICAgICB2YXIgZXJyb3JMb2dnZXIgPSBnZXRFcnJvckxvZ2dlcihlcnJvcik7XG4gICAgICAgIGVycm9yTG9nZ2VyKHRoaXMuX2NvbnNvbGUsIFwiRVJST1JcIiwgZXJyb3IpO1xuICAgICAgICBpZiAob3JpZ2luYWxFcnJvcikge1xuICAgICAgICAgICAgZXJyb3JMb2dnZXIodGhpcy5fY29uc29sZSwgXCJPUklHSU5BTCBFUlJPUlwiLCBvcmlnaW5hbEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICAgICAgZXJyb3JMb2dnZXIodGhpcy5fY29uc29sZSwgJ0VSUk9SIENPTlRFWFQnLCBjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUuX2ZpbmRDb250ZXh0ID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGdldERlYnVnQ29udGV4dChlcnJvcikgPyBnZXREZWJ1Z0NvbnRleHQoZXJyb3IpIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5kQ29udGV4dChnZXRPcmlnaW5hbEVycm9yKGVycm9yKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5fZmluZE9yaWdpbmFsRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgdmFyIGUgPSBnZXRPcmlnaW5hbEVycm9yKGVycm9yKTtcbiAgICAgICAgd2hpbGUgKGUgJiYgZ2V0T3JpZ2luYWxFcnJvcihlKSkge1xuICAgICAgICAgICAgZSA9IGdldE9yaWdpbmFsRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfTtcbiAgICByZXR1cm4gRXJyb3JIYW5kbGVyO1xufSgpKTtcbmZ1bmN0aW9uIHdyYXBwZWRFcnJvcihtZXNzYWdlLCBvcmlnaW5hbEVycm9yKSB7XG4gICAgdmFyIG1zZyA9IG1lc3NhZ2UgKyBcIiBjYXVzZWQgYnk6IFwiICsgKG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IG9yaWdpbmFsRXJyb3IubWVzc2FnZSA6IG9yaWdpbmFsRXJyb3IpO1xuICAgIHZhciBlcnJvciA9IEVycm9yKG1zZyk7XG4gICAgZXJyb3JbRVJST1JfT1JJR0lOQUxfRVJST1JdID0gb3JpZ2luYWxFcnJvcjtcbiAgICByZXR1cm4gZXJyb3I7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGZpbmRGaXJzdENsb3NlZEN5Y2xlKGtleXMpIHtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChyZXMuaW5kZXhPZihrZXlzW2ldKSA+IC0xKSB7XG4gICAgICAgICAgICByZXMucHVzaChrZXlzW2ldKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnB1c2goa2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3RSZXNvbHZpbmdQYXRoKGtleXMpIHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHZhciByZXZlcnNlZCA9IGZpbmRGaXJzdENsb3NlZEN5Y2xlKGtleXMuc2xpY2UoKS5yZXZlcnNlKCkpO1xuICAgICAgICB2YXIgdG9rZW5TdHJzID0gcmV2ZXJzZWQubWFwKGZ1bmN0aW9uIChrKSB7IHJldHVybiBzdHJpbmdpZnkoay50b2tlbik7IH0pO1xuICAgICAgICByZXR1cm4gJyAoJyArIHRva2VuU3Rycy5qb2luKCcgLT4gJykgKyAnKSc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cbmZ1bmN0aW9uIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGNvbnN0cnVjdFJlc29sdmluZ01lc3NhZ2UsIG9yaWdpbmFsRXJyb3IpIHtcbiAgICB2YXIga2V5cyA9IFtrZXldO1xuICAgIHZhciBlcnJNc2cgPSBjb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlKGtleXMpO1xuICAgIHZhciBlcnJvciA9IChvcmlnaW5hbEVycm9yID8gd3JhcHBlZEVycm9yKGVyck1zZywgb3JpZ2luYWxFcnJvcikgOiBFcnJvcihlcnJNc2cpKTtcbiAgICBlcnJvci5hZGRLZXkgPSBhZGRLZXk7XG4gICAgZXJyb3Iua2V5cyA9IGtleXM7XG4gICAgZXJyb3IuaW5qZWN0b3JzID0gW2luamVjdG9yXTtcbiAgICBlcnJvci5jb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlID0gY29uc3RydWN0UmVzb2x2aW5nTWVzc2FnZTtcbiAgICBlcnJvcltFUlJPUl9PUklHSU5BTF9FUlJPUl0gPSBvcmlnaW5hbEVycm9yO1xuICAgIHJldHVybiBlcnJvcjtcbn1cbmZ1bmN0aW9uIGFkZEtleShpbmplY3Rvciwga2V5KSB7XG4gICAgdGhpcy5pbmplY3RvcnMucHVzaChpbmplY3Rvcik7XG4gICAgdGhpcy5rZXlzLnB1c2goa2V5KTtcbiAgICAvLyBOb3RlOiBUaGlzIHVwZGF0ZWQgbWVzc2FnZSB3b24ndCBiZSByZWZsZWN0ZWQgaW4gdGhlIGAuc3RhY2tgIHByb3BlcnR5XG4gICAgdGhpcy5tZXNzYWdlID0gdGhpcy5jb25zdHJ1Y3RSZXNvbHZpbmdNZXNzYWdlKHRoaXMua2V5cyk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIHRyeWluZyB0byByZXRyaWV2ZSBhIGRlcGVuZGVuY3kgYnkga2V5IGZyb20ge0BsaW5rIEluamVjdG9yfSwgYnV0IHRoZVxuICoge0BsaW5rIEluamVjdG9yfSBkb2VzIG5vdCBoYXZlIGEge0BsaW5rIFByb3ZpZGVyfSBmb3IgdGhlIGdpdmVuIGtleS5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHtcbiAqICAgY29uc3RydWN0b3IoYjpCKSB7fVxuICogfVxuICpcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBXSkpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKi9cbmZ1bmN0aW9uIG5vUHJvdmlkZXJFcnJvcihpbmplY3Rvciwga2V5KSB7XG4gICAgcmV0dXJuIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIHZhciBmaXJzdCA9IHN0cmluZ2lmeShrZXlzWzBdLnRva2VuKTtcbiAgICAgICAgcmV0dXJuIFwiTm8gcHJvdmlkZXIgZm9yIFwiICsgZmlyc3QgKyBcIiFcIiArIGNvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cyk7XG4gICAgfSk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGRlcGVuZGVuY2llcyBmb3JtIGEgY3ljbGUuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbXG4gKiAgIHtwcm92aWRlOiBcIm9uZVwiLCB1c2VGYWN0b3J5OiAodHdvKSA9PiBcInR3b1wiLCBkZXBzOiBbW25ldyBJbmplY3QoXCJ0d29cIildXX0sXG4gKiAgIHtwcm92aWRlOiBcInR3b1wiLCB1c2VGYWN0b3J5OiAob25lKSA9PiBcIm9uZVwiLCBkZXBzOiBbW25ldyBJbmplY3QoXCJvbmVcIildXX1cbiAqIF0pO1xuICpcbiAqIGV4cGVjdCgoKSA9PiBpbmplY3Rvci5nZXQoXCJvbmVcIikpLnRvVGhyb3dFcnJvcigpO1xuICogYGBgXG4gKlxuICogUmV0cmlldmluZyBgQWAgb3IgYEJgIHRocm93cyBhIGBDeWNsaWNEZXBlbmRlbmN5RXJyb3JgIGFzIHRoZSBncmFwaCBhYm92ZSBjYW5ub3QgYmUgY29uc3RydWN0ZWQuXG4gKi9cbmZ1bmN0aW9uIGN5Y2xpY0RlcGVuZGVuY3lFcnJvcihpbmplY3Rvciwga2V5KSB7XG4gICAgcmV0dXJuIGluamVjdGlvbkVycm9yKGluamVjdG9yLCBrZXksIGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgIHJldHVybiBcIkNhbm5vdCBpbnN0YW50aWF0ZSBjeWNsaWMgZGVwZW5kZW5jeSFcIiArIGNvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cyk7XG4gICAgfSk7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGEgY29uc3RydWN0aW5nIHR5cGUgcmV0dXJucyB3aXRoIGFuIEVycm9yLlxuICpcbiAqIFRoZSBgSW5zdGFudGlhdGlvbkVycm9yYCBjbGFzcyBjb250YWlucyB0aGUgb3JpZ2luYWwgZXJyb3IgcGx1cyB0aGUgZGVwZW5kZW5jeSBncmFwaCB3aGljaCBjYXVzZWRcbiAqIHRoaXMgb2JqZWN0IHRvIGJlIGluc3RhbnRpYXRlZC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgdGhyb3cgbmV3IEVycm9yKCdtZXNzYWdlJyk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiB2YXIgaW5qZWN0b3IgPSBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtBXSk7XG5cbiAqIHRyeSB7XG4gKiAgIGluamVjdG9yLmdldChBKTtcbiAqIH0gY2F0Y2ggKGUpIHtcbiAqICAgZXhwZWN0KGUgaW5zdGFuY2VvZiBJbnN0YW50aWF0aW9uRXJyb3IpLnRvQmUodHJ1ZSk7XG4gKiAgIGV4cGVjdChlLm9yaWdpbmFsRXhjZXB0aW9uLm1lc3NhZ2UpLnRvRXF1YWwoXCJtZXNzYWdlXCIpO1xuICogICBleHBlY3QoZS5vcmlnaW5hbFN0YWNrKS50b0JlRGVmaW5lZCgpO1xuICogfVxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGluc3RhbnRpYXRpb25FcnJvcihpbmplY3Rvciwgb3JpZ2luYWxFeGNlcHRpb24sIG9yaWdpbmFsU3RhY2ssIGtleSkge1xuICAgIHJldHVybiBpbmplY3Rpb25FcnJvcihpbmplY3Rvciwga2V5LCBmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICB2YXIgZmlyc3QgPSBzdHJpbmdpZnkoa2V5c1swXS50b2tlbik7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbEV4Y2VwdGlvbi5tZXNzYWdlICsgXCI6IEVycm9yIGR1cmluZyBpbnN0YW50aWF0aW9uIG9mIFwiICsgZmlyc3QgKyBcIiFcIiArIGNvbnN0cnVjdFJlc29sdmluZ1BhdGgoa2V5cykgKyBcIi5cIjtcbiAgICB9LCBvcmlnaW5hbEV4Y2VwdGlvbik7XG59XG4vKipcbiAqIFRocm93biB3aGVuIGFuIG9iamVjdCBvdGhlciB0aGVuIHtAbGluayBQcm92aWRlcn0gKG9yIGBUeXBlYCkgaXMgcGFzc2VkIHRvIHtAbGluayBJbmplY3Rvcn1cbiAqIGNyZWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cGVjdCgoKSA9PiBJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlKFtcIm5vdCBhIHR5cGVcIl0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBpbnZhbGlkUHJvdmlkZXJFcnJvcihwcm92aWRlcikge1xuICAgIHJldHVybiBFcnJvcihcIkludmFsaWQgcHJvdmlkZXIgLSBvbmx5IGluc3RhbmNlcyBvZiBQcm92aWRlciBhbmQgVHlwZSBhcmUgYWxsb3dlZCwgZ290OiBcIiArIHByb3ZpZGVyKTtcbn1cbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIGNsYXNzIGhhcyBubyBhbm5vdGF0aW9uIGluZm9ybWF0aW9uLlxuICpcbiAqIExhY2sgb2YgYW5ub3RhdGlvbiBpbmZvcm1hdGlvbiBwcmV2ZW50cyB0aGUge0BsaW5rIEluamVjdG9yfSBmcm9tIGRldGVybWluaW5nIHdoaWNoIGRlcGVuZGVuY2llc1xuICogbmVlZCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHtcbiAqICAgY29uc3RydWN0b3IoYikge31cbiAqIH1cbiAqXG4gKiBleHBlY3QoKCkgPT4gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZXJyb3IgaXMgYWxzbyB0aHJvd24gd2hlbiB0aGUgY2xhc3Mgbm90IG1hcmtlZCB3aXRoIHtAbGluayBJbmplY3RhYmxlfSBoYXMgcGFyYW1ldGVyIHR5cGVzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNsYXNzIEIge31cbiAqXG4gKiBjbGFzcyBBIHtcbiAqICAgY29uc3RydWN0b3IoYjpCKSB7fSAvLyBubyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcGFyYW1ldGVyIHR5cGVzIG9mIEEgaXMgYXZhaWxhYmxlIGF0IHJ1bnRpbWUuXG4gKiB9XG4gKlxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0EsQl0pKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqL1xuZnVuY3Rpb24gbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKSB7XG4gICAgdmFyIHNpZ25hdHVyZSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBhcmFtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJhbWV0ZXIgPSBwYXJhbXNbaV07XG4gICAgICAgIGlmICghcGFyYW1ldGVyIHx8IHBhcmFtZXRlci5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgc2lnbmF0dXJlLnB1c2goJz8nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZS5wdXNoKHBhcmFtZXRlci5tYXAoc3RyaW5naWZ5KS5qb2luKCcgJykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBFcnJvcignQ2Fubm90IHJlc29sdmUgYWxsIHBhcmFtZXRlcnMgZm9yIFxcJycgKyBzdHJpbmdpZnkodHlwZU9yRnVuYykgKyAnXFwnKCcgK1xuICAgICAgICBzaWduYXR1cmUuam9pbignLCAnKSArICcpLiAnICtcbiAgICAgICAgJ01ha2Ugc3VyZSB0aGF0IGFsbCB0aGUgcGFyYW1ldGVycyBhcmUgZGVjb3JhdGVkIHdpdGggSW5qZWN0IG9yIGhhdmUgdmFsaWQgdHlwZSBhbm5vdGF0aW9ucyBhbmQgdGhhdCBcXCcnICtcbiAgICAgICAgc3RyaW5naWZ5KHR5cGVPckZ1bmMpICsgJ1xcJyBpcyBkZWNvcmF0ZWQgd2l0aCBJbmplY3RhYmxlLicpO1xufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBnZXR0aW5nIGFuIG9iamVjdCBieSBpbmRleC5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjbGFzcyBBIHt9XG4gKlxuICogdmFyIGluamVjdG9yID0gSW5qZWN0b3IucmVzb2x2ZUFuZENyZWF0ZShbQV0pO1xuICpcbiAqIGV4cGVjdCgoKSA9PiBpbmplY3Rvci5nZXRBdCgxMDApKS50b1Rocm93RXJyb3IoKTtcbiAqIGBgYFxuICpcbiAqL1xuZnVuY3Rpb24gb3V0T2ZCb3VuZHNFcnJvcihpbmRleCkge1xuICAgIHJldHVybiBFcnJvcihcIkluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQtb2YtYm91bmRzLlwiKTtcbn1cbi8vIFRPRE86IGFkZCBhIHdvcmtpbmcgZXhhbXBsZSBhZnRlciBhbHBoYTM4IGlzIHJlbGVhc2VkXG4vKipcbiAqIFRocm93biB3aGVuIGEgbXVsdGkgcHJvdmlkZXIgYW5kIGEgcmVndWxhciBwcm92aWRlciBhcmUgYm91bmQgdG8gdGhlIHNhbWUgdG9rZW4uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwZWN0KCgpID0+IEluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW1xuICogICB7IHByb3ZpZGU6IFwiU3RyaW5nc1wiLCB1c2VWYWx1ZTogXCJzdHJpbmcxXCIsIG11bHRpOiB0cnVlfSxcbiAqICAgeyBwcm92aWRlOiBcIlN0cmluZ3NcIiwgdXNlVmFsdWU6IFwic3RyaW5nMlwiLCBtdWx0aTogZmFsc2V9XG4gKiBdKSkudG9UaHJvd0Vycm9yKCk7XG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gbWl4aW5nTXVsdGlQcm92aWRlcnNXaXRoUmVndWxhclByb3ZpZGVyc0Vycm9yKHByb3ZpZGVyMSwgcHJvdmlkZXIyKSB7XG4gICAgcmV0dXJuIEVycm9yKFwiQ2Fubm90IG1peCBtdWx0aSBwcm92aWRlcnMgYW5kIHJlZ3VsYXIgcHJvdmlkZXJzLCBnb3Q6IFwiICsgcHJvdmlkZXIxICsgXCIgXCIgKyBwcm92aWRlcjIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgdW5pcXVlIG9iamVjdCB1c2VkIGZvciByZXRyaWV2aW5nIGl0ZW1zIGZyb20gdGhlIHtAbGluayBSZWZsZWN0aXZlSW5qZWN0b3J9LlxuICpcbiAqIEtleXMgaGF2ZTpcbiAqIC0gYSBzeXN0ZW0td2lkZSB1bmlxdWUgYGlkYC5cbiAqIC0gYSBgdG9rZW5gLlxuICpcbiAqIGBLZXlgIGlzIHVzZWQgaW50ZXJuYWxseSBieSB7QGxpbmsgUmVmbGVjdGl2ZUluamVjdG9yfSBiZWNhdXNlIGl0cyBzeXN0ZW0td2lkZSB1bmlxdWUgYGlkYCBhbGxvd3NcbiAqIHRoZVxuICogaW5qZWN0b3IgdG8gc3RvcmUgY3JlYXRlZCBvYmplY3RzIGluIGEgbW9yZSBlZmZpY2llbnQgd2F5LlxuICpcbiAqIGBLZXlgIHNob3VsZCBub3QgYmUgY3JlYXRlZCBkaXJlY3RseS4ge0BsaW5rIFJlZmxlY3RpdmVJbmplY3Rvcn0gY3JlYXRlcyBrZXlzIGF1dG9tYXRpY2FsbHkgd2hlblxuICogcmVzb2x2aW5nXG4gKiBwcm92aWRlcnMuXG4gKlxuICogQGRlcHJlY2F0ZWQgTm8gcmVwbGFjZW1lbnRcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFJlZmxlY3RpdmVLZXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RpdmVLZXkodG9rZW4sIGlkKSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rva2VuIG11c3QgYmUgZGVmaW5lZCEnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BsYXlOYW1lID0gc3RyaW5naWZ5KHRoaXMudG9rZW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBgS2V5YCBmb3IgYSB0b2tlbi5cbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlS2V5LmdldCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICByZXR1cm4gX2dsb2JhbEtleVJlZ2lzdHJ5LmdldChyZXNvbHZlRm9yd2FyZFJlZih0b2tlbikpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlZmxlY3RpdmVLZXksIFwibnVtYmVyT2ZLZXlzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXIgb2Yga2V5cyByZWdpc3RlcmVkIGluIHRoZSBzeXN0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9nbG9iYWxLZXlSZWdpc3RyeS5udW1iZXJPZktleXM7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSZWZsZWN0aXZlS2V5O1xufSgpKTtcbnZhciBLZXlSZWdpc3RyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBLZXlSZWdpc3RyeSgpIHtcbiAgICAgICAgdGhpcy5fYWxsS2V5cyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgS2V5UmVnaXN0cnkucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4gaW5zdGFuY2VvZiBSZWZsZWN0aXZlS2V5KVxuICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICBpZiAodGhpcy5fYWxsS2V5cy5oYXModG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxsS2V5cy5nZXQodG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdLZXkgPSBuZXcgUmVmbGVjdGl2ZUtleSh0b2tlbiwgUmVmbGVjdGl2ZUtleS5udW1iZXJPZktleXMpO1xuICAgICAgICB0aGlzLl9hbGxLZXlzLnNldCh0b2tlbiwgbmV3S2V5KTtcbiAgICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShLZXlSZWdpc3RyeS5wcm90b3R5cGUsIFwibnVtYmVyT2ZLZXlzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9hbGxLZXlzLnNpemU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBLZXlSZWdpc3RyeTtcbn0oKSk7XG52YXIgX2dsb2JhbEtleVJlZ2lzdHJ5ID0gbmV3IEtleVJlZ2lzdHJ5KCk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUHJvdmlkZXMgYWNjZXNzIHRvIHJlZmxlY3Rpb24gZGF0YSBhYm91dCBzeW1ib2xzLiBVc2VkIGludGVybmFsbHkgYnkgQW5ndWxhclxuICogdG8gcG93ZXIgZGVwZW5kZW5jeSBpbmplY3Rpb24gYW5kIGNvbXBpbGF0aW9uLlxuICovXG52YXIgUmVmbGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZmxlY3RvcihyZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKSB7XG4gICAgICAgIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcyA9IHJlZmxlY3Rpb25DYXBhYmlsaXRpZXM7XG4gICAgfVxuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUudXBkYXRlQ2FwYWJpbGl0aWVzID0gZnVuY3Rpb24gKGNhcHMpIHsgdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzID0gY2FwczsgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLmZhY3RvcnkgPSBmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmZhY3RvcnkodHlwZSk7IH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5wYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHR5cGVPckZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5wYXJhbWV0ZXJzKHR5cGVPckZ1bmMpO1xuICAgIH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5hbm5vdGF0aW9ucyA9IGZ1bmN0aW9uICh0eXBlT3JGdW5jKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuYW5ub3RhdGlvbnModHlwZU9yRnVuYyk7XG4gICAgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnByb3BNZXRhZGF0YSA9IGZ1bmN0aW9uICh0eXBlT3JGdW5jKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMucHJvcE1ldGFkYXRhKHR5cGVPckZ1bmMpO1xuICAgIH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5oYXNMaWZlY3ljbGVIb29rID0gZnVuY3Rpb24gKHR5cGUsIGxjUHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5oYXNMaWZlY3ljbGVIb29rKHR5cGUsIGxjUHJvcGVydHkpO1xuICAgIH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5nZXR0ZXIgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmdldHRlcihuYW1lKTsgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnNldHRlciA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiB0aGlzLnJlZmxlY3Rpb25DYXBhYmlsaXRpZXMuc2V0dGVyKG5hbWUpOyB9O1xuICAgIFJlZmxlY3Rvci5wcm90b3R5cGUubWV0aG9kID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5tZXRob2QobmFtZSk7IH07XG4gICAgUmVmbGVjdG9yLnByb3RvdHlwZS5pbXBvcnRVcmkgPSBmdW5jdGlvbiAodHlwZSkgeyByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLmltcG9ydFVyaSh0eXBlKTsgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnJlc291cmNlVXJpID0gZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvdXJjZVVyaSh0eXBlKTsgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnJlc29sdmVJZGVudGlmaWVyID0gZnVuY3Rpb24gKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLnJlc29sdmVJZGVudGlmaWVyKG5hbWUsIG1vZHVsZVVybCwgbWVtYmVycywgcnVudGltZSk7XG4gICAgfTtcbiAgICBSZWZsZWN0b3IucHJvdG90eXBlLnJlc29sdmVFbnVtID0gZnVuY3Rpb24gKGlkZW50aWZpZXIsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmbGVjdGlvbkNhcGFiaWxpdGllcy5yZXNvbHZlRW51bShpZGVudGlmaWVyLCBuYW1lKTtcbiAgICB9O1xuICAgIHJldHVybiBSZWZsZWN0b3I7XG59KCkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSB7QGxpbmsgUmVmbGVjdG9yfSB1c2VkIGludGVybmFsbHkgaW4gQW5ndWxhciB0byBhY2Nlc3MgbWV0YWRhdGFcbiAqIGFib3V0IHN5bWJvbHMuXG4gKi9cbnZhciByZWZsZWN0b3IgPSBuZXcgUmVmbGVjdG9yKG5ldyBSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzKCkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIGBEZXBlbmRlbmN5YCBpcyB1c2VkIGJ5IHRoZSBmcmFtZXdvcmsgdG8gZXh0ZW5kIERJLlxuICogVGhpcyBpcyBpbnRlcm5hbCB0byBBbmd1bGFyIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHkuXG4gKi9cbnZhciBSZWZsZWN0aXZlRGVwZW5kZW5jeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZsZWN0aXZlRGVwZW5kZW5jeShrZXksIG9wdGlvbmFsLCB2aXNpYmlsaXR5KSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gb3B0aW9uYWw7XG4gICAgICAgIHRoaXMudmlzaWJpbGl0eSA9IHZpc2liaWxpdHk7XG4gICAgfVxuICAgIFJlZmxlY3RpdmVEZXBlbmRlbmN5LmZyb21LZXkgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmbGVjdGl2ZURlcGVuZGVuY3koa2V5LCBmYWxzZSwgbnVsbCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVmbGVjdGl2ZURlcGVuZGVuY3k7XG59KCkpO1xudmFyIF9FTVBUWV9MSVNUID0gW107XG52YXIgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJfID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXyhrZXksIHJlc29sdmVkRmFjdG9yaWVzLCBtdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnJlc29sdmVkRmFjdG9yaWVzID0gcmVzb2x2ZWRGYWN0b3JpZXM7XG4gICAgICAgIHRoaXMubXVsdGlQcm92aWRlciA9IG11bHRpUHJvdmlkZXI7XG4gICAgICAgIHRoaXMucmVzb2x2ZWRGYWN0b3J5ID0gdGhpcy5yZXNvbHZlZEZhY3Rvcmllc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc29sdmVkUmVmbGVjdGl2ZVByb3ZpZGVyXztcbn0oKSk7XG4vKipcbiAqIEFuIGludGVybmFsIHJlc29sdmVkIHJlcHJlc2VudGF0aW9uIG9mIGEgZmFjdG9yeSBmdW5jdGlvbiBjcmVhdGVkIGJ5IHJlc29sdmluZyBgUHJvdmlkZXJgLlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5KFxuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggY2FuIHJldHVybiBhbiBpbnN0YW5jZSBvZiBhbiBvYmplY3QgcmVwcmVzZW50ZWQgYnkgYSBrZXkuXG4gICAgICovXG4gICAgZmFjdG9yeSwgXG4gICAgLyoqXG4gICAgICogQXJndW1lbnRzIChkZXBlbmRlbmNpZXMpIHRvIHRoZSBgZmFjdG9yeWAgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgIH1cbiAgICByZXR1cm4gUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeTtcbn0oKSk7XG4vKipcbiAqIFJlc29sdmUgYSBzaW5nbGUgcHJvdmlkZXIuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWZsZWN0aXZlRmFjdG9yeShwcm92aWRlcikge1xuICAgIHZhciBmYWN0b3J5Rm47XG4gICAgdmFyIHJlc29sdmVkRGVwcztcbiAgICBpZiAocHJvdmlkZXIudXNlQ2xhc3MpIHtcbiAgICAgICAgdmFyIHVzZUNsYXNzID0gcmVzb2x2ZUZvcndhcmRSZWYocHJvdmlkZXIudXNlQ2xhc3MpO1xuICAgICAgICBmYWN0b3J5Rm4gPSByZWZsZWN0b3IuZmFjdG9yeSh1c2VDbGFzcyk7XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IF9kZXBlbmRlbmNpZXNGb3IodXNlQ2xhc3MpO1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm92aWRlci51c2VFeGlzdGluZykge1xuICAgICAgICBmYWN0b3J5Rm4gPSBmdW5jdGlvbiAoYWxpYXNJbnN0YW5jZSkgeyByZXR1cm4gYWxpYXNJbnN0YW5jZTsgfTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gW1JlZmxlY3RpdmVEZXBlbmRlbmN5LmZyb21LZXkoUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIudXNlRXhpc3RpbmcpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHByb3ZpZGVyLnVzZUZhY3RvcnkpIHtcbiAgICAgICAgZmFjdG9yeUZuID0gcHJvdmlkZXIudXNlRmFjdG9yeTtcbiAgICAgICAgcmVzb2x2ZWREZXBzID0gY29uc3RydWN0RGVwZW5kZW5jaWVzKHByb3ZpZGVyLnVzZUZhY3RvcnksIHByb3ZpZGVyLmRlcHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmFjdG9yeUZuID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvdmlkZXIudXNlVmFsdWU7IH07XG4gICAgICAgIHJlc29sdmVkRGVwcyA9IF9FTVBUWV9MSVNUO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkoZmFjdG9yeUZuLCByZXNvbHZlZERlcHMpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgYFByb3ZpZGVyYCBpbnRvIGBSZXNvbHZlZFByb3ZpZGVyYC5cbiAqXG4gKiBgSW5qZWN0b3JgIGludGVybmFsbHkgb25seSB1c2VzIGBSZXNvbHZlZFByb3ZpZGVyYCwgYFByb3ZpZGVyYCBjb250YWlucyBjb252ZW5pZW5jZSBwcm92aWRlclxuICogc3ludGF4LlxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyKHByb3ZpZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8oUmVmbGVjdGl2ZUtleS5nZXQocHJvdmlkZXIucHJvdmlkZSksIFtyZXNvbHZlUmVmbGVjdGl2ZUZhY3RvcnkocHJvdmlkZXIpXSwgcHJvdmlkZXIubXVsdGkgfHwgZmFsc2UpO1xufVxuLyoqXG4gKiBSZXNvbHZlIGEgbGlzdCBvZiBQcm92aWRlcnMuXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycykge1xuICAgIHZhciBub3JtYWxpemVkID0gX25vcm1hbGl6ZVByb3ZpZGVycyhwcm92aWRlcnMsIFtdKTtcbiAgICB2YXIgcmVzb2x2ZWQgPSBub3JtYWxpemVkLm1hcChyZXNvbHZlUmVmbGVjdGl2ZVByb3ZpZGVyKTtcbiAgICB2YXIgcmVzb2x2ZWRQcm92aWRlck1hcCA9IG1lcmdlUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJzKHJlc29sdmVkLCBuZXcgTWFwKCkpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHJlc29sdmVkUHJvdmlkZXJNYXAudmFsdWVzKCkpO1xufVxuLyoqXG4gKiBNZXJnZXMgYSBsaXN0IG9mIFJlc29sdmVkUHJvdmlkZXJzIGludG8gYSBsaXN0IHdoZXJlIGVhY2gga2V5IGlzIGNvbnRhaW5lZCBleGFjdGx5IG9uY2UgYW5kXG4gKiBtdWx0aSBwcm92aWRlcnMgaGF2ZSBiZWVuIG1lcmdlZC5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMocHJvdmlkZXJzLCBub3JtYWxpemVkUHJvdmlkZXJzTWFwKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gcHJvdmlkZXJzW2ldO1xuICAgICAgICB2YXIgZXhpc3RpbmcgPSBub3JtYWxpemVkUHJvdmlkZXJzTWFwLmdldChwcm92aWRlci5rZXkuaWQpO1xuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIGlmIChwcm92aWRlci5tdWx0aVByb3ZpZGVyICE9PSBleGlzdGluZy5tdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbWl4aW5nTXVsdGlQcm92aWRlcnNXaXRoUmVndWxhclByb3ZpZGVyc0Vycm9yKGV4aXN0aW5nLCBwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIubXVsdGlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJvdmlkZXIucmVzb2x2ZWRGYWN0b3JpZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcucmVzb2x2ZWRGYWN0b3JpZXMucHVzaChwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllc1tqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFByb3ZpZGVyc01hcC5zZXQocHJvdmlkZXIua2V5LmlkLCBwcm92aWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZWRQcm92aWRlciA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChwcm92aWRlci5tdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm92aWRlciA9IG5ldyBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcl8ocHJvdmlkZXIua2V5LCBwcm92aWRlci5yZXNvbHZlZEZhY3Rvcmllcy5zbGljZSgpLCBwcm92aWRlci5tdWx0aVByb3ZpZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm92aWRlcnNNYXAuc2V0KHByb3ZpZGVyLmtleS5pZCwgcmVzb2x2ZWRQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRQcm92aWRlcnNNYXA7XG59XG5mdW5jdGlvbiBfbm9ybWFsaXplUHJvdmlkZXJzKHByb3ZpZGVycywgcmVzKSB7XG4gICAgcHJvdmlkZXJzLmZvckVhY2goZnVuY3Rpb24gKGIpIHtcbiAgICAgICAgaWYgKGIgaW5zdGFuY2VvZiBUeXBlKSB7XG4gICAgICAgICAgICByZXMucHVzaCh7IHByb3ZpZGU6IGIsIHVzZUNsYXNzOiBiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcgJiYgYi5wcm92aWRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgX25vcm1hbGl6ZVByb3ZpZGVycyhiLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZFByb3ZpZGVyRXJyb3IoYik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY29uc3RydWN0RGVwZW5kZW5jaWVzKHR5cGVPckZ1bmMsIGRlcGVuZGVuY2llcykge1xuICAgIGlmICghZGVwZW5kZW5jaWVzKSB7XG4gICAgICAgIHJldHVybiBfZGVwZW5kZW5jaWVzRm9yKHR5cGVPckZ1bmMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHBhcmFtc18xID0gZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gW3RdOyB9KTtcbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIF9leHRyYWN0VG9rZW4odHlwZU9yRnVuYywgdCwgcGFyYW1zXzEpOyB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBfZGVwZW5kZW5jaWVzRm9yKHR5cGVPckZ1bmMpIHtcbiAgICB2YXIgcGFyYW1zID0gcmVmbGVjdG9yLnBhcmFtZXRlcnModHlwZU9yRnVuYyk7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiBbXTtcbiAgICBpZiAocGFyYW1zLnNvbWUoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAgPT0gbnVsbDsgfSkpIHtcbiAgICAgICAgdGhyb3cgbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIF9leHRyYWN0VG9rZW4odHlwZU9yRnVuYywgcCwgcGFyYW1zKTsgfSk7XG59XG5mdW5jdGlvbiBfZXh0cmFjdFRva2VuKHR5cGVPckZ1bmMsIG1ldGFkYXRhLCBwYXJhbXMpIHtcbiAgICB2YXIgdG9rZW4gPSBudWxsO1xuICAgIHZhciBvcHRpb25hbCA9IGZhbHNlO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShtZXRhZGF0YSkpIHtcbiAgICAgICAgaWYgKG1ldGFkYXRhIGluc3RhbmNlb2YgSW5qZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZURlcGVuZGVuY3kobWV0YWRhdGEudG9rZW4sIG9wdGlvbmFsLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfY3JlYXRlRGVwZW5kZW5jeShtZXRhZGF0YSwgb3B0aW9uYWwsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB2aXNpYmlsaXR5ID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1ldGFkYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBwYXJhbU1ldGFkYXRhID0gbWV0YWRhdGFbaV07XG4gICAgICAgIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgVHlwZSkge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBJbmplY3QpIHtcbiAgICAgICAgICAgIHRva2VuID0gcGFyYW1NZXRhZGF0YS50b2tlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgT3B0aW9uYWwpIHtcbiAgICAgICAgICAgIG9wdGlvbmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgU2VsZiB8fCBwYXJhbU1ldGFkYXRhIGluc3RhbmNlb2YgU2tpcFNlbGYpIHtcbiAgICAgICAgICAgIHZpc2liaWxpdHkgPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmFtTWV0YWRhdGEgaW5zdGFuY2VvZiBJbmplY3Rpb25Ub2tlbikge1xuICAgICAgICAgICAgdG9rZW4gPSBwYXJhbU1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRva2VuID0gcmVzb2x2ZUZvcndhcmRSZWYodG9rZW4pO1xuICAgIGlmICh0b2tlbiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlRGVwZW5kZW5jeSh0b2tlbiwgb3B0aW9uYWwsIHZpc2liaWxpdHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbm9Bbm5vdGF0aW9uRXJyb3IodHlwZU9yRnVuYywgcGFyYW1zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfY3JlYXRlRGVwZW5kZW5jeSh0b2tlbiwgb3B0aW9uYWwsIHZpc2liaWxpdHkpIHtcbiAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVEZXBlbmRlbmN5KFJlZmxlY3RpdmVLZXkuZ2V0KHRva2VuKSwgb3B0aW9uYWwsIHZpc2liaWxpdHkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vLyBUaHJlc2hvbGQgZm9yIHRoZSBkeW5hbWljIHZlcnNpb25cbnZhciBVTkRFRklORUQgPSBuZXcgT2JqZWN0KCk7XG4vKipcbiAqIEEgUmVmbGVjdGl2ZURlcGVuZGVuY3kgaW5qZWN0aW9uIGNvbnRhaW5lciB1c2VkIGZvciBpbnN0YW50aWF0aW5nIG9iamVjdHMgYW5kIHJlc29sdmluZ1xuICogZGVwZW5kZW5jaWVzLlxuICpcbiAqIEFuIGBJbmplY3RvcmAgaXMgYSByZXBsYWNlbWVudCBmb3IgYSBgbmV3YCBvcGVyYXRvciwgd2hpY2ggY2FuIGF1dG9tYXRpY2FsbHkgcmVzb2x2ZSB0aGVcbiAqIGNvbnN0cnVjdG9yIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBJbiB0eXBpY2FsIHVzZSwgYXBwbGljYXRpb24gY29kZSBhc2tzIGZvciB0aGUgZGVwZW5kZW5jaWVzIGluIHRoZSBjb25zdHJ1Y3RvciBhbmQgdGhleSBhcmVcbiAqIHJlc29sdmVkIGJ5IHRoZSBgSW5qZWN0b3JgLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBjcmVhdGVzIGFuIGBJbmplY3RvcmAgY29uZmlndXJlZCB0byBjcmVhdGUgYEVuZ2luZWAgYW5kIGBDYXJgLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIEBJbmplY3RhYmxlKClcbiAqIGNsYXNzIEVuZ2luZSB7XG4gKiB9XG4gKlxuICogQEluamVjdGFibGUoKVxuICogY2xhc3MgQ2FyIHtcbiAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gKiB9XG4gKlxuICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0NhciwgRW5naW5lXSk7XG4gKiB2YXIgY2FyID0gaW5qZWN0b3IuZ2V0KENhcik7XG4gKiBleHBlY3QoY2FyIGluc3RhbmNlb2YgQ2FyKS50b0JlKHRydWUpO1xuICogZXhwZWN0KGNhci5lbmdpbmUgaW5zdGFuY2VvZiBFbmdpbmUpLnRvQmUodHJ1ZSk7XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UsIHdlIGRvbid0IHVzZSB0aGUgYG5ld2Agb3BlcmF0b3IgYmVjYXVzZSB3ZSBleHBsaWNpdGx5IHdhbnQgdG8gaGF2ZSB0aGUgYEluamVjdG9yYFxuICogcmVzb2x2ZSBhbGwgb2YgdGhlIG9iamVjdCdzIGRlcGVuZGVuY2llcyBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEBkZXByZWNhdGVkIGZyb20gdjUgLSBzbG93IGFuZCBicmluZ3MgaW4gYSBsb3Qgb2YgY29kZSwgVXNlIGBJbmplY3Rvci5jcmVhdGVgIGluc3RlYWQuXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBSZWZsZWN0aXZlSW5qZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmbGVjdGl2ZUluamVjdG9yKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUdXJucyBhbiBhcnJheSBvZiBwcm92aWRlciBkZWZpbml0aW9ucyBpbnRvIGFuIGFycmF5IG9mIHJlc29sdmVkIHByb3ZpZGVycy5cbiAgICAgKlxuICAgICAqIEEgcmVzb2x1dGlvbiBpcyBhIHByb2Nlc3Mgb2YgZmxhdHRlbmluZyBtdWx0aXBsZSBuZXN0ZWQgYXJyYXlzIGFuZCBjb252ZXJ0aW5nIGluZGl2aWR1YWxcbiAgICAgKiBwcm92aWRlcnMgaW50byBhbiBhcnJheSBvZiBgUmVzb2x2ZWRSZWZsZWN0aXZlUHJvdmlkZXJgcy5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgRW5naW5lIHtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBASW5qZWN0YWJsZSgpXG4gICAgICogY2xhc3MgQ2FyIHtcbiAgICAgKiAgIGNvbnN0cnVjdG9yKHB1YmxpYyBlbmdpbmU6RW5naW5lKSB7fVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBwcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShbQ2FyLCBbW0VuZ2luZV1dXSk7XG4gICAgICpcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzLmxlbmd0aCkudG9FcXVhbCgyKTtcbiAgICAgKlxuICAgICAqIGV4cGVjdChwcm92aWRlcnNbMF0gaW5zdGFuY2VvZiBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcikudG9CZSh0cnVlKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmtleS5kaXNwbGF5TmFtZSkudG9CZShcIkNhclwiKTtcbiAgICAgKiBleHBlY3QocHJvdmlkZXJzWzBdLmRlcGVuZGVuY2llcy5sZW5ndGgpLnRvRXF1YWwoMSk7XG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1swXS5mYWN0b3J5KS50b0JlRGVmaW5lZCgpO1xuICAgICAqXG4gICAgICogZXhwZWN0KHByb3ZpZGVyc1sxXS5rZXkuZGlzcGxheU5hbWUpLnRvQmUoXCJFbmdpbmVcIik7XG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZSA9IGZ1bmN0aW9uIChwcm92aWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVSZWZsZWN0aXZlUHJvdmlkZXJzKHByb3ZpZGVycyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBhbiBhcnJheSBvZiBwcm92aWRlcnMgYW5kIGNyZWF0ZXMgYW4gaW5qZWN0b3IgZnJvbSB0aG9zZSBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBUaGUgcGFzc2VkLWluIHByb3ZpZGVycyBjYW4gYmUgYW4gYXJyYXkgb2YgYFR5cGVgLCBgUHJvdmlkZXJgLFxuICAgICAqIG9yIGEgcmVjdXJzaXZlIGFycmF5IG9mIG1vcmUgcHJvdmlkZXJzLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGluamVjdG9yID0gUmVmbGVjdGl2ZUluamVjdG9yLnJlc29sdmVBbmRDcmVhdGUoW0NhciwgRW5naW5lXSk7XG4gICAgICogZXhwZWN0KGluamVjdG9yLmdldChDYXIpIGluc3RhbmNlb2YgQ2FyKS50b0JlKHRydWUpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlQW5kQ3JlYXRlID0gZnVuY3Rpb24gKHByb3ZpZGVycywgcGFyZW50KSB7XG4gICAgICAgIHZhciBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShwcm92aWRlcnMpO1xuICAgICAgICByZXR1cm4gUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyhSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMsIHBhcmVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluamVjdG9yIGZyb20gcHJldmlvdXNseSByZXNvbHZlZCBwcm92aWRlcnMuXG4gICAgICpcbiAgICAgKiBUaGlzIEFQSSBpcyB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIGNvbnN0cnVjdCBpbmplY3RvcnMgaW4gcGVyZm9ybWFuY2Utc2Vuc2l0aXZlIHBhcnRzLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBFbmdpbmUge1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEBJbmplY3RhYmxlKClcbiAgICAgKiBjbGFzcyBDYXIge1xuICAgICAqICAgY29uc3RydWN0b3IocHVibGljIGVuZ2luZTpFbmdpbmUpIHt9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHByb3ZpZGVycyA9IFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtDYXIsIEVuZ2luZV0pO1xuICAgICAqIHZhciBpbmplY3RvciA9IFJlZmxlY3RpdmVJbmplY3Rvci5mcm9tUmVzb2x2ZWRQcm92aWRlcnMocHJvdmlkZXJzKTtcbiAgICAgKiBleHBlY3QoaW5qZWN0b3IuZ2V0KENhcikgaW5zdGFuY2VvZiBDYXIpLnRvQmUodHJ1ZSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yLmZyb21SZXNvbHZlZFByb3ZpZGVycyA9IGZ1bmN0aW9uIChwcm92aWRlcnMsIHBhcmVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZmxlY3RpdmVJbmplY3Rvcl8ocHJvdmlkZXJzLCBwYXJlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlZmxlY3RpdmVJbmplY3Rvcjtcbn0oKSk7XG52YXIgUmVmbGVjdGl2ZUluamVjdG9yXyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBQcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVmbGVjdGl2ZUluamVjdG9yXyhfcHJvdmlkZXJzLCBfcGFyZW50KSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fY29uc3RydWN0aW9uQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuX3Byb3ZpZGVycyA9IF9wcm92aWRlcnM7XG4gICAgICAgIHRoaXMucGFyZW50ID0gX3BhcmVudCB8fCBudWxsO1xuICAgICAgICB2YXIgbGVuID0gX3Byb3ZpZGVycy5sZW5ndGg7XG4gICAgICAgIHRoaXMua2V5SWRzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIHRoaXMub2JqcyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmtleUlkc1tpXSA9IF9wcm92aWRlcnNbaV0ua2V5LmlkO1xuICAgICAgICAgICAgdGhpcy5vYmpzW2ldID0gVU5ERUZJTkVEO1xuICAgICAgICB9XG4gICAgfVxuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSA9PT0gdm9pZCAwKSB7IG5vdEZvdW5kVmFsdWUgPSBUSFJPV19JRl9OT1RfRk9VTkQ7IH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5KFJlZmxlY3RpdmVLZXkuZ2V0KHRva2VuKSwgbnVsbCwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5yZXNvbHZlQW5kQ3JlYXRlQ2hpbGQgPSBmdW5jdGlvbiAocHJvdmlkZXJzKSB7XG4gICAgICAgIHZhciBSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMgPSBSZWZsZWN0aXZlSW5qZWN0b3IucmVzb2x2ZShwcm92aWRlcnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVDaGlsZEZyb21SZXNvbHZlZChSZXNvbHZlZFJlZmxlY3RpdmVQcm92aWRlcnMpO1xuICAgIH07XG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuY3JlYXRlQ2hpbGRGcm9tUmVzb2x2ZWQgPSBmdW5jdGlvbiAocHJvdmlkZXJzKSB7XG4gICAgICAgIHZhciBpbmogPSBuZXcgUmVmbGVjdGl2ZUluamVjdG9yXyhwcm92aWRlcnMpO1xuICAgICAgICBpbmoucGFyZW50ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGluajtcbiAgICB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLnJlc29sdmVBbmRJbnN0YW50aWF0ZSA9IGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW50aWF0ZVJlc29sdmVkKFJlZmxlY3RpdmVJbmplY3Rvci5yZXNvbHZlKFtwcm92aWRlcl0pWzBdKTtcbiAgICB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLmluc3RhbnRpYXRlUmVzb2x2ZWQgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbnRpYXRlUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgIH07XG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuZ2V0UHJvdmlkZXJBdEluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5fcHJvdmlkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgb3V0T2ZCb3VuZHNFcnJvcihpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3ZpZGVyc1tpbmRleF07XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX25ldyA9IGZ1bmN0aW9uIChwcm92aWRlcikge1xuICAgICAgICBpZiAodGhpcy5fY29uc3RydWN0aW9uQ291bnRlcisrID4gdGhpcy5fZ2V0TWF4TnVtYmVyT2ZPYmplY3RzKCkpIHtcbiAgICAgICAgICAgIHRocm93IGN5Y2xpY0RlcGVuZGVuY3lFcnJvcih0aGlzLCBwcm92aWRlci5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0YW50aWF0ZVByb3ZpZGVyKHByb3ZpZGVyKTtcbiAgICB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9nZXRNYXhOdW1iZXJPZk9iamVjdHMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLm9ianMubGVuZ3RoOyB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9pbnN0YW50aWF0ZVByb3ZpZGVyID0gZnVuY3Rpb24gKHByb3ZpZGVyKSB7XG4gICAgICAgIGlmIChwcm92aWRlci5tdWx0aVByb3ZpZGVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gbmV3IEFycmF5KHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2ldID0gdGhpcy5faW5zdGFudGlhdGUocHJvdmlkZXIsIHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW5zdGFudGlhdGUocHJvdmlkZXIsIHByb3ZpZGVyLnJlc29sdmVkRmFjdG9yaWVzWzBdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX2luc3RhbnRpYXRlID0gZnVuY3Rpb24gKHByb3ZpZGVyLCBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5JCQxKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmYWN0b3J5ID0gUmVzb2x2ZWRSZWZsZWN0aXZlRmFjdG9yeSQkMS5mYWN0b3J5O1xuICAgICAgICB2YXIgZGVwcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlcHMgPVxuICAgICAgICAgICAgICAgIFJlc29sdmVkUmVmbGVjdGl2ZUZhY3RvcnkkJDEuZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAoZGVwKSB7IHJldHVybiBfdGhpcy5fZ2V0QnlSZWZsZWN0aXZlRGVwZW5kZW5jeShkZXApOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUuYWRkS2V5KSB7XG4gICAgICAgICAgICAgICAgZS5hZGRLZXkodGhpcywgcHJvdmlkZXIua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9iajtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9iaiA9IGZhY3RvcnkuYXBwbHkodm9pZCAwLCBfX3NwcmVhZChkZXBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IGluc3RhbnRpYXRpb25FcnJvcih0aGlzLCBlLCBlLnN0YWNrLCBwcm92aWRlci5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5fZ2V0QnlSZWZsZWN0aXZlRGVwZW5kZW5jeSA9IGZ1bmN0aW9uIChkZXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5KGRlcC5rZXksIGRlcC52aXNpYmlsaXR5LCBkZXAub3B0aW9uYWwgPyBudWxsIDogVEhST1dfSUZfTk9UX0ZPVU5EKTtcbiAgICB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9nZXRCeUtleSA9IGZ1bmN0aW9uIChrZXksIHZpc2liaWxpdHksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gUmVmbGVjdGl2ZUluamVjdG9yXy5JTkpFQ1RPUl9LRVkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2aXNpYmlsaXR5IGluc3RhbmNlb2YgU2VsZikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5U2VsZihrZXksIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEJ5S2V5RGVmYXVsdChrZXksIG5vdEZvdW5kVmFsdWUsIHZpc2liaWxpdHkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZS5fZ2V0T2JqQnlLZXlJZCA9IGZ1bmN0aW9uIChrZXlJZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMua2V5SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5rZXlJZHNbaV0gPT09IGtleUlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub2Jqc1tpXSA9PT0gVU5ERUZJTkVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2Jqc1tpXSA9IHRoaXMuX25ldyh0aGlzLl9wcm92aWRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vYmpzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBVTkRFRklORUQ7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX3Rocm93T3JOdWxsID0gZnVuY3Rpb24gKGtleSwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSAhPT0gVEhST1dfSUZfTk9UX0ZPVU5EKSB7XG4gICAgICAgICAgICByZXR1cm4gbm90Rm91bmRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5vUHJvdmlkZXJFcnJvcih0aGlzLCBrZXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUuX2dldEJ5S2V5U2VsZiA9IGZ1bmN0aW9uIChrZXksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICAgICAgdmFyIG9iaiA9IHRoaXMuX2dldE9iakJ5S2V5SWQoa2V5LmlkKTtcbiAgICAgICAgcmV0dXJuIChvYmogIT09IFVOREVGSU5FRCkgPyBvYmogOiB0aGlzLl90aHJvd09yTnVsbChrZXksIG5vdEZvdW5kVmFsdWUpO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8ucHJvdG90eXBlLl9nZXRCeUtleURlZmF1bHQgPSBmdW5jdGlvbiAoa2V5LCBub3RGb3VuZFZhbHVlLCB2aXNpYmlsaXR5KSB7XG4gICAgICAgIHZhciBpbmo7XG4gICAgICAgIGlmICh2aXNpYmlsaXR5IGluc3RhbmNlb2YgU2tpcFNlbGYpIHtcbiAgICAgICAgICAgIGluaiA9IHRoaXMucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5qID0gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5qIGluc3RhbmNlb2YgUmVmbGVjdGl2ZUluamVjdG9yXykge1xuICAgICAgICAgICAgdmFyIGlual8gPSBpbmo7XG4gICAgICAgICAgICB2YXIgb2JqID0gaW5qXy5fZ2V0T2JqQnlLZXlJZChrZXkuaWQpO1xuICAgICAgICAgICAgaWYgKG9iaiAhPT0gVU5ERUZJTkVEKVxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICBpbmogPSBpbmpfLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5qICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5qLmdldChrZXkudG9rZW4sIG5vdEZvdW5kVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Rocm93T3JOdWxsKGtleSwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWZsZWN0aXZlSW5qZWN0b3JfLnByb3RvdHlwZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHByb3ZpZGVycyA9IF9tYXBQcm92aWRlcnModGhpcywgZnVuY3Rpb24gKGIpIHsgcmV0dXJuICcgXCInICsgYi5rZXkuZGlzcGxheU5hbWUgKyAnXCIgJzsgfSlcbiAgICAgICAgICAgICAgICAuam9pbignLCAnKTtcbiAgICAgICAgICAgIHJldHVybiBcIlJlZmxlY3RpdmVJbmplY3Rvcihwcm92aWRlcnM6IFtcIiArIHByb3ZpZGVycyArIFwiXSlcIjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUmVmbGVjdGl2ZUluamVjdG9yXy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmRpc3BsYXlOYW1lOyB9O1xuICAgIFJlZmxlY3RpdmVJbmplY3Rvcl8uSU5KRUNUT1JfS0VZID0gUmVmbGVjdGl2ZUtleS5nZXQoSW5qZWN0b3IpO1xuICAgIHJldHVybiBSZWZsZWN0aXZlSW5qZWN0b3JfO1xufSgpKTtcbmZ1bmN0aW9uIF9tYXBQcm92aWRlcnMoaW5qZWN0b3IsIGZuKSB7XG4gICAgdmFyIHJlcyA9IG5ldyBBcnJheShpbmplY3Rvci5fcHJvdmlkZXJzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmplY3Rvci5fcHJvdmlkZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc1tpXSA9IGZuKGluamVjdG9yLmdldFByb3ZpZGVyQXRJbmRleChpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGFyZ3VtZW50IGlzIHNoYXBlZCBsaWtlIGEgUHJvbWlzZVxuICovXG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqKSB7XG4gICAgLy8gYWxsb3cgYW55IFByb21pc2UvQSsgY29tcGxpYW50IHRoZW5hYmxlLlxuICAgIC8vIEl0J3MgdXAgdG8gdGhlIGNhbGxlciB0byBlbnN1cmUgdGhhdCBvYmoudGhlbiBjb25mb3JtcyB0byB0aGUgc3BlY1xuICAgIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIERldGVybWluZSBpZiB0aGUgYXJndW1lbnQgaXMgYW4gT2JzZXJ2YWJsZVxuICovXG5mdW5jdGlvbiBpc09ic2VydmFibGUob2JqKSB7XG4gICAgLy8gVE9ETzogdXNlIGlzT2JzZXJ2YWJsZSBvbmNlIHdlIHVwZGF0ZSBwYXNzIHJ4anMgNi4xXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlWC9yeGpzL2Jsb2IvbWFzdGVyL0NIQU5HRUxPRy5tZCM2MTAtMjAxOC0wNS0wM1xuICAgIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqLnN1YnNjcmliZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGFuIGFwcGxpY2F0aW9uIGlzIGluaXRpYWxpemVkLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEFQUF9JTklUSUFMSVpFUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignQXBwbGljYXRpb24gSW5pdGlhbGl6ZXInKTtcbi8qKlxuICogQSBjbGFzcyB0aGF0IHJlZmxlY3RzIHRoZSBzdGF0ZSBvZiBydW5uaW5nIHtAbGluayBBUFBfSU5JVElBTElaRVJ9cy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBBcHBsaWNhdGlvbkluaXRTdGF0dXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwbGljYXRpb25Jbml0U3RhdHVzKGFwcEluaXRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuYXBwSW5pdHMgPSBhcHBJbml0cztcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5kb25lUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMsIHJlaikge1xuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZSA9IHJlcztcbiAgICAgICAgICAgIF90aGlzLnJlamVjdCA9IHJlajtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBBcHBsaWNhdGlvbkluaXRTdGF0dXMucHJvdG90eXBlLnJ1bkluaXRpYWxpemVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXN5bmNJbml0UHJvbWlzZXMgPSBbXTtcbiAgICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5yZXNvbHZlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmFwcEluaXRzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYXBwSW5pdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5pdFJlc3VsdCA9IHRoaXMuYXBwSW5pdHNbaV0oKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNQcm9taXNlKGluaXRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jSW5pdFByb21pc2VzLnB1c2goaW5pdFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFByb21pc2UuYWxsKGFzeW5jSW5pdFByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHsgY29tcGxldGUoKTsgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsgX3RoaXMucmVqZWN0KGUpOyB9KTtcbiAgICAgICAgaWYgKGFzeW5jSW5pdFByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIEFwcGxpY2F0aW9uSW5pdFN0YXR1cyA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBJbmplY3RhYmxlKCksXG4gICAgICAgIF9fcGFyYW0oMCwgSW5qZWN0KEFQUF9JTklUSUFMSVpFUikpLCBfX3BhcmFtKDAsIE9wdGlvbmFsKCkpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0FycmF5XSlcbiAgICBdLCBBcHBsaWNhdGlvbkluaXRTdGF0dXMpO1xuICAgIHJldHVybiBBcHBsaWNhdGlvbkluaXRTdGF0dXM7XG59KCkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEEgREkgVG9rZW4gcmVwcmVzZW50aW5nIGEgdW5pcXVlIHN0cmluZyBpZCBhc3NpZ25lZCB0byB0aGUgYXBwbGljYXRpb24gYnkgQW5ndWxhciBhbmQgdXNlZFxuICogcHJpbWFyaWx5IGZvciBwcmVmaXhpbmcgYXBwbGljYXRpb24gYXR0cmlidXRlcyBhbmQgQ1NTIHN0eWxlcyB3aGVuXG4gKiB7QGxpbmsgVmlld0VuY2Fwc3VsYXRpb24jRW11bGF0ZWQgVmlld0VuY2Fwc3VsYXRpb24uRW11bGF0ZWR9IGlzIGJlaW5nIHVzZWQuXG4gKlxuICogSWYgeW91IG5lZWQgdG8gYXZvaWQgcmFuZG9tbHkgZ2VuZXJhdGVkIHZhbHVlIHRvIGJlIHVzZWQgYXMgYW4gYXBwbGljYXRpb24gaWQsIHlvdSBjYW4gcHJvdmlkZVxuICogYSBjdXN0b20gdmFsdWUgdmlhIGEgREkgcHJvdmlkZXIgPCEtLSBUT0RPOiBwcm92aWRlciAtLT4gY29uZmlndXJpbmcgdGhlIHJvb3Qge0BsaW5rIEluamVjdG9yfVxuICogdXNpbmcgdGhpcyB0b2tlbi5cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEFQUF9JRCA9IG5ldyBJbmplY3Rpb25Ub2tlbignQXBwSWQnKTtcbmZ1bmN0aW9uIF9hcHBJZFJhbmRvbVByb3ZpZGVyRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gXCJcIiArIF9yYW5kb21DaGFyKCkgKyBfcmFuZG9tQ2hhcigpICsgX3JhbmRvbUNoYXIoKTtcbn1cbi8qKlxuICogUHJvdmlkZXJzIHRoYXQgd2lsbCBnZW5lcmF0ZSBhIHJhbmRvbSBBUFBfSURfVE9LRU4uXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBBUFBfSURfUkFORE9NX1BST1ZJREVSID0ge1xuICAgIHByb3ZpZGU6IEFQUF9JRCxcbiAgICB1c2VGYWN0b3J5OiBfYXBwSWRSYW5kb21Qcm92aWRlckZhY3RvcnksXG4gICAgZGVwczogW10sXG59O1xuZnVuY3Rpb24gX3JhbmRvbUNoYXIoKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoOTcgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNSkpO1xufVxuLyoqXG4gKiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIGEgcGxhdGZvcm0gaXMgaW5pdGlhbGl6ZWQuXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBQTEFURk9STV9JTklUSUFMSVpFUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignUGxhdGZvcm0gSW5pdGlhbGl6ZXInKTtcbi8qKlxuICogQSB0b2tlbiB0aGF0IGluZGljYXRlcyBhbiBvcGFxdWUgcGxhdGZvcm0gaWQuXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBQTEFURk9STV9JRCA9IG5ldyBJbmplY3Rpb25Ub2tlbignUGxhdGZvcm0gSUQnKTtcbi8qKlxuICogQWxsIGNhbGxiYWNrcyBwcm92aWRlZCB2aWEgdGhpcyB0b2tlbiB3aWxsIGJlIGNhbGxlZCBmb3IgZXZlcnkgY29tcG9uZW50IHRoYXQgaXMgYm9vdHN0cmFwcGVkLlxuICogU2lnbmF0dXJlIG9mIHRoZSBjYWxsYmFjazpcbiAqXG4gKiBgKGNvbXBvbmVudFJlZjogQ29tcG9uZW50UmVmKSA9PiB2b2lkYC5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBBUFBfQk9PVFNUUkFQX0xJU1RFTkVSID0gbmV3IEluamVjdGlvblRva2VuKCdhcHBCb290c3RyYXBMaXN0ZW5lcicpO1xuLyoqXG4gKiBBIHRva2VuIHdoaWNoIGluZGljYXRlcyB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhlIGFwcGxpY2F0aW9uXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBQQUNLQUdFX1JPT1RfVVJMID0gbmV3IEluamVjdGlvblRva2VuKCdBcHBsaWNhdGlvbiBQYWNrYWdlcyBSb290IFVSTCcpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgQ29uc29sZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25zb2xlKCkge1xuICAgIH1cbiAgICBDb25zb2xlLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICB9O1xuICAgIC8vIE5vdGU6IGZvciByZXBvcnRpbmcgZXJyb3JzIHVzZSBgRE9NLmxvZ0Vycm9yKClgIGFzIGl0IGlzIHBsYXRmb3JtIHNwZWNpZmljXG4gICAgQ29uc29sZS5wcm90b3R5cGUud2FybiA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB9O1xuICAgIENvbnNvbGUgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5qZWN0YWJsZSgpXG4gICAgXSwgQ29uc29sZSk7XG4gICAgcmV0dXJuIENvbnNvbGU7XG59KCkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIENvbWJpbmF0aW9uIG9mIE5nTW9kdWxlRmFjdG9yeSBhbmQgQ29tcG9uZW50RmFjdG9yeXMuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzKG5nTW9kdWxlRmFjdG9yeSwgY29tcG9uZW50RmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMubmdNb2R1bGVGYWN0b3J5ID0gbmdNb2R1bGVGYWN0b3J5O1xuICAgICAgICB0aGlzLmNvbXBvbmVudEZhY3RvcmllcyA9IGNvbXBvbmVudEZhY3RvcmllcztcbiAgICB9XG4gICAgcmV0dXJuIE1vZHVsZVdpdGhDb21wb25lbnRGYWN0b3JpZXM7XG59KCkpO1xuZnVuY3Rpb24gX3Rocm93RXJyb3IoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUnVudGltZSBjb21waWxlciBpcyBub3QgbG9hZGVkXCIpO1xufVxudmFyIENvbXBpbGVyX2NvbXBpbGVNb2R1bGVTeW5jX19QUkVfUjNfXyA9IF90aHJvd0Vycm9yO1xudmFyIENvbXBpbGVyX2NvbXBpbGVNb2R1bGVTeW5jX19QT1NUX1IzX18gPSBmdW5jdGlvbiAobW9kdWxlVHlwZSkge1xuICAgIHJldHVybiBuZXcgTmdNb2R1bGVGYWN0b3J5JDEobW9kdWxlVHlwZSk7XG59O1xudmFyIENvbXBpbGVyX2NvbXBpbGVNb2R1bGVTeW5jID0gQ29tcGlsZXJfY29tcGlsZU1vZHVsZVN5bmNfX1BSRV9SM19fO1xudmFyIENvbXBpbGVyX2NvbXBpbGVNb2R1bGVBc3luY19fUFJFX1IzX18gPSBfdGhyb3dFcnJvcjtcbnZhciBDb21waWxlcl9jb21waWxlTW9kdWxlQXN5bmNfX1BPU1RfUjNfXyA9IGZ1bmN0aW9uIChtb2R1bGVUeXBlKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShDb21waWxlcl9jb21waWxlTW9kdWxlU3luY19fUE9TVF9SM19fKG1vZHVsZVR5cGUpKTtcbn07XG52YXIgQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFzeW5jID0gQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFzeW5jX19QUkVfUjNfXztcbnZhciBDb21waWxlcl9jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmNfX1BSRV9SM19fID0gX3Rocm93RXJyb3I7XG52YXIgQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jX19QT1NUX1IzX18gPSBmdW5jdGlvbiAobW9kdWxlVHlwZSkge1xuICAgIHJldHVybiBuZXcgTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcyhDb21waWxlcl9jb21waWxlTW9kdWxlU3luY19fUE9TVF9SM19fKG1vZHVsZVR5cGUpLCBbXSk7XG59O1xudmFyIENvbXBpbGVyX2NvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzU3luYyA9IENvbXBpbGVyX2NvbXBpbGVNb2R1bGVBbmRBbGxDb21wb25lbnRzU3luY19fUFJFX1IzX187XG52YXIgQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luY19fUFJFX1IzX18gPSBfdGhyb3dFcnJvcjtcbnZhciBDb21waWxlcl9jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jX19QT1NUX1IzX18gPSBmdW5jdGlvbiAobW9kdWxlVHlwZSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jX19QT1NUX1IzX18obW9kdWxlVHlwZSkpO1xufTtcbnZhciBDb21waWxlcl9jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jID0gQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luY19fUFJFX1IzX187XG4vKipcbiAqIExvdy1sZXZlbCBzZXJ2aWNlIGZvciBydW5uaW5nIHRoZSBhbmd1bGFyIGNvbXBpbGVyIGR1cmluZyBydW50aW1lXG4gKiB0byBjcmVhdGUge0BsaW5rIENvbXBvbmVudEZhY3Rvcnl9cywgd2hpY2hcbiAqIGNhbiBsYXRlciBiZSB1c2VkIHRvIGNyZWF0ZSBhbmQgcmVuZGVyIGEgQ29tcG9uZW50IGluc3RhbmNlLlxuICpcbiAqIEVhY2ggYEBOZ01vZHVsZWAgcHJvdmlkZXMgYW4gb3duIGBDb21waWxlcmAgdG8gaXRzIGluamVjdG9yLFxuICogdGhhdCB3aWxsIHVzZSB0aGUgZGlyZWN0aXZlcy9waXBlcyBvZiB0aGUgbmcgbW9kdWxlIGZvciBjb21waWxhdGlvblxuICogb2YgY29tcG9uZW50cy5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBDb21waWxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21waWxlcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBpbGVzIHRoZSBnaXZlbiBOZ01vZHVsZSBhbmQgYWxsIG9mIGl0cyBjb21wb25lbnRzLiBBbGwgdGVtcGxhdGVzIG9mIHRoZSBjb21wb25lbnRzIGxpc3RlZFxuICAgICAgICAgKiBpbiBgZW50cnlDb21wb25lbnRzYCBoYXZlIHRvIGJlIGlubGluZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBpbGVNb2R1bGVTeW5jID0gQ29tcGlsZXJfY29tcGlsZU1vZHVsZVN5bmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21waWxlcyB0aGUgZ2l2ZW4gTmdNb2R1bGUgYW5kIGFsbCBvZiBpdHMgY29tcG9uZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21waWxlTW9kdWxlQXN5bmMgPSBDb21waWxlcl9jb21waWxlTW9kdWxlQXN5bmM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYW1lIGFzIHtAbGluayAjY29tcGlsZU1vZHVsZVN5bmN9IGJ1dCBhbHNvIGNyZWF0ZXMgQ29tcG9uZW50RmFjdG9yaWVzIGZvciBhbGwgY29tcG9uZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jID0gQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2FtZSBhcyB7QGxpbmsgI2NvbXBpbGVNb2R1bGVBc3luY30gYnV0IGFsc28gY3JlYXRlcyBDb21wb25lbnRGYWN0b3JpZXMgZm9yIGFsbCBjb21wb25lbnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c0FzeW5jID0gQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luYztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgQ29tcGlsZXIucHJvdG90eXBlLmNsZWFyQ2FjaGUgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBjYWNoZSBmb3IgdGhlIGdpdmVuIGNvbXBvbmVudC9uZ01vZHVsZS5cbiAgICAgKi9cbiAgICBDb21waWxlci5wcm90b3R5cGUuY2xlYXJDYWNoZUZvciA9IGZ1bmN0aW9uICh0eXBlKSB7IH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaWQgZm9yIGEgZ2l2ZW4gTmdNb2R1bGUsIGlmIG9uZSBpcyBkZWZpbmVkIGFuZCBrbm93biB0byB0aGUgY29tcGlsZXIuXG4gICAgICovXG4gICAgQ29tcGlsZXIucHJvdG90eXBlLmdldE1vZHVsZUlkID0gZnVuY3Rpb24gKG1vZHVsZVR5cGUpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfTtcbiAgICBDb21waWxlciA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBJbmplY3RhYmxlKClcbiAgICBdLCBDb21waWxlcik7XG4gICAgcmV0dXJuIENvbXBpbGVyO1xufSgpKTtcbi8qKlxuICogVG9rZW4gdG8gcHJvdmlkZSBDb21waWxlck9wdGlvbnMgaW4gdGhlIHBsYXRmb3JtIGluamVjdG9yLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIENPTVBJTEVSX09QVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ2NvbXBpbGVyT3B0aW9ucycpO1xuLyoqXG4gKiBBIGZhY3RvcnkgZm9yIGNyZWF0aW5nIGEgQ29tcGlsZXJcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBDb21waWxlckZhY3RvcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcGlsZXJGYWN0b3J5KCkge1xuICAgIH1cbiAgICByZXR1cm4gQ29tcGlsZXJGYWN0b3J5O1xufSgpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIHRyYWNlO1xudmFyIGV2ZW50cztcbmZ1bmN0aW9uIGRldGVjdFdURigpIHtcbiAgICB2YXIgd3RmID0gX2dsb2JhbCAvKiogVE9ETyAjOTEwMCAqL1snd3RmJ107XG4gICAgaWYgKHd0Zikge1xuICAgICAgICB0cmFjZSA9IHd0ZlsndHJhY2UnXTtcbiAgICAgICAgaWYgKHRyYWNlKSB7XG4gICAgICAgICAgICBldmVudHMgPSB0cmFjZVsnZXZlbnRzJ107XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBjcmVhdGVTY29wZShzaWduYXR1cmUsIGZsYWdzKSB7XG4gICAgaWYgKGZsYWdzID09PSB2b2lkIDApIHsgZmxhZ3MgPSBudWxsOyB9XG4gICAgcmV0dXJuIGV2ZW50cy5jcmVhdGVTY29wZShzaWduYXR1cmUsIGZsYWdzKTtcbn1cbmZ1bmN0aW9uIGxlYXZlKHNjb3BlLCByZXR1cm5WYWx1ZSkge1xuICAgIHRyYWNlLmxlYXZlU2NvcGUoc2NvcGUsIHJldHVyblZhbHVlKTtcbiAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG59XG5mdW5jdGlvbiBzdGFydFRpbWVSYW5nZShyYW5nZVR5cGUsIGFjdGlvbikge1xuICAgIHJldHVybiB0cmFjZS5iZWdpblRpbWVSYW5nZShyYW5nZVR5cGUsIGFjdGlvbik7XG59XG5mdW5jdGlvbiBlbmRUaW1lUmFuZ2UocmFuZ2UpIHtcbiAgICB0cmFjZS5lbmRUaW1lUmFuZ2UocmFuZ2UpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIFRydWUgaWYgV1RGIGlzIGVuYWJsZWQuXG4gKi9cbnZhciB3dGZFbmFibGVkID0gZGV0ZWN0V1RGKCk7XG5mdW5jdGlvbiBub29wU2NvcGUoYXJnMCwgYXJnMSkge1xuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBDcmVhdGUgdHJhY2Ugc2NvcGUuXG4gKlxuICogU2NvcGVzIG11c3QgYmUgc3RyaWN0bHkgbmVzdGVkIGFuZCBhcmUgYW5hbG9nb3VzIHRvIHN0YWNrIGZyYW1lcywgYnV0XG4gKiBkbyBub3QgaGF2ZSB0byBmb2xsb3cgdGhlIHN0YWNrIGZyYW1lcy4gSW5zdGVhZCBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoZXkgZm9sbG93IGxvZ2ljYWxcbiAqIG5lc3RpbmcuIFlvdSBtYXkgd2FudCB0byB1c2VcbiAqIFtFdmVudFxuICogU2lnbmF0dXJlc10oaHR0cDovL2dvb2dsZS5naXRodWIuaW8vdHJhY2luZy1mcmFtZXdvcmsvaW5zdHJ1bWVudGluZy1jb2RlLmh0bWwjY3VzdG9tLWV2ZW50cylcbiAqIGFzIHRoZXkgYXJlIGRlZmluZWQgaW4gV1RGLlxuICpcbiAqIFVzZWQgdG8gbWFyayBzY29wZSBlbnRyeS4gVGhlIHJldHVybiB2YWx1ZSBpcyB1c2VkIHRvIGxlYXZlIHRoZSBzY29wZS5cbiAqXG4gKiAgICAgdmFyIG15U2NvcGUgPSB3dGZDcmVhdGVTY29wZSgnTXlDbGFzcyNteU1ldGhvZChhc2NpaSBzb21lVmFsKScpO1xuICpcbiAqICAgICBzb21lTWV0aG9kKCkge1xuICogICAgICAgIHZhciBzID0gbXlTY29wZSgnRm9vJyk7IC8vICdGb28nIGdldHMgc3RvcmVkIGluIHRyYWNpbmcgVUlcbiAqICAgICAgICAvLyBETyBTT01FIFdPUksgSEVSRVxuICogICAgICAgIHJldHVybiB3dGZMZWF2ZShzLCAxMjMpOyAvLyBSZXR1cm4gdmFsdWUgMTIzXG4gKiAgICAgfVxuICpcbiAqIE5vdGUsIGFkZGluZyB0cnktZmluYWxseSBibG9jayBhcm91bmQgdGhlIHdvcmsgdG8gZW5zdXJlIHRoYXQgYHd0ZkxlYXZlYCBnZXRzIGNhbGxlZCBjYW5cbiAqIG5lZ2F0aXZlbHkgaW1wYWN0IHRoZSBwZXJmb3JtYW5jZSBvZiB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgdGhpcyByZWFzb24gd2UgcmVjb21tZW5kIHRoYXRcbiAqIHlvdSBkb24ndCBhZGQgdGhlbSB0byBlbnN1cmUgdGhhdCBgd3RmTGVhdmVgIGdldHMgY2FsbGVkLiBJbiBwcm9kdWN0aW9uIGB3dGZMZWF2ZWAgaXMgYSBub29wIGFuZFxuICogc28gdHJ5LWZpbmFsbHkgYmxvY2sgaGFzIG5vIHZhbHVlLiBXaGVuIGRlYnVnZ2luZyBwZXJmIGlzc3Vlcywgc2tpcHBpbmcgYHd0ZkxlYXZlYCwgZG8gdG9cbiAqIGV4Y2VwdGlvbiwgd2lsbCBwcm9kdWNlIGluY29ycmVjdCB0cmFjZSwgYnV0IHByZXNlbmNlIG9mIGV4Y2VwdGlvbiBzaWduaWZpZXMgbG9naWMgZXJyb3Igd2hpY2hcbiAqIG5lZWRzIHRvIGJlIGZpeGVkIGJlZm9yZSB0aGUgYXBwIHNob3VsZCBiZSBwcm9maWxlZC4gQWRkIHRyeS1maW5hbGx5IG9ubHkgd2hlbiB5b3UgZXhwZWN0IHRoYXRcbiAqIGFuIGV4Y2VwdGlvbiBpcyBleHBlY3RlZCBkdXJpbmcgbm9ybWFsIGV4ZWN1dGlvbiB3aGlsZSBwcm9maWxpbmcuXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgd3RmQ3JlYXRlU2NvcGUgPSB3dGZFbmFibGVkID8gY3JlYXRlU2NvcGUgOiBmdW5jdGlvbiAoc2lnbmF0dXJlLCBmbGFncykgeyByZXR1cm4gbm9vcFNjb3BlOyB9O1xuLyoqXG4gKiBVc2VkIHRvIG1hcmsgZW5kIG9mIFNjb3BlLlxuICpcbiAqIC0gYHNjb3BlYCB0byBlbmQuXG4gKiAtIGByZXR1cm5WYWx1ZWAgKG9wdGlvbmFsKSB0byBiZSBwYXNzZWQgdG8gdGhlIFdURi5cbiAqXG4gKiBSZXR1cm5zIHRoZSBgcmV0dXJuVmFsdWUgZm9yIGVhc3kgY2hhaW5pbmcuXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciB3dGZMZWF2ZSA9IHd0ZkVuYWJsZWQgPyBsZWF2ZSA6IGZ1bmN0aW9uIChzLCByKSB7IHJldHVybiByOyB9O1xuLyoqXG4gKiBVc2VkIHRvIG1hcmsgQXN5bmMgc3RhcnQuIEFzeW5jIGFyZSBzaW1pbGFyIHRvIHNjb3BlIGJ1dCB0aGV5IGRvbid0IGhhdmUgdG8gYmUgc3RyaWN0bHkgbmVzdGVkLlxuICogVGhlIHJldHVybiB2YWx1ZSBpcyB1c2VkIGluIHRoZSBjYWxsIHRvIFtlbmRBc3luY10uIEFzeW5jIHJhbmdlcyBvbmx5IHdvcmsgaWYgV1RGIGhhcyBiZWVuXG4gKiBlbmFibGVkLlxuICpcbiAqICAgICBzb21lTWV0aG9kKCkge1xuICogICAgICAgIHZhciBzID0gd3RmU3RhcnRUaW1lUmFuZ2UoJ0hUVFA6R0VUJywgJ3NvbWUudXJsJyk7XG4gKiAgICAgICAgdmFyIGZ1dHVyZSA9IG5ldyBGdXR1cmUuZGVsYXkoNSkudGhlbigoXykge1xuICogICAgICAgICAgd3RmRW5kVGltZVJhbmdlKHMpO1xuICogICAgICAgIH0pO1xuICogICAgIH1cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIHd0ZlN0YXJ0VGltZVJhbmdlID0gd3RmRW5hYmxlZCA/IHN0YXJ0VGltZVJhbmdlIDogZnVuY3Rpb24gKHJhbmdlVHlwZSwgYWN0aW9uKSB7IHJldHVybiBudWxsOyB9O1xuLyoqXG4gKiBFbmRzIGEgYXN5bmMgdGltZSByYW5nZSBvcGVyYXRpb24uXG4gKiBbcmFuZ2VdIGlzIHRoZSByZXR1cm4gdmFsdWUgZnJvbSBbd3RmU3RhcnRUaW1lUmFuZ2VdIEFzeW5jIHJhbmdlcyBvbmx5IHdvcmsgaWYgV1RGIGhhcyBiZWVuXG4gKiBlbmFibGVkLlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgd3RmRW5kVGltZVJhbmdlID0gd3RmRW5hYmxlZCA/IGVuZFRpbWVSYW5nZSA6IGZ1bmN0aW9uIChyKSB7IHJldHVybiBudWxsOyB9O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEFuIGluamVjdGFibGUgc2VydmljZSBmb3IgZXhlY3V0aW5nIHdvcmsgaW5zaWRlIG9yIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZS5cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gdXNlIG9mIHRoaXMgc2VydmljZSBpcyB0byBvcHRpbWl6ZSBwZXJmb3JtYW5jZSB3aGVuIHN0YXJ0aW5nIGEgd29yayBjb25zaXN0aW5nIG9mXG4gKiBvbmUgb3IgbW9yZSBhc3luY2hyb25vdXMgdGFza3MgdGhhdCBkb24ndCByZXF1aXJlIFVJIHVwZGF0ZXMgb3IgZXJyb3IgaGFuZGxpbmcgdG8gYmUgaGFuZGxlZCBieVxuICogQW5ndWxhci4gU3VjaCB0YXNrcyBjYW4gYmUga2lja2VkIG9mZiB2aWEge0BsaW5rICNydW5PdXRzaWRlQW5ndWxhcn0gYW5kIGlmIG5lZWRlZCwgdGhlc2UgdGFza3NcbiAqIGNhbiByZWVudGVyIHRoZSBBbmd1bGFyIHpvbmUgdmlhIHtAbGluayAjcnVufS5cbiAqXG4gKiA8IS0tIFRPRE86IGFkZC9maXggbGlua3MgdG86XG4gKiAgIC0gZG9jcyBleHBsYWluaW5nIHpvbmVzIGFuZCB0aGUgdXNlIG9mIHpvbmVzIGluIEFuZ3VsYXIgYW5kIGNoYW5nZS1kZXRlY3Rpb25cbiAqICAgLSBsaW5rIHRvIHJ1bk91dHNpZGVBbmd1bGFyL3J1biAodGhyb3VnaG91dCB0aGlzIGZpbGUhKVxuICogICAtLT5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIGltcG9ydCB7Q29tcG9uZW50LCBOZ1pvbmV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHtOZ0lmfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuICpcbiAqIEBDb21wb25lbnQoe1xuICogICBzZWxlY3RvcjogJ25nLXpvbmUtZGVtbycsXG4gKiAgIHRlbXBsYXRlOiBgXG4gKiAgICAgPGgyPkRlbW86IE5nWm9uZTwvaDI+XG4gKlxuICogICAgIDxwPlByb2dyZXNzOiB7e3Byb2dyZXNzfX0lPC9wPlxuICogICAgIDxwICpuZ0lmPVwicHJvZ3Jlc3MgPj0gMTAwXCI+RG9uZSBwcm9jZXNzaW5nIHt7bGFiZWx9fSBvZiBBbmd1bGFyIHpvbmUhPC9wPlxuICpcbiAqICAgICA8YnV0dG9uIChjbGljayk9XCJwcm9jZXNzV2l0aGluQW5ndWxhclpvbmUoKVwiPlByb2Nlc3Mgd2l0aGluIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICAgIDxidXR0b24gKGNsaWNrKT1cInByb2Nlc3NPdXRzaWRlT2ZBbmd1bGFyWm9uZSgpXCI+UHJvY2VzcyBvdXRzaWRlIG9mIEFuZ3VsYXIgem9uZTwvYnV0dG9uPlxuICogICBgLFxuICogfSlcbiAqIGV4cG9ydCBjbGFzcyBOZ1pvbmVEZW1vIHtcbiAqICAgcHJvZ3Jlc3M6IG51bWJlciA9IDA7XG4gKiAgIGxhYmVsOiBzdHJpbmc7XG4gKlxuICogICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9uZ1pvbmU6IE5nWm9uZSkge31cbiAqXG4gKiAgIC8vIExvb3AgaW5zaWRlIHRoZSBBbmd1bGFyIHpvbmVcbiAqICAgLy8gc28gdGhlIFVJIERPRVMgcmVmcmVzaCBhZnRlciBlYWNoIHNldFRpbWVvdXQgY3ljbGVcbiAqICAgcHJvY2Vzc1dpdGhpbkFuZ3VsYXJab25lKCkge1xuICogICAgIHRoaXMubGFiZWwgPSAnaW5zaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKCgpID0+IGNvbnNvbGUubG9nKCdJbnNpZGUgRG9uZSEnKSk7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIExvb3Agb3V0c2lkZSBvZiB0aGUgQW5ndWxhciB6b25lXG4gKiAgIC8vIHNvIHRoZSBVSSBET0VTIE5PVCByZWZyZXNoIGFmdGVyIGVhY2ggc2V0VGltZW91dCBjeWNsZVxuICogICBwcm9jZXNzT3V0c2lkZU9mQW5ndWxhclpvbmUoKSB7XG4gKiAgICAgdGhpcy5sYWJlbCA9ICdvdXRzaWRlJztcbiAqICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAqICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICogICAgICAgdGhpcy5faW5jcmVhc2VQcm9ncmVzcygoKSA9PiB7XG4gKiAgICAgICAgIC8vIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZGlzcGxheSBkb25lXG4gKiAgICAgICAgIHRoaXMuX25nWm9uZS5ydW4oKCkgPT4geyBjb25zb2xlLmxvZygnT3V0c2lkZSBEb25lIScpOyB9KTtcbiAqICAgICAgIH0pO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICBfaW5jcmVhc2VQcm9ncmVzcyhkb25lQ2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAqICAgICB0aGlzLnByb2dyZXNzICs9IDE7XG4gKiAgICAgY29uc29sZS5sb2coYEN1cnJlbnQgcHJvZ3Jlc3M6ICR7dGhpcy5wcm9ncmVzc30lYCk7XG4gKlxuICogICAgIGlmICh0aGlzLnByb2dyZXNzIDwgMTAwKSB7XG4gKiAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLl9pbmNyZWFzZVByb2dyZXNzKGRvbmVDYWxsYmFjayksIDEwKTtcbiAqICAgICB9IGVsc2Uge1xuICogICAgICAgZG9uZUNhbGxiYWNrKCk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBOZ1pvbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdab25lKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hLmVuYWJsZUxvbmdTdGFja1RyYWNlLCBlbmFibGVMb25nU3RhY2tUcmFjZSA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdNaWNyb3Rhc2tzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01hY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlcmUgYXJlIG5vIG91dHN0YW5kaW5nIG1pY3JvdGFza3Mgb3IgbWFjcm90YXNrcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgd2hlbiBjb2RlIGVudGVycyBBbmd1bGFyIFpvbmUuIFRoaXMgZ2V0cyBmaXJlZCBmaXJzdCBvbiBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblVuc3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZXJlIGlzIG5vIG1vcmUgbWljcm90YXNrcyBlbnF1ZXVlZCBpbiB0aGUgY3VycmVudCBWTSBUdXJuLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGludCBmb3IgQW5ndWxhciB0byBkbyBjaGFuZ2UgZGV0ZWN0aW9uLCB3aGljaCBtYXkgZW5xdWV1ZSBtb3JlIG1pY3JvdGFza3MuXG4gICAgICAgICAqIEZvciB0aGlzIHJlYXNvbiB0aGlzIGV2ZW50IGNhbiBmaXJlIG11bHRpcGxlIHRpbWVzIHBlciBWTSBUdXJuLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbk1pY3JvdGFza0VtcHR5ID0gbmV3IEV2ZW50RW1pdHRlcihmYWxzZSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOb3RpZmllcyB3aGVuIHRoZSBsYXN0IGBvbk1pY3JvdGFza0VtcHR5YCBoYXMgcnVuIGFuZCB0aGVyZSBhcmUgbm8gbW9yZSBtaWNyb3Rhc2tzLCB3aGljaFxuICAgICAgICAgKiBpbXBsaWVzIHdlIGFyZSBhYm91dCB0byByZWxpbnF1aXNoIFZNIHR1cm4uXG4gICAgICAgICAqIFRoaXMgZXZlbnQgZ2V0cyBjYWxsZWQganVzdCBvbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YWJsZSA9IG5ldyBFdmVudEVtaXR0ZXIoZmFsc2UpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTm90aWZpZXMgdGhhdCBhbiBlcnJvciBoYXMgYmVlbiBkZWxpdmVyZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgRXZlbnRFbWl0dGVyKGZhbHNlKTtcbiAgICAgICAgaWYgKHR5cGVvZiBab25lID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbiB0aGlzIGNvbmZpZ3VyYXRpb24gQW5ndWxhciByZXF1aXJlcyBab25lLmpzXCIpO1xuICAgICAgICB9XG4gICAgICAgIFpvbmUuYXNzZXJ0Wm9uZVBhdGNoZWQoKTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBzZWxmLl9uZXN0aW5nID0gMDtcbiAgICAgICAgc2VsZi5fb3V0ZXIgPSBzZWxmLl9pbm5lciA9IFpvbmUuY3VycmVudDtcbiAgICAgICAgaWYgKFpvbmVbJ3d0ZlpvbmVTcGVjJ10pIHtcbiAgICAgICAgICAgIHNlbGYuX2lubmVyID0gc2VsZi5faW5uZXIuZm9yayhab25lWyd3dGZab25lU3BlYyddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoWm9uZVsnVGFza1RyYWNraW5nWm9uZVNwZWMnXSkge1xuICAgICAgICAgICAgc2VsZi5faW5uZXIgPSBzZWxmLl9pbm5lci5mb3JrKG5ldyBab25lWydUYXNrVHJhY2tpbmdab25lU3BlYyddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5hYmxlTG9uZ1N0YWNrVHJhY2UgJiYgWm9uZVsnbG9uZ1N0YWNrVHJhY2Vab25lU3BlYyddKSB7XG4gICAgICAgICAgICBzZWxmLl9pbm5lciA9IHNlbGYuX2lubmVyLmZvcmsoWm9uZVsnbG9uZ1N0YWNrVHJhY2Vab25lU3BlYyddKTtcbiAgICAgICAgfVxuICAgICAgICBmb3JrSW5uZXJab25lV2l0aEFuZ3VsYXJCZWhhdmlvcihzZWxmKTtcbiAgICB9XG4gICAgTmdab25lLmlzSW5Bbmd1bGFyWm9uZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFpvbmUuY3VycmVudC5nZXQoJ2lzQW5ndWxhclpvbmUnKSA9PT0gdHJ1ZTsgfTtcbiAgICBOZ1pvbmUuYXNzZXJ0SW5Bbmd1bGFyWm9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFOZ1pvbmUuaXNJbkFuZ3VsYXJab25lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdG8gYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMgbm90IScpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBOZ1pvbmUuYXNzZXJ0Tm90SW5Bbmd1bGFyWm9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKE5nWm9uZS5pc0luQW5ndWxhclpvbmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0byBub3QgYmUgaW4gQW5ndWxhciBab25lLCBidXQgaXQgaXMhJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYW5kIHJldHVybnMgdmFsdWUgcmV0dXJuZWQgYnlcbiAgICAgKiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBSdW5uaW5nIGZ1bmN0aW9ucyB2aWEgYHJ1bmAgYWxsb3dzIHlvdSB0byByZWVudGVyIEFuZ3VsYXIgem9uZSBmcm9tIGEgdGFzayB0aGF0IHdhcyBleGVjdXRlZFxuICAgICAqIG91dHNpZGUgb2YgdGhlIEFuZ3VsYXIgem9uZSAodHlwaWNhbGx5IHN0YXJ0ZWQgdmlhIHtAbGluayAjcnVuT3V0c2lkZUFuZ3VsYXJ9KS5cbiAgICAgKlxuICAgICAqIEFueSBmdXR1cmUgdGFza3Mgb3IgbWljcm90YXNrcyBzY2hlZHVsZWQgZnJvbSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIGV4ZWN1dGluZyBmcm9tXG4gICAgICogd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBJZiBhIHN5bmNocm9ub3VzIGVycm9yIGhhcHBlbnMgaXQgd2lsbCBiZSByZXRocm93biBhbmQgbm90IHJlcG9ydGVkIHZpYSBgb25FcnJvcmAuXG4gICAgICovXG4gICAgTmdab25lLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lci5ydW4oZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBgZm5gIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgd2l0aGluIHRoZSBBbmd1bGFyIHpvbmUgYXMgYSB0YXNrIGFuZCByZXR1cm5zIHZhbHVlXG4gICAgICogcmV0dXJuZWQgYnkgdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogUnVubmluZyBmdW5jdGlvbnMgdmlhIGBydW5gIGFsbG93cyB5b3UgdG8gcmVlbnRlciBBbmd1bGFyIHpvbmUgZnJvbSBhIHRhc2sgdGhhdCB3YXMgZXhlY3V0ZWRcbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUgKHR5cGljYWxseSBzdGFydGVkIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSkuXG4gICAgICpcbiAgICAgKiBBbnkgZnV0dXJlIHRhc2tzIG9yIG1pY3JvdGFza3Mgc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoaXMgZnVuY3Rpb24gd2lsbCBjb250aW51ZSBleGVjdXRpbmcgZnJvbVxuICAgICAqIHdpdGhpbiB0aGUgQW5ndWxhciB6b25lLlxuICAgICAqXG4gICAgICogSWYgYSBzeW5jaHJvbm91cyBlcnJvciBoYXBwZW5zIGl0IHdpbGwgYmUgcmV0aHJvd24gYW5kIG5vdCByZXBvcnRlZCB2aWEgYG9uRXJyb3JgLlxuICAgICAqL1xuICAgIE5nWm9uZS5wcm90b3R5cGUucnVuVGFzayA9IGZ1bmN0aW9uIChmbiwgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIG5hbWUpIHtcbiAgICAgICAgdmFyIHpvbmUgPSB0aGlzLl9pbm5lcjtcbiAgICAgICAgdmFyIHRhc2sgPSB6b25lLnNjaGVkdWxlRXZlbnRUYXNrKCdOZ1pvbmVFdmVudDogJyArIG5hbWUsIGZuLCBFTVBUWV9QQVlMT0FELCBub29wJDEsIG5vb3AkMSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gem9uZS5ydW5UYXNrKHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHpvbmUuY2FuY2VsVGFzayh0YXNrKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2FtZSBhcyBgcnVuYCwgZXhjZXB0IHRoYXQgc3luY2hyb25vdXMgZXJyb3JzIGFyZSBjYXVnaHQgYW5kIGZvcndhcmRlZCB2aWEgYG9uRXJyb3JgIGFuZCBub3RcbiAgICAgKiByZXRocm93bi5cbiAgICAgKi9cbiAgICBOZ1pvbmUucHJvdG90eXBlLnJ1bkd1YXJkZWQgPSBmdW5jdGlvbiAoZm4sIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbm5lci5ydW5HdWFyZGVkKGZuLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbiBzeW5jaHJvbm91c2x5IGluIEFuZ3VsYXIncyBwYXJlbnQgem9uZSBhbmQgcmV0dXJucyB2YWx1ZSByZXR1cm5lZCBieVxuICAgICAqIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFJ1bm5pbmcgZnVuY3Rpb25zIHZpYSB7QGxpbmsgI3J1bk91dHNpZGVBbmd1bGFyfSBhbGxvd3MgeW91IHRvIGVzY2FwZSBBbmd1bGFyJ3Mgem9uZSBhbmQgZG9cbiAgICAgKiB3b3JrIHRoYXRcbiAgICAgKiBkb2Vzbid0IHRyaWdnZXIgQW5ndWxhciBjaGFuZ2UtZGV0ZWN0aW9uIG9yIGlzIHN1YmplY3QgdG8gQW5ndWxhcidzIGVycm9yIGhhbmRsaW5nLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSB0YXNrcyBvciBtaWNyb3Rhc2tzIHNjaGVkdWxlZCBmcm9tIHdpdGhpbiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udGludWUgZXhlY3V0aW5nIGZyb21cbiAgICAgKiBvdXRzaWRlIG9mIHRoZSBBbmd1bGFyIHpvbmUuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rICNydW59IHRvIHJlZW50ZXIgdGhlIEFuZ3VsYXIgem9uZSBhbmQgZG8gd29yayB0aGF0IHVwZGF0ZXMgdGhlIGFwcGxpY2F0aW9uIG1vZGVsLlxuICAgICAqL1xuICAgIE5nWm9uZS5wcm90b3R5cGUucnVuT3V0c2lkZUFuZ3VsYXIgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX291dGVyLnJ1bihmbik7XG4gICAgfTtcbiAgICByZXR1cm4gTmdab25lO1xufSgpKTtcbmZ1bmN0aW9uIG5vb3AkMSgpIHsgfVxudmFyIEVNUFRZX1BBWUxPQUQgPSB7fTtcbmZ1bmN0aW9uIGNoZWNrU3RhYmxlKHpvbmUpIHtcbiAgICBpZiAoem9uZS5fbmVzdGluZyA9PSAwICYmICF6b25lLmhhc1BlbmRpbmdNaWNyb3Rhc2tzICYmICF6b25lLmlzU3RhYmxlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB6b25lLl9uZXN0aW5nKys7XG4gICAgICAgICAgICB6b25lLm9uTWljcm90YXNrRW1wdHkuZW1pdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICAgICAgICAgIGlmICghem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gem9uZS5vblN0YWJsZS5lbWl0KG51bGwpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuaXNTdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcmtJbm5lclpvbmVXaXRoQW5ndWxhckJlaGF2aW9yKHpvbmUpIHtcbiAgICB6b25lLl9pbm5lciA9IHpvbmUuX2lubmVyLmZvcmsoe1xuICAgICAgICBuYW1lOiAnYW5ndWxhcicsXG4gICAgICAgIHByb3BlcnRpZXM6IHsgJ2lzQW5ndWxhclpvbmUnOiB0cnVlIH0sXG4gICAgICAgIG9uSW52b2tlVGFzazogZnVuY3Rpb24gKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9uRW50ZXIoem9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZVRhc2sodGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBvbkxlYXZlKHpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkludm9rZTogZnVuY3Rpb24gKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9uRW50ZXIoem9uZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmludm9rZSh0YXJnZXQsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIG9uTGVhdmUoem9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFzVGFzazogZnVuY3Rpb24gKGRlbGVnYXRlLCBjdXJyZW50LCB0YXJnZXQsIGhhc1Rhc2tTdGF0ZSkge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFzVGFzayh0YXJnZXQsIGhhc1Rhc2tTdGF0ZSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBoYXNUYXNrIGV2ZW50cyB3aGljaCBvcmlnaW5hdGUgZnJvbSBvdXIgem9uZVxuICAgICAgICAgICAgICAgIC8vIChBIGNoaWxkIGhhc1Rhc2sgZXZlbnQgaXMgbm90IGludGVyZXN0aW5nIHRvIHVzKVxuICAgICAgICAgICAgICAgIGlmIChoYXNUYXNrU3RhdGUuY2hhbmdlID09ICdtaWNyb1Rhc2snKSB7XG4gICAgICAgICAgICAgICAgICAgIHpvbmUuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBoYXNUYXNrU3RhdGUubWljcm9UYXNrO1xuICAgICAgICAgICAgICAgICAgICBjaGVja1N0YWJsZSh6b25lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFzVGFza1N0YXRlLmNoYW5nZSA9PSAnbWFjcm9UYXNrJykge1xuICAgICAgICAgICAgICAgICAgICB6b25lLmhhc1BlbmRpbmdNYWNyb3Rhc2tzID0gaGFzVGFza1N0YXRlLm1hY3JvVGFzaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uSGFuZGxlRXJyb3I6IGZ1bmN0aW9uIChkZWxlZ2F0ZSwgY3VycmVudCwgdGFyZ2V0LCBlcnJvcikge1xuICAgICAgICAgICAgZGVsZWdhdGUuaGFuZGxlRXJyb3IodGFyZ2V0LCBlcnJvcik7XG4gICAgICAgICAgICB6b25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHpvbmUub25FcnJvci5lbWl0KGVycm9yKTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG9uRW50ZXIoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmcrKztcbiAgICBpZiAoem9uZS5pc1N0YWJsZSkge1xuICAgICAgICB6b25lLmlzU3RhYmxlID0gZmFsc2U7XG4gICAgICAgIHpvbmUub25VbnN0YWJsZS5lbWl0KG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG9uTGVhdmUoem9uZSkge1xuICAgIHpvbmUuX25lc3RpbmctLTtcbiAgICBjaGVja1N0YWJsZSh6b25lKTtcbn1cbi8qKlxuICogUHJvdmlkZXMgYSBub29wIGltcGxlbWVudGF0aW9uIG9mIGBOZ1pvbmVgIHdoaWNoIGRvZXMgbm90aGluZy4gVGhpcyB6b25lIHJlcXVpcmVzIGV4cGxpY2l0IGNhbGxzXG4gKiB0byBmcmFtZXdvcmsgdG8gcGVyZm9ybSByZW5kZXJpbmcuXG4gKi9cbnZhciBOb29wTmdab25lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vb3BOZ1pvbmUoKSB7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ01pY3JvdGFza3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWFjcm90YXNrcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RhYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblVuc3RhYmxlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uTWljcm90YXNrRW1wdHkgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25TdGFibGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25FcnJvciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICB9XG4gICAgTm9vcE5nWm9uZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbigpOyB9O1xuICAgIE5vb3BOZ1pvbmUucHJvdG90eXBlLnJ1bkd1YXJkZWQgPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuKCk7IH07XG4gICAgTm9vcE5nWm9uZS5wcm90b3R5cGUucnVuT3V0c2lkZUFuZ3VsYXIgPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuKCk7IH07XG4gICAgTm9vcE5nWm9uZS5wcm90b3R5cGUucnVuVGFzayA9IGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4oKTsgfTtcbiAgICByZXR1cm4gTm9vcE5nWm9uZTtcbn0oKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFRlc3RhYmlsaXR5IHNlcnZpY2UgcHJvdmlkZXMgdGVzdGluZyBob29rcyB0aGF0IGNhbiBiZSBhY2Nlc3NlZCBmcm9tXG4gKiB0aGUgYnJvd3NlciBhbmQgYnkgc2VydmljZXMgc3VjaCBhcyBQcm90cmFjdG9yLiBFYWNoIGJvb3RzdHJhcHBlZCBBbmd1bGFyXG4gKiBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSB3aWxsIGhhdmUgYW4gaW5zdGFuY2Ugb2YgVGVzdGFiaWxpdHkuXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBUZXN0YWJpbGl0eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXN0YWJpbGl0eShfbmdab25lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX25nWm9uZSA9IF9uZ1pvbmU7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX2lzWm9uZVN0YWJsZSA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGFueSB3b3JrIHdhcyBkb25lIHNpbmNlIHRoZSBsYXN0ICd3aGVuU3RhYmxlJyBjYWxsYmFjay4gVGhpcyBpc1xuICAgICAgICAgKiB1c2VmdWwgdG8gZGV0ZWN0IGlmIHRoaXMgY291bGQgaGF2ZSBwb3RlbnRpYWxseSBkZXN0YWJpbGl6ZWQgYW5vdGhlclxuICAgICAgICAgKiBjb21wb25lbnQgd2hpbGUgaXQgaXMgc3RhYmlsaXppbmcuXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGlkV29yayA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy50YXNrVHJhY2tpbmdab25lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fd2F0Y2hBbmd1bGFyRXZlbnRzKCk7XG4gICAgICAgIF9uZ1pvbmUucnVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnRhc2tUcmFja2luZ1pvbmUgPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBab25lID09ICd1bmRlZmluZWQnID8gbnVsbCA6IFpvbmUuY3VycmVudC5nZXQoJ1Rhc2tUcmFja2luZ1pvbmUnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5fd2F0Y2hBbmd1bGFyRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9uZ1pvbmUub25VbnN0YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9kaWRXb3JrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5faXNab25lU3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX25nWm9uZS5vblN0YWJsZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTmdab25lLmFzc2VydE5vdEluQW5ndWxhclpvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVNaWNyb1Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2lzWm9uZVN0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZXMgdGhlIG51bWJlciBvZiBwZW5kaW5nIHJlcXVlc3RcbiAgICAgKiBAZGVwcmVjYXRlZCBwZW5kaW5nIHJlcXVlc3RzIGFyZSBub3cgdHJhY2tlZCB3aXRoIHpvbmVzLlxuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5pbmNyZWFzZVBlbmRpbmdSZXF1ZXN0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDb3VudCArPSAxO1xuICAgICAgICB0aGlzLl9kaWRXb3JrID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdDb3VudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY3JlYXNlcyB0aGUgbnVtYmVyIG9mIHBlbmRpbmcgcmVxdWVzdFxuICAgICAqIEBkZXByZWNhdGVkIHBlbmRpbmcgcmVxdWVzdHMgYXJlIG5vdyB0cmFja2VkIHdpdGggem9uZXNcbiAgICAgKi9cbiAgICBUZXN0YWJpbGl0eS5wcm90b3R5cGUuZGVjcmVhc2VQZW5kaW5nUmVxdWVzdENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdDb3VudCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGVuZGluZyBhc3luYyByZXF1ZXN0cyBiZWxvdyB6ZXJvJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcnVuQ2FsbGJhY2tzSWZSZWFkeSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2hldGhlciBhbiBhc3NvY2lhdGVkIGFwcGxpY2F0aW9uIGlzIHN0YWJsZVxuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5pc1N0YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzWm9uZVN0YWJsZSAmJiB0aGlzLl9wZW5kaW5nQ291bnQgPT09IDAgJiYgIXRoaXMuX25nWm9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcztcbiAgICB9O1xuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5fcnVuQ2FsbGJhY2tzSWZSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuaXNTdGFibGUoKSkge1xuICAgICAgICAgICAgLy8gU2NoZWR1bGVzIHRoZSBjYWxsIGJhY2tzIGluIGEgbmV3IGZyYW1lIHNvIHRoYXQgaXQgaXMgYWx3YXlzIGFzeW5jLlxuICAgICAgICAgICAgc2NoZWR1bGVNaWNyb1Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChfdGhpcy5fY2FsbGJhY2tzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2IgPSBfdGhpcy5fY2FsbGJhY2tzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY2IudGltZW91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgY2IuZG9uZUNiKF90aGlzLl9kaWRXb3JrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuX2RpZFdvcmsgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU3RpbGwgbm90IHN0YWJsZSwgc2VuZCB1cGRhdGVzLlxuICAgICAgICAgICAgdmFyIHBlbmRpbmdfMSA9IHRoaXMuZ2V0UGVuZGluZ1Rhc2tzKCk7XG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MuZmlsdGVyKGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgIGlmIChjYi51cGRhdGVDYiAmJiBjYi51cGRhdGVDYihwZW5kaW5nXzEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjYi50aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9kaWRXb3JrID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLmdldFBlbmRpbmdUYXNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRhc2tUcmFja2luZ1pvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb3B5IHRoZSB0YXNrcyBkYXRhIHNvIHRoYXQgd2UgZG9uJ3QgbGVhayB0YXNrcy5cbiAgICAgICAgcmV0dXJuIHRoaXMudGFza1RyYWNraW5nWm9uZS5tYWNyb1Rhc2tzLm1hcChmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHQuc291cmNlLFxuICAgICAgICAgICAgICAgIC8vIEZyb20gVGFza1RyYWNraW5nWm9uZTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci96b25lLmpzL2Jsb2IvbWFzdGVyL2xpYi96b25lLXNwZWMvdGFzay10cmFja2luZy50cyNMNDBcbiAgICAgICAgICAgICAgICBjcmVhdGlvbkxvY2F0aW9uOiB0LmNyZWF0aW9uTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgZGF0YTogdC5kYXRhXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5hZGRDYWxsYmFjayA9IGZ1bmN0aW9uIChjYiwgdGltZW91dCwgdXBkYXRlQ2IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRpbWVvdXRJZCA9IC0xO1xuICAgICAgICBpZiAodGltZW91dCAmJiB0aW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2NhbGxiYWNrcyA9IF90aGlzLl9jYWxsYmFja3MuZmlsdGVyKGZ1bmN0aW9uIChjYikgeyByZXR1cm4gY2IudGltZW91dElkICE9PSB0aW1lb3V0SWQ7IH0pO1xuICAgICAgICAgICAgICAgIGNiKF90aGlzLl9kaWRXb3JrLCBfdGhpcy5nZXRQZW5kaW5nVGFza3MoKSk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWxsYmFja3MucHVzaCh7IGRvbmVDYjogY2IsIHRpbWVvdXRJZDogdGltZW91dElkLCB1cGRhdGVDYjogdXBkYXRlQ2IgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXYWl0IGZvciB0aGUgYXBwbGljYXRpb24gdG8gYmUgc3RhYmxlIHdpdGggYSB0aW1lb3V0LiBJZiB0aGUgdGltZW91dCBpcyByZWFjaGVkIGJlZm9yZSB0aGF0XG4gICAgICogaGFwcGVucywgdGhlIGNhbGxiYWNrIHJlY2VpdmVzIGEgbGlzdCBvZiB0aGUgbWFjcm8gdGFza3MgdGhhdCB3ZXJlIHBlbmRpbmcsIG90aGVyd2lzZSBudWxsLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvbmVDYiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gQW5ndWxhciBpcyBzdGFibGUgb3IgdGhlIHRpbWVvdXQgZXhwaXJlc1xuICAgICAqICAgIHdoaWNoZXZlciBjb21lcyBmaXJzdC5cbiAgICAgKiBAcGFyYW0gdGltZW91dCBPcHRpb25hbC4gVGhlIG1heGltdW0gdGltZSB0byB3YWl0IGZvciBBbmd1bGFyIHRvIGJlY29tZSBzdGFibGUuIElmIG5vdFxuICAgICAqICAgIHNwZWNpZmllZCwgd2hlblN0YWJsZSgpIHdpbGwgd2FpdCBmb3JldmVyLlxuICAgICAqIEBwYXJhbSB1cGRhdGVDYiBPcHRpb25hbC4gSWYgc3BlY2lmaWVkLCB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCB3aGVuZXZlciB0aGUgc2V0IG9mXG4gICAgICogICAgcGVuZGluZyBtYWNyb3Rhc2tzIGNoYW5nZXMuIElmIHRoaXMgY2FsbGJhY2sgcmV0dXJucyB0cnVlIGRvbmVDYiB3aWxsIG5vdCBiZSBpbnZva2VkXG4gICAgICogICAgYW5kIG5vIGZ1cnRoZXIgdXBkYXRlcyB3aWxsIGJlIGlzc3VlZC5cbiAgICAgKi9cbiAgICBUZXN0YWJpbGl0eS5wcm90b3R5cGUud2hlblN0YWJsZSA9IGZ1bmN0aW9uIChkb25lQ2IsIHRpbWVvdXQsIHVwZGF0ZUNiKSB7XG4gICAgICAgIGlmICh1cGRhdGVDYiAmJiAhdGhpcy50YXNrVHJhY2tpbmdab25lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rhc2sgdHJhY2tpbmcgem9uZSBpcyByZXF1aXJlZCB3aGVuIHBhc3NpbmcgYW4gdXBkYXRlIGNhbGxiYWNrIHRvICcgK1xuICAgICAgICAgICAgICAgICd3aGVuU3RhYmxlKCkuIElzIFwiem9uZS5qcy9kaXN0L3Rhc2stdHJhY2tpbmcuanNcIiBsb2FkZWQ/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlc2UgYXJndW1lbnRzIGFyZSAnRnVuY3Rpb24nIGFib3ZlIHRvIGtlZXAgdGhlIHB1YmxpYyBBUEkgc2ltcGxlLlxuICAgICAgICB0aGlzLmFkZENhbGxiYWNrKGRvbmVDYiwgdGltZW91dCwgdXBkYXRlQ2IpO1xuICAgICAgICB0aGlzLl9ydW5DYWxsYmFja3NJZlJlYWR5KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBwZW5kaW5nIHJlcXVlc3RzXG4gICAgICogQGRlcHJlY2F0ZWQgcGVuZGluZyByZXF1ZXN0cyBhcmUgbm93IHRyYWNrZWQgd2l0aCB6b25lc1xuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5LnByb3RvdHlwZS5nZXRQZW5kaW5nUmVxdWVzdENvdW50ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcGVuZGluZ0NvdW50OyB9O1xuICAgIC8qKlxuICAgICAqIEZpbmQgcHJvdmlkZXJzIGJ5IG5hbWVcbiAgICAgKiBAcGFyYW0gdXNpbmcgVGhlIHJvb3QgZWxlbWVudCB0byBzZWFyY2ggZnJvbVxuICAgICAqIEBwYXJhbSBwcm92aWRlciBUaGUgbmFtZSBvZiBiaW5kaW5nIHZhcmlhYmxlXG4gICAgICogQHBhcmFtIGV4YWN0TWF0Y2ggV2hldGhlciB1c2luZyBleGFjdE1hdGNoXG4gICAgICovXG4gICAgVGVzdGFiaWxpdHkucHJvdG90eXBlLmZpbmRQcm92aWRlcnMgPSBmdW5jdGlvbiAodXNpbmcsIHByb3ZpZGVyLCBleGFjdE1hdGNoKSB7XG4gICAgICAgIC8vIFRPRE8oanVsaWVtcik6IGltcGxlbWVudC5cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH07XG4gICAgVGVzdGFiaWxpdHkgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5qZWN0YWJsZSgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW05nWm9uZV0pXG4gICAgXSwgVGVzdGFiaWxpdHkpO1xuICAgIHJldHVybiBUZXN0YWJpbGl0eTtcbn0oKSk7XG4vKipcbiAqIEEgZ2xvYmFsIHJlZ2lzdHJ5IG9mIHtAbGluayBUZXN0YWJpbGl0eX0gaW5zdGFuY2VzIGZvciBzcGVjaWZpYyBlbGVtZW50cy5cbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFRlc3RhYmlsaXR5UmVnaXN0cnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGVzdGFiaWxpdHlSZWdpc3RyeSgpIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9hcHBsaWNhdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIF90ZXN0YWJpbGl0eUdldHRlci5hZGRUb1dpbmRvdyh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFuIGFwcGxpY2F0aW9uIHdpdGggYSB0ZXN0YWJpbGl0eSBob29rIHNvIHRoYXQgaXQgY2FuIGJlIHRyYWNrZWRcbiAgICAgKiBAcGFyYW0gdG9rZW4gdG9rZW4gb2YgYXBwbGljYXRpb24sIHJvb3QgZWxlbWVudFxuICAgICAqIEBwYXJhbSB0ZXN0YWJpbGl0eSBUZXN0YWJpbGl0eSBob29rXG4gICAgICovXG4gICAgVGVzdGFiaWxpdHlSZWdpc3RyeS5wcm90b3R5cGUucmVnaXN0ZXJBcHBsaWNhdGlvbiA9IGZ1bmN0aW9uICh0b2tlbiwgdGVzdGFiaWxpdHkpIHtcbiAgICAgICAgdGhpcy5fYXBwbGljYXRpb25zLnNldCh0b2tlbiwgdGVzdGFiaWxpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgYW4gYXBwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHRva2VuIHRva2VuIG9mIGFwcGxpY2F0aW9uLCByb290IGVsZW1lbnRcbiAgICAgKi9cbiAgICBUZXN0YWJpbGl0eVJlZ2lzdHJ5LnByb3RvdHlwZS51bnJlZ2lzdGVyQXBwbGljYXRpb24gPSBmdW5jdGlvbiAodG9rZW4pIHsgdGhpcy5fYXBwbGljYXRpb25zLmRlbGV0ZSh0b2tlbik7IH07XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgYWxsIGFwcGxpY2F0aW9uc1xuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5UmVnaXN0cnkucHJvdG90eXBlLnVucmVnaXN0ZXJBbGxBcHBsaWNhdGlvbnMgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX2FwcGxpY2F0aW9ucy5jbGVhcigpOyB9O1xuICAgIC8qKlxuICAgICAqIEdldCBhIHRlc3RhYmlsaXR5IGhvb2sgYXNzb2NpYXRlZCB3aXRoIHRoZSBhcHBsaWNhdGlvblxuICAgICAqIEBwYXJhbSBlbGVtIHJvb3QgZWxlbWVudFxuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5UmVnaXN0cnkucHJvdG90eXBlLmdldFRlc3RhYmlsaXR5ID0gZnVuY3Rpb24gKGVsZW0pIHsgcmV0dXJuIHRoaXMuX2FwcGxpY2F0aW9ucy5nZXQoZWxlbSkgfHwgbnVsbDsgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHJlZ2lzdGVyZWQgdGVzdGFiaWxpdGllc1xuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5UmVnaXN0cnkucHJvdG90eXBlLmdldEFsbFRlc3RhYmlsaXRpZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2FwcGxpY2F0aW9ucy52YWx1ZXMoKSk7IH07XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCByZWdpc3RlcmVkIGFwcGxpY2F0aW9ucyhyb290IGVsZW1lbnRzKVxuICAgICAqL1xuICAgIFRlc3RhYmlsaXR5UmVnaXN0cnkucHJvdG90eXBlLmdldEFsbFJvb3RFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fYXBwbGljYXRpb25zLmtleXMoKSk7IH07XG4gICAgLyoqXG4gICAgICogRmluZCB0ZXN0YWJpbGl0eSBvZiBhIG5vZGUgaW4gdGhlIFRyZWVcbiAgICAgKiBAcGFyYW0gZWxlbSBub2RlXG4gICAgICogQHBhcmFtIGZpbmRJbkFuY2VzdG9ycyB3aGV0aGVyIGZpbmRpbmcgdGVzdGFiaWxpdHkgaW4gYW5jZXN0b3JzIGlmIHRlc3RhYmlsaXR5IHdhcyBub3QgZm91bmQgaW5cbiAgICAgKiBjdXJyZW50IG5vZGVcbiAgICAgKi9cbiAgICBUZXN0YWJpbGl0eVJlZ2lzdHJ5LnByb3RvdHlwZS5maW5kVGVzdGFiaWxpdHlJblRyZWUgPSBmdW5jdGlvbiAoZWxlbSwgZmluZEluQW5jZXN0b3JzKSB7XG4gICAgICAgIGlmIChmaW5kSW5BbmNlc3RvcnMgPT09IHZvaWQgMCkgeyBmaW5kSW5BbmNlc3RvcnMgPSB0cnVlOyB9XG4gICAgICAgIHJldHVybiBfdGVzdGFiaWxpdHlHZXR0ZXIuZmluZFRlc3RhYmlsaXR5SW5UcmVlKHRoaXMsIGVsZW0sIGZpbmRJbkFuY2VzdG9ycyk7XG4gICAgfTtcbiAgICBUZXN0YWJpbGl0eVJlZ2lzdHJ5ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIEluamVjdGFibGUoKSxcbiAgICAgICAgX19tZXRhZGF0YShcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtdKVxuICAgIF0sIFRlc3RhYmlsaXR5UmVnaXN0cnkpO1xuICAgIHJldHVybiBUZXN0YWJpbGl0eVJlZ2lzdHJ5O1xufSgpKTtcbnZhciBfTm9vcEdldFRlc3RhYmlsaXR5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9Ob29wR2V0VGVzdGFiaWxpdHkoKSB7XG4gICAgfVxuICAgIF9Ob29wR2V0VGVzdGFiaWxpdHkucHJvdG90eXBlLmFkZFRvV2luZG93ID0gZnVuY3Rpb24gKHJlZ2lzdHJ5KSB7IH07XG4gICAgX05vb3BHZXRUZXN0YWJpbGl0eS5wcm90b3R5cGUuZmluZFRlc3RhYmlsaXR5SW5UcmVlID0gZnVuY3Rpb24gKHJlZ2lzdHJ5LCBlbGVtLCBmaW5kSW5BbmNlc3RvcnMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gX05vb3BHZXRUZXN0YWJpbGl0eTtcbn0oKSk7XG4vKipcbiAqIFNldCB0aGUge0BsaW5rIEdldFRlc3RhYmlsaXR5fSBpbXBsZW1lbnRhdGlvbiB1c2VkIGJ5IHRoZSBBbmd1bGFyIHRlc3RpbmcgZnJhbWV3b3JrLlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBzZXRUZXN0YWJpbGl0eUdldHRlcihnZXR0ZXIpIHtcbiAgICBfdGVzdGFiaWxpdHlHZXR0ZXIgPSBnZXR0ZXI7XG59XG52YXIgX3Rlc3RhYmlsaXR5R2V0dGVyID0gbmV3IF9Ob29wR2V0VGVzdGFiaWxpdHkoKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIF9wbGF0Zm9ybTtcbnZhciBjb21waWxlTmdNb2R1bGVGYWN0b3J5ID0gY29tcGlsZU5nTW9kdWxlRmFjdG9yeV9fUFJFX1IzX187XG5mdW5jdGlvbiBjb21waWxlTmdNb2R1bGVGYWN0b3J5X19QUkVfUjNfXyhpbmplY3Rvciwgb3B0aW9ucywgbW9kdWxlVHlwZSkge1xuICAgIHZhciBjb21waWxlckZhY3RvcnkgPSBpbmplY3Rvci5nZXQoQ29tcGlsZXJGYWN0b3J5KTtcbiAgICB2YXIgY29tcGlsZXIgPSBjb21waWxlckZhY3RvcnkuY3JlYXRlQ29tcGlsZXIoW29wdGlvbnNdKTtcbiAgICByZXR1cm4gY29tcGlsZXIuY29tcGlsZU1vZHVsZUFzeW5jKG1vZHVsZVR5cGUpO1xufVxuZnVuY3Rpb24gY29tcGlsZU5nTW9kdWxlRmFjdG9yeV9fUE9TVF9SM19fKGluamVjdG9yLCBvcHRpb25zLCBtb2R1bGVUeXBlKSB7XG4gICAgbmdEZXZNb2RlICYmIGFzc2VydE5nTW9kdWxlVHlwZShtb2R1bGVUeXBlKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBOZ01vZHVsZUZhY3RvcnkkMShtb2R1bGVUeXBlKSk7XG59XG52YXIgQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TID0gbmV3IEluamVjdGlvblRva2VuKCdBbGxvd011bHRpcGxlVG9rZW4nKTtcbi8qKlxuICogQSB0b2tlbiBmb3IgdGhpcmQtcGFydHkgY29tcG9uZW50cyB0aGF0IGNhbiByZWdpc3RlciB0aGVtc2VsdmVzIHdpdGggTmdQcm9iZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBOZ1Byb2JlVG9rZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTmdQcm9iZVRva2VuKG5hbWUsIHRva2VuKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICB9XG4gICAgcmV0dXJuIE5nUHJvYmVUb2tlbjtcbn0oKSk7XG4vKipcbiAqIENyZWF0ZXMgYSBwbGF0Zm9ybS5cbiAqIFBsYXRmb3JtcyBoYXZlIHRvIGJlIGVhZ2VybHkgY3JlYXRlZCB2aWEgdGhpcyBmdW5jdGlvbi5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYXRmb3JtKGluamVjdG9yKSB7XG4gICAgaWYgKF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCAmJlxuICAgICAgICAhX3BsYXRmb3JtLmluamVjdG9yLmdldChBTExPV19NVUxUSVBMRV9QTEFURk9STVMsIGZhbHNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGNhbiBiZSBvbmx5IG9uZSBwbGF0Zm9ybS4gRGVzdHJveSB0aGUgcHJldmlvdXMgb25lIHRvIGNyZWF0ZSBhIG5ldyBvbmUuJyk7XG4gICAgfVxuICAgIF9wbGF0Zm9ybSA9IGluamVjdG9yLmdldChQbGF0Zm9ybVJlZik7XG4gICAgdmFyIGluaXRzID0gaW5qZWN0b3IuZ2V0KFBMQVRGT1JNX0lOSVRJQUxJWkVSLCBudWxsKTtcbiAgICBpZiAoaW5pdHMpXG4gICAgICAgIGluaXRzLmZvckVhY2goZnVuY3Rpb24gKGluaXQpIHsgcmV0dXJuIGluaXQoKTsgfSk7XG4gICAgcmV0dXJuIF9wbGF0Zm9ybTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGZhY3RvcnkgZm9yIGEgcGxhdGZvcm1cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShwYXJlbnRQbGF0Zm9ybUZhY3RvcnksIG5hbWUsIHByb3ZpZGVycykge1xuICAgIGlmIChwcm92aWRlcnMgPT09IHZvaWQgMCkgeyBwcm92aWRlcnMgPSBbXTsgfVxuICAgIHZhciBkZXNjID0gXCJQbGF0Zm9ybTogXCIgKyBuYW1lO1xuICAgIHZhciBtYXJrZXIgPSBuZXcgSW5qZWN0aW9uVG9rZW4oZGVzYyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChleHRyYVByb3ZpZGVycykge1xuICAgICAgICBpZiAoZXh0cmFQcm92aWRlcnMgPT09IHZvaWQgMCkgeyBleHRyYVByb3ZpZGVycyA9IFtdOyB9XG4gICAgICAgIHZhciBwbGF0Zm9ybSA9IGdldFBsYXRmb3JtKCk7XG4gICAgICAgIGlmICghcGxhdGZvcm0gfHwgcGxhdGZvcm0uaW5qZWN0b3IuZ2V0KEFMTE9XX01VTFRJUExFX1BMQVRGT1JNUywgZmFsc2UpKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50UGxhdGZvcm1GYWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgcGFyZW50UGxhdGZvcm1GYWN0b3J5KHByb3ZpZGVycy5jb25jYXQoZXh0cmFQcm92aWRlcnMpLmNvbmNhdCh7IHByb3ZpZGU6IG1hcmtlciwgdXNlVmFsdWU6IHRydWUgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGluamVjdGVkUHJvdmlkZXJzID0gcHJvdmlkZXJzLmNvbmNhdChleHRyYVByb3ZpZGVycykuY29uY2F0KHsgcHJvdmlkZTogbWFya2VyLCB1c2VWYWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICBjcmVhdGVQbGF0Zm9ybShJbmplY3Rvci5jcmVhdGUoeyBwcm92aWRlcnM6IGluamVjdGVkUHJvdmlkZXJzLCBuYW1lOiBkZXNjIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNzZXJ0UGxhdGZvcm0obWFya2VyKTtcbiAgICB9O1xufVxuLyoqXG4gKiBDaGVja3MgdGhhdCB0aGVyZSBjdXJyZW50bHkgaXMgYSBwbGF0Zm9ybSB3aGljaCBjb250YWlucyB0aGUgZ2l2ZW4gdG9rZW4gYXMgYSBwcm92aWRlci5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFBsYXRmb3JtKHJlcXVpcmVkVG9rZW4pIHtcbiAgICB2YXIgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybSgpO1xuICAgIGlmICghcGxhdGZvcm0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwbGF0Zm9ybSBleGlzdHMhJyk7XG4gICAgfVxuICAgIGlmICghcGxhdGZvcm0uaW5qZWN0b3IuZ2V0KHJlcXVpcmVkVG9rZW4sIG51bGwpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQSBwbGF0Zm9ybSB3aXRoIGEgZGlmZmVyZW50IGNvbmZpZ3VyYXRpb24gaGFzIGJlZW4gY3JlYXRlZC4gUGxlYXNlIGRlc3Ryb3kgaXQgZmlyc3QuJyk7XG4gICAgfVxuICAgIHJldHVybiBwbGF0Zm9ybTtcbn1cbi8qKlxuICogRGVzdHJveSB0aGUgZXhpc3RpbmcgcGxhdGZvcm0uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG5mdW5jdGlvbiBkZXN0cm95UGxhdGZvcm0oKSB7XG4gICAgaWYgKF9wbGF0Zm9ybSAmJiAhX3BsYXRmb3JtLmRlc3Ryb3llZCkge1xuICAgICAgICBfcGxhdGZvcm0uZGVzdHJveSgpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBwbGF0Zm9ybS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGdldFBsYXRmb3JtKCkge1xuICAgIHJldHVybiBfcGxhdGZvcm0gJiYgIV9wbGF0Zm9ybS5kZXN0cm95ZWQgPyBfcGxhdGZvcm0gOiBudWxsO1xufVxuLyoqXG4gKiBUaGUgQW5ndWxhciBwbGF0Zm9ybSBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIEFuZ3VsYXIgb24gYSB3ZWIgcGFnZS4gRWFjaCBwYWdlXG4gKiBoYXMgZXhhY3RseSBvbmUgcGxhdGZvcm0sIGFuZCBzZXJ2aWNlcyAoc3VjaCBhcyByZWZsZWN0aW9uKSB3aGljaCBhcmUgY29tbW9uXG4gKiB0byBldmVyeSBBbmd1bGFyIGFwcGxpY2F0aW9uIHJ1bm5pbmcgb24gdGhlIHBhZ2UgYXJlIGJvdW5kIGluIGl0cyBzY29wZS5cbiAqXG4gKiBBIHBhZ2UncyBwbGF0Zm9ybSBpcyBpbml0aWFsaXplZCBpbXBsaWNpdGx5IHdoZW4gYSBwbGF0Zm9ybSBpcyBjcmVhdGVkIHZpYSBhIHBsYXRmb3JtIGZhY3RvcnlcbiAqIChlLmcuIHtAbGluayBwbGF0Zm9ybUJyb3dzZXJ9KSwgb3IgZXhwbGljaXRseSBieSBjYWxsaW5nIHRoZSB7QGxpbmsgY3JlYXRlUGxhdGZvcm19IGZ1bmN0aW9uLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFBsYXRmb3JtUmVmID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBmdW5jdGlvbiBQbGF0Zm9ybVJlZihfaW5qZWN0b3IpIHtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX21vZHVsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fZGVzdHJveUxpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBgQE5nTW9kdWxlYCBmb3IgdGhlIGdpdmVuIHBsYXRmb3JtXG4gICAgICogZm9yIG9mZmxpbmUgY29tcGlsYXRpb24uXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBTaW1wbGUgRXhhbXBsZVxuICAgICAqXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIG15X21vZHVsZS50czpcbiAgICAgKlxuICAgICAqIEBOZ01vZHVsZSh7XG4gICAgICogICBpbXBvcnRzOiBbQnJvd3Nlck1vZHVsZV1cbiAgICAgKiB9KVxuICAgICAqIGNsYXNzIE15TW9kdWxlIHt9XG4gICAgICpcbiAgICAgKiBtYWluLnRzOlxuICAgICAqIGltcG9ydCB7TXlNb2R1bGVOZ0ZhY3Rvcnl9IGZyb20gJy4vbXlfbW9kdWxlLm5nZmFjdG9yeSc7XG4gICAgICogaW1wb3J0IHtwbGF0Zm9ybUJyb3dzZXJ9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuICAgICAqXG4gICAgICogbGV0IG1vZHVsZVJlZiA9IHBsYXRmb3JtQnJvd3NlcigpLmJvb3RzdHJhcE1vZHVsZUZhY3RvcnkoTXlNb2R1bGVOZ0ZhY3RvcnkpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIFBsYXRmb3JtUmVmLnByb3RvdHlwZS5ib290c3RyYXBNb2R1bGVGYWN0b3J5ID0gZnVuY3Rpb24gKG1vZHVsZUZhY3RvcnksIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gTm90ZTogV2UgbmVlZCB0byBjcmVhdGUgdGhlIE5nWm9uZSBfYmVmb3JlXyB3ZSBpbnN0YW50aWF0ZSB0aGUgbW9kdWxlLFxuICAgICAgICAvLyBhcyBpbnN0YW50aWF0aW5nIHRoZSBtb2R1bGUgY3JlYXRlcyBzb21lIHByb3ZpZGVycyBlYWdlcmx5LlxuICAgICAgICAvLyBTbyB3ZSBjcmVhdGUgYSBtaW5pIHBhcmVudCBpbmplY3RvciB0aGF0IGp1c3QgY29udGFpbnMgdGhlIG5ldyBOZ1pvbmUgYW5kXG4gICAgICAgIC8vIHBhc3MgdGhhdCBhcyBwYXJlbnQgdG8gdGhlIE5nTW9kdWxlRmFjdG9yeS5cbiAgICAgICAgdmFyIG5nWm9uZU9wdGlvbiA9IG9wdGlvbnMgPyBvcHRpb25zLm5nWm9uZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIG5nWm9uZSA9IGdldE5nWm9uZShuZ1pvbmVPcHRpb24pO1xuICAgICAgICB2YXIgcHJvdmlkZXJzID0gW3sgcHJvdmlkZTogTmdab25lLCB1c2VWYWx1ZTogbmdab25lIH1dO1xuICAgICAgICAvLyBBdHRlbnRpb246IERvbid0IHVzZSBBcHBsaWNhdGlvblJlZi5ydW4gaGVyZSxcbiAgICAgICAgLy8gYXMgd2Ugd2FudCB0byBiZSBzdXJlIHRoYXQgYWxsIHBvc3NpYmxlIGNvbnN0cnVjdG9yIGNhbGxzIGFyZSBpbnNpZGUgYG5nWm9uZS5ydW5gIVxuICAgICAgICByZXR1cm4gbmdab25lLnJ1bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmdab25lSW5qZWN0b3IgPSBJbmplY3Rvci5jcmVhdGUoeyBwcm92aWRlcnM6IHByb3ZpZGVycywgcGFyZW50OiBfdGhpcy5pbmplY3RvciwgbmFtZTogbW9kdWxlRmFjdG9yeS5tb2R1bGVUeXBlLm5hbWUgfSk7XG4gICAgICAgICAgICB2YXIgbW9kdWxlUmVmID0gbW9kdWxlRmFjdG9yeS5jcmVhdGUobmdab25lSW5qZWN0b3IpO1xuICAgICAgICAgICAgdmFyIGV4Y2VwdGlvbkhhbmRsZXIgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEVycm9ySGFuZGxlciwgbnVsbCk7XG4gICAgICAgICAgICBpZiAoIWV4Y2VwdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIEVycm9ySGFuZGxlci4gSXMgcGxhdGZvcm0gbW9kdWxlIChCcm93c2VyTW9kdWxlKSBpbmNsdWRlZD8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZHVsZVJlZi5vbkRlc3Ryb3koZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlKF90aGlzLl9tb2R1bGVzLCBtb2R1bGVSZWYpOyB9KTtcbiAgICAgICAgICAgIG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7IHJldHVybiBuZ1pvbmUub25FcnJvci5zdWJzY3JpYmUoeyBuZXh0OiBmdW5jdGlvbiAoZXJyb3IpIHsgZXhjZXB0aW9uSGFuZGxlci5oYW5kbGVFcnJvcihlcnJvcik7IH0gfSk7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIF9jYWxsQW5kUmVwb3J0VG9FcnJvckhhbmRsZXIoZXhjZXB0aW9uSGFuZGxlciwgbmdab25lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluaXRTdGF0dXMgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uSW5pdFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgaW5pdFN0YXR1cy5ydW5Jbml0aWFsaXplcnMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFN0YXR1cy5kb25lUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX21vZHVsZURvQm9vdHN0cmFwKG1vZHVsZVJlZik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2R1bGVSZWY7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGFuIGBATmdNb2R1bGVgIGZvciBhIGdpdmVuIHBsYXRmb3JtIHVzaW5nIHRoZSBnaXZlbiBydW50aW1lIGNvbXBpbGVyLlxuICAgICAqXG4gICAgICogQHVzYWdlTm90ZXNcbiAgICAgKiAjIyMgU2ltcGxlIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiBATmdNb2R1bGUoe1xuICAgICAqICAgaW1wb3J0czogW0Jyb3dzZXJNb2R1bGVdXG4gICAgICogfSlcbiAgICAgKiBjbGFzcyBNeU1vZHVsZSB7fVxuICAgICAqXG4gICAgICogbGV0IG1vZHVsZVJlZiA9IHBsYXRmb3JtQnJvd3NlcigpLmJvb3RzdHJhcE1vZHVsZShNeU1vZHVsZSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBQbGF0Zm9ybVJlZi5wcm90b3R5cGUuYm9vdHN0cmFwTW9kdWxlID0gZnVuY3Rpb24gKG1vZHVsZVR5cGUsIGNvbXBpbGVyT3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoY29tcGlsZXJPcHRpb25zID09PSB2b2lkIDApIHsgY29tcGlsZXJPcHRpb25zID0gW107IH1cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRpb25zUmVkdWNlcih7fSwgY29tcGlsZXJPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVOZ01vZHVsZUZhY3RvcnkodGhpcy5pbmplY3Rvciwgb3B0aW9ucywgbW9kdWxlVHlwZSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChtb2R1bGVGYWN0b3J5KSB7IHJldHVybiBfdGhpcy5ib290c3RyYXBNb2R1bGVGYWN0b3J5KG1vZHVsZUZhY3RvcnksIG9wdGlvbnMpOyB9KTtcbiAgICB9O1xuICAgIFBsYXRmb3JtUmVmLnByb3RvdHlwZS5fbW9kdWxlRG9Cb290c3RyYXAgPSBmdW5jdGlvbiAobW9kdWxlUmVmKSB7XG4gICAgICAgIHZhciBhcHBSZWYgPSBtb2R1bGVSZWYuaW5qZWN0b3IuZ2V0KEFwcGxpY2F0aW9uUmVmKTtcbiAgICAgICAgaWYgKG1vZHVsZVJlZi5fYm9vdHN0cmFwQ29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtb2R1bGVSZWYuX2Jvb3RzdHJhcENvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZikgeyByZXR1cm4gYXBwUmVmLmJvb3RzdHJhcChmKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW9kdWxlUmVmLmluc3RhbmNlLm5nRG9Cb290c3RyYXApIHtcbiAgICAgICAgICAgIG1vZHVsZVJlZi5pbnN0YW5jZS5uZ0RvQm9vdHN0cmFwKGFwcFJlZik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgbW9kdWxlIFwiICsgc3RyaW5naWZ5KG1vZHVsZVJlZi5pbnN0YW5jZS5jb25zdHJ1Y3RvcikgKyBcIiB3YXMgYm9vdHN0cmFwcGVkLCBidXQgaXQgZG9lcyBub3QgZGVjbGFyZSBcXFwiQE5nTW9kdWxlLmJvb3RzdHJhcFxcXCIgY29tcG9uZW50cyBub3IgYSBcXFwibmdEb0Jvb3RzdHJhcFxcXCIgbWV0aG9kLiBcIiArXG4gICAgICAgICAgICAgICAgXCJQbGVhc2UgZGVmaW5lIG9uZSBvZiB0aGVzZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kdWxlcy5wdXNoKG1vZHVsZVJlZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGxpc3RlbmVyIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBwbGF0Zm9ybSBpcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBQbGF0Zm9ybVJlZi5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7IHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7IH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtUmVmLnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgcGxhdGZvcm0ge0BsaW5rIEluamVjdG9yfSwgd2hpY2ggaXMgdGhlIHBhcmVudCBpbmplY3RvciBmb3JcbiAgICAgICAgICogZXZlcnkgQW5ndWxhciBhcHBsaWNhdGlvbiBvbiB0aGUgcGFnZSBhbmQgcHJvdmlkZXMgc2luZ2xldG9uIHByb3ZpZGVycy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5faW5qZWN0b3I7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIEFuZ3VsYXIgcGxhdGZvcm0gYW5kIGFsbCBBbmd1bGFyIGFwcGxpY2F0aW9ucyBvbiB0aGUgcGFnZS5cbiAgICAgKi9cbiAgICBQbGF0Zm9ybVJlZi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcGxhdGZvcm0gaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbW9kdWxlcy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZSkgeyByZXR1cm4gbW9kdWxlLmRlc3Ryb3koKTsgfSk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKCk7IH0pO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtUmVmLnByb3RvdHlwZSwgXCJkZXN0cm95ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2Rlc3Ryb3llZDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgUGxhdGZvcm1SZWYgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5qZWN0YWJsZSgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0luamVjdG9yXSlcbiAgICBdLCBQbGF0Zm9ybVJlZik7XG4gICAgcmV0dXJuIFBsYXRmb3JtUmVmO1xufSgpKTtcbmZ1bmN0aW9uIGdldE5nWm9uZShuZ1pvbmVPcHRpb24pIHtcbiAgICB2YXIgbmdab25lO1xuICAgIGlmIChuZ1pvbmVPcHRpb24gPT09ICdub29wJykge1xuICAgICAgICBuZ1pvbmUgPSBuZXcgTm9vcE5nWm9uZSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbmdab25lID0gKG5nWm9uZU9wdGlvbiA9PT0gJ3pvbmUuanMnID8gdW5kZWZpbmVkIDogbmdab25lT3B0aW9uKSB8fFxuICAgICAgICAgICAgbmV3IE5nWm9uZSh7IGVuYWJsZUxvbmdTdGFja1RyYWNlOiBpc0Rldk1vZGUoKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG5nWm9uZTtcbn1cbmZ1bmN0aW9uIF9jYWxsQW5kUmVwb3J0VG9FcnJvckhhbmRsZXIoZXJyb3JIYW5kbGVyLCBuZ1pvbmUsIGNhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICAgIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7IHJldHVybiBlcnJvckhhbmRsZXIuaGFuZGxlRXJyb3IoZSk7IH0pO1xuICAgICAgICAgICAgICAgIC8vIHJldGhyb3cgYXMgdGhlIGV4Y2VwdGlvbiBoYW5kbGVyIG1pZ2h0IG5vdCBkbyBpdFxuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBuZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpOyB9KTtcbiAgICAgICAgLy8gcmV0aHJvdyBhcyB0aGUgZXhjZXB0aW9uIGhhbmRsZXIgbWlnaHQgbm90IGRvIGl0XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufVxuZnVuY3Rpb24gb3B0aW9uc1JlZHVjZXIoZHN0LCBvYmpzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqcykpIHtcbiAgICAgICAgZHN0ID0gb2Jqcy5yZWR1Y2Uob3B0aW9uc1JlZHVjZXIsIGRzdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkc3QgPSBfX2Fzc2lnbih7fSwgZHN0LCBvYmpzKTtcbiAgICB9XG4gICAgcmV0dXJuIGRzdDtcbn1cbi8qKlxuICogQSByZWZlcmVuY2UgdG8gYW4gQW5ndWxhciBhcHBsaWNhdGlvbiBydW5uaW5nIG9uIGEgcGFnZS5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBBcHBsaWNhdGlvblJlZiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgZnVuY3Rpb24gQXBwbGljYXRpb25SZWYoX3pvbmUsIF9jb25zb2xlLCBfaW5qZWN0b3IsIF9leGNlcHRpb25IYW5kbGVyLCBfY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBfaW5pdFN0YXR1cykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl96b25lID0gX3pvbmU7XG4gICAgICAgIHRoaXMuX2NvbnNvbGUgPSBfY29uc29sZTtcbiAgICAgICAgdGhpcy5faW5qZWN0b3IgPSBfaW5qZWN0b3I7XG4gICAgICAgIHRoaXMuX2V4Y2VwdGlvbkhhbmRsZXIgPSBfZXhjZXB0aW9uSGFuZGxlcjtcbiAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyID0gX2NvbXBvbmVudEZhY3RvcnlSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5faW5pdFN0YXR1cyA9IF9pbml0U3RhdHVzO1xuICAgICAgICB0aGlzLl9ib290c3RyYXBMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fdmlld3MgPSBbXTtcbiAgICAgICAgdGhpcy5fcnVubmluZ1RpY2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZW5mb3JjZU5vTmV3Q2hhbmdlcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zdGFibGUgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEgbGlzdCBvZiBjb21wb25lbnQgdHlwZXMgcmVnaXN0ZXJlZCB0byB0aGlzIGFwcGxpY2F0aW9uLlxuICAgICAgICAgKiBUaGlzIGxpc3QgaXMgcG9wdWxhdGVkIGV2ZW4gYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgY3JlYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhIGxpc3Qgb2YgY29tcG9uZW50cyByZWdpc3RlcmVkIHRvIHRoaXMgYXBwbGljYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fZW5mb3JjZU5vTmV3Q2hhbmdlcyA9IGlzRGV2TW9kZSgpO1xuICAgICAgICB0aGlzLl96b25lLm9uTWljcm90YXNrRW1wdHkuc3Vic2NyaWJlKHsgbmV4dDogZnVuY3Rpb24gKCkgeyBfdGhpcy5fem9uZS5ydW4oZnVuY3Rpb24gKCkgeyBfdGhpcy50aWNrKCk7IH0pOyB9IH0pO1xuICAgICAgICB2YXIgaXNDdXJyZW50bHlTdGFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIF90aGlzLl9zdGFibGUgPSBfdGhpcy5fem9uZS5pc1N0YWJsZSAmJiAhX3RoaXMuX3pvbmUuaGFzUGVuZGluZ01hY3JvdGFza3MgJiZcbiAgICAgICAgICAgICAgICAhX3RoaXMuX3pvbmUuaGFzUGVuZGluZ01pY3JvdGFza3M7XG4gICAgICAgICAgICBfdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChfdGhpcy5fc3RhYmxlKTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaXNTdGFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgc3Vic2NyaXB0aW9uIHRvIG9uU3RhYmxlIG91dHNpZGUgdGhlIEFuZ3VsYXIgWm9uZSBzbyB0aGF0XG4gICAgICAgICAgICAvLyB0aGUgY2FsbGJhY2sgaXMgcnVuIG91dHNpZGUgdGhlIEFuZ3VsYXIgWm9uZS5cbiAgICAgICAgICAgIHZhciBzdGFibGVTdWI7XG4gICAgICAgICAgICBfdGhpcy5fem9uZS5ydW5PdXRzaWRlQW5ndWxhcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3RhYmxlU3ViID0gX3RoaXMuX3pvbmUub25TdGFibGUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgTmdab25lLmFzc2VydE5vdEluQW5ndWxhclpvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGVyZSBhcmUgbm8gcGVuZGluZyBtYWNyby9taWNybyB0YXNrcyBpbiB0aGUgbmV4dCB0aWNrXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGFsbG93IGZvciBOZ1pvbmUgdG8gdXBkYXRlIHRoZSBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVNaWNyb1Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fc3RhYmxlICYmICFfdGhpcy5fem9uZS5oYXNQZW5kaW5nTWFjcm90YXNrcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFfdGhpcy5fem9uZS5oYXNQZW5kaW5nTWljcm90YXNrcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zdGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgdW5zdGFibGVTdWIgPSBfdGhpcy5fem9uZS5vblVuc3RhYmxlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgTmdab25lLmFzc2VydEluQW5ndWxhclpvbmUoKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3N0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl96b25lLnJ1bk91dHNpZGVBbmd1bGFyKGZ1bmN0aW9uICgpIHsgb2JzZXJ2ZXIubmV4dChmYWxzZSk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdGFibGVTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB1bnN0YWJsZVN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaXNTdGFibGUgPVxuICAgICAgICAgICAgbWVyZ2UoaXNDdXJyZW50bHlTdGFibGUsIGlzU3RhYmxlLnBpcGUoc2hhcmUoKSkpO1xuICAgIH1cbiAgICBBcHBsaWNhdGlvblJlZl8xID0gQXBwbGljYXRpb25SZWY7XG4gICAgLyoqXG4gICAgICogQm9vdHN0cmFwIGEgbmV3IGNvbXBvbmVudCBhdCB0aGUgcm9vdCBsZXZlbCBvZiB0aGUgYXBwbGljYXRpb24uXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBCb290c3RyYXAgcHJvY2Vzc1xuICAgICAqXG4gICAgICogV2hlbiBib290c3RyYXBwaW5nIGEgbmV3IHJvb3QgY29tcG9uZW50IGludG8gYW4gYXBwbGljYXRpb24sIEFuZ3VsYXIgbW91bnRzIHRoZVxuICAgICAqIHNwZWNpZmllZCBhcHBsaWNhdGlvbiBjb21wb25lbnQgb250byBET00gZWxlbWVudHMgaWRlbnRpZmllZCBieSB0aGUgY29tcG9uZW50VHlwZSdzXG4gICAgICogc2VsZWN0b3IgYW5kIGtpY2tzIG9mZiBhdXRvbWF0aWMgY2hhbmdlIGRldGVjdGlvbiB0byBmaW5pc2ggaW5pdGlhbGl6aW5nIHRoZSBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBPcHRpb25hbGx5LCBhIGNvbXBvbmVudCBjYW4gYmUgbW91bnRlZCBvbnRvIGEgRE9NIGVsZW1lbnQgdGhhdCBkb2VzIG5vdCBtYXRjaCB0aGVcbiAgICAgKiBjb21wb25lbnRUeXBlJ3Mgc2VsZWN0b3IuXG4gICAgICpcbiAgICAgKiAjIyMgRXhhbXBsZVxuICAgICAqIHtAZXhhbXBsZSBjb3JlL3RzL3BsYXRmb3JtL3BsYXRmb3JtLnRzIHJlZ2lvbj0nbG9uZ2Zvcm0nfVxuICAgICAqL1xuICAgIEFwcGxpY2F0aW9uUmVmLnByb3RvdHlwZS5ib290c3RyYXAgPSBmdW5jdGlvbiAoY29tcG9uZW50T3JGYWN0b3J5LCByb290U2VsZWN0b3JPck5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLl9pbml0U3RhdHVzLmRvbmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGJvb3RzdHJhcCBhcyB0aGVyZSBhcmUgc3RpbGwgYXN5bmNocm9ub3VzIGluaXRpYWxpemVycyBydW5uaW5nLiBCb290c3RyYXAgY29tcG9uZW50cyBpbiB0aGUgYG5nRG9Cb290c3RyYXBgIG1ldGhvZCBvZiB0aGUgcm9vdCBtb2R1bGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbXBvbmVudEZhY3Rvcnk7XG4gICAgICAgIGlmIChjb21wb25lbnRPckZhY3RvcnkgaW5zdGFuY2VvZiBDb21wb25lbnRGYWN0b3J5KSB7XG4gICAgICAgICAgICBjb21wb25lbnRGYWN0b3J5ID0gY29tcG9uZW50T3JGYWN0b3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50RmFjdG9yeSA9XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50RmFjdG9yeVJlc29sdmVyLnJlc29sdmVDb21wb25lbnRGYWN0b3J5KGNvbXBvbmVudE9yRmFjdG9yeSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wb25lbnRUeXBlcy5wdXNoKGNvbXBvbmVudEZhY3RvcnkuY29tcG9uZW50VHlwZSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIGZhY3RvcnkgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IG1vZHVsZSBpZiBpdCdzIG5vdCBib3VuZCB0byBzb21lIG90aGVyXG4gICAgICAgIHZhciBuZ01vZHVsZSA9IGNvbXBvbmVudEZhY3RvcnkgaW5zdGFuY2VvZiBDb21wb25lbnRGYWN0b3J5Qm91bmRUb01vZHVsZSA/XG4gICAgICAgICAgICBudWxsIDpcbiAgICAgICAgICAgIHRoaXMuX2luamVjdG9yLmdldChOZ01vZHVsZVJlZik7XG4gICAgICAgIHZhciBzZWxlY3Rvck9yTm9kZSA9IHJvb3RTZWxlY3Rvck9yTm9kZSB8fCBjb21wb25lbnRGYWN0b3J5LnNlbGVjdG9yO1xuICAgICAgICB2YXIgY29tcFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKEluamVjdG9yLk5VTEwsIFtdLCBzZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpO1xuICAgICAgICBjb21wUmVmLm9uRGVzdHJveShmdW5jdGlvbiAoKSB7IF90aGlzLl91bmxvYWRDb21wb25lbnQoY29tcFJlZik7IH0pO1xuICAgICAgICB2YXIgdGVzdGFiaWxpdHkgPSBjb21wUmVmLmluamVjdG9yLmdldChUZXN0YWJpbGl0eSwgbnVsbCk7XG4gICAgICAgIGlmICh0ZXN0YWJpbGl0eSkge1xuICAgICAgICAgICAgY29tcFJlZi5pbmplY3Rvci5nZXQoVGVzdGFiaWxpdHlSZWdpc3RyeSlcbiAgICAgICAgICAgICAgICAucmVnaXN0ZXJBcHBsaWNhdGlvbihjb21wUmVmLmxvY2F0aW9uLm5hdGl2ZUVsZW1lbnQsIHRlc3RhYmlsaXR5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sb2FkQ29tcG9uZW50KGNvbXBSZWYpO1xuICAgICAgICBpZiAoaXNEZXZNb2RlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnNvbGUubG9nKFwiQW5ndWxhciBpcyBydW5uaW5nIGluIHRoZSBkZXZlbG9wbWVudCBtb2RlLiBDYWxsIGVuYWJsZVByb2RNb2RlKCkgdG8gZW5hYmxlIHRoZSBwcm9kdWN0aW9uIG1vZGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wUmVmO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52b2tlIHRoaXMgbWV0aG9kIHRvIGV4cGxpY2l0bHkgcHJvY2VzcyBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCBpdHMgc2lkZS1lZmZlY3RzLlxuICAgICAqXG4gICAgICogSW4gZGV2ZWxvcG1lbnQgbW9kZSwgYHRpY2soKWAgYWxzbyBwZXJmb3JtcyBhIHNlY29uZCBjaGFuZ2UgZGV0ZWN0aW9uIGN5Y2xlIHRvIGVuc3VyZSB0aGF0IG5vXG4gICAgICogZnVydGhlciBjaGFuZ2VzIGFyZSBkZXRlY3RlZC4gSWYgYWRkaXRpb25hbCBjaGFuZ2VzIGFyZSBwaWNrZWQgdXAgZHVyaW5nIHRoaXMgc2Vjb25kIGN5Y2xlLFxuICAgICAqIGJpbmRpbmdzIGluIHRoZSBhcHAgaGF2ZSBzaWRlLWVmZmVjdHMgdGhhdCBjYW5ub3QgYmUgcmVzb2x2ZWQgaW4gYSBzaW5nbGUgY2hhbmdlIGRldGVjdGlvblxuICAgICAqIHBhc3MuXG4gICAgICogSW4gdGhpcyBjYXNlLCBBbmd1bGFyIHRocm93cyBhbiBlcnJvciwgc2luY2UgYW4gQW5ndWxhciBhcHBsaWNhdGlvbiBjYW4gb25seSBoYXZlIG9uZSBjaGFuZ2VcbiAgICAgKiBkZXRlY3Rpb24gcGFzcyBkdXJpbmcgd2hpY2ggYWxsIGNoYW5nZSBkZXRlY3Rpb24gbXVzdCBjb21wbGV0ZS5cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvblJlZi5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3J1bm5pbmdUaWNrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FwcGxpY2F0aW9uUmVmLnRpY2sgaXMgY2FsbGVkIHJlY3Vyc2l2ZWx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjb3BlID0gQXBwbGljYXRpb25SZWZfMS5fdGlja1Njb3BlKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9ydW5uaW5nVGljayA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl92aWV3cy5mb3JFYWNoKGZ1bmN0aW9uICh2aWV3KSB7IHJldHVybiB2aWV3LmRldGVjdENoYW5nZXMoKTsgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5fZW5mb3JjZU5vTmV3Q2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdzLmZvckVhY2goZnVuY3Rpb24gKHZpZXcpIHsgcmV0dXJuIHZpZXcuY2hlY2tOb0NoYW5nZXMoKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIEF0dGVudGlvbjogRG9uJ3QgcmV0aHJvdyBhcyBpdCBjb3VsZCBjYW5jZWwgc3Vic2NyaXB0aW9ucyB0byBPYnNlcnZhYmxlcyFcbiAgICAgICAgICAgIHRoaXMuX3pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2V4Y2VwdGlvbkhhbmRsZXIuaGFuZGxlRXJyb3IoZSk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fcnVubmluZ1RpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHd0ZkxlYXZlKHNjb3BlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYSB2aWV3IHNvIHRoYXQgaXQgd2lsbCBiZSBkaXJ0eSBjaGVja2VkLlxuICAgICAqIFRoZSB2aWV3IHdpbGwgYmUgYXV0b21hdGljYWxseSBkZXRhY2hlZCB3aGVuIGl0IGlzIGRlc3Ryb3llZC5cbiAgICAgKiBUaGlzIHdpbGwgdGhyb3cgaWYgdGhlIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIFZpZXdDb250YWluZXIuXG4gICAgICovXG4gICAgQXBwbGljYXRpb25SZWYucHJvdG90eXBlLmF0dGFjaFZpZXcgPSBmdW5jdGlvbiAodmlld1JlZikge1xuICAgICAgICB2YXIgdmlldyA9IHZpZXdSZWY7XG4gICAgICAgIHRoaXMuX3ZpZXdzLnB1c2godmlldyk7XG4gICAgICAgIHZpZXcuYXR0YWNoVG9BcHBSZWYodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRhY2hlcyBhIHZpZXcgZnJvbSBkaXJ0eSBjaGVja2luZyBhZ2Fpbi5cbiAgICAgKi9cbiAgICBBcHBsaWNhdGlvblJlZi5wcm90b3R5cGUuZGV0YWNoVmlldyA9IGZ1bmN0aW9uICh2aWV3UmVmKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdmlld1JlZjtcbiAgICAgICAgcmVtb3ZlKHRoaXMuX3ZpZXdzLCB2aWV3KTtcbiAgICAgICAgdmlldy5kZXRhY2hGcm9tQXBwUmVmKCk7XG4gICAgfTtcbiAgICBBcHBsaWNhdGlvblJlZi5wcm90b3R5cGUuX2xvYWRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50UmVmKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50UmVmKTtcbiAgICAgICAgLy8gR2V0IHRoZSBsaXN0ZW5lcnMgbGF6aWx5IHRvIHByZXZlbnQgREkgY3ljbGVzLlxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5faW5qZWN0b3IuZ2V0KEFQUF9CT09UU1RSQVBfTElTVEVORVIsIFtdKS5jb25jYXQodGhpcy5fYm9vdHN0cmFwTGlzdGVuZXJzKTtcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7IHJldHVybiBsaXN0ZW5lcihjb21wb25lbnRSZWYpOyB9KTtcbiAgICB9O1xuICAgIEFwcGxpY2F0aW9uUmVmLnByb3RvdHlwZS5fdW5sb2FkQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudFJlZikge1xuICAgICAgICB0aGlzLmRldGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcbiAgICAgICAgcmVtb3ZlKHRoaXMuY29tcG9uZW50cywgY29tcG9uZW50UmVmKTtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBBcHBsaWNhdGlvblJlZi5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE8oYWx4aHViKTogRGlzcG9zZSBvZiB0aGUgTmdab25lLlxuICAgICAgICB0aGlzLl92aWV3cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKHZpZXcpIHsgcmV0dXJuIHZpZXcuZGVzdHJveSgpOyB9KTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBsaWNhdGlvblJlZi5wcm90b3R5cGUsIFwidmlld0NvdW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBhdHRhY2hlZCB2aWV3cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fdmlld3MubGVuZ3RoOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgQXBwbGljYXRpb25SZWZfMTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgQXBwbGljYXRpb25SZWYuX3RpY2tTY29wZSA9IHd0ZkNyZWF0ZVNjb3BlKCdBcHBsaWNhdGlvblJlZiN0aWNrKCknKTtcbiAgICBBcHBsaWNhdGlvblJlZiA9IEFwcGxpY2F0aW9uUmVmXzEgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5qZWN0YWJsZSgpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW05nWm9uZSwgQ29uc29sZSwgSW5qZWN0b3IsXG4gICAgICAgICAgICBFcnJvckhhbmRsZXIsXG4gICAgICAgICAgICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgICAgICAgICBBcHBsaWNhdGlvbkluaXRTdGF0dXNdKVxuICAgIF0sIEFwcGxpY2F0aW9uUmVmKTtcbiAgICByZXR1cm4gQXBwbGljYXRpb25SZWY7XG59KCkpO1xuZnVuY3Rpb24gcmVtb3ZlKGxpc3QsIGVsKSB7XG4gICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGVsKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBbiB1bm1vZGlmaWFibGUgbGlzdCBvZiBpdGVtcyB0aGF0IEFuZ3VsYXIga2VlcHMgdXAgdG8gZGF0ZSB3aGVuIHRoZSBzdGF0ZVxuICogb2YgdGhlIGFwcGxpY2F0aW9uIGNoYW5nZXMuXG4gKlxuICogVGhlIHR5cGUgb2Ygb2JqZWN0IHRoYXQge0BsaW5rIFZpZXdDaGlsZHJlbn0sIHtAbGluayBDb250ZW50Q2hpbGRyZW59LCBhbmQge0BsaW5rIFF1ZXJ5TGlzdH1cbiAqIHByb3ZpZGUuXG4gKlxuICogSW1wbGVtZW50cyBhbiBpdGVyYWJsZSBpbnRlcmZhY2UsIHRoZXJlZm9yZSBpdCBjYW4gYmUgdXNlZCBpbiBib3RoIEVTNlxuICogamF2YXNjcmlwdCBgZm9yICh2YXIgaSBvZiBpdGVtcylgIGxvb3BzIGFzIHdlbGwgYXMgaW4gQW5ndWxhciB0ZW1wbGF0ZXMgd2l0aFxuICogYCpuZ0Zvcj1cImxldCBpIG9mIG15TGlzdFwiYC5cbiAqXG4gKiBDaGFuZ2VzIGNhbiBiZSBvYnNlcnZlZCBieSBzdWJzY3JpYmluZyB0byB0aGUgY2hhbmdlcyBgT2JzZXJ2YWJsZWAuXG4gKlxuICogTk9URTogSW4gdGhlIGZ1dHVyZSB0aGlzIGNsYXNzIHdpbGwgaW1wbGVtZW50IGFuIGBPYnNlcnZhYmxlYCBpbnRlcmZhY2UuXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBAQ29tcG9uZW50KHsuLi59KVxuICogY2xhc3MgQ29udGFpbmVyIHtcbiAqICAgQFZpZXdDaGlsZHJlbihJdGVtKSBpdGVtczpRdWVyeUxpc3Q8SXRlbT47XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBRdWVyeUxpc3QkMSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRdWVyeUxpc3QoKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZXN1bHRzID0gW107XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkubWFwXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9tYXApXG4gICAgICovXG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIHRoaXMuX3Jlc3VsdHMubWFwKGZuKTsgfTtcbiAgICAvKipcbiAgICAgKiBTZWVcbiAgICAgKiBbQXJyYXkuZmlsdGVyXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9maWx0ZXIpXG4gICAgICovXG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHMuZmlsdGVyKGZuKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5maW5kXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9maW5kKVxuICAgICAqL1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5maW5kKGZuKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZVxuICAgICAqIFtBcnJheS5yZWR1Y2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3JlZHVjZSlcbiAgICAgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChmbiwgaW5pdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cy5yZWR1Y2UoZm4sIGluaXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LmZvckVhY2hdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZvckVhY2gpXG4gICAgICovXG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGZuKSB7IHRoaXMuX3Jlc3VsdHMuZm9yRWFjaChmbik7IH07XG4gICAgLyoqXG4gICAgICogU2VlXG4gICAgICogW0FycmF5LnNvbWVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L3NvbWUpXG4gICAgICovXG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS5zb21lID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRzLnNvbWUoZm4pO1xuICAgIH07XG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcmVzdWx0cy5zbGljZSgpOyB9O1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGVbZ2V0U3ltYm9sSXRlcmF0b3IoKV0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9yZXN1bHRzW2dldFN5bWJvbEl0ZXJhdG9yKCldKCk7IH07XG4gICAgUXVlcnlMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3Jlc3VsdHMudG9TdHJpbmcoKTsgfTtcbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB0aGlzLl9yZXN1bHRzID0gZmxhdHRlbiQyKHJlcyk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLl9yZXN1bHRzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5sYXN0ID0gdGhpcy5fcmVzdWx0c1t0aGlzLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLmZpcnN0ID0gdGhpcy5fcmVzdWx0c1swXTtcbiAgICB9O1xuICAgIFF1ZXJ5TGlzdC5wcm90b3R5cGUubm90aWZ5T25DaGFuZ2VzID0gZnVuY3Rpb24gKCkgeyB0aGlzLmNoYW5nZXMuZW1pdCh0aGlzKTsgfTtcbiAgICAvKiogaW50ZXJuYWwgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLnNldERpcnR5ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRpcnR5ID0gdHJ1ZTsgfTtcbiAgICAvKiogaW50ZXJuYWwgKi9cbiAgICBRdWVyeUxpc3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcy5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLmNoYW5nZXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBRdWVyeUxpc3Q7XG59KCkpO1xuZnVuY3Rpb24gZmxhdHRlbiQyKGxpc3QpIHtcbiAgICByZXR1cm4gbGlzdC5yZWR1Y2UoZnVuY3Rpb24gKGZsYXQsIGl0ZW0pIHtcbiAgICAgICAgdmFyIGZsYXRJdGVtID0gQXJyYXkuaXNBcnJheShpdGVtKSA/IGZsYXR0ZW4kMihpdGVtKSA6IGl0ZW07XG4gICAgICAgIHJldHVybiBmbGF0LmNvbmNhdChmbGF0SXRlbSk7XG4gICAgfSwgW10pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgX1NFUEFSQVRPUiA9ICcjJztcbnZhciBGQUNUT1JZX0NMQVNTX1NVRkZJWCA9ICdOZ0ZhY3RvcnknO1xuLyoqXG4gKiBDb25maWd1cmF0aW9uIGZvciBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyLlxuICogdG9rZW4uXG4gKlxuICogQHB1YmxpY0FwaVxuICovXG52YXIgU3lzdGVtSnNOZ01vZHVsZUxvYWRlckNvbmZpZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyQ29uZmlnKCkge1xuICAgIH1cbiAgICByZXR1cm4gU3lzdGVtSnNOZ01vZHVsZUxvYWRlckNvbmZpZztcbn0oKSk7XG52YXIgREVGQVVMVF9DT05GSUcgPSB7XG4gICAgZmFjdG9yeVBhdGhQcmVmaXg6ICcnLFxuICAgIGZhY3RvcnlQYXRoU3VmZml4OiAnLm5nZmFjdG9yeScsXG59O1xuLyoqXG4gKiBOZ01vZHVsZUZhY3RvcnlMb2FkZXIgdGhhdCB1c2VzIFN5c3RlbUpTIHRvIGxvYWQgTmdNb2R1bGVGYWN0b3J5XG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN5c3RlbUpzTmdNb2R1bGVMb2FkZXIoX2NvbXBpbGVyLCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5fY29tcGlsZXIgPSBfY29tcGlsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZyB8fCBERUZBVUxUX0NPTkZJRztcbiAgICB9XG4gICAgU3lzdGVtSnNOZ01vZHVsZUxvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBvZmZsaW5lTW9kZSA9IHRoaXMuX2NvbXBpbGVyIGluc3RhbmNlb2YgQ29tcGlsZXI7XG4gICAgICAgIHJldHVybiBvZmZsaW5lTW9kZSA/IHRoaXMubG9hZEZhY3RvcnkocGF0aCkgOiB0aGlzLmxvYWRBbmRDb21waWxlKHBhdGgpO1xuICAgIH07XG4gICAgU3lzdGVtSnNOZ01vZHVsZUxvYWRlci5wcm90b3R5cGUubG9hZEFuZENvbXBpbGUgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSBfX3JlYWQocGF0aC5zcGxpdChfU0VQQVJBVE9SKSwgMiksIG1vZHVsZSA9IF9hWzBdLCBleHBvcnROYW1lID0gX2FbMV07XG4gICAgICAgIGlmIChleHBvcnROYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV4cG9ydE5hbWUgPSAnZGVmYXVsdCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN5c3RlbS5pbXBvcnQobW9kdWxlKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKG1vZHVsZSkgeyByZXR1cm4gbW9kdWxlW2V4cG9ydE5hbWVdOyB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIGNoZWNrTm90RW1wdHkodHlwZSwgbW9kdWxlLCBleHBvcnROYW1lKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiBfdGhpcy5fY29tcGlsZXIuY29tcGlsZU1vZHVsZUFzeW5jKHR5cGUpOyB9KTtcbiAgICB9O1xuICAgIFN5c3RlbUpzTmdNb2R1bGVMb2FkZXIucHJvdG90eXBlLmxvYWRGYWN0b3J5ID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgdmFyIF9hID0gX19yZWFkKHBhdGguc3BsaXQoX1NFUEFSQVRPUiksIDIpLCBtb2R1bGUgPSBfYVswXSwgZXhwb3J0TmFtZSA9IF9hWzFdO1xuICAgICAgICB2YXIgZmFjdG9yeUNsYXNzU3VmZml4ID0gRkFDVE9SWV9DTEFTU19TVUZGSVg7XG4gICAgICAgIGlmIChleHBvcnROYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV4cG9ydE5hbWUgPSAnZGVmYXVsdCc7XG4gICAgICAgICAgICBmYWN0b3J5Q2xhc3NTdWZmaXggPSAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3lzdGVtLmltcG9ydCh0aGlzLl9jb25maWcuZmFjdG9yeVBhdGhQcmVmaXggKyBtb2R1bGUgKyB0aGlzLl9jb25maWcuZmFjdG9yeVBhdGhTdWZmaXgpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAobW9kdWxlKSB7IHJldHVybiBtb2R1bGVbZXhwb3J0TmFtZSArIGZhY3RvcnlDbGFzc1N1ZmZpeF07IH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZmFjdG9yeSkgeyByZXR1cm4gY2hlY2tOb3RFbXB0eShmYWN0b3J5LCBtb2R1bGUsIGV4cG9ydE5hbWUpOyB9KTtcbiAgICB9O1xuICAgIFN5c3RlbUpzTmdNb2R1bGVMb2FkZXIgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgSW5qZWN0YWJsZSgpLFxuICAgICAgICBfX3BhcmFtKDEsIE9wdGlvbmFsKCkpLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0NvbXBpbGVyLCBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyQ29uZmlnXSlcbiAgICBdLCBTeXN0ZW1Kc05nTW9kdWxlTG9hZGVyKTtcbiAgICByZXR1cm4gU3lzdGVtSnNOZ01vZHVsZUxvYWRlcjtcbn0oKSk7XG5mdW5jdGlvbiBjaGVja05vdEVtcHR5KHZhbHVlLCBtb2R1bGVQYXRoLCBleHBvcnROYW1lKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCAnXCIgKyBleHBvcnROYW1lICsgXCInIGluICdcIiArIG1vZHVsZVBhdGggKyBcIidcIik7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgY29udGFpbmVyIHdoZXJlIG9uZSBvciBtb3JlIHZpZXdzIGNhbiBiZSBhdHRhY2hlZCB0byBhIGNvbXBvbmVudC5cbiAqXG4gKiBDYW4gY29udGFpbiAqaG9zdCB2aWV3cyogKGNyZWF0ZWQgYnkgaW5zdGFudGlhdGluZyBhXG4gKiBjb21wb25lbnQgd2l0aCB0aGUgYGNyZWF0ZUNvbXBvbmVudCgpYCBtZXRob2QpLCBhbmQgKmVtYmVkZGVkIHZpZXdzKlxuICogKGNyZWF0ZWQgYnkgaW5zdGFudGlhdGluZyBhIGBUZW1wbGF0ZVJlZmAgd2l0aCB0aGUgYGNyZWF0ZUVtYmVkZGVkVmlldygpYCBtZXRob2QpLlxuICpcbiAqIEEgdmlldyBjb250YWluZXIgaW5zdGFuY2UgY2FuIGNvbnRhaW4gb3RoZXIgdmlldyBjb250YWluZXJzLFxuICogY3JlYXRpbmcgYSBbdmlldyBoaWVyYXJjaHldKGd1aWRlL2dsb3NzYXJ5I3ZpZXctdHJlZSkuXG4gKlxuICogQHNlZSBgQ29tcG9uZW50UmVmYFxuICogQHNlZSBgRW1iZWRkZWRWaWV3UmVmYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFZpZXdDb250YWluZXJSZWYgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld0NvbnRhaW5lclJlZigpIHtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFZpZXdDb250YWluZXJSZWYuX19OR19FTEVNRU5UX0lEX18gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBTV0lUQ0hfVklFV19DT05UQUlORVJfUkVGX0ZBQ1RPUlkoVmlld0NvbnRhaW5lclJlZiwgRWxlbWVudFJlZik7IH07XG4gICAgcmV0dXJuIFZpZXdDb250YWluZXJSZWY7XG59KCkpO1xudmFyIFNXSVRDSF9WSUVXX0NPTlRBSU5FUl9SRUZfRkFDVE9SWV9fUE9TVF9SM19fID0gaW5qZWN0Vmlld0NvbnRhaW5lclJlZjtcbnZhciBTV0lUQ0hfVklFV19DT05UQUlORVJfUkVGX0ZBQ1RPUllfX1BSRV9SM19fID0gbm9vcDtcbnZhciBTV0lUQ0hfVklFV19DT05UQUlORVJfUkVGX0ZBQ1RPUlkgPSBTV0lUQ0hfVklFV19DT05UQUlORVJfUkVGX0ZBQ1RPUllfX1BSRV9SM19fO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIEFuZ3VsYXIgVmlld3MsIHByb3ZpZGVzIGNoYW5nZSBkZXRlY3Rpb24gZnVuY3Rpb25hbGl0eS5cbiAqIEEgY2hhbmdlLWRldGVjdGlvbiB0cmVlIGNvbGxlY3RzIGFsbCB2aWV3cyB0aGF0IGFyZSB0byBiZSBjaGVja2VkIGZvciBjaGFuZ2VzLlxuICogVXNlIHRoZSBtZXRob2RzIHRvIGFkZCBhbmQgcmVtb3ZlIHZpZXdzIGZyb20gdGhlIHRyZWUsIGluaXRpYXRlIGNoYW5nZS1kZXRlY3Rpb24sXG4gKiBhbmQgZXhwbGljaXRseSBtYXJrIHZpZXdzIGFzIF9kaXJ0eV8sIG1lYW5pbmcgdGhhdCB0aGV5IGhhdmUgY2hhbmdlZCBhbmQgbmVlZCB0byBiZSByZXJlbmRlcmVkLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlcyBkZW1vbnN0cmF0ZSBob3cgdG8gbW9kaWZ5IGRlZmF1bHQgY2hhbmdlLWRldGVjdGlvbiBiZWhhdmlvclxuICogdG8gcGVyZm9ybSBleHBsaWNpdCBkZXRlY3Rpb24gd2hlbiBuZWVkZWQuXG4gKlxuICogIyMjIFVzZSBgbWFya0ZvckNoZWNrKClgIHdpdGggYENoZWNrT25jZWAgc3RyYXRlZ3lcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2V0cyB0aGUgYE9uUHVzaGAgY2hhbmdlLWRldGVjdGlvbiBzdHJhdGVneSBmb3IgYSBjb21wb25lbnRcbiAqIChgQ2hlY2tPbmNlYCwgcmF0aGVyIHRoYW4gdGhlIGRlZmF1bHQgYENoZWNrQWx3YXlzYCksIHRoZW4gZm9yY2VzIGEgc2Vjb25kIGNoZWNrXG4gKiBhZnRlciBhbiBpbnRlcnZhbC4gU2VlIFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L0dDNTEyYj9wPXByZXZpZXcpLlxuICpcbiAqIDxjb2RlLWV4YW1wbGUgcGF0aD1cImNvcmUvdHMvY2hhbmdlX2RldGVjdC9jaGFuZ2UtZGV0ZWN0aW9uLnRzXCJcbiAqIHJlZ2lvbj1cIm1hcmstZm9yLWNoZWNrXCI+PC9jb2RlLWV4YW1wbGU+XG4gKlxuICogIyMjIERldGFjaCBjaGFuZ2UgZGV0ZWN0b3IgdG8gbGltaXQgaG93IG9mdGVuIGNoZWNrIG9jY3Vyc1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBkZWZpbmVzIGEgY29tcG9uZW50IHdpdGggYSBsYXJnZSBsaXN0IG9mIHJlYWQtb25seSBkYXRhXG4gKiB0aGF0IGlzIGV4cGVjdGVkIHRvIGNoYW5nZSBjb25zdGFudGx5LCBtYW55IHRpbWVzIHBlciBzZWNvbmQuXG4gKiBUbyBpbXByb3ZlIHBlcmZvcm1hbmNlLCB3ZSB3YW50IHRvIGNoZWNrIGFuZCB1cGRhdGUgdGhlIGxpc3RcbiAqIGxlc3Mgb2Z0ZW4gdGhhbiB0aGUgY2hhbmdlcyBhY3R1YWxseSBvY2N1ci4gVG8gZG8gdGhhdCwgd2UgZGV0YWNoXG4gKiB0aGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yIGFuZCBwZXJmb3JtIGFuIGV4cGxpY2l0IGxvY2FsIGNoZWNrIGV2ZXJ5IGZpdmUgc2Vjb25kcy5cbiAqXG4gKiA8Y29kZS1leGFtcGxlIHBhdGg9XCJjb3JlL3RzL2NoYW5nZV9kZXRlY3QvY2hhbmdlLWRldGVjdGlvbi50c1wiIHJlZ2lvbj1cImRldGFjaFwiPjwvY29kZS1leGFtcGxlPlxuICpcbiAqXG4gKiAjIyMgUmVhdHRhY2hpbmcgYSBkZXRhY2hlZCBjb21wb25lbnRcbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgY3JlYXRlcyBhIGNvbXBvbmVudCBkaXNwbGF5aW5nIGxpdmUgZGF0YS5cbiAqIFRoZSBjb21wb25lbnQgZGV0YWNoZXMgaXRzIGNoYW5nZSBkZXRlY3RvciBmcm9tIHRoZSBtYWluIGNoYW5nZSBkZXRlY3RvciB0cmVlXG4gKiB3aGVuIHRoZSBgbGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIGZhbHNlLCBhbmQgcmVhdHRhY2hlcyBpdCB3aGVuIHRoZSBwcm9wZXJ0eVxuICogYmVjb21lcyB0cnVlLlxuICpcbiAqIDxjb2RlLWV4YW1wbGUgcGF0aD1cImNvcmUvdHMvY2hhbmdlX2RldGVjdC9jaGFuZ2UtZGV0ZWN0aW9uLnRzXCIgcmVnaW9uPVwicmVhdHRhY2hcIj48L2NvZGUtZXhhbXBsZT5cbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBDaGFuZ2VEZXRlY3RvclJlZiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDaGFuZ2VEZXRlY3RvclJlZigpIHtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIENoYW5nZURldGVjdG9yUmVmLl9fTkdfRUxFTUVOVF9JRF9fID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gU1dJVENIX0NIQU5HRV9ERVRFQ1RPUl9SRUZfRkFDVE9SWSgpOyB9O1xuICAgIHJldHVybiBDaGFuZ2VEZXRlY3RvclJlZjtcbn0oKSk7XG52YXIgU1dJVENIX0NIQU5HRV9ERVRFQ1RPUl9SRUZfRkFDVE9SWV9fUE9TVF9SM19fID0gaW5qZWN0Q2hhbmdlRGV0ZWN0b3JSZWY7XG52YXIgU1dJVENIX0NIQU5HRV9ERVRFQ1RPUl9SRUZfRkFDVE9SWV9fUFJFX1IzX18gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxufTtcbnZhciBTV0lUQ0hfQ0hBTkdFX0RFVEVDVE9SX1JFRl9GQUNUT1JZID0gU1dJVENIX0NIQU5HRV9ERVRFQ1RPUl9SRUZfRkFDVE9SWV9fUFJFX1IzX187XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBBbmd1bGFyIFt2aWV3XShndWlkZS9nbG9zc2FyeSN2aWV3KSxcbiAqIHNwZWNpZmljYWxseSB0aGUgW2hvc3Qgdmlld10oZ3VpZGUvZ2xvc3Nhcnkjdmlldy10cmVlKSB0aGF0IGlzIGRlZmluZWQgYnkgYSBjb21wb25lbnQuXG4gKiBBbHNvIHNlcnZlcyBhcyB0aGUgYmFzZSBjbGFzc1xuICogdGhhdCBhZGRzIGRlc3Ryb3kgbWV0aG9kcyBmb3IgW2VtYmVkZGVkIHZpZXdzXShndWlkZS9nbG9zc2FyeSN2aWV3LXRyZWUpLlxuICpcbiAqIEBzZWUgYEVtYmVkZGVkVmlld1JlZmBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBWaWV3UmVmJDEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFZpZXdSZWYsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVmlld1JlZigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVmlld1JlZjtcbn0oQ2hhbmdlRGV0ZWN0b3JSZWYpKTtcbi8qKlxuICogUmVwcmVzZW50cyBhbiBBbmd1bGFyIFt2aWV3XShndWlkZS9nbG9zc2FyeSN2aWV3KSBpbiBhIHZpZXcgY29udGFpbmVyLlxuICogQW4gW2VtYmVkZGVkIHZpZXddKGd1aWRlL2dsb3NzYXJ5I3ZpZXctdHJlZSkgY2FuIGJlIHJlZmVyZW5jZWQgZnJvbSBhIGNvbXBvbmVudFxuICogb3RoZXIgdGhhbiB0aGUgaG9zdGluZyBjb21wb25lbnQgd2hvc2UgdGVtcGxhdGUgZGVmaW5lcyBpdCwgb3IgaXQgY2FuIGJlIGRlZmluZWRcbiAqIGluZGVwZW5kZW50bHkgYnkgYSBgVGVtcGxhdGVSZWZgLlxuICpcbiAqIFByb3BlcnRpZXMgb2YgZWxlbWVudHMgaW4gYSB2aWV3IGNhbiBjaGFuZ2UsIGJ1dCB0aGUgc3RydWN0dXJlIChudW1iZXIgYW5kIG9yZGVyKSBvZiBlbGVtZW50cyBpblxuICogYSB2aWV3IGNhbm5vdC4gQ2hhbmdlIHRoZSBzdHJ1Y3R1cmUgb2YgZWxlbWVudHMgYnkgaW5zZXJ0aW5nLCBtb3ZpbmcsIG9yXG4gKiByZW1vdmluZyBuZXN0ZWQgdmlld3MgaW4gYSB2aWV3IGNvbnRhaW5lci5cbiAqXG4gKiBAc2VlIGBWaWV3Q29udGFpbmVyUmVmYFxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogVGhlIGZvbGxvd2luZyB0ZW1wbGF0ZSBicmVha3MgZG93biBpbnRvIHR3byBzZXBhcmF0ZSBgVGVtcGxhdGVSZWZgIGluc3RhbmNlcyxcbiAqIGFuIG91dGVyIG9uZSBhbmQgYW4gaW5uZXIgb25lLlxuICpcbiAqIGBgYFxuICogQ291bnQ6IHt7aXRlbXMubGVuZ3RofX1cbiAqIDx1bD5cbiAqICAgPGxpICpuZ0Zvcj1cImxldCAgaXRlbSBvZiBpdGVtc1wiPnt7aXRlbX19PC9saT5cbiAqIDwvdWw+XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGlzIHRoZSBvdXRlciBgVGVtcGxhdGVSZWZgOlxuICpcbiAqIGBgYFxuICogQ291bnQ6IHt7aXRlbXMubGVuZ3RofX1cbiAqIDx1bD5cbiAqICAgPG5nLXRlbXBsYXRlIG5nRm9yIGxldC1pdGVtIFtuZ0Zvck9mXT1cIml0ZW1zXCI+PC9uZy10ZW1wbGF0ZT5cbiAqIDwvdWw+XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGlzIHRoZSBpbm5lciBgVGVtcGxhdGVSZWZgOlxuICpcbiAqIGBgYFxuICogICA8bGk+e3tpdGVtfX08L2xpPlxuICogYGBgXG4gKlxuICogVGhlIG91dGVyIGFuZCBpbm5lciBgVGVtcGxhdGVSZWZgIGluc3RhbmNlcyBhcmUgYXNzZW1ibGVkIGludG8gdmlld3MgYXMgZm9sbG93czpcbiAqXG4gKiBgYGBcbiAqIDwhLS0gVmlld1JlZjogb3V0ZXItMCAtLT5cbiAqIENvdW50OiAyXG4gKiA8dWw+XG4gKiAgIDxuZy10ZW1wbGF0ZSB2aWV3LWNvbnRhaW5lci1yZWY+PC9uZy10ZW1wbGF0ZT5cbiAqICAgPCEtLSBWaWV3UmVmOiBpbm5lci0xIC0tPjxsaT5maXJzdDwvbGk+PCEtLSAvVmlld1JlZjogaW5uZXItMSAtLT5cbiAqICAgPCEtLSBWaWV3UmVmOiBpbm5lci0yIC0tPjxsaT5zZWNvbmQ8L2xpPjwhLS0gL1ZpZXdSZWY6IGlubmVyLTIgLS0+XG4gKiA8L3VsPlxuICogPCEtLSAvVmlld1JlZjogb3V0ZXItMCAtLT5cbiAqIGBgYFxuICogQHB1YmxpY0FwaVxuICovXG52YXIgRW1iZWRkZWRWaWV3UmVmID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFbWJlZGRlZFZpZXdSZWYsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRW1iZWRkZWRWaWV3UmVmKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBFbWJlZGRlZFZpZXdSZWY7XG59KFZpZXdSZWYkMSkpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBFdmVudExpc3RlbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50TGlzdGVuZXIobmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gRXZlbnRMaXN0ZW5lcjtcbn0oKSk7XG52YXIgRGVidWdOb2RlX19QUkVfUjNfXyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWJ1Z05vZGVfX1BSRV9SM19fKG5hdGl2ZU5vZGUsIHBhcmVudCwgX2RlYnVnQ29udGV4dCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RlYnVnQ29udGV4dCA9IF9kZWJ1Z0NvbnRleHQ7XG4gICAgICAgIHRoaXMubmF0aXZlTm9kZSA9IG5hdGl2ZU5vZGU7XG4gICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50IGluc3RhbmNlb2YgRGVidWdFbGVtZW50X19QUkVfUjNfXykge1xuICAgICAgICAgICAgcGFyZW50LmFkZENoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z05vZGVfX1BSRV9SM19fLnByb3RvdHlwZSwgXCJpbmplY3RvclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGVidWdDb250ZXh0LmluamVjdG9yOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdOb2RlX19QUkVfUjNfXy5wcm90b3R5cGUsIFwiY29tcG9uZW50SW5zdGFuY2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RlYnVnQ29udGV4dC5jb21wb25lbnQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z05vZGVfX1BSRV9SM19fLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9kZWJ1Z0NvbnRleHQuY29udGV4dDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZV9fUFJFX1IzX18ucHJvdG90eXBlLCBcInJlZmVyZW5jZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RlYnVnQ29udGV4dC5yZWZlcmVuY2VzOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdOb2RlX19QUkVfUjNfXy5wcm90b3R5cGUsIFwicHJvdmlkZXJUb2tlbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2RlYnVnQ29udGV4dC5wcm92aWRlclRva2VuczsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERlYnVnTm9kZV9fUFJFX1IzX187XG59KCkpO1xudmFyIERlYnVnRWxlbWVudF9fUFJFX1IzX18gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlYnVnRWxlbWVudF9fUFJFX1IzX18sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVidWdFbGVtZW50X19QUkVfUjNfXyhuYXRpdmVOb2RlLCBwYXJlbnQsIF9kZWJ1Z0NvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmF0aXZlTm9kZSwgcGFyZW50LCBfZGVidWdDb250ZXh0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9wZXJ0aWVzID0ge307XG4gICAgICAgIF90aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgX3RoaXMuY2xhc3NlcyA9IHt9O1xuICAgICAgICBfdGhpcy5zdHlsZXMgPSB7fTtcbiAgICAgICAgX3RoaXMuY2hpbGROb2RlcyA9IFtdO1xuICAgICAgICBfdGhpcy5uYXRpdmVFbGVtZW50ID0gbmF0aXZlTm9kZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGROb2Rlcy5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlYnVnRWxlbWVudF9fUFJFX1IzX18ucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHZhciBjaGlsZEluZGV4ID0gdGhpcy5jaGlsZE5vZGVzLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNoaWxkTm9kZXMuc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fLnByb3RvdHlwZS5pbnNlcnRDaGlsZHJlbkFmdGVyID0gZnVuY3Rpb24gKGNoaWxkLCBuZXdDaGlsZHJlbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBzaWJsaW5nSW5kZXggPSB0aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIGlmIChzaWJsaW5nSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmNoaWxkTm9kZXMpLnNwbGljZS5hcHBseShfYSwgX19zcHJlYWQoW3NpYmxpbmdJbmRleCArIDEsIDBdLCBuZXdDaGlsZHJlbikpO1xuICAgICAgICAgICAgbmV3Q2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIGlmIChjLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjLnBhcmVudC5yZW1vdmVDaGlsZChjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gX3RoaXM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVidWdFbGVtZW50X19QUkVfUjNfXy5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKHJlZkNoaWxkLCBuZXdDaGlsZCkge1xuICAgICAgICB2YXIgcmVmSW5kZXggPSB0aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihyZWZDaGlsZCk7XG4gICAgICAgIGlmIChyZWZJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG5ld0NoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIG5ld0NoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChuZXdDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdDaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5jaGlsZE5vZGVzLnNwbGljZShyZWZJbmRleCwgMCwgbmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fLnByb3RvdHlwZS5xdWVyeSA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSB0aGlzLnF1ZXJ5QWxsKHByZWRpY2F0ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHRzWzBdIHx8IG51bGw7XG4gICAgfTtcbiAgICBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fLnByb3RvdHlwZS5xdWVyeUFsbCA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgX3F1ZXJ5RWxlbWVudENoaWxkcmVuKHRoaXMsIHByZWRpY2F0ZSwgbWF0Y2hlcyk7XG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH07XG4gICAgRGVidWdFbGVtZW50X19QUkVfUjNfXy5wcm90b3R5cGUucXVlcnlBbGxOb2RlcyA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuKHRoaXMsIHByZWRpY2F0ZSwgbWF0Y2hlcyk7XG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnRWxlbWVudF9fUFJFX1IzX18ucHJvdG90eXBlLCBcImNoaWxkcmVuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgIC5jaGlsZE5vZGVzIC8vXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudF9fUFJFX1IzX187IH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fLnByb3RvdHlwZS50cmlnZ2VyRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZXZlbnRPYmopIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5uYW1lID09IGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKGV2ZW50T2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVidWdFbGVtZW50X19QUkVfUjNfXztcbn0oRGVidWdOb2RlX19QUkVfUjNfXykpO1xuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbmZ1bmN0aW9uIGFzTmF0aXZlRWxlbWVudHMoZGVidWdFbHMpIHtcbiAgICByZXR1cm4gZGVidWdFbHMubWFwKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwubmF0aXZlRWxlbWVudDsgfSk7XG59XG5mdW5jdGlvbiBfcXVlcnlFbGVtZW50Q2hpbGRyZW4oZWxlbWVudCwgcHJlZGljYXRlLCBtYXRjaGVzKSB7XG4gICAgZWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fKSB7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3F1ZXJ5RWxlbWVudENoaWxkcmVuKG5vZGUsIHByZWRpY2F0ZSwgbWF0Y2hlcyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIF9xdWVyeU5vZGVDaGlsZHJlbihwYXJlbnROb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMpIHtcbiAgICBpZiAocGFyZW50Tm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudF9fUFJFX1IzX18pIHtcbiAgICAgICAgcGFyZW50Tm9kZS5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudF9fUFJFX1IzX18pIHtcbiAgICAgICAgICAgICAgICBfcXVlcnlOb2RlQ2hpbGRyZW4obm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxudmFyIERlYnVnTm9kZV9fUE9TVF9SM19fID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlYnVnTm9kZV9fUE9TVF9SM19fKG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgdGhpcy5uYXRpdmVOb2RlID0gbmF0aXZlTm9kZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZV9fUE9TVF9SM19fLnByb3RvdHlwZSwgXCJwYXJlbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLm5hdGl2ZU5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnQgPyBuZXcgRGVidWdFbGVtZW50X19QT1NUX1IzX18ocGFyZW50KSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z05vZGVfX1BPU1RfUjNfXy5wcm90b3R5cGUsIFwiaW5qZWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldEluamVjdG9yKHRoaXMubmF0aXZlTm9kZSk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z05vZGVfX1BPU1RfUjNfXy5wcm90b3R5cGUsIFwiY29tcG9uZW50SW5zdGFuY2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuYXRpdmVFbGVtZW50ID0gdGhpcy5uYXRpdmVOb2RlO1xuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUVsZW1lbnQgJiYgZ2V0Q29tcG9uZW50KG5hdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdOb2RlX19QT1NUX1IzX18ucHJvdG90eXBlLCBcImNvbnRleHRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGdldENvbnRleHQodGhpcy5uYXRpdmVOb2RlKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZV9fUE9TVF9SM19fLnByb3RvdHlwZSwgXCJsaXN0ZW5lcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRMaXN0ZW5lcnModGhpcy5uYXRpdmVOb2RlKS5maWx0ZXIoaXNCcm93c2VyRXZlbnRzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZV9fUE9TVF9SM19fLnByb3RvdHlwZSwgXCJyZWZlcmVuY2VzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBnZXRMb2NhbFJlZnModGhpcy5uYXRpdmVOb2RlKTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnTm9kZV9fUE9TVF9SM19fLnByb3RvdHlwZSwgXCJwcm92aWRlclRva2Vuc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0SW5qZWN0aW9uVG9rZW5zKHRoaXMubmF0aXZlTm9kZSk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBEZWJ1Z05vZGVfX1BPU1RfUjNfXztcbn0oKSk7XG52YXIgRGVidWdFbGVtZW50X19QT1NUX1IzX18gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlYnVnRWxlbWVudF9fUE9TVF9SM19fLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERlYnVnRWxlbWVudF9fUE9TVF9SM19fKG5hdGl2ZU5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgbmdEZXZNb2RlICYmIGFzc2VydERvbU5vZGUobmF0aXZlTm9kZSk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmF0aXZlTm9kZSkgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdFbGVtZW50X19QT1NUX1IzX18ucHJvdG90eXBlLCBcIm5hdGl2ZUVsZW1lbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5hdGl2ZU5vZGUubm9kZVR5cGUgPT0gTm9kZS5FTEVNRU5UX05PREUgPyB0aGlzLm5hdGl2ZU5vZGUgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdFbGVtZW50X19QT1NUX1IzX18ucHJvdG90eXBlLCBcIm5hbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubmF0aXZlRWxlbWVudC5ub2RlTmFtZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnRWxlbWVudF9fUE9TVF9SM19fLnByb3RvdHlwZSwgXCJwcm9wZXJ0aWVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IGxvYWRMQ29udGV4dCh0aGlzLm5hdGl2ZU5vZGUpO1xuICAgICAgICAgICAgdmFyIGxWaWV3ID0gY29udGV4dC5sVmlldztcbiAgICAgICAgICAgIHZhciB0VmlldyA9IGxWaWV3W1RWSUVXXTtcbiAgICAgICAgICAgIHZhciB0Tm9kZSA9IHRWaWV3LmRhdGFbY29udGV4dC5ub2RlSW5kZXhdO1xuICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgIC8vIFRPRE86IGh0dHBzOi8vYW5ndWxhci10ZWFtLmF0bGFzc2lhbi5uZXQvYnJvd3NlL0ZXLTY4MVxuICAgICAgICAgICAgLy8gTWlzc2luZyBpbXBsZW1lbnRhdGlvbiBoZXJlLi4uXG4gICAgICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnRWxlbWVudF9fUE9TVF9SM19fLnByb3RvdHlwZSwgXCJhdHRyaWJ1dGVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBlQXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHIgPSBlQXR0cnNbaV07XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0ci5uYW1lXSA9IGF0dHIudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0VsZW1lbnRfX1BPU1RfUjNfXy5wcm90b3R5cGUsIFwiY2xhc3Nlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSB7fTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5uYXRpdmVFbGVtZW50O1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbENvbnRleHQgPSBsb2FkTENvbnRleHRGcm9tTm9kZShlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgbE5vZGUgPSBsQ29udGV4dC5sVmlld1tsQ29udGV4dC5ub2RlSW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciBzdHlsaW5nQ29udGV4dCA9IGdldFN0eWxpbmdDb250ZXh0KGxDb250ZXh0Lm5vZGVJbmRleCwgbENvbnRleHQubFZpZXcpO1xuICAgICAgICAgICAgICAgIGlmIChzdHlsaW5nQ29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gOSAvKiBTaW5nbGVTdHlsZXNTdGFydFBvc2l0aW9uICovOyBpIDwgbE5vZGUubGVuZ3RoOyBpICs9IDQgLyogU2l6ZSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2xhc3NCYXNlZFZhbHVlKGxOb2RlLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBnZXRQcm9wKGxOb2RlLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShsTm9kZSwgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2Ugd2FudCB0byBpZ25vcmUgYG51bGxgIHNpbmNlIHRob3NlIGRvbid0IG92ZXJ3cml0ZSB0aGUgdmFsdWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzW2NsYXNzTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrLCBqdXN0IHJlYWQgRE9NLlxuICAgICAgICAgICAgICAgICAgICB2YXIgZUNsYXNzZXMgPSBlbGVtZW50LmNsYXNzTGlzdDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlQ2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlc1tlQ2xhc3Nlc1tpXV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0VsZW1lbnRfX1BPU1RfUjNfXy5wcm90b3R5cGUsIFwic3R5bGVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGVzID0ge307XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGxDb250ZXh0ID0gbG9hZExDb250ZXh0RnJvbU5vZGUoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdmFyIGxOb2RlID0gbENvbnRleHQubFZpZXdbbENvbnRleHQubm9kZUluZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGluZ0NvbnRleHQgPSBnZXRTdHlsaW5nQ29udGV4dChsQ29udGV4dC5ub2RlSW5kZXgsIGxDb250ZXh0LmxWaWV3KTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGluZ0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDkgLyogU2luZ2xlU3R5bGVzU3RhcnRQb3NpdGlvbiAqLzsgaSA8IGxOb2RlLmxlbmd0aDsgaSArPSA0IC8qIFNpemUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNDbGFzc0Jhc2VkVmFsdWUobE5vZGUsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlTmFtZSA9IGdldFByb3AobE5vZGUsIGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKGxOb2RlLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2Ugd2FudCB0byBpZ25vcmUgYG51bGxgIHNpbmNlIHRob3NlIGRvbid0IG92ZXJ3cml0ZSB0aGUgdmFsdWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXNbc3R5bGVOYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFsbGJhY2ssIGp1c3QgcmVhZCBET00uXG4gICAgICAgICAgICAgICAgICAgIHZhciBlU3R5bGVzID0gZWxlbWVudC5zdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlU3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZV8xID0gZVN0eWxlcy5pdGVtKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzW25hbWVfMV0gPSBlU3R5bGVzLmdldFByb3BlcnR5VmFsdWUobmFtZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0VsZW1lbnRfX1BPU1RfUjNfXy5wcm90b3R5cGUsIFwiY2hpbGROb2Rlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkTm9kZXMgPSB0aGlzLm5hdGl2ZU5vZGUuY2hpbGROb2RlcztcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBjaGlsZE5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goZ2V0RGVidWdOb2RlX19QT1NUX1IzX18oZWxlbWVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdFbGVtZW50X19QT1NUX1IzX18ucHJvdG90eXBlLCBcImNoaWxkcmVuXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmF0aXZlRWxlbWVudCA9IHRoaXMubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIGlmICghbmF0aXZlRWxlbWVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB2YXIgY2hpbGROb2RlcyA9IG5hdGl2ZUVsZW1lbnQuY2hpbGRyZW47XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGdldERlYnVnTm9kZV9fUE9TVF9SM19fKGVsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgRGVidWdFbGVtZW50X19QT1NUX1IzX18ucHJvdG90eXBlLnF1ZXJ5ID0gZnVuY3Rpb24gKHByZWRpY2F0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IHRoaXMucXVlcnlBbGwocHJlZGljYXRlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNbMF0gfHwgbnVsbDtcbiAgICB9O1xuICAgIERlYnVnRWxlbWVudF9fUE9TVF9SM19fLnByb3RvdHlwZS5xdWVyeUFsbCA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuUjModGhpcywgcHJlZGljYXRlLCBtYXRjaGVzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfTtcbiAgICBEZWJ1Z0VsZW1lbnRfX1BPU1RfUjNfXy5wcm90b3R5cGUucXVlcnlBbGxOb2RlcyA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuUjModGhpcywgcHJlZGljYXRlLCBtYXRjaGVzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH07XG4gICAgRGVidWdFbGVtZW50X19QT1NUX1IzX18ucHJvdG90eXBlLnRyaWdnZXJFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBldmVudE9iaikge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyLm5hbWUgPT09IGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKGV2ZW50T2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVidWdFbGVtZW50X19QT1NUX1IzX187XG59KERlYnVnTm9kZV9fUE9TVF9SM19fKSk7XG5mdW5jdGlvbiBfcXVlcnlOb2RlQ2hpbGRyZW5SMyhwYXJlbnROb2RlLCBwcmVkaWNhdGUsIG1hdGNoZXMsIGVsZW1lbnRzT25seSkge1xuICAgIGlmIChwYXJlbnROb2RlIGluc3RhbmNlb2YgRGVidWdFbGVtZW50X19QT1NUX1IzX18pIHtcbiAgICAgICAgcGFyZW50Tm9kZS5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIERlYnVnRWxlbWVudF9fUE9TVF9SM19fKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzT25seSA/IG5vZGUubmF0aXZlRWxlbWVudCA6IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3F1ZXJ5Tm9kZUNoaWxkcmVuUjMobm9kZSwgcHJlZGljYXRlLCBtYXRjaGVzLCBlbGVtZW50c09ubHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gTmVlZCB0byBrZWVwIHRoZSBub2RlcyBpbiBhIGdsb2JhbCBNYXAgc28gdGhhdCBtdWx0aXBsZSBhbmd1bGFyIGFwcHMgYXJlIHN1cHBvcnRlZC5cbnZhciBfbmF0aXZlTm9kZVRvRGVidWdOb2RlID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gZ2V0RGVidWdOb2RlX19QUkVfUjNfXyhuYXRpdmVOb2RlKSB7XG4gICAgcmV0dXJuIF9uYXRpdmVOb2RlVG9EZWJ1Z05vZGUuZ2V0KG5hdGl2ZU5vZGUpIHx8IG51bGw7XG59XG5mdW5jdGlvbiBnZXREZWJ1Z05vZGVfX1BPU1RfUjNfXyhuYXRpdmVOb2RlKSB7XG4gICAgaWYgKG5hdGl2ZU5vZGUgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVOb2RlLm5vZGVUeXBlID09IE5vZGUuRUxFTUVOVF9OT0RFID9cbiAgICAgICAgICAgIG5ldyBEZWJ1Z0VsZW1lbnRfX1BPU1RfUjNfXyhuYXRpdmVOb2RlKSA6XG4gICAgICAgICAgICBuZXcgRGVidWdOb2RlX19QT1NUX1IzX18obmF0aXZlTm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBnZXREZWJ1Z05vZGUgPSBnZXREZWJ1Z05vZGVfX1BSRV9SM19fO1xuZnVuY3Rpb24gaW5kZXhEZWJ1Z05vZGUobm9kZSkge1xuICAgIF9uYXRpdmVOb2RlVG9EZWJ1Z05vZGUuc2V0KG5vZGUubmF0aXZlTm9kZSwgbm9kZSk7XG59XG5mdW5jdGlvbiByZW1vdmVEZWJ1Z05vZGVGcm9tSW5kZXgobm9kZSkge1xuICAgIF9uYXRpdmVOb2RlVG9EZWJ1Z05vZGUuZGVsZXRlKG5vZGUubmF0aXZlTm9kZSk7XG59XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIERlYnVnTm9kZSA9IERlYnVnTm9kZV9fUFJFX1IzX187XG4vKipcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIERlYnVnRWxlbWVudCA9IERlYnVnRWxlbWVudF9fUFJFX1IzX187XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3RvcnkoKSB7XG4gICAgfVxuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3RvcnkucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gaXNMaXN0TGlrZUl0ZXJhYmxlKG9iaik7IH07XG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKHRyYWNrQnlGbikge1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRJdGVyYWJsZURpZmZlcih0cmFja0J5Rm4pO1xuICAgIH07XG4gICAgcmV0dXJuIERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3Rvcnk7XG59KCkpO1xudmFyIHRyYWNrQnlJZGVudGl0eSA9IGZ1bmN0aW9uIChpbmRleCwgaXRlbSkgeyByZXR1cm4gaXRlbTsgfTtcbi8qKlxuICogQGRlcHJlY2F0ZWQgdjQuMC4wIC0gU2hvdWxkIG5vdCBiZSBwYXJ0IG9mIHB1YmxpYyBBUEkuXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBEZWZhdWx0SXRlcmFibGVEaWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVmYXVsdEl0ZXJhYmxlRGlmZmVyKHRyYWNrQnlGbikge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHRoZSB1c2VkIHJlY29yZHMgYXQgYW55IHBvaW50IGluIHRpbWUgKGR1cmluZyAmIGFjcm9zcyBgX2NoZWNrKClgIGNhbGxzKVxuICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzID0gbnVsbDtcbiAgICAgICAgLy8gS2VlcHMgdHJhY2sgb2YgdGhlIHJlbW92ZWQgcmVjb3JkcyBhdCBhbnkgcG9pbnQgaW4gdGltZSBkdXJpbmcgYF9jaGVjaygpYCBjYWxscy5cbiAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNJdEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pdEhlYWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pdFRhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vdmVzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX21vdmVzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgICAgIC8vIEtlZXBzIHRyYWNrIG9mIHJlY29yZHMgd2hlcmUgY3VzdG9tIHRyYWNrIGJ5IGlzIHRoZSBzYW1lLCBidXQgaXRlbSBpZGVudGl0eSBoYXMgY2hhbmdlZFxuICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3RyYWNrQnlGbiA9IHRyYWNrQnlGbiB8fCB0cmFja0J5SWRlbnRpdHk7XG4gICAgfVxuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9pdEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hPcGVyYXRpb24gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIG5leHRJdCA9IHRoaXMuX2l0SGVhZDtcbiAgICAgICAgdmFyIG5leHRSZW1vdmUgPSB0aGlzLl9yZW1vdmFsc0hlYWQ7XG4gICAgICAgIHZhciBhZGRSZW1vdmVPZmZzZXQgPSAwO1xuICAgICAgICB2YXIgbW92ZU9mZnNldHMgPSBudWxsO1xuICAgICAgICB3aGlsZSAobmV4dEl0IHx8IG5leHRSZW1vdmUpIHtcbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggaXMgdGhlIG5leHQgcmVjb3JkIHRvIHByb2Nlc3NcbiAgICAgICAgICAgIC8vIE9yZGVyOiByZW1vdmUsIGFkZCwgbW92ZVxuICAgICAgICAgICAgdmFyIHJlY29yZCA9ICFuZXh0UmVtb3ZlIHx8XG4gICAgICAgICAgICAgICAgbmV4dEl0ICYmXG4gICAgICAgICAgICAgICAgICAgIG5leHRJdC5jdXJyZW50SW5kZXggPFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJldmlvdXNJbmRleChuZXh0UmVtb3ZlLCBhZGRSZW1vdmVPZmZzZXQsIG1vdmVPZmZzZXRzKSA/XG4gICAgICAgICAgICAgICAgbmV4dEl0IDpcbiAgICAgICAgICAgICAgICBuZXh0UmVtb3ZlO1xuICAgICAgICAgICAgdmFyIGFkalByZXZpb3VzSW5kZXggPSBnZXRQcmV2aW91c0luZGV4KHJlY29yZCwgYWRkUmVtb3ZlT2Zmc2V0LCBtb3ZlT2Zmc2V0cyk7XG4gICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gcmVjb3JkLmN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIC8vIGNvbnN1bWUgdGhlIGl0ZW0sIGFuZCBhZGp1c3QgdGhlIGFkZFJlbW92ZU9mZnNldCBhbmQgdXBkYXRlIG1vdmVEaXN0YW5jZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG5leHRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBhZGRSZW1vdmVPZmZzZXQtLTtcbiAgICAgICAgICAgICAgICBuZXh0UmVtb3ZlID0gbmV4dFJlbW92ZS5fbmV4dFJlbW92ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0SXQgPSBuZXh0SXQuX25leHQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5wcmV2aW91c0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUmVtb3ZlT2Zmc2V0Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBJTlZBUklBTlQ6ICBjdXJyZW50SW5kZXggPCBwcmV2aW91c0luZGV4XG4gICAgICAgICAgICAgICAgICAgIGlmICghbW92ZU9mZnNldHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYWxNb3ZlUHJldmlvdXNJbmRleCA9IGFkalByZXZpb3VzSW5kZXggLSBhZGRSZW1vdmVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2NhbEN1cnJlbnRJbmRleCA9IGN1cnJlbnRJbmRleCAtIGFkZFJlbW92ZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsTW92ZVByZXZpb3VzSW5kZXggIT0gbG9jYWxDdXJyZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG9jYWxNb3ZlUHJldmlvdXNJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IGkgPCBtb3ZlT2Zmc2V0cy5sZW5ndGggPyBtb3ZlT2Zmc2V0c1tpXSA6IChtb3ZlT2Zmc2V0c1tpXSA9IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IG9mZnNldCArIGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsQ3VycmVudEluZGV4IDw9IGluZGV4ICYmIGluZGV4IDwgbG9jYWxNb3ZlUHJldmlvdXNJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0c1tpXSA9IG9mZnNldCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzSW5kZXggPSByZWNvcmQucHJldmlvdXNJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVPZmZzZXRzW3ByZXZpb3VzSW5kZXhdID0gbG9jYWxDdXJyZW50SW5kZXggLSBsb2NhbE1vdmVQcmV2aW91c0luZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFkalByZXZpb3VzSW5kZXggIT09IGN1cnJlbnRJbmRleCkge1xuICAgICAgICAgICAgICAgIGZuKHJlY29yZCwgYWRqUHJldmlvdXNJbmRleCwgY3VycmVudEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5mb3JFYWNoUHJldmlvdXNJdGVtID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNJdEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UHJldmlvdXMpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaEFkZGVkSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaE1vdmVkSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX21vdmVzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRNb3ZlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5mb3JFYWNoUmVtb3ZlZEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9yZW1vdmFsc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UmVtb3ZlZCkge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5mb3JFYWNoSWRlbnRpdHlDaGFuZ2UgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dElkZW50aXR5Q2hhbmdlKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmRpZmYgPSBmdW5jdGlvbiAoY29sbGVjdGlvbikge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKVxuICAgICAgICAgICAgY29sbGVjdGlvbiA9IFtdO1xuICAgICAgICBpZiAoIWlzTGlzdExpa2VJdGVyYWJsZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJ1wiICsgc3RyaW5naWZ5KGNvbGxlY3Rpb24pICsgXCInLiBPbmx5IGFycmF5cyBhbmQgaXRlcmFibGVzIGFyZSBhbGxvd2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoZWNrKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLm9uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgdmFyIHJlY29yZCA9IHRoaXMuX2l0SGVhZDtcbiAgICAgICAgdmFyIG1heUJlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGluZGV4O1xuICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgdmFyIGl0ZW1UcmFja0J5O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4XzEgPSAwOyBpbmRleF8xIDwgdGhpcy5sZW5ndGg7IGluZGV4XzErKykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSBjb2xsZWN0aW9uW2luZGV4XzFdO1xuICAgICAgICAgICAgICAgIGl0ZW1UcmFja0J5ID0gdGhpcy5fdHJhY2tCeUZuKGluZGV4XzEsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwgfHwgIWxvb3NlSWRlbnRpY2FsKHJlY29yZC50cmFja0J5SWQsIGl0ZW1UcmFja0J5KSkge1xuICAgICAgICAgICAgICAgICAgICByZWNvcmQgPSB0aGlzLl9taXNtYXRjaChyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleF8xKTtcbiAgICAgICAgICAgICAgICAgICAgbWF5QmVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF5QmVEaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhtaXNrbyk6IGNhbiB3ZSBsaW1pdCB0aGlzIHRvIGR1cGxpY2F0ZXMgb25seT9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX3ZlcmlmeVJlaW5zZXJ0aW9uKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4XzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghbG9vc2VJZGVudGljYWwocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjb3JkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgaXRlcmF0ZUxpc3RMaWtlKGNvbGxlY3Rpb24sIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgaXRlbVRyYWNrQnkgPSBfdGhpcy5fdHJhY2tCeUZuKGluZGV4LCBpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkID09PSBudWxsIHx8ICFsb29zZUlkZW50aWNhbChyZWNvcmQudHJhY2tCeUlkLCBpdGVtVHJhY2tCeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkID0gX3RoaXMuX21pc21hdGNoKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbWF5QmVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF5QmVEaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhtaXNrbyk6IGNhbiB3ZSBsaW1pdCB0aGlzIHRvIGR1cGxpY2F0ZXMgb25seT9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZCA9IF90aGlzLl92ZXJpZnlSZWluc2VydGlvbihyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb29zZUlkZW50aWNhbChyZWNvcmQuaXRlbSwgaXRlbSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYWRkSWRlbnRpdHlDaGFuZ2UocmVjb3JkLCBpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjb3JkID0gcmVjb3JkLl9uZXh0O1xuICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdHJ1bmNhdGUocmVjb3JkKTtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEaXJ0eTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLCBcImlzRGlydHlcIiwge1xuICAgICAgICAvKiBDb2xsZWN0aW9uQ2hhbmdlcyBpcyBjb25zaWRlcmVkIGRpcnR5IGlmIGl0IGhhcyBhbnkgYWRkaXRpb25zLCBtb3ZlcywgcmVtb3ZhbHMsIG9yIGlkZW50aXR5XG4gICAgICAgICAqIGNoYW5nZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRpdGlvbnNIZWFkICE9PSBudWxsIHx8IHRoaXMuX21vdmVzSGVhZCAhPT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCAhPT0gbnVsbCB8fCB0aGlzLl9pZGVudGl0eUNoYW5nZXNIZWFkICE9PSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3RhdGUgb2YgdGhlIGNoYW5nZSBvYmplY3RzIHRvIHNob3cgbm8gY2hhbmdlcy4gVGhpcyBtZWFucyBzZXQgcHJldmlvdXNLZXkgdG9cbiAgICAgKiBjdXJyZW50S2V5LCBhbmQgY2xlYXIgYWxsIG9mIHRoZSBxdWV1ZXMgKGFkZGl0aW9ucywgbW92ZXMsIHJlbW92YWxzKS5cbiAgICAgKiBTZXQgdGhlIHByZXZpb3VzSW5kZXhlcyBvZiBtb3ZlZCBhbmQgYWRkZWQgaXRlbXMgdG8gdGhlaXIgY3VycmVudEluZGV4ZXNcbiAgICAgKiBSZXNldCB0aGUgbGlzdCBvZiBhZGRpdGlvbnMsIG1vdmVzIGFuZCByZW1vdmFsc1xuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fcmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkpIHtcbiAgICAgICAgICAgIHZhciByZWNvcmQgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgbmV4dFJlY29yZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fcHJldmlvdXNJdEhlYWQgPSB0aGlzLl9pdEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0UHJldmlvdXMgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX2FkZGl0aW9uc0hlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNJbmRleCA9IHJlY29yZC5jdXJyZW50SW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX21vdmVzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSBuZXh0UmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzSW5kZXggPSByZWNvcmQuY3VycmVudEluZGV4O1xuICAgICAgICAgICAgICAgIG5leHRSZWNvcmQgPSByZWNvcmQuX25leHRNb3ZlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21vdmVzSGVhZCA9IHRoaXMuX21vdmVzVGFpbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSB0aGlzLl9yZW1vdmFsc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCA9IHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTogd2hlbiBhc3NlcnQgZ2V0cyBzdXBwb3J0ZWRcbiAgICAgICAgICAgIC8vIGFzc2VydCghdGhpcy5pc0RpcnR5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgY29yZSBmdW5jdGlvbiB3aGljaCBoYW5kbGVzIGRpZmZlcmVuY2VzIGJldHdlZW4gY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiAtIGByZWNvcmRgIGlzIHRoZSByZWNvcmQgd2hpY2ggd2Ugc2F3IGF0IHRoaXMgcG9zaXRpb24gbGFzdCB0aW1lLiBJZiBudWxsIHRoZW4gaXQgaXMgYSBuZXdcbiAgICAgKiAgIGl0ZW0uXG4gICAgICogLSBgaXRlbWAgaXMgdGhlIGN1cnJlbnQgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxuICAgICAqIC0gYGluZGV4YCBpcyB0aGUgcG9zaXRpb24gb2YgdGhlIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX21pc21hdGNoID0gZnVuY3Rpb24gKHJlY29yZCwgaXRlbSwgaXRlbVRyYWNrQnksIGluZGV4KSB7XG4gICAgICAgIC8vIFRoZSBwcmV2aW91cyByZWNvcmQgYWZ0ZXIgd2hpY2ggd2Ugd2lsbCBhcHBlbmQgdGhlIGN1cnJlbnQgb25lLlxuICAgICAgICB2YXIgcHJldmlvdXNSZWNvcmQ7XG4gICAgICAgIGlmIChyZWNvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHByZXZpb3VzUmVjb3JkID0gdGhpcy5faXRUYWlsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldmlvdXNSZWNvcmQgPSByZWNvcmQuX3ByZXY7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHJlY29yZCBmcm9tIHRoZSBjb2xsZWN0aW9uIHNpbmNlIHdlIGtub3cgaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGl0ZW0uXG4gICAgICAgICAgICB0aGlzLl9yZW1vdmUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBdHRlbXB0IHRvIHNlZSBpZiB3ZSBoYXZlIHNlZW4gdGhlIGl0ZW0gYmVmb3JlLlxuICAgICAgICByZWNvcmQgPSB0aGlzLl9saW5rZWRSZWNvcmRzID09PSBudWxsID8gbnVsbCA6IHRoaXMuX2xpbmtlZFJlY29yZHMuZ2V0KGl0ZW1UcmFja0J5LCBpbmRleCk7XG4gICAgICAgIGlmIChyZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgc2VlbiB0aGlzIGJlZm9yZSwgd2UgbmVlZCB0byBtb3ZlIGl0IGZvcndhcmQgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAgICAgICAgICAvLyBCdXQgZmlyc3Qgd2UgbmVlZCB0byBjaGVjayBpZiBpZGVudGl0eSBjaGFuZ2VkLCBzbyB3ZSBjYW4gdXBkYXRlIGluIHZpZXcgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICBpZiAoIWxvb3NlSWRlbnRpY2FsKHJlY29yZC5pdGVtLCBpdGVtKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5fbW92ZUFmdGVyKHJlY29yZCwgcHJldmlvdXNSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5ldmVyIHNlZW4gaXQsIGNoZWNrIGV2aWN0ZWQgbGlzdC5cbiAgICAgICAgICAgIHJlY29yZCA9IHRoaXMuX3VubGlua2VkUmVjb3JkcyA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl91bmxpbmtlZFJlY29yZHMuZ2V0KGl0ZW1UcmFja0J5LCBudWxsKTtcbiAgICAgICAgICAgIGlmIChyZWNvcmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBpcyBhbiBpdGVtIHdoaWNoIHdlIGhhdmUgZXZpY3RlZCBlYXJsaWVyOiByZWluc2VydCBpdCBiYWNrIGludG8gdGhlIGxpc3QuXG4gICAgICAgICAgICAgICAgLy8gQnV0IGZpcnN0IHdlIG5lZWQgdG8gY2hlY2sgaWYgaWRlbnRpdHkgY2hhbmdlZCwgc28gd2UgY2FuIHVwZGF0ZSBpbiB2aWV3IGlmIG5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgIGlmICghbG9vc2VJZGVudGljYWwocmVjb3JkLml0ZW0sIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRJZGVudGl0eUNoYW5nZShyZWNvcmQsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlaW5zZXJ0QWZ0ZXIocmVjb3JkLCBwcmV2aW91c1JlY29yZCwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgYSBuZXcgaXRlbTogYWRkIGl0LlxuICAgICAgICAgICAgICAgIHJlY29yZCA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZEFmdGVyKG5ldyBJdGVyYWJsZUNoYW5nZVJlY29yZF8oaXRlbSwgaXRlbVRyYWNrQnkpLCBwcmV2aW91c1JlY29yZCwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoZWNrIGlzIG9ubHkgbmVlZGVkIGlmIGFuIGFycmF5IGNvbnRhaW5zIGR1cGxpY2F0ZXMuIChTaG9ydCBjaXJjdWl0IG9mIG5vdGhpbmcgZGlydHkpXG4gICAgICpcbiAgICAgKiBVc2UgY2FzZTogYFthLCBhXWAgPT4gYFtiLCBhLCBhXWBcbiAgICAgKlxuICAgICAqIElmIHdlIGRpZCBub3QgaGF2ZSB0aGlzIGNoZWNrIHRoZW4gdGhlIGluc2VydGlvbiBvZiBgYmAgd291bGQ6XG4gICAgICogICAxKSBldmljdCBmaXJzdCBgYWBcbiAgICAgKiAgIDIpIGluc2VydCBgYmAgYXQgYDBgIGluZGV4LlxuICAgICAqICAgMykgbGVhdmUgYGFgIGF0IGluZGV4IGAxYCBhcyBpcy4gPC0tIHRoaXMgaXMgd3JvbmchXG4gICAgICogICAzKSByZWluc2VydCBgYWAgYXQgaW5kZXggMi4gPC0tIHRoaXMgaXMgd3JvbmchXG4gICAgICpcbiAgICAgKiBUaGUgY29ycmVjdCBiZWhhdmlvciBpczpcbiAgICAgKiAgIDEpIGV2aWN0IGZpcnN0IGBhYFxuICAgICAqICAgMikgaW5zZXJ0IGBiYCBhdCBgMGAgaW5kZXguXG4gICAgICogICAzKSByZWluc2VydCBgYWAgYXQgaW5kZXggMS5cbiAgICAgKiAgIDMpIG1vdmUgYGFgIGF0IGZyb20gYDFgIHRvIGAyYC5cbiAgICAgKlxuICAgICAqXG4gICAgICogRG91YmxlIGNoZWNrIHRoYXQgd2UgaGF2ZSBub3QgZXZpY3RlZCBhIGR1cGxpY2F0ZSBpdGVtLiBXZSBuZWVkIHRvIGNoZWNrIGlmIHRoZSBpdGVtIHR5cGUgbWF5XG4gICAgICogaGF2ZSBhbHJlYWR5IGJlZW4gcmVtb3ZlZDpcbiAgICAgKiBUaGUgaW5zZXJ0aW9uIG9mIGIgd2lsbCBldmljdCB0aGUgZmlyc3QgJ2EnLiBJZiB3ZSBkb24ndCByZWluc2VydCBpdCBub3cgaXQgd2lsbCBiZSByZWluc2VydGVkXG4gICAgICogYXQgdGhlIGVuZC4gV2hpY2ggd2lsbCBzaG93IHVwIGFzIHRoZSB0d28gJ2EncyBzd2l0Y2hpbmcgcG9zaXRpb24uIFRoaXMgaXMgaW5jb3JyZWN0LCBzaW5jZSBhXG4gICAgICogYmV0dGVyIHdheSB0byB0aGluayBvZiBpdCBpcyBhcyBpbnNlcnQgb2YgJ2InIHJhdGhlciB0aGVuIHN3aXRjaCAnYScgd2l0aCAnYicgYW5kIHRoZW4gYWRkICdhJ1xuICAgICAqIGF0IHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl92ZXJpZnlSZWluc2VydGlvbiA9IGZ1bmN0aW9uIChyZWNvcmQsIGl0ZW0sIGl0ZW1UcmFja0J5LCBpbmRleCkge1xuICAgICAgICB2YXIgcmVpbnNlcnRSZWNvcmQgPSB0aGlzLl91bmxpbmtlZFJlY29yZHMgPT09IG51bGwgPyBudWxsIDogdGhpcy5fdW5saW5rZWRSZWNvcmRzLmdldChpdGVtVHJhY2tCeSwgbnVsbCk7XG4gICAgICAgIGlmIChyZWluc2VydFJlY29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVjb3JkID0gdGhpcy5fcmVpbnNlcnRBZnRlcihyZWluc2VydFJlY29yZCwgcmVjb3JkLl9wcmV2LCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjb3JkLmN1cnJlbnRJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVjb3JkLmN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgdGhpcy5fYWRkVG9Nb3ZlcyhyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHJpZCBvZiBhbnkgZXhjZXNzIHtAbGluayBJdGVyYWJsZUNoYW5nZVJlY29yZF99cyBmcm9tIHRoZSBwcmV2aW91cyBjb2xsZWN0aW9uXG4gICAgICpcbiAgICAgKiAtIGByZWNvcmRgIFRoZSBmaXJzdCBleGNlc3Mge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX30uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl90cnVuY2F0ZSA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgLy8gQW55dGhpbmcgYWZ0ZXIgdGhhdCBuZWVkcyB0byBiZSByZW1vdmVkO1xuICAgICAgICB3aGlsZSAocmVjb3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFJlY29yZCA9IHJlY29yZC5fbmV4dDtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvUmVtb3ZhbHModGhpcy5fdW5saW5rKHJlY29yZCkpO1xuICAgICAgICAgICAgcmVjb3JkID0gbmV4dFJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbW92ZXNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2l0VGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVtb3ZhbHNUYWlsICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faWRlbnRpdHlDaGFuZ2VzVGFpbC5fbmV4dElkZW50aXR5Q2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX3JlaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5fdW5saW5rZWRSZWNvcmRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMucmVtb3ZlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXYgPSByZWNvcmQuX3ByZXZSZW1vdmVkO1xuICAgICAgICB2YXIgbmV4dCA9IHJlY29yZC5fbmV4dFJlbW92ZWQ7XG4gICAgICAgIGlmIChwcmV2ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dFJlbW92ZWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc1RhaWwgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldlJlbW92ZWQgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpO1xuICAgICAgICB0aGlzLl9hZGRUb01vdmVzKHJlY29yZCwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX21vdmVBZnRlciA9IGZ1bmN0aW9uIChyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuX3VubGluayhyZWNvcmQpO1xuICAgICAgICB0aGlzLl9pbnNlcnRBZnRlcihyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KTtcbiAgICAgICAgdGhpcy5fYWRkVG9Nb3ZlcyhyZWNvcmQsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBEZWZhdWx0SXRlcmFibGVEaWZmZXIucHJvdG90eXBlLl9hZGRBZnRlciA9IGZ1bmN0aW9uIChyZWNvcmQsIHByZXZSZWNvcmQsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2luc2VydEFmdGVyKHJlY29yZCwgcHJldlJlY29yZCwgaW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5fYWRkaXRpb25zVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydCh0aGlzLl9hZGRpdGlvbnNIZWFkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc1RhaWwgPSB0aGlzLl9hZGRpdGlvbnNIZWFkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID09PSBudWxsKTtcbiAgICAgICAgICAgIC8vIGFzc2VydChyZWNvcmQuX25leHRBZGRlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9hZGRpdGlvbnNUYWlsID0gdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5faW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAocmVjb3JkLCBwcmV2UmVjb3JkLCBpbmRleCkge1xuICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAvLyBhc3NlcnQocmVjb3JkICE9IHByZXZSZWNvcmQpO1xuICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0ID09PSBudWxsKTtcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fcHJldiA9PT0gbnVsbCk7XG4gICAgICAgIHZhciBuZXh0ID0gcHJldlJlY29yZCA9PT0gbnVsbCA/IHRoaXMuX2l0SGVhZCA6IHByZXZSZWNvcmQuX25leHQ7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydChuZXh0ICE9IHJlY29yZCk7XG4gICAgICAgIC8vIGFzc2VydChwcmV2UmVjb3JkICE9IHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5fbmV4dCA9IG5leHQ7XG4gICAgICAgIHJlY29yZC5fcHJldiA9IHByZXZSZWNvcmQ7XG4gICAgICAgIGlmIChuZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdFRhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0Ll9wcmV2ID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2UmVjb3JkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pdEhlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2UmVjb3JkLl9uZXh0ID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9saW5rZWRSZWNvcmRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzID0gbmV3IF9EdXBsaWNhdGVNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9saW5rZWRSZWNvcmRzLnB1dChyZWNvcmQpO1xuICAgICAgICByZWNvcmQuY3VycmVudEluZGV4ID0gaW5kZXg7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fcmVtb3ZlID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkVG9SZW1vdmFscyh0aGlzLl91bmxpbmsocmVjb3JkKSk7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fdW5saW5rID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fbGlua2VkUmVjb3JkcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbGlua2VkUmVjb3Jkcy5yZW1vdmUocmVjb3JkKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldiA9IHJlY29yZC5fcHJldjtcbiAgICAgICAgdmFyIG5leHQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydCgocmVjb3JkLl9wcmV2ID0gbnVsbCkgPT09IG51bGwpO1xuICAgICAgICAvLyBhc3NlcnQoKHJlY29yZC5fbmV4dCA9IG51bGwpID09PSBudWxsKTtcbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0SGVhZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2Ll9uZXh0ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faXRUYWlsID0gcHJldjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQuX3ByZXYgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fYWRkVG9Nb3ZlcyA9IGZ1bmN0aW9uIChyZWNvcmQsIHRvSW5kZXgpIHtcbiAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgLy8gYXNzZXJ0KHJlY29yZC5fbmV4dE1vdmVkID09PSBudWxsKTtcbiAgICAgICAgaWYgKHJlY29yZC5wcmV2aW91c0luZGV4ID09PSB0b0luZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tb3Zlc1RhaWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQoX21vdmVzSGVhZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwgPSB0aGlzLl9tb3Zlc0hlYWQgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPKHZpY2IpOlxuICAgICAgICAgICAgLy8gYXNzZXJ0KF9tb3Zlc1RhaWwuX25leHRNb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB0aGlzLl9tb3Zlc1RhaWwgPSB0aGlzLl9tb3Zlc1RhaWwuX25leHRNb3ZlZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLnByb3RvdHlwZS5fYWRkVG9SZW1vdmFscyA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VubGlua2VkUmVjb3JkcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fdW5saW5rZWRSZWNvcmRzID0gbmV3IF9EdXBsaWNhdGVNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91bmxpbmtlZFJlY29yZHMucHV0KHJlY29yZCk7XG4gICAgICAgIHJlY29yZC5jdXJyZW50SW5kZXggPSBudWxsO1xuICAgICAgICByZWNvcmQuX25leHRSZW1vdmVkID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuX3JlbW92YWxzVGFpbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfcmVtb3ZhbHNIZWFkID09PSBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IHRoaXMuX3JlbW92YWxzSGVhZCA9IHJlY29yZDtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldlJlbW92ZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVE9ETyh2aWNiKTpcbiAgICAgICAgICAgIC8vIGFzc2VydChfcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICAvLyBhc3NlcnQocmVjb3JkLl9uZXh0UmVtb3ZlZCA9PT0gbnVsbCk7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZSZW1vdmVkID0gdGhpcy5fcmVtb3ZhbHNUYWlsO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNUYWlsID0gdGhpcy5fcmVtb3ZhbHNUYWlsLl9uZXh0UmVtb3ZlZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRJdGVyYWJsZURpZmZlci5wcm90b3R5cGUuX2FkZElkZW50aXR5Q2hhbmdlID0gZnVuY3Rpb24gKHJlY29yZCwgaXRlbSkge1xuICAgICAgICByZWNvcmQuaXRlbSA9IGl0ZW07XG4gICAgICAgIGlmICh0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsID0gdGhpcy5faWRlbnRpdHlDaGFuZ2VzSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lkZW50aXR5Q2hhbmdlc1RhaWwgPSB0aGlzLl9pZGVudGl0eUNoYW5nZXNUYWlsLl9uZXh0SWRlbnRpdHlDaGFuZ2UgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICB9O1xuICAgIHJldHVybiBEZWZhdWx0SXRlcmFibGVEaWZmZXI7XG59KCkpO1xudmFyIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJdGVyYWJsZUNoYW5nZVJlY29yZF8oaXRlbSwgdHJhY2tCeUlkKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgICAgIHRoaXMudHJhY2tCeUlkID0gdHJhY2tCeUlkO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJldmlvdXNJbmRleCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2RHVwID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0RHVwID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wcmV2UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dFJlbW92ZWQgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRBZGRlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dE1vdmVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0SWRlbnRpdHlDaGFuZ2UgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gSXRlcmFibGVDaGFuZ2VSZWNvcmRfO1xufSgpKTtcbi8vIEEgbGlua2VkIGxpc3Qgb2YgQ29sbGVjdGlvbkNoYW5nZVJlY29yZHMgd2l0aCB0aGUgc2FtZSBJdGVyYWJsZUNoYW5nZVJlY29yZF8uaXRlbVxudmFyIF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBfRHVwbGljYXRlSXRlbVJlY29yZExpc3QoKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZCB0aGUgcmVjb3JkIHRvIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMuXG4gICAgICpcbiAgICAgKiBOb3RlOiBieSBkZXNpZ24gYWxsIHJlY29yZHMgaW4gdGhlIGxpc3Qgb2YgZHVwbGljYXRlcyBob2xkIHRoZSBzYW1lIHZhbHVlIGluIHJlY29yZC5pdGVtLlxuICAgICAqL1xuICAgIF9EdXBsaWNhdGVJdGVtUmVjb3JkTGlzdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5faGVhZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5faGVhZCA9IHRoaXMuX3RhaWwgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX25leHREdXAgPSBudWxsO1xuICAgICAgICAgICAgcmVjb3JkLl9wcmV2RHVwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgICAgICAvLyBhc3NlcnQocmVjb3JkLml0ZW0gPT0gIF9oZWFkLml0ZW0gfHxcbiAgICAgICAgICAgIC8vICAgICAgIHJlY29yZC5pdGVtIGlzIG51bSAmJiByZWNvcmQuaXRlbS5pc05hTiAmJiBfaGVhZC5pdGVtIGlzIG51bSAmJiBfaGVhZC5pdGVtLmlzTmFOKTtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwuX25leHREdXAgPSByZWNvcmQ7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXZEdXAgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgcmVjb3JkLl9uZXh0RHVwID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJldHVybnMgYSBJdGVyYWJsZUNoYW5nZVJlY29yZF8gaGF2aW5nIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXy50cmFja0J5SWQgPT0gdHJhY2tCeUlkIGFuZFxuICAgIC8vIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXy5jdXJyZW50SW5kZXggPj0gYXRPckFmdGVySW5kZXhcbiAgICBfRHVwbGljYXRlSXRlbVJlY29yZExpc3QucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0cmFja0J5SWQsIGF0T3JBZnRlckluZGV4KSB7XG4gICAgICAgIHZhciByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5faGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHREdXApIHtcbiAgICAgICAgICAgIGlmICgoYXRPckFmdGVySW5kZXggPT09IG51bGwgfHwgYXRPckFmdGVySW5kZXggPD0gcmVjb3JkLmN1cnJlbnRJbmRleCkgJiZcbiAgICAgICAgICAgICAgICBsb29zZUlkZW50aWNhbChyZWNvcmQudHJhY2tCeUlkLCB0cmFja0J5SWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBvbmUge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX30gZnJvbSB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzLlxuICAgICAqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgaXMgZW1wdHkuXG4gICAgICovXG4gICAgX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIC8vIFRPRE8odmljYik6XG4gICAgICAgIC8vIGFzc2VydCgoKSB7XG4gICAgICAgIC8vICAvLyB2ZXJpZnkgdGhhdCB0aGUgcmVjb3JkIGJlaW5nIHJlbW92ZWQgaXMgaW4gdGhlIGxpc3QuXG4gICAgICAgIC8vICBmb3IgKEl0ZXJhYmxlQ2hhbmdlUmVjb3JkXyBjdXJzb3IgPSBfaGVhZDsgY3Vyc29yICE9IG51bGw7IGN1cnNvciA9IGN1cnNvci5fbmV4dER1cCkge1xuICAgICAgICAvLyAgICBpZiAoaWRlbnRpY2FsKGN1cnNvciwgcmVjb3JkKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vICB9XG4gICAgICAgIC8vICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vfSk7XG4gICAgICAgIHZhciBwcmV2ID0gcmVjb3JkLl9wcmV2RHVwO1xuICAgICAgICB2YXIgbmV4dCA9IHJlY29yZC5fbmV4dER1cDtcbiAgICAgICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJldi5fbmV4dER1cCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwgPSBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV4dC5fcHJldkR1cCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlYWQgPT09IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0O1xufSgpKTtcbnZhciBfRHVwbGljYXRlTWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9EdXBsaWNhdGVNYXAoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBfRHVwbGljYXRlTWFwLnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIHZhciBrZXkgPSByZWNvcmQudHJhY2tCeUlkO1xuICAgICAgICB2YXIgZHVwbGljYXRlcyA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWR1cGxpY2F0ZXMpIHtcbiAgICAgICAgICAgIGR1cGxpY2F0ZXMgPSBuZXcgX0R1cGxpY2F0ZUl0ZW1SZWNvcmRMaXN0KCk7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoa2V5LCBkdXBsaWNhdGVzKTtcbiAgICAgICAgfVxuICAgICAgICBkdXBsaWNhdGVzLmFkZChyZWNvcmQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIGB2YWx1ZWAgdXNpbmcga2V5LiBCZWNhdXNlIHRoZSBJdGVyYWJsZUNoYW5nZVJlY29yZF8gdmFsdWUgbWF5IGJlIG9uZSB3aGljaCB3ZVxuICAgICAqIGhhdmUgYWxyZWFkeSBpdGVyYXRlZCBvdmVyLCB3ZSB1c2UgdGhlIGBhdE9yQWZ0ZXJJbmRleGAgdG8gcHJldGVuZCBpdCBpcyBub3QgdGhlcmUuXG4gICAgICpcbiAgICAgKiBVc2UgY2FzZTogYFthLCBiLCBjLCBhLCBhXWAgaWYgd2UgYXJlIGF0IGluZGV4IGAzYCB3aGljaCBpcyB0aGUgc2Vjb25kIGBhYCB0aGVuIGFza2luZyBpZiB3ZVxuICAgICAqIGhhdmUgYW55IG1vcmUgYGFgcyBuZWVkcyB0byByZXR1cm4gdGhlIHNlY29uZCBgYWAuXG4gICAgICovXG4gICAgX0R1cGxpY2F0ZU1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRyYWNrQnlJZCwgYXRPckFmdGVySW5kZXgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRyYWNrQnlJZDtcbiAgICAgICAgdmFyIHJlY29yZExpc3QgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIHJlY29yZExpc3QgPyByZWNvcmRMaXN0LmdldCh0cmFja0J5SWQsIGF0T3JBZnRlckluZGV4KSA6IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEge0BsaW5rIEl0ZXJhYmxlQ2hhbmdlUmVjb3JkX30gZnJvbSB0aGUgbGlzdCBvZiBkdXBsaWNhdGVzLlxuICAgICAqXG4gICAgICogVGhlIGxpc3Qgb2YgZHVwbGljYXRlcyBhbHNvIGlzIHJlbW92ZWQgZnJvbSB0aGUgbWFwIGlmIGl0IGdldHMgZW1wdHkuXG4gICAgICovXG4gICAgX0R1cGxpY2F0ZU1hcC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICB2YXIga2V5ID0gcmVjb3JkLnRyYWNrQnlJZDtcbiAgICAgICAgdmFyIHJlY29yZExpc3QgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaXN0IG9mIGR1cGxpY2F0ZXMgd2hlbiBpdCBnZXRzIGVtcHR5XG4gICAgICAgIGlmIChyZWNvcmRMaXN0LnJlbW92ZShyZWNvcmQpKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjb3JkO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9EdXBsaWNhdGVNYXAucHJvdG90eXBlLCBcImlzRW1wdHlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubWFwLnNpemUgPT09IDA7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIF9EdXBsaWNhdGVNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgeyB0aGlzLm1hcC5jbGVhcigpOyB9O1xuICAgIHJldHVybiBfRHVwbGljYXRlTWFwO1xufSgpKTtcbmZ1bmN0aW9uIGdldFByZXZpb3VzSW5kZXgoaXRlbSwgYWRkUmVtb3ZlT2Zmc2V0LCBtb3ZlT2Zmc2V0cykge1xuICAgIHZhciBwcmV2aW91c0luZGV4ID0gaXRlbS5wcmV2aW91c0luZGV4O1xuICAgIGlmIChwcmV2aW91c0luZGV4ID09PSBudWxsKVxuICAgICAgICByZXR1cm4gcHJldmlvdXNJbmRleDtcbiAgICB2YXIgbW92ZU9mZnNldCA9IDA7XG4gICAgaWYgKG1vdmVPZmZzZXRzICYmIHByZXZpb3VzSW5kZXggPCBtb3ZlT2Zmc2V0cy5sZW5ndGgpIHtcbiAgICAgICAgbW92ZU9mZnNldCA9IG1vdmVPZmZzZXRzW3ByZXZpb3VzSW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gcHJldmlvdXNJbmRleCArIGFkZFJlbW92ZU9mZnNldCArIG1vdmVPZmZzZXQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBEZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkoKSB7XG4gICAgfVxuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkucHJvdG90eXBlLnN1cHBvcnRzID0gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqIGluc3RhbmNlb2YgTWFwIHx8IGlzSnNPYmplY3Qob2JqKTsgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXJGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgRGVmYXVsdEtleVZhbHVlRGlmZmVyKCk7IH07XG4gICAgcmV0dXJuIERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3Rvcnk7XG59KCkpO1xudmFyIERlZmF1bHRLZXlWYWx1ZURpZmZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZhdWx0S2V5VmFsdWVEaWZmZXIoKSB7XG4gICAgICAgIHRoaXMuX3JlY29yZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX21hcEhlYWQgPSBudWxsO1xuICAgICAgICAvLyBfYXBwZW5kQWZ0ZXIgaXMgdXNlZCBpbiB0aGUgY2hlY2sgbG9vcFxuICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzTWFwSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2hhbmdlc1RhaWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9hZGRpdGlvbnNIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbW92YWxzVGFpbCA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLCBcImlzRGlydHlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRpdGlvbnNIZWFkICE9PSBudWxsIHx8IHRoaXMuX2NoYW5nZXNIZWFkICE9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZhbHNIZWFkICE9PSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hJdGVtID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHZhciByZWNvcmQ7XG4gICAgICAgIGZvciAocmVjb3JkID0gdGhpcy5fbWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHQpIHtcbiAgICAgICAgICAgIGZuKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuZm9yRWFjaFByZXZpb3VzSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3ByZXZpb3VzTWFwSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRQcmV2aW91cykge1xuICAgICAgICAgICAgZm4ocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5mb3JFYWNoQ2hhbmdlZEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9jaGFuZ2VzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRDaGFuZ2VkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hBZGRlZEl0ZW0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgdmFyIHJlY29yZDtcbiAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9hZGRpdGlvbnNIZWFkOyByZWNvcmQgIT09IG51bGw7IHJlY29yZCA9IHJlY29yZC5fbmV4dEFkZGVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmZvckVhY2hSZW1vdmVkSXRlbSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgcmVjb3JkO1xuICAgICAgICBmb3IgKHJlY29yZCA9IHRoaXMuX3JlbW92YWxzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRSZW1vdmVkKSB7XG4gICAgICAgICAgICBmbihyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLmRpZmYgPSBmdW5jdGlvbiAobWFwKSB7XG4gICAgICAgIGlmICghbWFwKSB7XG4gICAgICAgICAgICBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIShtYXAgaW5zdGFuY2VvZiBNYXAgfHwgaXNKc09iamVjdChtYXApKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgdHJ5aW5nIHRvIGRpZmYgJ1wiICsgc3RyaW5naWZ5KG1hcCkgKyBcIicuIE9ubHkgbWFwcyBhbmQgb2JqZWN0cyBhcmUgYWxsb3dlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVjayhtYXApID8gdGhpcyA6IG51bGw7XG4gICAgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLm9uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgbWFwIHZzIHRoZSBwcmV2aW91cy5cbiAgICAgKiBUaGUgYWxnb3JpdGhtIGlzIG9wdGltaXNlZCBmb3Igd2hlbiB0aGUga2V5cyBkbyBubyBjaGFuZ2UuXG4gICAgICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgICAgdmFyIGluc2VydEJlZm9yZSA9IHRoaXMuX21hcEhlYWQ7XG4gICAgICAgIHRoaXMuX2FwcGVuZEFmdGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZm9yRWFjaChtYXAsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICBpZiAoaW5zZXJ0QmVmb3JlICYmIGluc2VydEJlZm9yZS5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9tYXliZUFkZFRvQ2hhbmdlcyhpbnNlcnRCZWZvcmUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fYXBwZW5kQWZ0ZXIgPSBpbnNlcnRCZWZvcmU7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlID0gaW5zZXJ0QmVmb3JlLl9uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IF90aGlzLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUgPSBfdGhpcy5faW5zZXJ0QmVmb3JlT3JBcHBlbmQoaW5zZXJ0QmVmb3JlLCByZWNvcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gSXRlbXMgcmVtYWluaW5nIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QgaGF2ZSBiZWVuIGRlbGV0ZWRcbiAgICAgICAgaWYgKGluc2VydEJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKGluc2VydEJlZm9yZS5fcHJldikge1xuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZS5fcHJldi5fbmV4dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmFsc0hlYWQgPSBpbnNlcnRCZWZvcmU7XG4gICAgICAgICAgICBmb3IgKHZhciByZWNvcmQgPSBpbnNlcnRCZWZvcmU7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0UmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQgPT09IHRoaXMuX21hcEhlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwSGVhZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3JlY29yZHMuZGVsZXRlKHJlY29yZC5rZXkpO1xuICAgICAgICAgICAgICAgIHJlY29yZC5fbmV4dFJlbW92ZWQgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgIHJlY29yZC5jdXJyZW50VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJlY29yZC5fcHJldiA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGFpbHMgaGF2ZSBubyBuZXh0IHJlY29yZHMgZnJvbSBwcmV2aW91cyBydW5zXG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VzVGFpbClcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNUYWlsLl9uZXh0Q2hhbmdlZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9hZGRpdGlvbnNUYWlsKVxuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEaXJ0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluc2VydHMgYSByZWNvcmQgYmVmb3JlIGBiZWZvcmVgIG9yIGFwcGVuZCBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0IHdoZW4gYGJlZm9yZWAgaXMgbnVsbC5cbiAgICAgKlxuICAgICAqIE5vdGVzOlxuICAgICAqIC0gVGhpcyBtZXRob2QgYXBwZW5kcyBhdCBgdGhpcy5fYXBwZW5kQWZ0ZXJgLFxuICAgICAqIC0gVGhpcyBtZXRob2QgdXBkYXRlcyBgdGhpcy5fYXBwZW5kQWZ0ZXJgLFxuICAgICAqIC0gVGhlIHJldHVybiB2YWx1ZSBpcyB0aGUgbmV3IHZhbHVlIGZvciB0aGUgaW5zZXJ0aW9uIHBvaW50ZXIuXG4gICAgICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5faW5zZXJ0QmVmb3JlT3JBcHBlbmQgPSBmdW5jdGlvbiAoYmVmb3JlLCByZWNvcmQpIHtcbiAgICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICAgICAgdmFyIHByZXYgPSBiZWZvcmUuX3ByZXY7XG4gICAgICAgICAgICByZWNvcmQuX25leHQgPSBiZWZvcmU7XG4gICAgICAgICAgICByZWNvcmQuX3ByZXYgPSBwcmV2O1xuICAgICAgICAgICAgYmVmb3JlLl9wcmV2ID0gcmVjb3JkO1xuICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICBwcmV2Ll9uZXh0ID0gcmVjb3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJlZm9yZSA9PT0gdGhpcy5fbWFwSGVhZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcEhlYWQgPSByZWNvcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IGJlZm9yZTtcbiAgICAgICAgICAgIHJldHVybiBiZWZvcmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2FwcGVuZEFmdGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBlbmRBZnRlci5fbmV4dCA9IHJlY29yZDtcbiAgICAgICAgICAgIHJlY29yZC5fcHJldiA9IHRoaXMuX2FwcGVuZEFmdGVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwSGVhZCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHBlbmRBZnRlciA9IHJlY29yZDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLl9nZXRPckNyZWF0ZVJlY29yZEZvcktleSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvcmRzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB2YXIgcmVjb3JkXzEgPSB0aGlzLl9yZWNvcmRzLmdldChrZXkpO1xuICAgICAgICAgICAgdGhpcy5fbWF5YmVBZGRUb0NoYW5nZXMocmVjb3JkXzEsIHZhbHVlKTtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gcmVjb3JkXzEuX3ByZXY7XG4gICAgICAgICAgICB2YXIgbmV4dCA9IHJlY29yZF8xLl9uZXh0O1xuICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICBwcmV2Ll9uZXh0ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgbmV4dC5fcHJldiA9IHByZXY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmRfMS5fbmV4dCA9IG51bGw7XG4gICAgICAgICAgICByZWNvcmRfMS5fcHJldiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkXzE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlY29yZCA9IG5ldyBLZXlWYWx1ZUNoYW5nZVJlY29yZF8oa2V5KTtcbiAgICAgICAgdGhpcy5fcmVjb3Jkcy5zZXQoa2V5LCByZWNvcmQpO1xuICAgICAgICByZWNvcmQuY3VycmVudFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2FkZFRvQWRkaXRpb25zKHJlY29yZCk7XG4gICAgICAgIHJldHVybiByZWNvcmQ7XG4gICAgfTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5fcmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlydHkpIHtcbiAgICAgICAgICAgIHZhciByZWNvcmQgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBsZXQgYF9wcmV2aW91c01hcEhlYWRgIGNvbnRhaW4gdGhlIHN0YXRlIG9mIHRoZSBtYXAgYmVmb3JlIHRoZSBjaGFuZ2VzXG4gICAgICAgICAgICB0aGlzLl9wcmV2aW91c01hcEhlYWQgPSB0aGlzLl9tYXBIZWFkO1xuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9wcmV2aW91c01hcEhlYWQ7IHJlY29yZCAhPT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLl9uZXh0UHJldmlvdXMgPSByZWNvcmQuX25leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVcGRhdGUgYHJlY29yZC5wcmV2aW91c1ZhbHVlYCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgaXRlbSBiZWZvcmUgdGhlIGNoYW5nZXNcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gdXBkYXRlIGFsbCBjaGFuZ2VkIGl0ZW1zICh0aGF0J3MgdGhvc2Ugd2hpY2ggaGF2ZSBiZWVuIGFkZGVkIGFuZCBjaGFuZ2VkKVxuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9jaGFuZ2VzSGVhZDsgcmVjb3JkICE9PSBudWxsOyByZWNvcmQgPSByZWNvcmQuX25leHRDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnByZXZpb3VzVmFsdWUgPSByZWNvcmQuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChyZWNvcmQgPSB0aGlzLl9hZGRpdGlvbnNIZWFkOyByZWNvcmQgIT0gbnVsbDsgcmVjb3JkID0gcmVjb3JkLl9uZXh0QWRkZWQpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQucHJldmlvdXNWYWx1ZSA9IHJlY29yZC5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzSGVhZCA9IHRoaXMuX2NoYW5nZXNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92YWxzSGVhZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEFkZCB0aGUgcmVjb3JkIG9yIGEgZ2l2ZW4ga2V5IHRvIHRoZSBsaXN0IG9mIGNoYW5nZXMgb25seSB3aGVuIHRoZSB2YWx1ZSBoYXMgYWN0dWFsbHkgY2hhbmdlZFxuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuX21heWJlQWRkVG9DaGFuZ2VzID0gZnVuY3Rpb24gKHJlY29yZCwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKCFsb29zZUlkZW50aWNhbChuZXdWYWx1ZSwgcmVjb3JkLmN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJlY29yZC5wcmV2aW91c1ZhbHVlID0gcmVjb3JkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIHJlY29yZC5jdXJyZW50VmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvQ2hhbmdlcyhyZWNvcmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWZhdWx0S2V5VmFsdWVEaWZmZXIucHJvdG90eXBlLl9hZGRUb0FkZGl0aW9ucyA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FkZGl0aW9uc0hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZGl0aW9uc0hlYWQgPSB0aGlzLl9hZGRpdGlvbnNUYWlsID0gcmVjb3JkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbC5fbmV4dEFkZGVkID0gcmVjb3JkO1xuICAgICAgICAgICAgdGhpcy5fYWRkaXRpb25zVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVmYXVsdEtleVZhbHVlRGlmZmVyLnByb3RvdHlwZS5fYWRkVG9DaGFuZ2VzID0gZnVuY3Rpb24gKHJlY29yZCkge1xuICAgICAgICBpZiAodGhpcy5fY2hhbmdlc0hlYWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZXNIZWFkID0gdGhpcy5fY2hhbmdlc1RhaWwgPSByZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbC5fbmV4dENoYW5nZWQgPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VzVGFpbCA9IHJlY29yZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIERlZmF1bHRLZXlWYWx1ZURpZmZlci5wcm90b3R5cGUuX2ZvckVhY2ggPSBmdW5jdGlvbiAob2JqLCBmbikge1xuICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICBvYmouZm9yRWFjaChmbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGspIHsgcmV0dXJuIGZuKG9ialtrXSwgayk7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVmYXVsdEtleVZhbHVlRGlmZmVyO1xufSgpKTtcbnZhciBLZXlWYWx1ZUNoYW5nZVJlY29yZF8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gS2V5VmFsdWVDaGFuZ2VSZWNvcmRfKGtleSkge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBudWxsO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuX25leHRQcmV2aW91cyA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fcHJldiA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dEFkZGVkID0gbnVsbDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9uZXh0UmVtb3ZlZCA9IG51bGw7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5fbmV4dENoYW5nZWQgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gS2V5VmFsdWVDaGFuZ2VSZWNvcmRfO1xufSgpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHJlcG9zaXRvcnkgb2YgZGlmZmVyZW50IGl0ZXJhYmxlIGRpZmZpbmcgc3RyYXRlZ2llcyB1c2VkIGJ5IE5nRm9yLCBOZ0NsYXNzLCBhbmQgb3RoZXJzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEl0ZXJhYmxlRGlmZmVycyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJdGVyYWJsZURpZmZlcnMoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICBJdGVyYWJsZURpZmZlcnMuY3JlYXRlID0gZnVuY3Rpb24gKGZhY3RvcmllcywgcGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGNvcGllZCA9IHBhcmVudC5mYWN0b3JpZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIGZhY3RvcmllcyA9IGZhY3Rvcmllcy5jb25jYXQoY29waWVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhYmxlRGlmZmVycyhmYWN0b3JpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGFrZXMgYW4gYXJyYXkgb2Yge0BsaW5rIEl0ZXJhYmxlRGlmZmVyRmFjdG9yeX0gYW5kIHJldHVybnMgYSBwcm92aWRlciB1c2VkIHRvIGV4dGVuZCB0aGVcbiAgICAgKiBpbmhlcml0ZWQge0BsaW5rIEl0ZXJhYmxlRGlmZmVyc30gaW5zdGFuY2Ugd2l0aCB0aGUgcHJvdmlkZWQgZmFjdG9yaWVzIGFuZCByZXR1cm4gYSBuZXdcbiAgICAgKiB7QGxpbmsgSXRlcmFibGVEaWZmZXJzfSBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEB1c2FnZU5vdGVzXG4gICAgICogIyMjIEV4YW1wbGVcbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gZXh0ZW5kIGFuIGV4aXN0aW5nIGxpc3Qgb2YgZmFjdG9yaWVzLFxuICAgICAqIHdoaWNoIHdpbGwgb25seSBiZSBhcHBsaWVkIHRvIHRoZSBpbmplY3RvciBmb3IgdGhpcyBjb21wb25lbnQgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICAgKiBUaGlzIHN0ZXAgaXMgYWxsIHRoYXQncyByZXF1aXJlZCB0byBtYWtlIGEgbmV3IHtAbGluayBJdGVyYWJsZURpZmZlcn0gYXZhaWxhYmxlLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogQENvbXBvbmVudCh7XG4gICAgICogICB2aWV3UHJvdmlkZXJzOiBbXG4gICAgICogICAgIEl0ZXJhYmxlRGlmZmVycy5leHRlbmQoW25ldyBJbW11dGFibGVMaXN0RGlmZmVyKCldKVxuICAgICAqICAgXVxuICAgICAqIH0pXG4gICAgICogYGBgXG4gICAgICovXG4gICAgSXRlcmFibGVEaWZmZXJzLmV4dGVuZCA9IGZ1bmN0aW9uIChmYWN0b3JpZXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IEl0ZXJhYmxlRGlmZmVycyxcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUeXBpY2FsbHkgd291bGQgb2NjdXIgd2hlbiBjYWxsaW5nIEl0ZXJhYmxlRGlmZmVycy5leHRlbmQgaW5zaWRlIG9mIGRlcGVuZGVuY2llcyBwYXNzZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gYm9vdHN0cmFwKCksIHdoaWNoIHdvdWxkIG92ZXJyaWRlIGRlZmF1bHQgcGlwZXMgaW5zdGVhZCBvZiBleHRlbmRpbmcgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZXh0ZW5kIEl0ZXJhYmxlRGlmZmVycyB3aXRob3V0IGEgcGFyZW50IGluamVjdG9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBJdGVyYWJsZURpZmZlcnMuY3JlYXRlKGZhY3RvcmllcywgcGFyZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZXBlbmRlbmN5IHRlY2huaWNhbGx5IGlzbid0IG9wdGlvbmFsLCBidXQgd2UgY2FuIHByb3ZpZGUgYSBiZXR0ZXIgZXJyb3IgbWVzc2FnZSB0aGlzIHdheS5cbiAgICAgICAgICAgIGRlcHM6IFtbSXRlcmFibGVEaWZmZXJzLCBuZXcgU2tpcFNlbGYoKSwgbmV3IE9wdGlvbmFsKCldXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgSXRlcmFibGVEaWZmZXJzLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgICAgIHZhciBmYWN0b3J5ID0gdGhpcy5mYWN0b3JpZXMuZmluZChmdW5jdGlvbiAoZikgeyByZXR1cm4gZi5zdXBwb3J0cyhpdGVyYWJsZSk7IH0pO1xuICAgICAgICBpZiAoZmFjdG9yeSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIGEgZGlmZmVyIHN1cHBvcnRpbmcgb2JqZWN0ICdcIiArIGl0ZXJhYmxlICsgXCInIG9mIHR5cGUgJ1wiICsgZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcoaXRlcmFibGUpICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBJdGVyYWJsZURpZmZlcnMubmdJbmplY3RhYmxlRGVmID0gZGVmaW5lSW5qZWN0YWJsZSh7XG4gICAgICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEl0ZXJhYmxlRGlmZmVycyhbbmV3IERlZmF1bHRJdGVyYWJsZURpZmZlckZhY3RvcnkoKV0pOyB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEl0ZXJhYmxlRGlmZmVycztcbn0oKSk7XG5mdW5jdGlvbiBnZXRUeXBlTmFtZUZvckRlYnVnZ2luZyh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVbJ25hbWUnXSB8fCB0eXBlb2YgdHlwZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIHJlcG9zaXRvcnkgb2YgZGlmZmVyZW50IE1hcCBkaWZmaW5nIHN0cmF0ZWdpZXMgdXNlZCBieSBOZ0NsYXNzLCBOZ1N0eWxlLCBhbmQgb3RoZXJzLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEtleVZhbHVlRGlmZmVycyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBLZXlWYWx1ZURpZmZlcnMoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICBLZXlWYWx1ZURpZmZlcnMuY3JlYXRlID0gZnVuY3Rpb24gKGZhY3RvcmllcywgcGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHZhciBjb3BpZWQgPSBwYXJlbnQuZmFjdG9yaWVzLnNsaWNlKCk7XG4gICAgICAgICAgICBmYWN0b3JpZXMgPSBmYWN0b3JpZXMuY29uY2F0KGNvcGllZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBLZXlWYWx1ZURpZmZlcnMoZmFjdG9yaWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRha2VzIGFuIGFycmF5IG9mIHtAbGluayBLZXlWYWx1ZURpZmZlckZhY3Rvcnl9IGFuZCByZXR1cm5zIGEgcHJvdmlkZXIgdXNlZCB0byBleHRlbmQgdGhlXG4gICAgICogaW5oZXJpdGVkIHtAbGluayBLZXlWYWx1ZURpZmZlcnN9IGluc3RhbmNlIHdpdGggdGhlIHByb3ZpZGVkIGZhY3RvcmllcyBhbmQgcmV0dXJuIGEgbmV3XG4gICAgICoge0BsaW5rIEtleVZhbHVlRGlmZmVyc30gaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAdXNhZ2VOb3Rlc1xuICAgICAqICMjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGV4dGVuZCBhbiBleGlzdGluZyBsaXN0IG9mIGZhY3RvcmllcyxcbiAgICAgKiB3aGljaCB3aWxsIG9ubHkgYmUgYXBwbGllZCB0byB0aGUgaW5qZWN0b3IgZm9yIHRoaXMgY29tcG9uZW50IGFuZCBpdHMgY2hpbGRyZW4uXG4gICAgICogVGhpcyBzdGVwIGlzIGFsbCB0aGF0J3MgcmVxdWlyZWQgdG8gbWFrZSBhIG5ldyB7QGxpbmsgS2V5VmFsdWVEaWZmZXJ9IGF2YWlsYWJsZS5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIEBDb21wb25lbnQoe1xuICAgICAqICAgdmlld1Byb3ZpZGVyczogW1xuICAgICAqICAgICBLZXlWYWx1ZURpZmZlcnMuZXh0ZW5kKFtuZXcgSW1tdXRhYmxlTWFwRGlmZmVyKCldKVxuICAgICAqICAgXVxuICAgICAqIH0pXG4gICAgICogYGBgXG4gICAgICovXG4gICAgS2V5VmFsdWVEaWZmZXJzLmV4dGVuZCA9IGZ1bmN0aW9uIChmYWN0b3JpZXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IEtleVZhbHVlRGlmZmVycyxcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUeXBpY2FsbHkgd291bGQgb2NjdXIgd2hlbiBjYWxsaW5nIEtleVZhbHVlRGlmZmVycy5leHRlbmQgaW5zaWRlIG9mIGRlcGVuZGVuY2llcyBwYXNzZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYm9vdHN0cmFwKCksIHdoaWNoIHdvdWxkIG92ZXJyaWRlIGRlZmF1bHQgcGlwZXMgaW5zdGVhZCBvZiBleHRlbmRpbmcgdGhlbS5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZXh0ZW5kIEtleVZhbHVlRGlmZmVycyB3aXRob3V0IGEgcGFyZW50IGluamVjdG9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBLZXlWYWx1ZURpZmZlcnMuY3JlYXRlKGZhY3RvcmllcywgcGFyZW50KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBEZXBlbmRlbmN5IHRlY2huaWNhbGx5IGlzbid0IG9wdGlvbmFsLCBidXQgd2UgY2FuIHByb3ZpZGUgYSBiZXR0ZXIgZXJyb3IgbWVzc2FnZSB0aGlzIHdheS5cbiAgICAgICAgICAgIGRlcHM6IFtbS2V5VmFsdWVEaWZmZXJzLCBuZXcgU2tpcFNlbGYoKSwgbmV3IE9wdGlvbmFsKCldXVxuICAgICAgICB9O1xuICAgIH07XG4gICAgS2V5VmFsdWVEaWZmZXJzLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGt2KSB7XG4gICAgICAgIHZhciBmYWN0b3J5ID0gdGhpcy5mYWN0b3JpZXMuZmluZChmdW5jdGlvbiAoZikgeyByZXR1cm4gZi5zdXBwb3J0cyhrdik7IH0pO1xuICAgICAgICBpZiAoZmFjdG9yeSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgYSBkaWZmZXIgc3VwcG9ydGluZyBvYmplY3QgJ1wiICsga3YgKyBcIidcIik7XG4gICAgfTtcbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBLZXlWYWx1ZURpZmZlcnMubmdJbmplY3RhYmxlRGVmID0gZGVmaW5lSW5qZWN0YWJsZSh7XG4gICAgICAgIHByb3ZpZGVkSW46ICdyb290JyxcbiAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEtleVZhbHVlRGlmZmVycyhbbmV3IERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkoKV0pOyB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEtleVZhbHVlRGlmZmVycztcbn0oKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogU3RydWN0dXJhbCBkaWZmaW5nIGZvciBgT2JqZWN0YHMgYW5kIGBNYXBgcy5cbiAqL1xudmFyIGtleVZhbERpZmYgPSBbbmV3IERlZmF1bHRLZXlWYWx1ZURpZmZlckZhY3RvcnkoKV07XG4vKipcbiAqIFN0cnVjdHVyYWwgZGlmZmluZyBmb3IgYEl0ZXJhYmxlYCB0eXBlcyBzdWNoIGFzIGBBcnJheWBzLlxuICovXG52YXIgaXRlcmFibGVEaWZmID0gW25ldyBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5KCldO1xudmFyIGRlZmF1bHRJdGVyYWJsZURpZmZlcnMgPSBuZXcgSXRlcmFibGVEaWZmZXJzKGl0ZXJhYmxlRGlmZik7XG52YXIgZGVmYXVsdEtleVZhbHVlRGlmZmVycyA9IG5ldyBLZXlWYWx1ZURpZmZlcnMoa2V5VmFsRGlmZik7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIF9DT1JFX1BMQVRGT1JNX1BST1ZJREVSUyA9IFtcbiAgICAvLyBTZXQgYSBkZWZhdWx0IHBsYXRmb3JtIG5hbWUgZm9yIHBsYXRmb3JtcyB0aGF0IGRvbid0IHNldCBpdCBleHBsaWNpdGx5LlxuICAgIHsgcHJvdmlkZTogUExBVEZPUk1fSUQsIHVzZVZhbHVlOiAndW5rbm93bicgfSxcbiAgICB7IHByb3ZpZGU6IFBsYXRmb3JtUmVmLCBkZXBzOiBbSW5qZWN0b3JdIH0sXG4gICAgeyBwcm92aWRlOiBUZXN0YWJpbGl0eVJlZ2lzdHJ5LCBkZXBzOiBbXSB9LFxuICAgIHsgcHJvdmlkZTogQ29uc29sZSwgZGVwczogW10gfSxcbl07XG4vKipcbiAqIFRoaXMgcGxhdGZvcm0gaGFzIHRvIGJlIGluY2x1ZGVkIGluIGFueSBvdGhlciBwbGF0Zm9ybVxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIHBsYXRmb3JtQ29yZSA9IGNyZWF0ZVBsYXRmb3JtRmFjdG9yeShudWxsLCAnY29yZScsIF9DT1JFX1BMQVRGT1JNX1BST1ZJREVSUyk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogUHJvdmlkZSB0aGlzIHRva2VuIHRvIHNldCB0aGUgbG9jYWxlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gKiBJdCBpcyB1c2VkIGZvciBpMThuIGV4dHJhY3Rpb24sIGJ5IGkxOG4gcGlwZXMgKERhdGVQaXBlLCBJMThuUGx1cmFsUGlwZSwgQ3VycmVuY3lQaXBlLFxuICogRGVjaW1hbFBpcGUgYW5kIFBlcmNlbnRQaXBlKSBhbmQgYnkgSUNVIGV4cHJlc3Npb25zLlxuICpcbiAqIFNlZSB0aGUgW2kxOG4gZ3VpZGVdKGd1aWRlL2kxOG4jc2V0dGluZy11cC1sb2NhbGUpIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IExPQ0FMRV9JRCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XG4gKiBpbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2FwcC9hcHAubW9kdWxlJztcbiAqXG4gKiBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSwge1xuICogICBwcm92aWRlcnM6IFt7cHJvdmlkZTogTE9DQUxFX0lELCB1c2VWYWx1ZTogJ2VuLVVTJyB9XVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBMT0NBTEVfSUQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ0xvY2FsZUlkJyk7XG4vKipcbiAqIFVzZSB0aGlzIHRva2VuIGF0IGJvb3RzdHJhcCB0byBwcm92aWRlIHRoZSBjb250ZW50IG9mIHlvdXIgdHJhbnNsYXRpb24gZmlsZSAoYHh0YmAsXG4gKiBgeGxmYCBvciBgeGxmMmApIHdoZW4geW91IHdhbnQgdG8gdHJhbnNsYXRlIHlvdXIgYXBwbGljYXRpb24gaW4gYW5vdGhlciBsYW5ndWFnZS5cbiAqXG4gKiBTZWUgdGhlIFtpMThuIGd1aWRlXShndWlkZS9pMThuI21lcmdlKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogIyMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBUUkFOU0xBVElPTlMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7IHBsYXRmb3JtQnJvd3NlckR5bmFtaWMgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnO1xuICogaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAvYXBwLm1vZHVsZSc7XG4gKlxuICogLy8gY29udGVudCBvZiB5b3VyIHRyYW5zbGF0aW9uIGZpbGVcbiAqIGNvbnN0IHRyYW5zbGF0aW9ucyA9ICcuLi4uJztcbiAqXG4gKiBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSwge1xuICogICBwcm92aWRlcnM6IFt7cHJvdmlkZTogVFJBTlNMQVRJT05TLCB1c2VWYWx1ZTogdHJhbnNsYXRpb25zIH1dXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFRSQU5TTEFUSU9OUyA9IG5ldyBJbmplY3Rpb25Ub2tlbignVHJhbnNsYXRpb25zJyk7XG4vKipcbiAqIFByb3ZpZGUgdGhpcyB0b2tlbiBhdCBib290c3RyYXAgdG8gc2V0IHRoZSBmb3JtYXQgb2YgeW91ciB7QGxpbmsgVFJBTlNMQVRJT05TfTogYHh0YmAsXG4gKiBgeGxmYCBvciBgeGxmMmAuXG4gKlxuICogU2VlIHRoZSBbaTE4biBndWlkZV0oZ3VpZGUvaTE4biNtZXJnZSkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogQHVzYWdlTm90ZXNcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgVFJBTlNMQVRJT05TX0ZPUk1BVCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuICogaW1wb3J0IHsgcGxhdGZvcm1Ccm93c2VyRHluYW1pYyB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYyc7XG4gKiBpbXBvcnQgeyBBcHBNb2R1bGUgfSBmcm9tICcuL2FwcC9hcHAubW9kdWxlJztcbiAqXG4gKiBwbGF0Zm9ybUJyb3dzZXJEeW5hbWljKCkuYm9vdHN0cmFwTW9kdWxlKEFwcE1vZHVsZSwge1xuICogICBwcm92aWRlcnM6IFt7cHJvdmlkZTogVFJBTlNMQVRJT05TX0ZPUk1BVCwgdXNlVmFsdWU6ICd4bGYnIH1dXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIFRSQU5TTEFUSU9OU19GT1JNQVQgPSBuZXcgSW5qZWN0aW9uVG9rZW4oJ1RyYW5zbGF0aW9uc0Zvcm1hdCcpO1xuLyoqXG4gKiBVc2UgdGhpcyBlbnVtIGF0IGJvb3RzdHJhcCBhcyBhbiBvcHRpb24gb2YgYGJvb3RzdHJhcE1vZHVsZWAgdG8gZGVmaW5lIHRoZSBzdHJhdGVneVxuICogdGhhdCB0aGUgY29tcGlsZXIgc2hvdWxkIHVzZSBpbiBjYXNlIG9mIG1pc3NpbmcgdHJhbnNsYXRpb25zOlxuICogLSBFcnJvcjogdGhyb3cgaWYgeW91IGhhdmUgbWlzc2luZyB0cmFuc2xhdGlvbnMuXG4gKiAtIFdhcm5pbmcgKGRlZmF1bHQpOiBzaG93IGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBhbmQvb3Igc2hlbGwuXG4gKiAtIElnbm9yZTogZG8gbm90aGluZy5cbiAqXG4gKiBTZWUgdGhlIFtpMThuIGd1aWRlXShndWlkZS9pMThuI21pc3NpbmctdHJhbnNsYXRpb24pIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKiAjIyMgRXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogaW1wb3J0IHsgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbiAqIGltcG9ydCB7IHBsYXRmb3JtQnJvd3NlckR5bmFtaWMgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyLWR5bmFtaWMnO1xuICogaW1wb3J0IHsgQXBwTW9kdWxlIH0gZnJvbSAnLi9hcHAvYXBwLm1vZHVsZSc7XG4gKlxuICogcGxhdGZvcm1Ccm93c2VyRHluYW1pYygpLmJvb3RzdHJhcE1vZHVsZShBcHBNb2R1bGUsIHtcbiAqICAgbWlzc2luZ1RyYW5zbGF0aW9uOiBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneS5FcnJvclxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljQXBpXG4gKi9cbnZhciBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneTtcbihmdW5jdGlvbiAoTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3kpIHtcbiAgICBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtcIkVycm9yXCJdID0gMF0gPSBcIkVycm9yXCI7XG4gICAgTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbTWlzc2luZ1RyYW5zbGF0aW9uU3RyYXRlZ3lbXCJXYXJuaW5nXCJdID0gMV0gPSBcIldhcm5pbmdcIjtcbiAgICBNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneVtcIklnbm9yZVwiXSA9IDJdID0gXCJJZ25vcmVcIjtcbn0pKE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5IHx8IChNaXNzaW5nVHJhbnNsYXRpb25TdHJhdGVneSA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIF9pdGVyYWJsZURpZmZlcnNGYWN0b3J5KCkge1xuICAgIHJldHVybiBkZWZhdWx0SXRlcmFibGVEaWZmZXJzO1xufVxuZnVuY3Rpb24gX2tleVZhbHVlRGlmZmVyc0ZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRLZXlWYWx1ZURpZmZlcnM7XG59XG5mdW5jdGlvbiBfbG9jYWxlRmFjdG9yeShsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlIHx8ICdlbi1VUyc7XG59XG4vKipcbiAqIEEgYnVpbHQtaW4gW2RlcGVuZGVuY3kgaW5qZWN0aW9uIHRva2VuXShndWlkZS9nbG9zc2FyeSNkaS10b2tlbilcbiAqIHRoYXQgaXMgdXNlZCB0byBjb25maWd1cmUgdGhlIHJvb3QgaW5qZWN0b3IgZm9yIGJvb3RzdHJhcHBpbmcuXG4gKi9cbnZhciBBUFBMSUNBVElPTl9NT0RVTEVfUFJPVklERVJTID0gW1xuICAgIHtcbiAgICAgICAgcHJvdmlkZTogQXBwbGljYXRpb25SZWYsXG4gICAgICAgIHVzZUNsYXNzOiBBcHBsaWNhdGlvblJlZixcbiAgICAgICAgZGVwczogW05nWm9uZSwgQ29uc29sZSwgSW5qZWN0b3IsIEVycm9ySGFuZGxlciwgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBBcHBsaWNhdGlvbkluaXRTdGF0dXNdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHByb3ZpZGU6IEFwcGxpY2F0aW9uSW5pdFN0YXR1cyxcbiAgICAgICAgdXNlQ2xhc3M6IEFwcGxpY2F0aW9uSW5pdFN0YXR1cyxcbiAgICAgICAgZGVwczogW1tuZXcgT3B0aW9uYWwoKSwgQVBQX0lOSVRJQUxJWkVSXV1cbiAgICB9LFxuICAgIHsgcHJvdmlkZTogQ29tcGlsZXIsIHVzZUNsYXNzOiBDb21waWxlciwgZGVwczogW10gfSxcbiAgICBBUFBfSURfUkFORE9NX1BST1ZJREVSLFxuICAgIHsgcHJvdmlkZTogSXRlcmFibGVEaWZmZXJzLCB1c2VGYWN0b3J5OiBfaXRlcmFibGVEaWZmZXJzRmFjdG9yeSwgZGVwczogW10gfSxcbiAgICB7IHByb3ZpZGU6IEtleVZhbHVlRGlmZmVycywgdXNlRmFjdG9yeTogX2tleVZhbHVlRGlmZmVyc0ZhY3RvcnksIGRlcHM6IFtdIH0sXG4gICAge1xuICAgICAgICBwcm92aWRlOiBMT0NBTEVfSUQsXG4gICAgICAgIHVzZUZhY3Rvcnk6IF9sb2NhbGVGYWN0b3J5LFxuICAgICAgICBkZXBzOiBbW25ldyBJbmplY3QoTE9DQUxFX0lEKSwgbmV3IE9wdGlvbmFsKCksIG5ldyBTa2lwU2VsZigpXV1cbiAgICB9LFxuXTtcbi8qKlxuICogQ29uZmlndXJlcyB0aGUgcm9vdCBpbmplY3RvciBmb3IgYW4gYXBwIHdpdGhcbiAqIHByb3ZpZGVycyBvZiBgQGFuZ3VsYXIvY29yZWAgZGVwZW5kZW5jaWVzIHRoYXQgYEFwcGxpY2F0aW9uUmVmYCBuZWVkc1xuICogdG8gYm9vdHN0cmFwIGNvbXBvbmVudHMuXG4gKlxuICogUmUtZXhwb3J0ZWQgYnkgYEJyb3dzZXJNb2R1bGVgLCB3aGljaCBpcyBpbmNsdWRlZCBhdXRvbWF0aWNhbGx5IGluIHRoZSByb290XG4gKiBgQXBwTW9kdWxlYCB3aGVuIHlvdSBjcmVhdGUgYSBuZXcgYXBwIHdpdGggdGhlIENMSSBgbmV3YCBjb21tYW5kLlxuICpcbiAqIEBwdWJsaWNBcGlcbiAqL1xudmFyIEFwcGxpY2F0aW9uTW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8vIEluamVjdCBBcHBsaWNhdGlvblJlZiB0byBtYWtlIGl0IGVhZ2VyLi4uXG4gICAgZnVuY3Rpb24gQXBwbGljYXRpb25Nb2R1bGUoYXBwUmVmKSB7XG4gICAgfVxuICAgIEFwcGxpY2F0aW9uTW9kdWxlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIE5nTW9kdWxlKHsgcHJvdmlkZXJzOiBBUFBMSUNBVElPTl9NT0RVTEVfUFJPVklERVJTIH0pLFxuICAgICAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW0FwcGxpY2F0aW9uUmVmXSlcbiAgICBdLCBBcHBsaWNhdGlvbk1vZHVsZSk7XG4gICAgcmV0dXJuIEFwcGxpY2F0aW9uTW9kdWxlO1xufSgpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIFNXSVRDSF9JVllfRU5BQkxFRF9fUE9TVF9SM19fID0gdHJ1ZTtcbnZhciBTV0lUQ0hfSVZZX0VOQUJMRURfX1BSRV9SM19fID0gZmFsc2U7XG52YXIgaXZ5RW5hYmxlZCA9IFNXSVRDSF9JVllfRU5BQkxFRF9fUFJFX1IzX187XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIENhbGxlZCBiZWZvcmUgZWFjaCBjeWNsZSBvZiBhIHZpZXcncyBjaGVjayB0byBkZXRlY3Qgd2hldGhlciB0aGlzIGlzIGluIHRoZVxuLy8gaW5pdFN0YXRlIGZvciB3aGljaCB3ZSBuZWVkIHRvIGNhbGwgbmdPbkluaXQsIG5nQWZ0ZXJDb250ZW50SW5pdCBvciBuZ0FmdGVyVmlld0luaXRcbi8vIGxpZmVjeWNsZSBtZXRob2RzLiBSZXR1cm5zIHRydWUgaWYgdGhpcyBjaGVjayBjeWNsZSBzaG91bGQgY2FsbCBsaWZlY3ljbGVcbi8vIG1ldGhvZHMuXG5mdW5jdGlvbiBzaGlmdEluaXRTdGF0ZSh2aWV3LCBwcmlvckluaXRTdGF0ZSwgbmV3SW5pdFN0YXRlKSB7XG4gICAgLy8gT25seSB1cGRhdGUgdGhlIEluaXRTdGF0ZSBpZiB3ZSBhcmUgY3VycmVudGx5IGluIHRoZSBwcmlvciBzdGF0ZS5cbiAgICAvLyBGb3IgZXhhbXBsZSwgb25seSBtb3ZlIGludG8gQ2FsbGluZ0luaXQgaWYgd2UgYXJlIGluIEJlZm9yZUluaXQuIE9ubHlcbiAgICAvLyBtb3ZlIGludG8gQ2FsbGluZ0NvbnRlbnRJbml0IGlmIHdlIGFyZSBpbiBDYWxsaW5nSW5pdC4gTm9ybWFsbHkgdGhpcyB3aWxsXG4gICAgLy8gYWx3YXlzIGJlIHRydWUgYmVjYXVzZSBvZiBob3cgY2hlY2tDeWNsZSBpcyBjYWxsZWQgaW4gY2hlY2tBbmRVcGRhdGVWaWV3LlxuICAgIC8vIEhvd2V2ZXIsIGlmIGNoZWNrQW5kVXBkYXRlVmlldyBpcyBjYWxsZWQgcmVjdXJzaXZlbHkgb3IgaWYgYW4gZXhjZXB0aW9uIGlzXG4gICAgLy8gdGhyb3duIHdoaWxlIGNoZWNrQW5kVXBkYXRlVmlldyBpcyBydW5uaW5nLCBjaGVja0FuZFVwZGF0ZVZpZXcgc3RhcnRzIG92ZXJcbiAgICAvLyBmcm9tIHRoZSBiZWdpbm5pbmcuIFRoaXMgZW5zdXJlcyB0aGUgc3RhdGUgaXMgbW9ub3RvbmljYWxseSBpbmNyZWFzaW5nLFxuICAgIC8vIHRlcm1pbmF0aW5nIGluIHRoZSBBZnRlckluaXQgc3RhdGUsIHdoaWNoIGVuc3VyZXMgdGhlIEluaXQgbWV0aG9kcyBhcmUgY2FsbGVkXG4gICAgLy8gYXQgbGVhc3Qgb25jZSBhbmQgb25seSBvbmNlLlxuICAgIHZhciBzdGF0ZSA9IHZpZXcuc3RhdGU7XG4gICAgdmFyIGluaXRTdGF0ZSA9IHN0YXRlICYgMTc5MiAvKiBJbml0U3RhdGVfTWFzayAqLztcbiAgICBpZiAoaW5pdFN0YXRlID09PSBwcmlvckluaXRTdGF0ZSkge1xuICAgICAgICB2aWV3LnN0YXRlID0gKHN0YXRlICYgfjE3OTIgLyogSW5pdFN0YXRlX01hc2sgKi8pIHwgbmV3SW5pdFN0YXRlO1xuICAgICAgICB2aWV3LmluaXRJbmRleCA9IC0xO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGluaXRTdGF0ZSA9PT0gbmV3SW5pdFN0YXRlO1xufVxuLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBsaWZlY3ljbGUgaW5pdCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBmb3IgdGhlIG5vZGUgd2l0aFxuLy8gdGhlIGdpdmVuIGluaXQgaW5kZXguXG5mdW5jdGlvbiBzaG91bGRDYWxsTGlmZWN5Y2xlSW5pdEhvb2sodmlldywgaW5pdFN0YXRlLCBpbmRleCkge1xuICAgIGlmICgodmlldy5zdGF0ZSAmIDE3OTIgLyogSW5pdFN0YXRlX01hc2sgKi8pID09PSBpbml0U3RhdGUgJiYgdmlldy5pbml0SW5kZXggPD0gaW5kZXgpIHtcbiAgICAgICAgdmlldy5pbml0SW5kZXggPSBpbmRleCArIDE7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEFjY2Vzc29yIGZvciB2aWV3Lm5vZGVzLCBlbmZvcmNpbmcgdGhhdCBldmVyeSB1c2FnZSBzaXRlIHN0YXlzIG1vbm9tb3JwaGljLlxuICovXG5mdW5jdGlvbiBhc1RleHREYXRhKHZpZXcsIGluZGV4KSB7XG4gICAgcmV0dXJuIHZpZXcubm9kZXNbaW5kZXhdO1xufVxuLyoqXG4gKiBBY2Nlc3NvciBmb3Igdmlldy5ub2RlcywgZW5mb3JjaW5nIHRoYXQgZXZlcnkgdXNhZ2Ugc2l0ZSBzdGF5cyBtb25vbW9ycGhpYy5cbiAqL1xuZnVuY3Rpb24gYXNFbGVtZW50RGF0YSh2aWV3LCBpbmRleCkge1xuICAgIHJldHVybiB2aWV3Lm5vZGVzW2luZGV4XTtcbn1cbi8qKlxuICogQWNjZXNzb3IgZm9yIHZpZXcubm9kZXMsIGVuZm9yY2luZyB0aGF0IGV2ZXJ5IHVzYWdlIHNpdGUgc3RheXMgbW9ub21vcnBoaWMuXG4gKi9cbmZ1bmN0aW9uIGFzUHJvdmlkZXJEYXRhKHZpZXcsIGluZGV4KSB7XG4gICAgcmV0dXJuIHZpZXcubm9kZXNbaW5kZXhdO1xufVxuLyoqXG4gKiBBY2Nlc3NvciBmb3Igdmlldy5ub2RlcywgZW5mb3JjaW5nIHRoYXQgZXZlcnkgdXNhZ2Ugc2l0ZSBzdGF5cyBtb25vbW9ycGhpYy5cbiAqL1xuZnVuY3Rpb24gYXNQdXJlRXhwcmVzc2lvbkRhdGEodmlldywgaW5kZXgpIHtcbiAgICByZXR1cm4gdmlldy5ub2Rlc1tpbmRleF07XG59XG4vKipcbiAqIEFjY2Vzc29yIGZvciB2aWV3Lm5vZGVzLCBlbmZvcmNpbmcgdGhhdCBldmVyeSB1c2FnZSBzaXRlIHN0YXlzIG1vbm9tb3JwaGljLlxuICovXG5mdW5jdGlvbiBhc1F1ZXJ5TGlzdCh2aWV3LCBpbmRleCkge1xuICAgIHJldHVybiB2aWV3Lm5vZGVzW2luZGV4XTtcbn1cbnZhciBEZWJ1Z0NvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVidWdDb250ZXh0KCkge1xuICAgIH1cbiAgICByZXR1cm4gRGVidWdDb250ZXh0O1xufSgpKTtcbi8qKlxuICogVGhpcyBvYmplY3QgaXMgdXNlZCB0byBwcmV2ZW50IGN5Y2xlcyBpbiB0aGUgc291cmNlIGZpbGVzIGFuZCB0byBoYXZlIGEgcGxhY2Ugd2hlcmVcbiAqIGRlYnVnIG1vZGUgY2FuIGhvb2sgaXQuIEl0IGlzIGxhemlseSBmaWxsZWQgd2hlbiBgaXNEZXZNb2RlYCBpcyBrbm93bi5cbiAqL1xudmFyIFNlcnZpY2VzID0ge1xuICAgIHNldEN1cnJlbnROb2RlOiB1bmRlZmluZWQsXG4gICAgY3JlYXRlUm9vdFZpZXc6IHVuZGVmaW5lZCxcbiAgICBjcmVhdGVFbWJlZGRlZFZpZXc6IHVuZGVmaW5lZCxcbiAgICBjcmVhdGVDb21wb25lbnRWaWV3OiB1bmRlZmluZWQsXG4gICAgY3JlYXRlTmdNb2R1bGVSZWY6IHVuZGVmaW5lZCxcbiAgICBvdmVycmlkZVByb3ZpZGVyOiB1bmRlZmluZWQsXG4gICAgb3ZlcnJpZGVDb21wb25lbnRWaWV3OiB1bmRlZmluZWQsXG4gICAgY2xlYXJPdmVycmlkZXM6IHVuZGVmaW5lZCxcbiAgICBjaGVja0FuZFVwZGF0ZVZpZXc6IHVuZGVmaW5lZCxcbiAgICBjaGVja05vQ2hhbmdlc1ZpZXc6IHVuZGVmaW5lZCxcbiAgICBkZXN0cm95VmlldzogdW5kZWZpbmVkLFxuICAgIHJlc29sdmVEZXA6IHVuZGVmaW5lZCxcbiAgICBjcmVhdGVEZWJ1Z0NvbnRleHQ6IHVuZGVmaW5lZCxcbiAgICBoYW5kbGVFdmVudDogdW5kZWZpbmVkLFxuICAgIHVwZGF0ZURpcmVjdGl2ZXM6IHVuZGVmaW5lZCxcbiAgICB1cGRhdGVSZW5kZXJlcjogdW5kZWZpbmVkLFxuICAgIGRpcnR5UGFyZW50UXVlcmllczogdW5kZWZpbmVkLFxufTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFcnJvcihjb250ZXh0LCBvbGRWYWx1ZSwgY3VyclZhbHVlLCBpc0ZpcnN0Q2hlY2spIHtcbiAgICB2YXIgbXNnID0gXCJFeHByZXNzaW9uQ2hhbmdlZEFmdGVySXRIYXNCZWVuQ2hlY2tlZEVycm9yOiBFeHByZXNzaW9uIGhhcyBjaGFuZ2VkIGFmdGVyIGl0IHdhcyBjaGVja2VkLiBQcmV2aW91cyB2YWx1ZTogJ1wiICsgb2xkVmFsdWUgKyBcIicuIEN1cnJlbnQgdmFsdWU6ICdcIiArIGN1cnJWYWx1ZSArIFwiJy5cIjtcbiAgICBpZiAoaXNGaXJzdENoZWNrKSB7XG4gICAgICAgIG1zZyArPVxuICAgICAgICAgICAgXCIgSXQgc2VlbXMgbGlrZSB0aGUgdmlldyBoYXMgYmVlbiBjcmVhdGVkIGFmdGVyIGl0cyBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlbiBoYXZlIGJlZW4gZGlydHkgY2hlY2tlZC5cIiArXG4gICAgICAgICAgICAgICAgXCIgSGFzIGl0IGJlZW4gY3JlYXRlZCBpbiBhIGNoYW5nZSBkZXRlY3Rpb24gaG9vayA/XCI7XG4gICAgfVxuICAgIHJldHVybiB2aWV3RGVidWdFcnJvcihtc2csIGNvbnRleHQpO1xufVxuZnVuY3Rpb24gdmlld1dyYXBwZWREZWJ1Z0Vycm9yKGVyciwgY29udGV4dCkge1xuICAgIGlmICghKGVyciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAvLyBlcnJvcnMgdGhhdCBhcmUgbm90IEVycm9yIGluc3RhbmNlcyBkb24ndCBoYXZlIGEgc3RhY2ssXG4gICAgICAgIC8vIHNvIGl0IGlzIG9rIHRvIHdyYXAgdGhlbSBpbnRvIGEgbmV3IEVycm9yIG9iamVjdC4uLlxuICAgICAgICBlcnIgPSBuZXcgRXJyb3IoZXJyLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBfYWRkRGVidWdDb250ZXh0KGVyciwgY29udGV4dCk7XG4gICAgcmV0dXJuIGVycjtcbn1cbmZ1bmN0aW9uIHZpZXdEZWJ1Z0Vycm9yKG1zZywgY29udGV4dCkge1xuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IobXNnKTtcbiAgICBfYWRkRGVidWdDb250ZXh0KGVyciwgY29udGV4dCk7XG4gICAgcmV0dXJuIGVycjtcbn1cbmZ1bmN0aW9uIF9hZGREZWJ1Z0NvbnRleHQoZXJyLCBjb250ZXh0KSB7XG4gICAgZXJyW0VSUk9SX0RFQlVHX0NPTlRFWFRdID0gY29udGV4dDtcbiAgICBlcnJbRVJST1JfTE9HR0VSXSA9IGNvbnRleHQubG9nRXJyb3IuYmluZChjb250ZXh0KTtcbn1cbmZ1bmN0aW9uIGlzVmlld0RlYnVnRXJyb3IoZXJyKSB7XG4gICAgcmV0dXJuICEhZ2V0RGVidWdDb250ZXh0KGVycik7XG59XG5mdW5jdGlvbiB2aWV3RGVzdHJveWVkRXJyb3IoYWN0aW9uKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihcIlZpZXdEZXN0cm95ZWRFcnJvcjogQXR0ZW1wdCB0byB1c2UgYSBkZXN0cm95ZWQgdmlldzogXCIgKyBhY3Rpb24pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG52YXIgTk9PUCA9IGZ1bmN0aW9uICgpIHsgfTtcbnZhciBfdG9rZW5LZXlDYWNoZSA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHRva2VuS2V5KHRva2VuKSB7XG4gICAgdmFyIGtleSA9IF90b2tlbktleUNhY2hlLmdldCh0b2tlbik7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgICAga2V5ID0gc3RyaW5naWZ5KHRva2VuKSArICdfJyArIF90b2tlbktleUNhY2hlLnNpemU7XG4gICAgICAgIF90b2tlbktleUNhY2hlLnNldCh0b2tlbiwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbn1cbmZ1bmN0aW9uIHVud3JhcFZhbHVlJDEodmlldywgbm9kZUlkeCwgYmluZGluZ0lkeCwgdmFsdWUpIHtcbiAgICBpZiAoV3JhcHBlZFZhbHVlLmlzV3JhcHBlZCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSBXcmFwcGVkVmFsdWUudW53cmFwKHZhbHVlKTtcbiAgICAgICAgdmFyIGdsb2JhbEJpbmRpbmdJZHggPSB2aWV3LmRlZi5ub2Rlc1tub2RlSWR4XS5iaW5kaW5nSW5kZXggKyBiaW5kaW5nSWR4O1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSBXcmFwcGVkVmFsdWUudW53cmFwKHZpZXcub2xkVmFsdWVzW2dsb2JhbEJpbmRpbmdJZHhdKTtcbiAgICAgICAgdmlldy5vbGRWYWx1ZXNbZ2xvYmFsQmluZGluZ0lkeF0gPSBuZXcgV3JhcHBlZFZhbHVlKG9sZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxudmFyIFVOREVGSU5FRF9SRU5ERVJFUl9UWVBFX0lEID0gJyQkdW5kZWZpbmVkJztcbnZhciBFTVBUWV9SRU5ERVJFUl9UWVBFX0lEID0gJyQkZW1wdHknO1xuLy8gQXR0ZW50aW9uOiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBhcyB0b3AgbGV2ZWwgZnVuY3Rpb24uXG4vLyBQdXR0aW5nIGFueSBsb2dpYyBpbiBoZXJlIHdpbGwgZGVzdHJveSBjbG9zdXJlIHRyZWUgc2hha2luZyFcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyVHlwZTIodmFsdWVzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IFVOREVGSU5FRF9SRU5ERVJFUl9UWVBFX0lELFxuICAgICAgICBzdHlsZXM6IHZhbHVlcy5zdHlsZXMsXG4gICAgICAgIGVuY2Fwc3VsYXRpb246IHZhbHVlcy5lbmNhcHN1bGF0aW9uLFxuICAgICAgICBkYXRhOiB2YWx1ZXMuZGF0YVxuICAgIH07XG59XG52YXIgX3JlbmRlckNvbXBDb3VudCQxID0gMDtcbmZ1bmN0aW9uIHJlc29sdmVSZW5kZXJlclR5cGUyKHR5cGUpIHtcbiAgICBpZiAodHlwZSAmJiB0eXBlLmlkID09PSBVTkRFRklORURfUkVOREVSRVJfVFlQRV9JRCkge1xuICAgICAgICAvLyBmaXJzdCB0aW1lIHdlIHNlZSB0aGlzIFJlbmRlcmVyVHlwZTIuIEluaXRpYWxpemUgaXQuLi5cbiAgICAgICAgdmFyIGlzRmlsbGVkID0gKCh0eXBlLmVuY2Fwc3VsYXRpb24gIT0gbnVsbCAmJiB0eXBlLmVuY2Fwc3VsYXRpb24gIT09IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUpIHx8XG4gICAgICAgICAgICB0eXBlLnN0eWxlcy5sZW5ndGggfHwgT2JqZWN0LmtleXModHlwZS5kYXRhKS5sZW5ndGgpO1xuICAgICAgICBpZiAoaXNGaWxsZWQpIHtcbiAgICAgICAgICAgIHR5cGUuaWQgPSBcImNcIiArIF9yZW5kZXJDb21wQ291bnQkMSsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHlwZS5pZCA9IEVNUFRZX1JFTkRFUkVSX1RZUEVfSUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGUgJiYgdHlwZS5pZCA9PT0gRU1QVFlfUkVOREVSRVJfVFlQRV9JRCkge1xuICAgICAgICB0eXBlID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGUgfHwgbnVsbDtcbn1cbmZ1bmN0aW9uIGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIGJpbmRpbmdJZHgsIHZhbHVlKSB7XG4gICAgdmFyIG9sZFZhbHVlcyA9IHZpZXcub2xkVmFsdWVzO1xuICAgIGlmICgodmlldy5zdGF0ZSAmIDIgLyogRmlyc3RDaGVjayAqLykgfHxcbiAgICAgICAgIWxvb3NlSWRlbnRpY2FsKG9sZFZhbHVlc1tkZWYuYmluZGluZ0luZGV4ICsgYmluZGluZ0lkeF0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgYmluZGluZ0lkeCwgdmFsdWUpIHtcbiAgICBpZiAoY2hlY2tCaW5kaW5nKHZpZXcsIGRlZiwgYmluZGluZ0lkeCwgdmFsdWUpKSB7XG4gICAgICAgIHZpZXcub2xkVmFsdWVzW2RlZi5iaW5kaW5nSW5kZXggKyBiaW5kaW5nSWR4XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gY2hlY2tCaW5kaW5nTm9DaGFuZ2VzKHZpZXcsIGRlZiwgYmluZGluZ0lkeCwgdmFsdWUpIHtcbiAgICB2YXIgb2xkVmFsdWUgPSB2aWV3Lm9sZFZhbHVlc1tkZWYuYmluZGluZ0luZGV4ICsgYmluZGluZ0lkeF07XG4gICAgaWYgKCh2aWV3LnN0YXRlICYgMSAvKiBCZWZvcmVGaXJzdENoZWNrICovKSB8fCAhZGV2TW9kZUVxdWFsKG9sZFZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGJpbmRpbmdOYW1lID0gZGVmLmJpbmRpbmdzW2JpbmRpbmdJZHhdLm5hbWU7XG4gICAgICAgIHRocm93IGV4cHJlc3Npb25DaGFuZ2VkQWZ0ZXJJdEhhc0JlZW5DaGVja2VkRXJyb3IoU2VydmljZXMuY3JlYXRlRGVidWdDb250ZXh0KHZpZXcsIGRlZi5ub2RlSW5kZXgpLCBiaW5kaW5nTmFtZSArIFwiOiBcIiArIG9sZFZhbHVlLCBiaW5kaW5nTmFtZSArIFwiOiBcIiArIHZhbHVlLCAodmlldy5zdGF0ZSAmIDEgLyogQmVmb3JlRmlyc3RDaGVjayAqLykgIT09IDApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcmtQYXJlbnRWaWV3c0ZvckNoZWNrKHZpZXcpIHtcbiAgICB2YXIgY3VyclZpZXcgPSB2aWV3O1xuICAgIHdoaWxlIChjdXJyVmlldykge1xuICAgICAgICBpZiAoY3VyclZpZXcuZGVmLmZsYWdzICYgMiAvKiBPblB1c2ggKi8pIHtcbiAgICAgICAgICAgIGN1cnJWaWV3LnN0YXRlIHw9IDggLyogQ2hlY2tzRW5hYmxlZCAqLztcbiAgICAgICAgfVxuICAgICAgICBjdXJyVmlldyA9IGN1cnJWaWV3LnZpZXdDb250YWluZXJQYXJlbnQgfHwgY3VyclZpZXcucGFyZW50O1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcmtQYXJlbnRWaWV3c0ZvckNoZWNrUHJvamVjdGVkVmlld3ModmlldywgZW5kVmlldykge1xuICAgIHZhciBjdXJyVmlldyA9IHZpZXc7XG4gICAgd2hpbGUgKGN1cnJWaWV3ICYmIGN1cnJWaWV3ICE9PSBlbmRWaWV3KSB7XG4gICAgICAgIGN1cnJWaWV3LnN0YXRlIHw9IDY0IC8qIENoZWNrUHJvamVjdGVkVmlld3MgKi87XG4gICAgICAgIGN1cnJWaWV3ID0gY3VyclZpZXcudmlld0NvbnRhaW5lclBhcmVudCB8fCBjdXJyVmlldy5wYXJlbnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudCh2aWV3LCBub2RlSW5kZXgsIGV2ZW50TmFtZSwgZXZlbnQpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW25vZGVJbmRleF07XG4gICAgICAgIHZhciBzdGFydFZpZXcgPSBub2RlRGVmLmZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLyA/XG4gICAgICAgICAgICBhc0VsZW1lbnREYXRhKHZpZXcsIG5vZGVJbmRleCkuY29tcG9uZW50VmlldyA6XG4gICAgICAgICAgICB2aWV3O1xuICAgICAgICBtYXJrUGFyZW50Vmlld3NGb3JDaGVjayhzdGFydFZpZXcpO1xuICAgICAgICByZXR1cm4gU2VydmljZXMuaGFuZGxlRXZlbnQodmlldywgbm9kZUluZGV4LCBldmVudE5hbWUsIGV2ZW50KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gQXR0ZW50aW9uOiBEb24ndCByZXRocm93LCBhcyBpdCB3b3VsZCBjYW5jZWwgT2JzZXJ2YWJsZSBzdWJzY3JpcHRpb25zIVxuICAgICAgICB2aWV3LnJvb3QuZXJyb3JIYW5kbGVyLmhhbmRsZUVycm9yKGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlY2xhcmVkVmlld0NvbnRhaW5lcih2aWV3KSB7XG4gICAgaWYgKHZpZXcucGFyZW50KSB7XG4gICAgICAgIHZhciBwYXJlbnRWaWV3ID0gdmlldy5wYXJlbnQ7XG4gICAgICAgIHJldHVybiBhc0VsZW1lbnREYXRhKHBhcmVudFZpZXcsIHZpZXcucGFyZW50Tm9kZURlZi5ub2RlSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogZm9yIGNvbXBvbmVudCB2aWV3cywgdGhpcyBpcyB0aGUgaG9zdCBlbGVtZW50LlxuICogZm9yIGVtYmVkZGVkIHZpZXdzLCB0aGlzIGlzIHRoZSBpbmRleCBvZiB0aGUgcGFyZW50IG5vZGVcbiAqIHRoYXQgY29udGFpbnMgdGhlIHZpZXcgY29udGFpbmVyLlxuICovXG5mdW5jdGlvbiB2aWV3UGFyZW50RWwodmlldykge1xuICAgIHZhciBwYXJlbnRWaWV3ID0gdmlldy5wYXJlbnQ7XG4gICAgaWYgKHBhcmVudFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHZpZXcucGFyZW50Tm9kZURlZi5wYXJlbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiByZW5kZXJOb2RlKHZpZXcsIGRlZikge1xuICAgIHN3aXRjaCAoZGVmLmZsYWdzICYgMjAxMzQ3MDY3IC8qIFR5cGVzICovKSB7XG4gICAgICAgIGNhc2UgMSAvKiBUeXBlRWxlbWVudCAqLzpcbiAgICAgICAgICAgIHJldHVybiBhc0VsZW1lbnREYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQ7XG4gICAgICAgIGNhc2UgMiAvKiBUeXBlVGV4dCAqLzpcbiAgICAgICAgICAgIHJldHVybiBhc1RleHREYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpLnJlbmRlclRleHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gZWxlbWVudEV2ZW50RnVsbE5hbWUodGFyZ2V0LCBuYW1lKSB7XG4gICAgcmV0dXJuIHRhcmdldCA/IHRhcmdldCArIFwiOlwiICsgbmFtZSA6IG5hbWU7XG59XG5mdW5jdGlvbiBpc0NvbXBvbmVudFZpZXcodmlldykge1xuICAgIHJldHVybiAhIXZpZXcucGFyZW50ICYmICEhKHZpZXcucGFyZW50Tm9kZURlZi5mbGFncyAmIDMyNzY4IC8qIENvbXBvbmVudCAqLyk7XG59XG5mdW5jdGlvbiBpc0VtYmVkZGVkVmlldyh2aWV3KSB7XG4gICAgcmV0dXJuICEhdmlldy5wYXJlbnQgJiYgISh2aWV3LnBhcmVudE5vZGVEZWYuZmxhZ3MgJiAzMjc2OCAvKiBDb21wb25lbnQgKi8pO1xufVxuZnVuY3Rpb24gZmlsdGVyUXVlcnlJZChxdWVyeUlkKSB7XG4gICAgcmV0dXJuIDEgPDwgKHF1ZXJ5SWQgJSAzMik7XG59XG5mdW5jdGlvbiBzcGxpdE1hdGNoZWRRdWVyaWVzRHNsKG1hdGNoZWRRdWVyaWVzRHNsKSB7XG4gICAgdmFyIG1hdGNoZWRRdWVyaWVzID0ge307XG4gICAgdmFyIG1hdGNoZWRRdWVyeUlkcyA9IDA7XG4gICAgdmFyIHJlZmVyZW5jZXMgPSB7fTtcbiAgICBpZiAobWF0Y2hlZFF1ZXJpZXNEc2wpIHtcbiAgICAgICAgbWF0Y2hlZFF1ZXJpZXNEc2wuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMiksIHF1ZXJ5SWQgPSBfYlswXSwgdmFsdWVUeXBlID0gX2JbMV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5SWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZFF1ZXJpZXNbcXVlcnlJZF0gPSB2YWx1ZVR5cGU7XG4gICAgICAgICAgICAgICAgbWF0Y2hlZFF1ZXJ5SWRzIHw9IGZpbHRlclF1ZXJ5SWQocXVlcnlJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWZlcmVuY2VzW3F1ZXJ5SWRdID0gdmFsdWVUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWF0Y2hlZFF1ZXJpZXM6IG1hdGNoZWRRdWVyaWVzLCByZWZlcmVuY2VzOiByZWZlcmVuY2VzLCBtYXRjaGVkUXVlcnlJZHM6IG1hdGNoZWRRdWVyeUlkcyB9O1xufVxuZnVuY3Rpb24gc3BsaXREZXBzRHNsKGRlcHMsIHNvdXJjZU5hbWUpIHtcbiAgICByZXR1cm4gZGVwcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIHRva2VuO1xuICAgICAgICB2YXIgZmxhZ3M7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgX2EgPSBfX3JlYWQodmFsdWUsIDIpLCBmbGFncyA9IF9hWzBdLCB0b2tlbiA9IF9hWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmxhZ3MgPSAwIC8qIE5vbmUgKi87XG4gICAgICAgICAgICB0b2tlbiA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbiAmJiAodHlwZW9mIHRva2VuID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB0b2tlbiA9PT0gJ29iamVjdCcpICYmIHNvdXJjZU5hbWUpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0b2tlbiwgU09VUkNFLCB7IHZhbHVlOiBzb3VyY2VOYW1lLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZmxhZ3M6IGZsYWdzLCB0b2tlbjogdG9rZW4sIHRva2VuS2V5OiB0b2tlbktleSh0b2tlbikgfTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFBhcmVudFJlbmRlckVsZW1lbnQodmlldywgcmVuZGVySG9zdCwgZGVmKSB7XG4gICAgdmFyIHJlbmRlclBhcmVudCA9IGRlZi5yZW5kZXJQYXJlbnQ7XG4gICAgaWYgKHJlbmRlclBhcmVudCkge1xuICAgICAgICBpZiAoKHJlbmRlclBhcmVudC5mbGFncyAmIDEgLyogVHlwZUVsZW1lbnQgKi8pID09PSAwIHx8XG4gICAgICAgICAgICAocmVuZGVyUGFyZW50LmZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLykgPT09IDAgfHxcbiAgICAgICAgICAgIChyZW5kZXJQYXJlbnQuZWxlbWVudC5jb21wb25lbnRSZW5kZXJlclR5cGUgJiZcbiAgICAgICAgICAgICAgICByZW5kZXJQYXJlbnQuZWxlbWVudC5jb21wb25lbnRSZW5kZXJlclR5cGUuZW5jYXBzdWxhdGlvbiA9PT1cbiAgICAgICAgICAgICAgICAgICAgVmlld0VuY2Fwc3VsYXRpb24uTmF0aXZlKSkge1xuICAgICAgICAgICAgLy8gb25seSBjaGlsZHJlbiBvZiBub24gY29tcG9uZW50cywgb3IgY2hpbGRyZW4gb2YgY29tcG9uZW50cyB3aXRoIG5hdGl2ZSBlbmNhcHN1bGF0aW9uIHNob3VsZFxuICAgICAgICAgICAgLy8gYmUgYXR0YWNoZWQuXG4gICAgICAgICAgICByZXR1cm4gYXNFbGVtZW50RGF0YSh2aWV3LCBkZWYucmVuZGVyUGFyZW50Lm5vZGVJbmRleCkucmVuZGVyRWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckhvc3Q7XG4gICAgfVxufVxudmFyIERFRklOSVRJT05fQ0FDSEUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcmVzb2x2ZURlZmluaXRpb24oZmFjdG9yeSkge1xuICAgIHZhciB2YWx1ZSA9IERFRklOSVRJT05fQ0FDSEUuZ2V0KGZhY3RvcnkpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBmYWN0b3J5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIE5PT1A7IH0pO1xuICAgICAgICB2YWx1ZS5mYWN0b3J5ID0gZmFjdG9yeTtcbiAgICAgICAgREVGSU5JVElPTl9DQUNIRS5zZXQoZmFjdG9yeSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiByb290UmVuZGVyTm9kZXModmlldykge1xuICAgIHZhciByZW5kZXJOb2RlcyA9IFtdO1xuICAgIHZpc2l0Um9vdFJlbmRlck5vZGVzKHZpZXcsIDAgLyogQ29sbGVjdCAqLywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHJlbmRlck5vZGVzKTtcbiAgICByZXR1cm4gcmVuZGVyTm9kZXM7XG59XG5mdW5jdGlvbiB2aXNpdFJvb3RSZW5kZXJOb2Rlcyh2aWV3LCBhY3Rpb24sIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpIHtcbiAgICAvLyBXZSBuZWVkIHRvIHJlLWNvbXB1dGUgdGhlIHBhcmVudCBub2RlIGluIGNhc2UgdGhlIG5vZGVzIGhhdmUgYmVlbiBtb3ZlZCBhcm91bmQgbWFudWFsbHlcbiAgICBpZiAoYWN0aW9uID09PSAzIC8qIFJlbW92ZUNoaWxkICovKSB7XG4gICAgICAgIHBhcmVudE5vZGUgPSB2aWV3LnJlbmRlcmVyLnBhcmVudE5vZGUocmVuZGVyTm9kZSh2aWV3LCB2aWV3LmRlZi5sYXN0UmVuZGVyUm9vdE5vZGUpKTtcbiAgICB9XG4gICAgdmlzaXRTaWJsaW5nUmVuZGVyTm9kZXModmlldywgYWN0aW9uLCAwLCB2aWV3LmRlZi5ub2Rlcy5sZW5ndGggLSAxLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHZpc2l0U2libGluZ1JlbmRlck5vZGVzKHZpZXcsIGFjdGlvbiwgc3RhcnRJbmRleCwgZW5kSW5kZXgsIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8PSBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgIHZhciBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgKDEgLyogVHlwZUVsZW1lbnQgKi8gfCAyIC8qIFR5cGVUZXh0ICovIHwgOCAvKiBUeXBlTmdDb250ZW50ICovKSkge1xuICAgICAgICAgICAgdmlzaXRSZW5kZXJOb2RlKHZpZXcsIG5vZGVEZWYsIGFjdGlvbiwgcGFyZW50Tm9kZSwgbmV4dFNpYmxpbmcsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8ganVtcCB0byBuZXh0IHNpYmxpbmdcbiAgICAgICAgaSArPSBub2RlRGVmLmNoaWxkQ291bnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gdmlzaXRQcm9qZWN0ZWRSZW5kZXJOb2Rlcyh2aWV3LCBuZ0NvbnRlbnRJbmRleCwgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KSB7XG4gICAgdmFyIGNvbXBWaWV3ID0gdmlldztcbiAgICB3aGlsZSAoY29tcFZpZXcgJiYgIWlzQ29tcG9uZW50Vmlldyhjb21wVmlldykpIHtcbiAgICAgICAgY29tcFZpZXcgPSBjb21wVmlldy5wYXJlbnQ7XG4gICAgfVxuICAgIHZhciBob3N0VmlldyA9IGNvbXBWaWV3LnBhcmVudDtcbiAgICB2YXIgaG9zdEVsRGVmID0gdmlld1BhcmVudEVsKGNvbXBWaWV3KTtcbiAgICB2YXIgc3RhcnRJbmRleCA9IGhvc3RFbERlZi5ub2RlSW5kZXggKyAxO1xuICAgIHZhciBlbmRJbmRleCA9IGhvc3RFbERlZi5ub2RlSW5kZXggKyBob3N0RWxEZWYuY2hpbGRDb3VudDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8PSBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgIHZhciBub2RlRGVmID0gaG9zdFZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZURlZi5uZ0NvbnRlbnRJbmRleCA9PT0gbmdDb250ZW50SW5kZXgpIHtcbiAgICAgICAgICAgIHZpc2l0UmVuZGVyTm9kZShob3N0Vmlldywgbm9kZURlZiwgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBqdW1wIHRvIG5leHQgc2libGluZ1xuICAgICAgICBpICs9IG5vZGVEZWYuY2hpbGRDb3VudDtcbiAgICB9XG4gICAgaWYgKCFob3N0Vmlldy5wYXJlbnQpIHtcbiAgICAgICAgLy8gYSByb290IHZpZXdcbiAgICAgICAgdmFyIHByb2plY3RlZE5vZGVzID0gdmlldy5yb290LnByb2plY3RhYmxlTm9kZXNbbmdDb250ZW50SW5kZXhdO1xuICAgICAgICBpZiAocHJvamVjdGVkTm9kZXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvamVjdGVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBleGVjUmVuZGVyTm9kZUFjdGlvbih2aWV3LCBwcm9qZWN0ZWROb2Rlc1tpXSwgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHZpc2l0UmVuZGVyTm9kZSh2aWV3LCBub2RlRGVmLCBhY3Rpb24sIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpIHtcbiAgICBpZiAobm9kZURlZi5mbGFncyAmIDggLyogVHlwZU5nQ29udGVudCAqLykge1xuICAgICAgICB2aXNpdFByb2plY3RlZFJlbmRlck5vZGVzKHZpZXcsIG5vZGVEZWYubmdDb250ZW50LmluZGV4LCBhY3Rpb24sIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHJuID0gcmVuZGVyTm9kZSh2aWV3LCBub2RlRGVmKTtcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gMyAvKiBSZW1vdmVDaGlsZCAqLyAmJiAobm9kZURlZi5mbGFncyAmIDMzNTU0NDMyIC8qIENvbXBvbmVudFZpZXcgKi8pICYmXG4gICAgICAgICAgICAobm9kZURlZi5iaW5kaW5nRmxhZ3MgJiA0OCAvKiBDYXRTeW50aGV0aWNQcm9wZXJ0eSAqLykpIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IHdlIG1pZ2h0IG5lZWQgdG8gZG8gYm90aCBhY3Rpb25zLlxuICAgICAgICAgICAgaWYgKG5vZGVEZWYuYmluZGluZ0ZsYWdzICYgKDE2IC8qIFN5bnRoZXRpY1Byb3BlcnR5ICovKSkge1xuICAgICAgICAgICAgICAgIGV4ZWNSZW5kZXJOb2RlQWN0aW9uKHZpZXcsIHJuLCBhY3Rpb24sIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVEZWYuYmluZGluZ0ZsYWdzICYgKDMyIC8qIFN5bnRoZXRpY0hvc3RQcm9wZXJ0eSAqLykpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcFZpZXcgPSBhc0VsZW1lbnREYXRhKHZpZXcsIG5vZGVEZWYubm9kZUluZGV4KS5jb21wb25lbnRWaWV3O1xuICAgICAgICAgICAgICAgIGV4ZWNSZW5kZXJOb2RlQWN0aW9uKGNvbXBWaWV3LCBybiwgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV4ZWNSZW5kZXJOb2RlQWN0aW9uKHZpZXcsIHJuLCBhY3Rpb24sIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgMTY3NzcyMTYgLyogRW1iZWRkZWRWaWV3cyAqLykge1xuICAgICAgICAgICAgdmFyIGVtYmVkZGVkVmlld3MgPSBhc0VsZW1lbnREYXRhKHZpZXcsIG5vZGVEZWYubm9kZUluZGV4KS52aWV3Q29udGFpbmVyLl9lbWJlZGRlZFZpZXdzO1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBlbWJlZGRlZFZpZXdzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRSb290UmVuZGVyTm9kZXMoZW1iZWRkZWRWaWV3c1trXSwgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDEgLyogVHlwZUVsZW1lbnQgKi8gJiYgIW5vZGVEZWYuZWxlbWVudC5uYW1lKSB7XG4gICAgICAgICAgICB2aXNpdFNpYmxpbmdSZW5kZXJOb2Rlcyh2aWV3LCBhY3Rpb24sIG5vZGVEZWYubm9kZUluZGV4ICsgMSwgbm9kZURlZi5ub2RlSW5kZXggKyBub2RlRGVmLmNoaWxkQ291bnQsIHBhcmVudE5vZGUsIG5leHRTaWJsaW5nLCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZXhlY1JlbmRlck5vZGVBY3Rpb24odmlldywgcmVuZGVyTm9kZSwgYWN0aW9uLCBwYXJlbnROb2RlLCBuZXh0U2libGluZywgdGFyZ2V0KSB7XG4gICAgdmFyIHJlbmRlcmVyID0gdmlldy5yZW5kZXJlcjtcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICBjYXNlIDEgLyogQXBwZW5kQ2hpbGQgKi86XG4gICAgICAgICAgICByZW5kZXJlci5hcHBlbmRDaGlsZChwYXJlbnROb2RlLCByZW5kZXJOb2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIgLyogSW5zZXJ0QmVmb3JlICovOlxuICAgICAgICAgICAgcmVuZGVyZXIuaW5zZXJ0QmVmb3JlKHBhcmVudE5vZGUsIHJlbmRlck5vZGUsIG5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMgLyogUmVtb3ZlQ2hpbGQgKi86XG4gICAgICAgICAgICByZW5kZXJlci5yZW1vdmVDaGlsZChwYXJlbnROb2RlLCByZW5kZXJOb2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDAgLyogQ29sbGVjdCAqLzpcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKHJlbmRlck5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxudmFyIE5TX1BSRUZJWF9SRSA9IC9eOihbXjpdKyk6KC4rKSQvO1xuZnVuY3Rpb24gc3BsaXROYW1lc3BhY2UobmFtZSkge1xuICAgIGlmIChuYW1lWzBdID09PSAnOicpIHtcbiAgICAgICAgdmFyIG1hdGNoID0gbmFtZS5tYXRjaChOU19QUkVGSVhfUkUpO1xuICAgICAgICByZXR1cm4gW21hdGNoWzFdLCBtYXRjaFsyXV07XG4gICAgfVxuICAgIHJldHVybiBbJycsIG5hbWVdO1xufVxuZnVuY3Rpb24gY2FsY0JpbmRpbmdGbGFncyhiaW5kaW5ncykge1xuICAgIHZhciBmbGFncyA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmbGFncyB8PSBiaW5kaW5nc1tpXS5mbGFncztcbiAgICB9XG4gICAgcmV0dXJuIGZsYWdzO1xufVxuZnVuY3Rpb24gaW50ZXJwb2xhdGUodmFsdWVDb3VudCwgY29uc3RBbmRJbnRlcnApIHtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZUNvdW50ICogMjsgaSA9IGkgKyAyKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIGNvbnN0QW5kSW50ZXJwW2ldICsgX3RvU3RyaW5nV2l0aE51bGwoY29uc3RBbmRJbnRlcnBbaSArIDFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdCArIGNvbnN0QW5kSW50ZXJwW3ZhbHVlQ291bnQgKiAyXTtcbn1cbmZ1bmN0aW9uIGlubGluZUludGVycG9sYXRlKHZhbHVlQ291bnQsIGMwLCBhMSwgYzEsIGEyLCBjMiwgYTMsIGMzLCBhNCwgYzQsIGE1LCBjNSwgYTYsIGM2LCBhNywgYzcsIGE4LCBjOCwgYTksIGM5KSB7XG4gICAgc3dpdGNoICh2YWx1ZUNvdW50KSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBjMCArIF90b1N0cmluZ1dpdGhOdWxsKGExKSArIGMxO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMSArIF90b1N0cmluZ1dpdGhOdWxsKGEyKSArIGMyO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMSArIF90b1N0cmluZ1dpdGhOdWxsKGEyKSArIGMyICsgX3RvU3RyaW5nV2l0aE51bGwoYTMpICtcbiAgICAgICAgICAgICAgICBjMztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzEgKyBfdG9TdHJpbmdXaXRoTnVsbChhMikgKyBjMiArIF90b1N0cmluZ1dpdGhOdWxsKGEzKSArXG4gICAgICAgICAgICAgICAgYzMgKyBfdG9TdHJpbmdXaXRoTnVsbChhNCkgKyBjNDtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzEgKyBfdG9TdHJpbmdXaXRoTnVsbChhMikgKyBjMiArIF90b1N0cmluZ1dpdGhOdWxsKGEzKSArXG4gICAgICAgICAgICAgICAgYzMgKyBfdG9TdHJpbmdXaXRoTnVsbChhNCkgKyBjNCArIF90b1N0cmluZ1dpdGhOdWxsKGE1KSArIGM1O1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMSArIF90b1N0cmluZ1dpdGhOdWxsKGEyKSArIGMyICsgX3RvU3RyaW5nV2l0aE51bGwoYTMpICtcbiAgICAgICAgICAgICAgICBjMyArIF90b1N0cmluZ1dpdGhOdWxsKGE0KSArIGM0ICsgX3RvU3RyaW5nV2l0aE51bGwoYTUpICsgYzUgKyBfdG9TdHJpbmdXaXRoTnVsbChhNikgKyBjNjtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzEgKyBfdG9TdHJpbmdXaXRoTnVsbChhMikgKyBjMiArIF90b1N0cmluZ1dpdGhOdWxsKGEzKSArXG4gICAgICAgICAgICAgICAgYzMgKyBfdG9TdHJpbmdXaXRoTnVsbChhNCkgKyBjNCArIF90b1N0cmluZ1dpdGhOdWxsKGE1KSArIGM1ICsgX3RvU3RyaW5nV2l0aE51bGwoYTYpICtcbiAgICAgICAgICAgICAgICBjNiArIF90b1N0cmluZ1dpdGhOdWxsKGE3KSArIGM3O1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICByZXR1cm4gYzAgKyBfdG9TdHJpbmdXaXRoTnVsbChhMSkgKyBjMSArIF90b1N0cmluZ1dpdGhOdWxsKGEyKSArIGMyICsgX3RvU3RyaW5nV2l0aE51bGwoYTMpICtcbiAgICAgICAgICAgICAgICBjMyArIF90b1N0cmluZ1dpdGhOdWxsKGE0KSArIGM0ICsgX3RvU3RyaW5nV2l0aE51bGwoYTUpICsgYzUgKyBfdG9TdHJpbmdXaXRoTnVsbChhNikgK1xuICAgICAgICAgICAgICAgIGM2ICsgX3RvU3RyaW5nV2l0aE51bGwoYTcpICsgYzcgKyBfdG9TdHJpbmdXaXRoTnVsbChhOCkgKyBjODtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgcmV0dXJuIGMwICsgX3RvU3RyaW5nV2l0aE51bGwoYTEpICsgYzEgKyBfdG9TdHJpbmdXaXRoTnVsbChhMikgKyBjMiArIF90b1N0cmluZ1dpdGhOdWxsKGEzKSArXG4gICAgICAgICAgICAgICAgYzMgKyBfdG9TdHJpbmdXaXRoTnVsbChhNCkgKyBjNCArIF90b1N0cmluZ1dpdGhOdWxsKGE1KSArIGM1ICsgX3RvU3RyaW5nV2l0aE51bGwoYTYpICtcbiAgICAgICAgICAgICAgICBjNiArIF90b1N0cmluZ1dpdGhOdWxsKGE3KSArIGM3ICsgX3RvU3RyaW5nV2l0aE51bGwoYTgpICsgYzggKyBfdG9TdHJpbmdXaXRoTnVsbChhOSkgKyBjOTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvZXMgbm90IHN1cHBvcnQgbW9yZSB0aGFuIDkgZXhwcmVzc2lvbnNcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gX3RvU3RyaW5nV2l0aE51bGwodikge1xuICAgIHJldHVybiB2ICE9IG51bGwgPyB2LnRvU3RyaW5nKCkgOiAnJztcbn1cbnZhciBFTVBUWV9BUlJBWSQ0ID0gW107XG52YXIgRU1QVFlfTUFQID0ge307XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIGFuY2hvckRlZihmbGFncywgbWF0Y2hlZFF1ZXJpZXNEc2wsIG5nQ29udGVudEluZGV4LCBjaGlsZENvdW50LCBoYW5kbGVFdmVudCwgdGVtcGxhdGVGYWN0b3J5KSB7XG4gICAgZmxhZ3MgfD0gMSAvKiBUeXBlRWxlbWVudCAqLztcbiAgICB2YXIgX2EgPSBzcGxpdE1hdGNoZWRRdWVyaWVzRHNsKG1hdGNoZWRRdWVyaWVzRHNsKSwgbWF0Y2hlZFF1ZXJpZXMgPSBfYS5tYXRjaGVkUXVlcmllcywgcmVmZXJlbmNlcyA9IF9hLnJlZmVyZW5jZXMsIG1hdGNoZWRRdWVyeUlkcyA9IF9hLm1hdGNoZWRRdWVyeUlkcztcbiAgICB2YXIgdGVtcGxhdGUgPSB0ZW1wbGF0ZUZhY3RvcnkgPyByZXNvbHZlRGVmaW5pdGlvbih0ZW1wbGF0ZUZhY3RvcnkpIDogbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyB3aWxsIGJldCBzZXQgYnkgdGhlIHZpZXcgZGVmaW5pdGlvblxuICAgICAgICBub2RlSW5kZXg6IC0xLFxuICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgIHJlbmRlclBhcmVudDogbnVsbCxcbiAgICAgICAgYmluZGluZ0luZGV4OiAtMSxcbiAgICAgICAgb3V0cHV0SW5kZXg6IC0xLFxuICAgICAgICAvLyByZWd1bGFyIHZhbHVlc1xuICAgICAgICBmbGFnczogZmxhZ3MsXG4gICAgICAgIGNoZWNrSW5kZXg6IC0xLFxuICAgICAgICBjaGlsZEZsYWdzOiAwLFxuICAgICAgICBkaXJlY3RDaGlsZEZsYWdzOiAwLFxuICAgICAgICBjaGlsZE1hdGNoZWRRdWVyaWVzOiAwLCBtYXRjaGVkUXVlcmllczogbWF0Y2hlZFF1ZXJpZXMsIG1hdGNoZWRRdWVyeUlkczogbWF0Y2hlZFF1ZXJ5SWRzLCByZWZlcmVuY2VzOiByZWZlcmVuY2VzLCBuZ0NvbnRlbnRJbmRleDogbmdDb250ZW50SW5kZXgsIGNoaWxkQ291bnQ6IGNoaWxkQ291bnQsXG4gICAgICAgIGJpbmRpbmdzOiBbXSxcbiAgICAgICAgYmluZGluZ0ZsYWdzOiAwLFxuICAgICAgICBvdXRwdXRzOiBbXSxcbiAgICAgICAgZWxlbWVudDoge1xuICAgICAgICAgICAgbnM6IG51bGwsXG4gICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgYXR0cnM6IG51bGwsIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICAgICAgICAgIGNvbXBvbmVudFByb3ZpZGVyOiBudWxsLFxuICAgICAgICAgICAgY29tcG9uZW50VmlldzogbnVsbCxcbiAgICAgICAgICAgIGNvbXBvbmVudFJlbmRlcmVyVHlwZTogbnVsbCxcbiAgICAgICAgICAgIHB1YmxpY1Byb3ZpZGVyczogbnVsbCxcbiAgICAgICAgICAgIGFsbFByb3ZpZGVyczogbnVsbCxcbiAgICAgICAgICAgIGhhbmRsZUV2ZW50OiBoYW5kbGVFdmVudCB8fCBOT09QXG4gICAgICAgIH0sXG4gICAgICAgIHByb3ZpZGVyOiBudWxsLFxuICAgICAgICB0ZXh0OiBudWxsLFxuICAgICAgICBxdWVyeTogbnVsbCxcbiAgICAgICAgbmdDb250ZW50OiBudWxsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnREZWYoY2hlY2tJbmRleCwgZmxhZ3MsIG1hdGNoZWRRdWVyaWVzRHNsLCBuZ0NvbnRlbnRJbmRleCwgY2hpbGRDb3VudCwgbmFtZXNwYWNlQW5kTmFtZSwgZml4ZWRBdHRycywgYmluZGluZ3MsIG91dHB1dHMsIGhhbmRsZUV2ZW50LCBjb21wb25lbnRWaWV3LCBjb21wb25lbnRSZW5kZXJlclR5cGUpIHtcbiAgICBpZiAoZml4ZWRBdHRycyA9PT0gdm9pZCAwKSB7IGZpeGVkQXR0cnMgPSBbXTsgfVxuICAgIHZhciBfYTtcbiAgICBpZiAoIWhhbmRsZUV2ZW50KSB7XG4gICAgICAgIGhhbmRsZUV2ZW50ID0gTk9PUDtcbiAgICB9XG4gICAgdmFyIF9iID0gc3BsaXRNYXRjaGVkUXVlcmllc0RzbChtYXRjaGVkUXVlcmllc0RzbCksIG1hdGNoZWRRdWVyaWVzID0gX2IubWF0Y2hlZFF1ZXJpZXMsIHJlZmVyZW5jZXMgPSBfYi5yZWZlcmVuY2VzLCBtYXRjaGVkUXVlcnlJZHMgPSBfYi5tYXRjaGVkUXVlcnlJZHM7XG4gICAgdmFyIG5zID0gbnVsbDtcbiAgICB2YXIgbmFtZSA9IG51bGw7XG4gICAgaWYgKG5hbWVzcGFjZUFuZE5hbWUpIHtcbiAgICAgICAgX2EgPSBfX3JlYWQoc3BsaXROYW1lc3BhY2UobmFtZXNwYWNlQW5kTmFtZSksIDIpLCBucyA9IF9hWzBdLCBuYW1lID0gX2FbMV07XG4gICAgfVxuICAgIGJpbmRpbmdzID0gYmluZGluZ3MgfHwgW107XG4gICAgdmFyIGJpbmRpbmdEZWZzID0gbmV3IEFycmF5KGJpbmRpbmdzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgX2MgPSBfX3JlYWQoYmluZGluZ3NbaV0sIDMpLCBiaW5kaW5nRmxhZ3MgPSBfY1swXSwgbmFtZXNwYWNlQW5kTmFtZV8xID0gX2NbMV0sIHN1ZmZpeE9yU2VjdXJpdHlDb250ZXh0ID0gX2NbMl07XG4gICAgICAgIHZhciBfZCA9IF9fcmVhZChzcGxpdE5hbWVzcGFjZShuYW1lc3BhY2VBbmROYW1lXzEpLCAyKSwgbnNfMSA9IF9kWzBdLCBuYW1lXzEgPSBfZFsxXTtcbiAgICAgICAgdmFyIHNlY3VyaXR5Q29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHN1ZmZpeCA9IHVuZGVmaW5lZDtcbiAgICAgICAgc3dpdGNoIChiaW5kaW5nRmxhZ3MgJiAxNSAvKiBUeXBlcyAqLykge1xuICAgICAgICAgICAgY2FzZSA0IC8qIFR5cGVFbGVtZW50U3R5bGUgKi86XG4gICAgICAgICAgICAgICAgc3VmZml4ID0gc3VmZml4T3JTZWN1cml0eUNvbnRleHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEgLyogVHlwZUVsZW1lbnRBdHRyaWJ1dGUgKi86XG4gICAgICAgICAgICBjYXNlIDggLyogVHlwZVByb3BlcnR5ICovOlxuICAgICAgICAgICAgICAgIHNlY3VyaXR5Q29udGV4dCA9IHN1ZmZpeE9yU2VjdXJpdHlDb250ZXh0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGJpbmRpbmdEZWZzW2ldID1cbiAgICAgICAgICAgIHsgZmxhZ3M6IGJpbmRpbmdGbGFncywgbnM6IG5zXzEsIG5hbWU6IG5hbWVfMSwgbm9uTWluaWZpZWROYW1lOiBuYW1lXzEsIHNlY3VyaXR5Q29udGV4dDogc2VjdXJpdHlDb250ZXh0LCBzdWZmaXg6IHN1ZmZpeCB9O1xuICAgIH1cbiAgICBvdXRwdXRzID0gb3V0cHV0cyB8fCBbXTtcbiAgICB2YXIgb3V0cHV0RGVmcyA9IG5ldyBBcnJheShvdXRwdXRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdXRwdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBfZSA9IF9fcmVhZChvdXRwdXRzW2ldLCAyKSwgdGFyZ2V0ID0gX2VbMF0sIGV2ZW50TmFtZSA9IF9lWzFdO1xuICAgICAgICBvdXRwdXREZWZzW2ldID0ge1xuICAgICAgICAgICAgdHlwZTogMCAvKiBFbGVtZW50T3V0cHV0ICovLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsIGV2ZW50TmFtZTogZXZlbnROYW1lLFxuICAgICAgICAgICAgcHJvcE5hbWU6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZml4ZWRBdHRycyA9IGZpeGVkQXR0cnMgfHwgW107XG4gICAgdmFyIGF0dHJzID0gZml4ZWRBdHRycy5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMiksIG5hbWVzcGFjZUFuZE5hbWUgPSBfYlswXSwgdmFsdWUgPSBfYlsxXTtcbiAgICAgICAgdmFyIF9jID0gX19yZWFkKHNwbGl0TmFtZXNwYWNlKG5hbWVzcGFjZUFuZE5hbWUpLCAyKSwgbnMgPSBfY1swXSwgbmFtZSA9IF9jWzFdO1xuICAgICAgICByZXR1cm4gW25zLCBuYW1lLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgY29tcG9uZW50UmVuZGVyZXJUeXBlID0gcmVzb2x2ZVJlbmRlcmVyVHlwZTIoY29tcG9uZW50UmVuZGVyZXJUeXBlKTtcbiAgICBpZiAoY29tcG9uZW50Vmlldykge1xuICAgICAgICBmbGFncyB8PSAzMzU1NDQzMiAvKiBDb21wb25lbnRWaWV3ICovO1xuICAgIH1cbiAgICBmbGFncyB8PSAxIC8qIFR5cGVFbGVtZW50ICovO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHdpbGwgYmV0IHNldCBieSB0aGUgdmlldyBkZWZpbml0aW9uXG4gICAgICAgIG5vZGVJbmRleDogLTEsXG4gICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgcmVuZGVyUGFyZW50OiBudWxsLFxuICAgICAgICBiaW5kaW5nSW5kZXg6IC0xLFxuICAgICAgICBvdXRwdXRJbmRleDogLTEsXG4gICAgICAgIC8vIHJlZ3VsYXIgdmFsdWVzXG4gICAgICAgIGNoZWNrSW5kZXg6IGNoZWNrSW5kZXgsXG4gICAgICAgIGZsYWdzOiBmbGFncyxcbiAgICAgICAgY2hpbGRGbGFnczogMCxcbiAgICAgICAgZGlyZWN0Q2hpbGRGbGFnczogMCxcbiAgICAgICAgY2hpbGRNYXRjaGVkUXVlcmllczogMCwgbWF0Y2hlZFF1ZXJpZXM6IG1hdGNoZWRRdWVyaWVzLCBtYXRjaGVkUXVlcnlJZHM6IG1hdGNoZWRRdWVyeUlkcywgcmVmZXJlbmNlczogcmVmZXJlbmNlcywgbmdDb250ZW50SW5kZXg6IG5nQ29udGVudEluZGV4LCBjaGlsZENvdW50OiBjaGlsZENvdW50LFxuICAgICAgICBiaW5kaW5nczogYmluZGluZ0RlZnMsXG4gICAgICAgIGJpbmRpbmdGbGFnczogY2FsY0JpbmRpbmdGbGFncyhiaW5kaW5nRGVmcyksXG4gICAgICAgIG91dHB1dHM6IG91dHB1dERlZnMsXG4gICAgICAgIGVsZW1lbnQ6IHtcbiAgICAgICAgICAgIG5zOiBucyxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhdHRyczogYXR0cnMsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogbnVsbCxcbiAgICAgICAgICAgIC8vIHdpbGwgYmV0IHNldCBieSB0aGUgdmlldyBkZWZpbml0aW9uXG4gICAgICAgICAgICBjb21wb25lbnRQcm92aWRlcjogbnVsbCxcbiAgICAgICAgICAgIGNvbXBvbmVudFZpZXc6IGNvbXBvbmVudFZpZXcgfHwgbnVsbCxcbiAgICAgICAgICAgIGNvbXBvbmVudFJlbmRlcmVyVHlwZTogY29tcG9uZW50UmVuZGVyZXJUeXBlLFxuICAgICAgICAgICAgcHVibGljUHJvdmlkZXJzOiBudWxsLFxuICAgICAgICAgICAgYWxsUHJvdmlkZXJzOiBudWxsLFxuICAgICAgICAgICAgaGFuZGxlRXZlbnQ6IGhhbmRsZUV2ZW50IHx8IE5PT1AsXG4gICAgICAgIH0sXG4gICAgICAgIHByb3ZpZGVyOiBudWxsLFxuICAgICAgICB0ZXh0OiBudWxsLFxuICAgICAgICBxdWVyeTogbnVsbCxcbiAgICAgICAgbmdDb250ZW50OiBudWxsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodmlldywgcmVuZGVySG9zdCwgZGVmKSB7XG4gICAgdmFyIGVsRGVmID0gZGVmLmVsZW1lbnQ7XG4gICAgdmFyIHJvb3RTZWxlY3Rvck9yTm9kZSA9IHZpZXcucm9vdC5zZWxlY3Rvck9yTm9kZTtcbiAgICB2YXIgcmVuZGVyZXIgPSB2aWV3LnJlbmRlcmVyO1xuICAgIHZhciBlbDtcbiAgICBpZiAodmlldy5wYXJlbnQgfHwgIXJvb3RTZWxlY3Rvck9yTm9kZSkge1xuICAgICAgICBpZiAoZWxEZWYubmFtZSkge1xuICAgICAgICAgICAgZWwgPSByZW5kZXJlci5jcmVhdGVFbGVtZW50KGVsRGVmLm5hbWUsIGVsRGVmLm5zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsID0gcmVuZGVyZXIuY3JlYXRlQ29tbWVudCgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmVudEVsID0gZ2V0UGFyZW50UmVuZGVyRWxlbWVudCh2aWV3LCByZW5kZXJIb3N0LCBkZWYpO1xuICAgICAgICBpZiAocGFyZW50RWwpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmFwcGVuZENoaWxkKHBhcmVudEVsLCBlbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHdoZW4gdXNpbmcgbmF0aXZlIFNoYWRvdyBET00sIGRvIG5vdCBjbGVhciB0aGUgcm9vdCBlbGVtZW50IGNvbnRlbnRzIHRvIGFsbG93IHNsb3QgcHJvamVjdGlvblxuICAgICAgICB2YXIgcHJlc2VydmVDb250ZW50ID0gKCEhZWxEZWYuY29tcG9uZW50UmVuZGVyZXJUeXBlICYmXG4gICAgICAgICAgICBlbERlZi5jb21wb25lbnRSZW5kZXJlclR5cGUuZW5jYXBzdWxhdGlvbiA9PT0gVmlld0VuY2Fwc3VsYXRpb24uU2hhZG93RG9tKTtcbiAgICAgICAgZWwgPSByZW5kZXJlci5zZWxlY3RSb290RWxlbWVudChyb290U2VsZWN0b3JPck5vZGUsIHByZXNlcnZlQ29udGVudCk7XG4gICAgfVxuICAgIGlmIChlbERlZi5hdHRycykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsRGVmLmF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoZWxEZWYuYXR0cnNbaV0sIDMpLCBucyA9IF9hWzBdLCBuYW1lXzIgPSBfYVsxXSwgdmFsdWUgPSBfYVsyXTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbCwgbmFtZV8yLCB2YWx1ZSwgbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbDtcbn1cbmZ1bmN0aW9uIGxpc3RlblRvRWxlbWVudE91dHB1dHModmlldywgY29tcFZpZXcsIGRlZiwgZWwpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZi5vdXRwdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSBkZWYub3V0cHV0c1tpXTtcbiAgICAgICAgdmFyIGhhbmRsZUV2ZW50Q2xvc3VyZSA9IHJlbmRlckV2ZW50SGFuZGxlckNsb3N1cmUodmlldywgZGVmLm5vZGVJbmRleCwgZWxlbWVudEV2ZW50RnVsbE5hbWUob3V0cHV0LnRhcmdldCwgb3V0cHV0LmV2ZW50TmFtZSkpO1xuICAgICAgICB2YXIgbGlzdGVuVGFyZ2V0ID0gb3V0cHV0LnRhcmdldDtcbiAgICAgICAgdmFyIGxpc3RlbmVyVmlldyA9IHZpZXc7XG4gICAgICAgIGlmIChvdXRwdXQudGFyZ2V0ID09PSAnY29tcG9uZW50Jykge1xuICAgICAgICAgICAgbGlzdGVuVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIGxpc3RlbmVyVmlldyA9IGNvbXBWaWV3O1xuICAgICAgICB9XG4gICAgICAgIHZhciBkaXNwb3NhYmxlID0gbGlzdGVuZXJWaWV3LnJlbmRlcmVyLmxpc3RlbihsaXN0ZW5UYXJnZXQgfHwgZWwsIG91dHB1dC5ldmVudE5hbWUsIGhhbmRsZUV2ZW50Q2xvc3VyZSk7XG4gICAgICAgIHZpZXcuZGlzcG9zYWJsZXNbZGVmLm91dHB1dEluZGV4ICsgaV0gPSBkaXNwb3NhYmxlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbmRlckV2ZW50SGFuZGxlckNsb3N1cmUodmlldywgaW5kZXgsIGV2ZW50TmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGRpc3BhdGNoRXZlbnQodmlldywgaW5kZXgsIGV2ZW50TmFtZSwgZXZlbnQpOyB9O1xufVxuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVFbGVtZW50SW5saW5lKHZpZXcsIGRlZiwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpIHtcbiAgICB2YXIgYmluZExlbiA9IGRlZi5iaW5kaW5ncy5sZW5ndGg7XG4gICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICBpZiAoYmluZExlbiA+IDAgJiYgY2hlY2tBbmRVcGRhdGVFbGVtZW50VmFsdWUodmlldywgZGVmLCAwLCB2MCkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gMSAmJiBjaGVja0FuZFVwZGF0ZUVsZW1lbnRWYWx1ZSh2aWV3LCBkZWYsIDEsIHYxKSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiAyICYmIGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgMiwgdjIpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDMgJiYgY2hlY2tBbmRVcGRhdGVFbGVtZW50VmFsdWUodmlldywgZGVmLCAzLCB2MykpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gNCAmJiBjaGVja0FuZFVwZGF0ZUVsZW1lbnRWYWx1ZSh2aWV3LCBkZWYsIDQsIHY0KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA1ICYmIGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgNSwgdjUpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDYgJiYgY2hlY2tBbmRVcGRhdGVFbGVtZW50VmFsdWUodmlldywgZGVmLCA2LCB2NikpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gNyAmJiBjaGVja0FuZFVwZGF0ZUVsZW1lbnRWYWx1ZSh2aWV3LCBkZWYsIDcsIHY3KSlcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgaWYgKGJpbmRMZW4gPiA4ICYmIGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgOCwgdjgpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDkgJiYgY2hlY2tBbmRVcGRhdGVFbGVtZW50VmFsdWUodmlldywgZGVmLCA5LCB2OSkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIHJldHVybiBjaGFuZ2VkO1xufVxuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVFbGVtZW50RHluYW1pYyh2aWV3LCBkZWYsIHZhbHVlcykge1xuICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgaSwgdmFsdWVzW2ldKSlcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZDtcbn1cbmZ1bmN0aW9uIGNoZWNrQW5kVXBkYXRlRWxlbWVudFZhbHVlKHZpZXcsIGRlZiwgYmluZGluZ0lkeCwgdmFsdWUpIHtcbiAgICBpZiAoIWNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIGJpbmRpbmdJZHgsIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBiaW5kaW5nID0gZGVmLmJpbmRpbmdzW2JpbmRpbmdJZHhdO1xuICAgIHZhciBlbERhdGEgPSBhc0VsZW1lbnREYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpO1xuICAgIHZhciByZW5kZXJOb2RlJCQxID0gZWxEYXRhLnJlbmRlckVsZW1lbnQ7XG4gICAgdmFyIG5hbWUgPSBiaW5kaW5nLm5hbWU7XG4gICAgc3dpdGNoIChiaW5kaW5nLmZsYWdzICYgMTUgLyogVHlwZXMgKi8pIHtcbiAgICAgICAgY2FzZSAxIC8qIFR5cGVFbGVtZW50QXR0cmlidXRlICovOlxuICAgICAgICAgICAgc2V0RWxlbWVudEF0dHJpYnV0ZSh2aWV3LCBiaW5kaW5nLCByZW5kZXJOb2RlJCQxLCBiaW5kaW5nLm5zLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyIC8qIFR5cGVFbGVtZW50Q2xhc3MgKi86XG4gICAgICAgICAgICBzZXRFbGVtZW50Q2xhc3ModmlldywgcmVuZGVyTm9kZSQkMSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNCAvKiBUeXBlRWxlbWVudFN0eWxlICovOlxuICAgICAgICAgICAgc2V0RWxlbWVudFN0eWxlKHZpZXcsIGJpbmRpbmcsIHJlbmRlck5vZGUkJDEsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDggLyogVHlwZVByb3BlcnR5ICovOlxuICAgICAgICAgICAgdmFyIGJpbmRWaWV3ID0gKGRlZi5mbGFncyAmIDMzNTU0NDMyIC8qIENvbXBvbmVudFZpZXcgKi8gJiZcbiAgICAgICAgICAgICAgICBiaW5kaW5nLmZsYWdzICYgMzIgLyogU3ludGhldGljSG9zdFByb3BlcnR5ICovKSA/XG4gICAgICAgICAgICAgICAgZWxEYXRhLmNvbXBvbmVudFZpZXcgOlxuICAgICAgICAgICAgICAgIHZpZXc7XG4gICAgICAgICAgICBzZXRFbGVtZW50UHJvcGVydHkoYmluZFZpZXcsIGJpbmRpbmcsIHJlbmRlck5vZGUkJDEsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHNldEVsZW1lbnRBdHRyaWJ1dGUodmlldywgYmluZGluZywgcmVuZGVyTm9kZSQkMSwgbnMsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIHNlY3VyaXR5Q29udGV4dCA9IGJpbmRpbmcuc2VjdXJpdHlDb250ZXh0O1xuICAgIHZhciByZW5kZXJWYWx1ZSA9IHNlY3VyaXR5Q29udGV4dCA/IHZpZXcucm9vdC5zYW5pdGl6ZXIuc2FuaXRpemUoc2VjdXJpdHlDb250ZXh0LCB2YWx1ZSkgOiB2YWx1ZTtcbiAgICByZW5kZXJWYWx1ZSA9IHJlbmRlclZhbHVlICE9IG51bGwgPyByZW5kZXJWYWx1ZS50b1N0cmluZygpIDogbnVsbDtcbiAgICB2YXIgcmVuZGVyZXIgPSB2aWV3LnJlbmRlcmVyO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldEF0dHJpYnV0ZShyZW5kZXJOb2RlJCQxLCBuYW1lLCByZW5kZXJWYWx1ZSwgbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKHJlbmRlck5vZGUkJDEsIG5hbWUsIG5zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRFbGVtZW50Q2xhc3ModmlldywgcmVuZGVyTm9kZSQkMSwgbmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgcmVuZGVyZXIgPSB2aWV3LnJlbmRlcmVyO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgICByZW5kZXJlci5hZGRDbGFzcyhyZW5kZXJOb2RlJCQxLCBuYW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlbmRlcmVyLnJlbW92ZUNsYXNzKHJlbmRlck5vZGUkJDEsIG5hbWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldEVsZW1lbnRTdHlsZSh2aWV3LCBiaW5kaW5nLCByZW5kZXJOb2RlJCQxLCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciByZW5kZXJWYWx1ZSA9IHZpZXcucm9vdC5zYW5pdGl6ZXIuc2FuaXRpemUoU2VjdXJpdHlDb250ZXh0LlNUWUxFLCB2YWx1ZSk7XG4gICAgaWYgKHJlbmRlclZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgcmVuZGVyVmFsdWUgPSByZW5kZXJWYWx1ZS50b1N0cmluZygpO1xuICAgICAgICB2YXIgdW5pdCA9IGJpbmRpbmcuc3VmZml4O1xuICAgICAgICBpZiAodW5pdCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZW5kZXJWYWx1ZSA9IHJlbmRlclZhbHVlICsgdW5pdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVuZGVyVmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICB2YXIgcmVuZGVyZXIgPSB2aWV3LnJlbmRlcmVyO1xuICAgIGlmIChyZW5kZXJWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHJlbmRlcmVyLnNldFN0eWxlKHJlbmRlck5vZGUkJDEsIG5hbWUsIHJlbmRlclZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlbmRlcmVyLnJlbW92ZVN0eWxlKHJlbmRlck5vZGUkJDEsIG5hbWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldEVsZW1lbnRQcm9wZXJ0eSh2aWV3LCBiaW5kaW5nLCByZW5kZXJOb2RlJCQxLCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBzZWN1cml0eUNvbnRleHQgPSBiaW5kaW5nLnNlY3VyaXR5Q29udGV4dDtcbiAgICB2YXIgcmVuZGVyVmFsdWUgPSBzZWN1cml0eUNvbnRleHQgPyB2aWV3LnJvb3Quc2FuaXRpemVyLnNhbml0aXplKHNlY3VyaXR5Q29udGV4dCwgdmFsdWUpIDogdmFsdWU7XG4gICAgdmlldy5yZW5kZXJlci5zZXRQcm9wZXJ0eShyZW5kZXJOb2RlJCQxLCBuYW1lLCByZW5kZXJWYWx1ZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBVTkRFRklORURfVkFMVUUgPSBuZXcgT2JqZWN0KCk7XG52YXIgSW5qZWN0b3JSZWZUb2tlbktleSA9IHRva2VuS2V5KEluamVjdG9yKTtcbnZhciBJTkpFQ1RPUlJlZlRva2VuS2V5ID0gdG9rZW5LZXkoSU5KRUNUT1IkMSk7XG52YXIgTmdNb2R1bGVSZWZUb2tlbktleSA9IHRva2VuS2V5KE5nTW9kdWxlUmVmKTtcbmZ1bmN0aW9uIG1vZHVsZVByb3ZpZGVEZWYoZmxhZ3MsIHRva2VuLCB2YWx1ZSwgZGVwcykge1xuICAgIC8vIE5lZWQgdG8gcmVzb2x2ZSBmb3J3YXJkUmVmcyBhcyBlLmcuIGZvciBgdXNlVmFsdWVgIHdlXG4gICAgLy8gbG93ZXJlZCB0aGUgZXhwcmVzc2lvbiBhbmQgdGhlbiBzdG9wcGVkIGV2YWx1YXRpbmcgaXQsXG4gICAgLy8gaS5lLiBhbHNvIGRpZG4ndCB1bndyYXAgaXQuXG4gICAgdmFsdWUgPSByZXNvbHZlRm9yd2FyZFJlZih2YWx1ZSk7XG4gICAgdmFyIGRlcERlZnMgPSBzcGxpdERlcHNEc2woZGVwcywgc3RyaW5naWZ5KHRva2VuKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gd2lsbCBiZXQgc2V0IGJ5IHRoZSBtb2R1bGUgZGVmaW5pdGlvblxuICAgICAgICBpbmRleDogLTEsXG4gICAgICAgIGRlcHM6IGRlcERlZnMsIGZsYWdzOiBmbGFncywgdG9rZW46IHRva2VuLCB2YWx1ZTogdmFsdWVcbiAgICB9O1xufVxuZnVuY3Rpb24gbW9kdWxlRGVmKHByb3ZpZGVycykge1xuICAgIHZhciBwcm92aWRlcnNCeUtleSA9IHt9O1xuICAgIHZhciBtb2R1bGVzID0gW107XG4gICAgdmFyIGlzUm9vdCA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvdmlkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVyc1tpXTtcbiAgICAgICAgaWYgKHByb3ZpZGVyLnRva2VuID09PSBBUFBfUk9PVCAmJiBwcm92aWRlci52YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaXNSb290ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvdmlkZXIuZmxhZ3MgJiAxMDczNzQxODI0IC8qIFR5cGVOZ01vZHVsZSAqLykge1xuICAgICAgICAgICAgbW9kdWxlcy5wdXNoKHByb3ZpZGVyLnRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICBwcm92aWRlci5pbmRleCA9IGk7XG4gICAgICAgIHByb3ZpZGVyc0J5S2V5W3Rva2VuS2V5KHByb3ZpZGVyLnRva2VuKV0gPSBwcm92aWRlcjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gV2lsbCBiZSBmaWxsZWQgbGF0ZXIuLi5cbiAgICAgICAgZmFjdG9yeTogbnVsbCxcbiAgICAgICAgcHJvdmlkZXJzQnlLZXk6IHByb3ZpZGVyc0J5S2V5LFxuICAgICAgICBwcm92aWRlcnM6IHByb3ZpZGVycyxcbiAgICAgICAgbW9kdWxlczogbW9kdWxlcyxcbiAgICAgICAgaXNSb290OiBpc1Jvb3QsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGluaXROZ01vZHVsZShkYXRhKSB7XG4gICAgdmFyIGRlZiA9IGRhdGEuX2RlZjtcbiAgICB2YXIgcHJvdmlkZXJzID0gZGF0YS5fcHJvdmlkZXJzID0gbmV3IEFycmF5KGRlZi5wcm92aWRlcnMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZi5wcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3ZEZWYgPSBkZWYucHJvdmlkZXJzW2ldO1xuICAgICAgICBpZiAoIShwcm92RGVmLmZsYWdzICYgNDA5NiAvKiBMYXp5UHJvdmlkZXIgKi8pKSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHByb3ZpZGVyIGhhcyBub3QgYmVlbiBhbHJlYWR5IGluaXRpYWxpemVkIG91dHNpZGUgdGhpcyBsb29wLlxuICAgICAgICAgICAgaWYgKHByb3ZpZGVyc1tpXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJzW2ldID0gX2NyZWF0ZVByb3ZpZGVySW5zdGFuY2UoZGF0YSwgcHJvdkRlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiByZXNvbHZlTmdNb2R1bGVEZXAoZGF0YSwgZGVwRGVmLCBub3RGb3VuZFZhbHVlKSB7XG4gICAgaWYgKG5vdEZvdW5kVmFsdWUgPT09IHZvaWQgMCkgeyBub3RGb3VuZFZhbHVlID0gSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5EOyB9XG4gICAgdmFyIGZvcm1lciA9IHNldEN1cnJlbnRJbmplY3RvcihkYXRhKTtcbiAgICB0cnkge1xuICAgICAgICBpZiAoZGVwRGVmLmZsYWdzICYgOCAvKiBWYWx1ZSAqLykge1xuICAgICAgICAgICAgcmV0dXJuIGRlcERlZi50b2tlbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVwRGVmLmZsYWdzICYgMiAvKiBPcHRpb25hbCAqLykge1xuICAgICAgICAgICAgbm90Rm91bmRWYWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlcERlZi5mbGFncyAmIDEgLyogU2tpcFNlbGYgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLl9wYXJlbnQuZ2V0KGRlcERlZi50b2tlbiwgbm90Rm91bmRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRva2VuS2V5XzEgPSBkZXBEZWYudG9rZW5LZXk7XG4gICAgICAgIHN3aXRjaCAodG9rZW5LZXlfMSkge1xuICAgICAgICAgICAgY2FzZSBJbmplY3RvclJlZlRva2VuS2V5OlxuICAgICAgICAgICAgY2FzZSBJTkpFQ1RPUlJlZlRva2VuS2V5OlxuICAgICAgICAgICAgY2FzZSBOZ01vZHVsZVJlZlRva2VuS2V5OlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm92aWRlckRlZiA9IGRhdGEuX2RlZi5wcm92aWRlcnNCeUtleVt0b2tlbktleV8xXTtcbiAgICAgICAgdmFyIGluamVjdGFibGVEZWYgPSB2b2lkIDA7XG4gICAgICAgIGlmIChwcm92aWRlckRlZikge1xuICAgICAgICAgICAgdmFyIHByb3ZpZGVySW5zdGFuY2UgPSBkYXRhLl9wcm92aWRlcnNbcHJvdmlkZXJEZWYuaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVySW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVySW5zdGFuY2UgPSBkYXRhLl9wcm92aWRlcnNbcHJvdmlkZXJEZWYuaW5kZXhdID1cbiAgICAgICAgICAgICAgICAgICAgX2NyZWF0ZVByb3ZpZGVySW5zdGFuY2UoZGF0YSwgcHJvdmlkZXJEZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVySW5zdGFuY2UgPT09IFVOREVGSU5FRF9WQUxVRSA/IHVuZGVmaW5lZCA6IHByb3ZpZGVySW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGluamVjdGFibGVEZWYgPSBnZXRJbmplY3RhYmxlRGVmKGRlcERlZi50b2tlbikpICYmIHRhcmdldHNNb2R1bGUoZGF0YSwgaW5qZWN0YWJsZURlZikpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGRhdGEuX3Byb3ZpZGVycy5sZW5ndGg7XG4gICAgICAgICAgICBkYXRhLl9kZWYucHJvdmlkZXJzQnlLZXlbZGVwRGVmLnRva2VuS2V5XSA9IHtcbiAgICAgICAgICAgICAgICBmbGFnczogMTAyNCAvKiBUeXBlRmFjdG9yeVByb3ZpZGVyICovIHwgNDA5NiAvKiBMYXp5UHJvdmlkZXIgKi8sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGluamVjdGFibGVEZWYuZmFjdG9yeSxcbiAgICAgICAgICAgICAgICBkZXBzOiBbXSwgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgIHRva2VuOiBkZXBEZWYudG9rZW4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGF0YS5fcHJvdmlkZXJzW2luZGV4XSA9IFVOREVGSU5FRF9WQUxVRTtcbiAgICAgICAgICAgIHJldHVybiAoZGF0YS5fcHJvdmlkZXJzW2luZGV4XSA9XG4gICAgICAgICAgICAgICAgX2NyZWF0ZVByb3ZpZGVySW5zdGFuY2UoZGF0YSwgZGF0YS5fZGVmLnByb3ZpZGVyc0J5S2V5W2RlcERlZi50b2tlbktleV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXBEZWYuZmxhZ3MgJiA0IC8qIFNlbGYgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBub3RGb3VuZFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhLl9wYXJlbnQuZ2V0KGRlcERlZi50b2tlbiwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBzZXRDdXJyZW50SW5qZWN0b3IoZm9ybWVyKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtb2R1bGVUcmFuc2l0aXZlbHlQcmVzZW50KG5nTW9kdWxlLCBzY29wZSkge1xuICAgIHJldHVybiBuZ01vZHVsZS5fZGVmLm1vZHVsZXMuaW5kZXhPZihzY29wZSkgPiAtMTtcbn1cbmZ1bmN0aW9uIHRhcmdldHNNb2R1bGUobmdNb2R1bGUsIGRlZikge1xuICAgIHJldHVybiBkZWYucHJvdmlkZWRJbiAhPSBudWxsICYmIChtb2R1bGVUcmFuc2l0aXZlbHlQcmVzZW50KG5nTW9kdWxlLCBkZWYucHJvdmlkZWRJbikgfHxcbiAgICAgICAgZGVmLnByb3ZpZGVkSW4gPT09ICdyb290JyAmJiBuZ01vZHVsZS5fZGVmLmlzUm9vdCk7XG59XG5mdW5jdGlvbiBfY3JlYXRlUHJvdmlkZXJJbnN0YW5jZShuZ01vZHVsZSwgcHJvdmlkZXJEZWYpIHtcbiAgICB2YXIgaW5qZWN0YWJsZTtcbiAgICBzd2l0Y2ggKHByb3ZpZGVyRGVmLmZsYWdzICYgMjAxMzQ3MDY3IC8qIFR5cGVzICovKSB7XG4gICAgICAgIGNhc2UgNTEyIC8qIFR5cGVDbGFzc1Byb3ZpZGVyICovOlxuICAgICAgICAgICAgaW5qZWN0YWJsZSA9IF9jcmVhdGVDbGFzcyhuZ01vZHVsZSwgcHJvdmlkZXJEZWYudmFsdWUsIHByb3ZpZGVyRGVmLmRlcHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTAyNCAvKiBUeXBlRmFjdG9yeVByb3ZpZGVyICovOlxuICAgICAgICAgICAgaW5qZWN0YWJsZSA9IF9jYWxsRmFjdG9yeShuZ01vZHVsZSwgcHJvdmlkZXJEZWYudmFsdWUsIHByb3ZpZGVyRGVmLmRlcHMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjA0OCAvKiBUeXBlVXNlRXhpc3RpbmdQcm92aWRlciAqLzpcbiAgICAgICAgICAgIGluamVjdGFibGUgPSByZXNvbHZlTmdNb2R1bGVEZXAobmdNb2R1bGUsIHByb3ZpZGVyRGVmLmRlcHNbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjU2IC8qIFR5cGVWYWx1ZVByb3ZpZGVyICovOlxuICAgICAgICAgICAgaW5qZWN0YWJsZSA9IHByb3ZpZGVyRGVmLnZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIFRoZSByZWFkIG9mIGBuZ09uRGVzdHJveWAgaGVyZSBpcyBzbGlnaHRseSBleHBlbnNpdmUgYXMgaXQncyBtZWdhbW9ycGhpYywgc28gaXQgc2hvdWxkIGJlXG4gICAgLy8gYXZvaWRlZCBpZiBwb3NzaWJsZS4gVGhlIHNlcXVlbmNlIG9mIGNoZWNrcyBoZXJlIGRldGVybWluZXMgd2hldGhlciBuZ09uRGVzdHJveSBuZWVkcyB0byBiZVxuICAgIC8vIGNoZWNrZWQuIEl0IG1pZ2h0IG5vdCBpZiB0aGUgYGluamVjdGFibGVgIGlzbid0IGFuIG9iamVjdCBvciBpZiBOb2RlRmxhZ3MuT25EZXN0cm95IGlzIGFscmVhZHlcbiAgICAvLyBzZXQgKG5nT25EZXN0cm95IHdhcyBkZXRlY3RlZCBzdGF0aWNhbGx5KS5cbiAgICBpZiAoaW5qZWN0YWJsZSAhPT0gVU5ERUZJTkVEX1ZBTFVFICYmIGluamVjdGFibGUgIT0gbnVsbCAmJiB0eXBlb2YgaW5qZWN0YWJsZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgIShwcm92aWRlckRlZi5mbGFncyAmIDEzMTA3MiAvKiBPbkRlc3Ryb3kgKi8pICYmIHR5cGVvZiBpbmplY3RhYmxlLm5nT25EZXN0cm95ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHByb3ZpZGVyRGVmLmZsYWdzIHw9IDEzMTA3MiAvKiBPbkRlc3Ryb3kgKi87XG4gICAgfVxuICAgIHJldHVybiBpbmplY3RhYmxlID09PSB1bmRlZmluZWQgPyBVTkRFRklORURfVkFMVUUgOiBpbmplY3RhYmxlO1xufVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKG5nTW9kdWxlLCBjdG9yLCBkZXBzKSB7XG4gICAgdmFyIGxlbiA9IGRlcHMubGVuZ3RoO1xuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcigpO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3IocmVzb2x2ZU5nTW9kdWxlRGVwKG5nTW9kdWxlLCBkZXBzWzBdKSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcihyZXNvbHZlTmdNb2R1bGVEZXAobmdNb2R1bGUsIGRlcHNbMF0pLCByZXNvbHZlTmdNb2R1bGVEZXAobmdNb2R1bGUsIGRlcHNbMV0pKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdG9yKHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1swXSksIHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1sxXSksIHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1syXSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIGRlcFZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGRlcFZhbHVlc1tpXSA9IHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IChjdG9yLmJpbmQuYXBwbHkoY3RvciwgX19zcHJlYWQoW3ZvaWQgMF0sIGRlcFZhbHVlcykpKSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIF9jYWxsRmFjdG9yeShuZ01vZHVsZSwgZmFjdG9yeSwgZGVwcykge1xuICAgIHZhciBsZW4gPSBkZXBzLmxlbmd0aDtcbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeSgpO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeShyZXNvbHZlTmdNb2R1bGVEZXAobmdNb2R1bGUsIGRlcHNbMF0pKTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkocmVzb2x2ZU5nTW9kdWxlRGVwKG5nTW9kdWxlLCBkZXBzWzBdKSwgcmVzb2x2ZU5nTW9kdWxlRGVwKG5nTW9kdWxlLCBkZXBzWzFdKSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1swXSksIHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1sxXSksIHJlc29sdmVOZ01vZHVsZURlcChuZ01vZHVsZSwgZGVwc1syXSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIGRlcFZhbHVlcyA9IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGVwVmFsdWVzW2ldID0gcmVzb2x2ZU5nTW9kdWxlRGVwKG5nTW9kdWxlLCBkZXBzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5LmFwcGx5KHZvaWQgMCwgX19zcHJlYWQoZGVwVmFsdWVzKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2FsbE5nTW9kdWxlTGlmZWN5Y2xlKG5nTW9kdWxlLCBsaWZlY3ljbGVzKSB7XG4gICAgdmFyIGRlZiA9IG5nTW9kdWxlLl9kZWY7XG4gICAgdmFyIGRlc3Ryb3llZCA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZi5wcm92aWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3ZEZWYgPSBkZWYucHJvdmlkZXJzW2ldO1xuICAgICAgICBpZiAocHJvdkRlZi5mbGFncyAmIDEzMTA3MiAvKiBPbkRlc3Ryb3kgKi8pIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG5nTW9kdWxlLl9wcm92aWRlcnNbaV07XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UgIT09IFVOREVGSU5FRF9WQUxVRSkge1xuICAgICAgICAgICAgICAgIHZhciBvbkRlc3Ryb3kgPSBpbnN0YW5jZS5uZ09uRGVzdHJveTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9uRGVzdHJveSA9PT0gJ2Z1bmN0aW9uJyAmJiAhZGVzdHJveWVkLmhhcyhpbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb25EZXN0cm95LmFwcGx5KGluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzdHJveWVkLmFkZChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBhdHRhY2hFbWJlZGRlZFZpZXcocGFyZW50VmlldywgZWxlbWVudERhdGEsIHZpZXdJbmRleCwgdmlldykge1xuICAgIHZhciBlbWJlZGRlZFZpZXdzID0gZWxlbWVudERhdGEudmlld0NvbnRhaW5lci5fZW1iZWRkZWRWaWV3cztcbiAgICBpZiAodmlld0luZGV4ID09PSBudWxsIHx8IHZpZXdJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZpZXdJbmRleCA9IGVtYmVkZGVkVmlld3MubGVuZ3RoO1xuICAgIH1cbiAgICB2aWV3LnZpZXdDb250YWluZXJQYXJlbnQgPSBwYXJlbnRWaWV3O1xuICAgIGFkZFRvQXJyYXkoZW1iZWRkZWRWaWV3cywgdmlld0luZGV4LCB2aWV3KTtcbiAgICBhdHRhY2hQcm9qZWN0ZWRWaWV3KGVsZW1lbnREYXRhLCB2aWV3KTtcbiAgICBTZXJ2aWNlcy5kaXJ0eVBhcmVudFF1ZXJpZXModmlldyk7XG4gICAgdmFyIHByZXZWaWV3ID0gdmlld0luZGV4ID4gMCA/IGVtYmVkZGVkVmlld3Nbdmlld0luZGV4IC0gMV0gOiBudWxsO1xuICAgIHJlbmRlckF0dGFjaEVtYmVkZGVkVmlldyhlbGVtZW50RGF0YSwgcHJldlZpZXcsIHZpZXcpO1xufVxuZnVuY3Rpb24gYXR0YWNoUHJvamVjdGVkVmlldyh2Y0VsZW1lbnREYXRhLCB2aWV3KSB7XG4gICAgdmFyIGR2Y0VsZW1lbnREYXRhID0gZGVjbGFyZWRWaWV3Q29udGFpbmVyKHZpZXcpO1xuICAgIGlmICghZHZjRWxlbWVudERhdGEgfHwgZHZjRWxlbWVudERhdGEgPT09IHZjRWxlbWVudERhdGEgfHxcbiAgICAgICAgdmlldy5zdGF0ZSAmIDE2IC8qIElzUHJvamVjdGVkVmlldyAqLykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIE5vdGU6IEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3ZVxuICAgIC8vIC0gYWRkIGEgdmlldyB0byB0ZW1wbGF0ZS5fcHJvamVjdGVkVmlld3Mgb25seSAxeCB0aHJvdWdob3V0IGl0cyBsaWZldGltZSxcbiAgICAvLyAgIGFuZCByZW1vdmUgaXQgbm90IHVudGlsIHRoZSB2aWV3IGlzIGRlc3Ryb3llZC5cbiAgICAvLyAgIChoYXJkLCBhcyB3aGVuIGEgcGFyZW50IHZpZXcgaXMgYXR0YWNoZWQvZGV0YWNoZWQgd2Ugd291bGQgbmVlZCB0byBhdHRhY2gvZGV0YWNoIGFsbFxuICAgIC8vICAgIG5lc3RlZCBwcm9qZWN0ZWQgdmlld3MgYXMgd2VsbCwgZXZlbiBhY3Jvc3MgY29tcG9uZW50IGJvdW5kYXJpZXMpLlxuICAgIC8vIC0gZG9uJ3QgdHJhY2sgdGhlIGluc2VydGlvbiBvcmRlciBvZiB2aWV3cyBpbiB0aGUgcHJvamVjdGVkIHZpZXdzIGFycmF5XG4gICAgLy8gICAoaGFyZCwgYXMgd2hlbiB0aGUgdmlld3Mgb2YgdGhlIHNhbWUgdGVtcGxhdGUgYXJlIGluc2VydGVkIGRpZmZlcmVudCB2aWV3IGNvbnRhaW5lcnMpXG4gICAgdmlldy5zdGF0ZSB8PSAxNiAvKiBJc1Byb2plY3RlZFZpZXcgKi87XG4gICAgdmFyIHByb2plY3RlZFZpZXdzID0gZHZjRWxlbWVudERhdGEudGVtcGxhdGUuX3Byb2plY3RlZFZpZXdzO1xuICAgIGlmICghcHJvamVjdGVkVmlld3MpIHtcbiAgICAgICAgcHJvamVjdGVkVmlld3MgPSBkdmNFbGVtZW50RGF0YS50ZW1wbGF0ZS5fcHJvamVjdGVkVmlld3MgPSBbXTtcbiAgICB9XG4gICAgcHJvamVjdGVkVmlld3MucHVzaCh2aWV3KTtcbiAgICAvLyBOb3RlOiB3ZSBhcmUgY2hhbmdpbmcgdGhlIE5vZGVEZWYgaGVyZSBhcyB3ZSBjYW5ub3QgY2FsY3VsYXRlXG4gICAgLy8gdGhlIGZhY3Qgd2hldGhlciBhIHRlbXBsYXRlIGlzIHVzZWQgZm9yIHByb2plY3Rpb24gZHVyaW5nIGNvbXBpbGF0aW9uLlxuICAgIG1hcmtOb2RlQXNQcm9qZWN0ZWRUZW1wbGF0ZSh2aWV3LnBhcmVudC5kZWYsIHZpZXcucGFyZW50Tm9kZURlZik7XG59XG5mdW5jdGlvbiBtYXJrTm9kZUFzUHJvamVjdGVkVGVtcGxhdGUodmlld0RlZiwgbm9kZURlZikge1xuICAgIGlmIChub2RlRGVmLmZsYWdzICYgNCAvKiBQcm9qZWN0ZWRUZW1wbGF0ZSAqLykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZpZXdEZWYubm9kZUZsYWdzIHw9IDQgLyogUHJvamVjdGVkVGVtcGxhdGUgKi87XG4gICAgbm9kZURlZi5mbGFncyB8PSA0IC8qIFByb2plY3RlZFRlbXBsYXRlICovO1xuICAgIHZhciBwYXJlbnROb2RlRGVmID0gbm9kZURlZi5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudE5vZGVEZWYpIHtcbiAgICAgICAgcGFyZW50Tm9kZURlZi5jaGlsZEZsYWdzIHw9IDQgLyogUHJvamVjdGVkVGVtcGxhdGUgKi87XG4gICAgICAgIHBhcmVudE5vZGVEZWYgPSBwYXJlbnROb2RlRGVmLnBhcmVudDtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hFbWJlZGRlZFZpZXcoZWxlbWVudERhdGEsIHZpZXdJbmRleCkge1xuICAgIHZhciBlbWJlZGRlZFZpZXdzID0gZWxlbWVudERhdGEudmlld0NvbnRhaW5lci5fZW1iZWRkZWRWaWV3cztcbiAgICBpZiAodmlld0luZGV4ID09IG51bGwgfHwgdmlld0luZGV4ID49IGVtYmVkZGVkVmlld3MubGVuZ3RoKSB7XG4gICAgICAgIHZpZXdJbmRleCA9IGVtYmVkZGVkVmlld3MubGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgaWYgKHZpZXdJbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciB2aWV3ID0gZW1iZWRkZWRWaWV3c1t2aWV3SW5kZXhdO1xuICAgIHZpZXcudmlld0NvbnRhaW5lclBhcmVudCA9IG51bGw7XG4gICAgcmVtb3ZlRnJvbUFycmF5KGVtYmVkZGVkVmlld3MsIHZpZXdJbmRleCk7XG4gICAgLy8gU2VlIGF0dGFjaFByb2plY3RlZFZpZXcgZm9yIHdoeSB3ZSBkb24ndCB1cGRhdGUgcHJvamVjdGVkVmlld3MgaGVyZS5cbiAgICBTZXJ2aWNlcy5kaXJ0eVBhcmVudFF1ZXJpZXModmlldyk7XG4gICAgcmVuZGVyRGV0YWNoVmlldyh2aWV3KTtcbiAgICByZXR1cm4gdmlldztcbn1cbmZ1bmN0aW9uIGRldGFjaFByb2plY3RlZFZpZXcodmlldykge1xuICAgIGlmICghKHZpZXcuc3RhdGUgJiAxNiAvKiBJc1Byb2plY3RlZFZpZXcgKi8pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGR2Y0VsZW1lbnREYXRhID0gZGVjbGFyZWRWaWV3Q29udGFpbmVyKHZpZXcpO1xuICAgIGlmIChkdmNFbGVtZW50RGF0YSkge1xuICAgICAgICB2YXIgcHJvamVjdGVkVmlld3MgPSBkdmNFbGVtZW50RGF0YS50ZW1wbGF0ZS5fcHJvamVjdGVkVmlld3M7XG4gICAgICAgIGlmIChwcm9qZWN0ZWRWaWV3cykge1xuICAgICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHByb2plY3RlZFZpZXdzLCBwcm9qZWN0ZWRWaWV3cy5pbmRleE9mKHZpZXcpKTtcbiAgICAgICAgICAgIFNlcnZpY2VzLmRpcnR5UGFyZW50UXVlcmllcyh2aWV3KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIG1vdmVFbWJlZGRlZFZpZXcoZWxlbWVudERhdGEsIG9sZFZpZXdJbmRleCwgbmV3Vmlld0luZGV4KSB7XG4gICAgdmFyIGVtYmVkZGVkVmlld3MgPSBlbGVtZW50RGF0YS52aWV3Q29udGFpbmVyLl9lbWJlZGRlZFZpZXdzO1xuICAgIHZhciB2aWV3ID0gZW1iZWRkZWRWaWV3c1tvbGRWaWV3SW5kZXhdO1xuICAgIHJlbW92ZUZyb21BcnJheShlbWJlZGRlZFZpZXdzLCBvbGRWaWV3SW5kZXgpO1xuICAgIGlmIChuZXdWaWV3SW5kZXggPT0gbnVsbCkge1xuICAgICAgICBuZXdWaWV3SW5kZXggPSBlbWJlZGRlZFZpZXdzLmxlbmd0aDtcbiAgICB9XG4gICAgYWRkVG9BcnJheShlbWJlZGRlZFZpZXdzLCBuZXdWaWV3SW5kZXgsIHZpZXcpO1xuICAgIC8vIE5vdGU6IERvbid0IG5lZWQgdG8gY2hhbmdlIHByb2plY3RlZFZpZXdzIGFzIHRoZSBvcmRlciBpbiB0aGVyZVxuICAgIC8vIGFzIGFsd2F5cyBpbnZhbGlkLi4uXG4gICAgU2VydmljZXMuZGlydHlQYXJlbnRRdWVyaWVzKHZpZXcpO1xuICAgIHJlbmRlckRldGFjaFZpZXcodmlldyk7XG4gICAgdmFyIHByZXZWaWV3ID0gbmV3Vmlld0luZGV4ID4gMCA/IGVtYmVkZGVkVmlld3NbbmV3Vmlld0luZGV4IC0gMV0gOiBudWxsO1xuICAgIHJlbmRlckF0dGFjaEVtYmVkZGVkVmlldyhlbGVtZW50RGF0YSwgcHJldlZpZXcsIHZpZXcpO1xuICAgIHJldHVybiB2aWV3O1xufVxuZnVuY3Rpb24gcmVuZGVyQXR0YWNoRW1iZWRkZWRWaWV3KGVsZW1lbnREYXRhLCBwcmV2Vmlldywgdmlldykge1xuICAgIHZhciBwcmV2UmVuZGVyTm9kZSA9IHByZXZWaWV3ID8gcmVuZGVyTm9kZShwcmV2VmlldywgcHJldlZpZXcuZGVmLmxhc3RSZW5kZXJSb290Tm9kZSkgOlxuICAgICAgICBlbGVtZW50RGF0YS5yZW5kZXJFbGVtZW50O1xuICAgIHZhciBwYXJlbnROb2RlID0gdmlldy5yZW5kZXJlci5wYXJlbnROb2RlKHByZXZSZW5kZXJOb2RlKTtcbiAgICB2YXIgbmV4dFNpYmxpbmcgPSB2aWV3LnJlbmRlcmVyLm5leHRTaWJsaW5nKHByZXZSZW5kZXJOb2RlKTtcbiAgICAvLyBOb3RlOiBXZSBjYW4ndCBjaGVjayBpZiBgbmV4dFNpYmxpbmdgIGlzIHByZXNlbnQsIGFzIG9uIFdlYldvcmtlcnMgaXQgd2lsbCBhbHdheXMgYmUhXG4gICAgLy8gSG93ZXZlciwgYnJvd3NlcnMgYXV0b21hdGljYWxseSBkbyBgYXBwZW5kQ2hpbGRgIHdoZW4gdGhlcmUgaXMgbm8gYG5leHRTaWJsaW5nYC5cbiAgICB2aXNpdFJvb3RSZW5kZXJOb2Rlcyh2aWV3LCAyIC8qIEluc2VydEJlZm9yZSAqLywgcGFyZW50Tm9kZSwgbmV4dFNpYmxpbmcsIHVuZGVmaW5lZCk7XG59XG5mdW5jdGlvbiByZW5kZXJEZXRhY2hWaWV3KHZpZXcpIHtcbiAgICB2aXNpdFJvb3RSZW5kZXJOb2Rlcyh2aWV3LCAzIC8qIFJlbW92ZUNoaWxkICovLCBudWxsLCBudWxsLCB1bmRlZmluZWQpO1xufVxuZnVuY3Rpb24gYWRkVG9BcnJheShhcnIsIGluZGV4LCB2YWx1ZSkge1xuICAgIC8vIHBlcmY6IGFycmF5LnB1c2ggaXMgZmFzdGVyIHRoYW4gYXJyYXkuc3BsaWNlIVxuICAgIGlmIChpbmRleCA+PSBhcnIubGVuZ3RoKSB7XG4gICAgICAgIGFyci5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZW1vdmVGcm9tQXJyYXkoYXJyLCBpbmRleCkge1xuICAgIC8vIHBlcmY6IGFycmF5LnBvcCBpcyBmYXN0ZXIgdGhhbiBhcnJheS5zcGxpY2UhXG4gICAgaWYgKGluZGV4ID49IGFyci5sZW5ndGggLSAxKSB7XG4gICAgICAgIGFyci5wb3AoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIEVNUFRZX0NPTlRFWFQgPSBuZXcgT2JqZWN0KCk7XG4vLyBBdHRlbnRpb246IHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFzIHRvcCBsZXZlbCBmdW5jdGlvbi5cbi8vIFB1dHRpbmcgYW55IGxvZ2ljIGluIGhlcmUgd2lsbCBkZXN0cm95IGNsb3N1cmUgdHJlZSBzaGFraW5nIVxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50RmFjdG9yeShzZWxlY3RvciwgY29tcG9uZW50VHlwZSwgdmlld0RlZkZhY3RvcnksIGlucHV0cywgb3V0cHV0cywgbmdDb250ZW50U2VsZWN0b3JzKSB7XG4gICAgcmV0dXJuIG5ldyBDb21wb25lbnRGYWN0b3J5XyhzZWxlY3RvciwgY29tcG9uZW50VHlwZSwgdmlld0RlZkZhY3RvcnksIGlucHV0cywgb3V0cHV0cywgbmdDb250ZW50U2VsZWN0b3JzKTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFZpZXdEZWZpbml0aW9uRmFjdG9yeShjb21wb25lbnRGYWN0b3J5KSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudEZhY3Rvcnkudmlld0RlZkZhY3Rvcnk7XG59XG52YXIgQ29tcG9uZW50RmFjdG9yeV8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvbXBvbmVudEZhY3RvcnlfLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbXBvbmVudEZhY3RvcnlfKHNlbGVjdG9yLCBjb21wb25lbnRUeXBlLCB2aWV3RGVmRmFjdG9yeSwgX2lucHV0cywgX291dHB1dHMsIG5nQ29udGVudFNlbGVjdG9ycykge1xuICAgICAgICB2YXIgX3RoaXMgPSBcbiAgICAgICAgLy8gQXR0ZW50aW9uOiB0aGlzIGN0b3IgaXMgY2FsbGVkIGFzIHRvcCBsZXZlbCBmdW5jdGlvbi5cbiAgICAgICAgLy8gUHV0dGluZyBhbnkgbG9naWMgaW4gaGVyZSB3aWxsIGRlc3Ryb3kgY2xvc3VyZSB0cmVlIHNoYWtpbmchXG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmNvbXBvbmVudFR5cGUgPSBjb21wb25lbnRUeXBlO1xuICAgICAgICBfdGhpcy5faW5wdXRzID0gX2lucHV0cztcbiAgICAgICAgX3RoaXMuX291dHB1dHMgPSBfb3V0cHV0cztcbiAgICAgICAgX3RoaXMubmdDb250ZW50U2VsZWN0b3JzID0gbmdDb250ZW50U2VsZWN0b3JzO1xuICAgICAgICBfdGhpcy52aWV3RGVmRmFjdG9yeSA9IHZpZXdEZWZGYWN0b3J5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnRGYWN0b3J5Xy5wcm90b3R5cGUsIFwiaW5wdXRzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRzQXJyID0gW107XG4gICAgICAgICAgICB2YXIgaW5wdXRzID0gdGhpcy5faW5wdXRzO1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gaW5wdXRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlTmFtZSA9IGlucHV0c1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgaW5wdXRzQXJyLnB1c2goeyBwcm9wTmFtZTogcHJvcE5hbWUsIHRlbXBsYXRlTmFtZTogdGVtcGxhdGVOYW1lIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGlucHV0c0FycjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudEZhY3RvcnlfLnByb3RvdHlwZSwgXCJvdXRwdXRzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0c0FyciA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gdGhpcy5fb3V0cHV0cykge1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZU5hbWUgPSB0aGlzLl9vdXRwdXRzW3Byb3BOYW1lXTtcbiAgICAgICAgICAgICAgICBvdXRwdXRzQXJyLnB1c2goeyBwcm9wTmFtZTogcHJvcE5hbWUsIHRlbXBsYXRlTmFtZTogdGVtcGxhdGVOYW1lIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dHNBcnI7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29tcG9uZW50LlxuICAgICAqL1xuICAgIENvbXBvbmVudEZhY3RvcnlfLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoaW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSwgbmdNb2R1bGUpIHtcbiAgICAgICAgaWYgKCFuZ01vZHVsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCduZ01vZHVsZSBzaG91bGQgYmUgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlld0RlZiA9IHJlc29sdmVEZWZpbml0aW9uKHRoaXMudmlld0RlZkZhY3RvcnkpO1xuICAgICAgICB2YXIgY29tcG9uZW50Tm9kZUluZGV4ID0gdmlld0RlZi5ub2Rlc1swXS5lbGVtZW50LmNvbXBvbmVudFByb3ZpZGVyLm5vZGVJbmRleDtcbiAgICAgICAgdmFyIHZpZXcgPSBTZXJ2aWNlcy5jcmVhdGVSb290VmlldyhpbmplY3RvciwgcHJvamVjdGFibGVOb2RlcyB8fCBbXSwgcm9vdFNlbGVjdG9yT3JOb2RlLCB2aWV3RGVmLCBuZ01vZHVsZSwgRU1QVFlfQ09OVEVYVCk7XG4gICAgICAgIHZhciBjb21wb25lbnQgPSBhc1Byb3ZpZGVyRGF0YSh2aWV3LCBjb21wb25lbnROb2RlSW5kZXgpLmluc3RhbmNlO1xuICAgICAgICBpZiAocm9vdFNlbGVjdG9yT3JOb2RlKSB7XG4gICAgICAgICAgICB2aWV3LnJlbmRlcmVyLnNldEF0dHJpYnV0ZShhc0VsZW1lbnREYXRhKHZpZXcsIDApLnJlbmRlckVsZW1lbnQsICduZy12ZXJzaW9uJywgVkVSU0lPTi5mdWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbXBvbmVudFJlZl8odmlldywgbmV3IFZpZXdSZWZfKHZpZXcpLCBjb21wb25lbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIENvbXBvbmVudEZhY3RvcnlfO1xufShDb21wb25lbnRGYWN0b3J5KSk7XG52YXIgQ29tcG9uZW50UmVmXyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29tcG9uZW50UmVmXywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb21wb25lbnRSZWZfKF92aWV3LCBfdmlld1JlZiwgX2NvbXBvbmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmlldyA9IF92aWV3O1xuICAgICAgICBfdGhpcy5fdmlld1JlZiA9IF92aWV3UmVmO1xuICAgICAgICBfdGhpcy5fY29tcG9uZW50ID0gX2NvbXBvbmVudDtcbiAgICAgICAgX3RoaXMuX2VsRGVmID0gX3RoaXMuX3ZpZXcuZGVmLm5vZGVzWzBdO1xuICAgICAgICBfdGhpcy5ob3N0VmlldyA9IF92aWV3UmVmO1xuICAgICAgICBfdGhpcy5jaGFuZ2VEZXRlY3RvclJlZiA9IF92aWV3UmVmO1xuICAgICAgICBfdGhpcy5pbnN0YW5jZSA9IF9jb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudFJlZl8ucHJvdG90eXBlLCBcImxvY2F0aW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVsZW1lbnRSZWYoYXNFbGVtZW50RGF0YSh0aGlzLl92aWV3LCB0aGlzLl9lbERlZi5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmXy5wcm90b3R5cGUsIFwiaW5qZWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBJbmplY3Rvcl8odGhpcy5fdmlldywgdGhpcy5fZWxEZWYpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50UmVmXy5wcm90b3R5cGUsIFwiY29tcG9uZW50VHlwZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fY29tcG9uZW50LmNvbnN0cnVjdG9yOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBDb21wb25lbnRSZWZfLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgeyB0aGlzLl92aWV3UmVmLmRlc3Ryb3koKTsgfTtcbiAgICBDb21wb25lbnRSZWZfLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsgdGhpcy5fdmlld1JlZi5vbkRlc3Ryb3koY2FsbGJhY2spOyB9O1xuICAgIHJldHVybiBDb21wb25lbnRSZWZfO1xufShDb21wb25lbnRSZWYpKTtcbmZ1bmN0aW9uIGNyZWF0ZVZpZXdDb250YWluZXJEYXRhKHZpZXcsIGVsRGVmLCBlbERhdGEpIHtcbiAgICByZXR1cm4gbmV3IFZpZXdDb250YWluZXJSZWZfKHZpZXcsIGVsRGVmLCBlbERhdGEpO1xufVxudmFyIFZpZXdDb250YWluZXJSZWZfID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZXdDb250YWluZXJSZWZfKF92aWV3LCBfZWxEZWYsIF9kYXRhKSB7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSBfdmlldztcbiAgICAgICAgdGhpcy5fZWxEZWYgPSBfZWxEZWY7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBfZGF0YTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZW1iZWRkZWRWaWV3cyA9IFtdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLCBcImVsZW1lbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBFbGVtZW50UmVmKHRoaXMuX2RhdGEucmVuZGVyRWxlbWVudCk7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUsIFwiaW5qZWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBJbmplY3Rvcl8odGhpcy5fdmlldywgdGhpcy5fZWxEZWYpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLCBcInBhcmVudEluamVjdG9yXCIsIHtcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkIE5vIHJlcGxhY2VtZW50ICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZpZXcgPSB0aGlzLl92aWV3O1xuICAgICAgICAgICAgdmFyIGVsRGVmID0gdGhpcy5fZWxEZWYucGFyZW50O1xuICAgICAgICAgICAgd2hpbGUgKCFlbERlZiAmJiB2aWV3KSB7XG4gICAgICAgICAgICAgICAgZWxEZWYgPSB2aWV3UGFyZW50RWwodmlldyk7XG4gICAgICAgICAgICAgICAgdmlldyA9IHZpZXcucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZpZXcgPyBuZXcgSW5qZWN0b3JfKHZpZXcsIGVsRGVmKSA6IG5ldyBJbmplY3Rvcl8odGhpcy5fdmlldywgbnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuX2VtYmVkZGVkVmlld3MubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciB2aWV3ID0gZGV0YWNoRW1iZWRkZWRWaWV3KHRoaXMuX2RhdGEsIGkpO1xuICAgICAgICAgICAgU2VydmljZXMuZGVzdHJveVZpZXcodmlldyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLl9lbWJlZGRlZFZpZXdzW2luZGV4XTtcbiAgICAgICAgaWYgKHZpZXcpIHtcbiAgICAgICAgICAgIHZhciByZWYgPSBuZXcgVmlld1JlZl8odmlldyk7XG4gICAgICAgICAgICByZWYuYXR0YWNoVG9WaWV3Q29udGFpbmVyUmVmKHRoaXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9lbWJlZGRlZFZpZXdzLmxlbmd0aDsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLmNyZWF0ZUVtYmVkZGVkVmlldyA9IGZ1bmN0aW9uICh0ZW1wbGF0ZVJlZiwgY29udGV4dCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHZpZXdSZWYgPSB0ZW1wbGF0ZVJlZi5jcmVhdGVFbWJlZGRlZFZpZXcoY29udGV4dCB8fCB7fSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0KHZpZXdSZWYsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWY7XG4gICAgfTtcbiAgICBWaWV3Q29udGFpbmVyUmVmXy5wcm90b3R5cGUuY3JlYXRlQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudEZhY3RvcnksIGluZGV4LCBpbmplY3RvciwgcHJvamVjdGFibGVOb2RlcywgbmdNb2R1bGVSZWYpIHtcbiAgICAgICAgdmFyIGNvbnRleHRJbmplY3RvciA9IGluamVjdG9yIHx8IHRoaXMucGFyZW50SW5qZWN0b3I7XG4gICAgICAgIGlmICghbmdNb2R1bGVSZWYgJiYgIShjb21wb25lbnRGYWN0b3J5IGluc3RhbmNlb2YgQ29tcG9uZW50RmFjdG9yeUJvdW5kVG9Nb2R1bGUpKSB7XG4gICAgICAgICAgICBuZ01vZHVsZVJlZiA9IGNvbnRleHRJbmplY3Rvci5nZXQoTmdNb2R1bGVSZWYpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21wb25lbnRSZWYgPSBjb21wb25lbnRGYWN0b3J5LmNyZWF0ZShjb250ZXh0SW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHVuZGVmaW5lZCwgbmdNb2R1bGVSZWYpO1xuICAgICAgICB0aGlzLmluc2VydChjb21wb25lbnRSZWYuaG9zdFZpZXcsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFJlZjtcbiAgICB9O1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAodmlld1JlZiwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHZpZXdSZWYuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnNlcnQgYSBkZXN0cm95ZWQgVmlldyBpbiBhIFZpZXdDb250YWluZXIhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpZXdSZWZfID0gdmlld1JlZjtcbiAgICAgICAgdmFyIHZpZXdEYXRhID0gdmlld1JlZl8uX3ZpZXc7XG4gICAgICAgIGF0dGFjaEVtYmVkZGVkVmlldyh0aGlzLl92aWV3LCB0aGlzLl9kYXRhLCBpbmRleCwgdmlld0RhdGEpO1xuICAgICAgICB2aWV3UmVmXy5hdHRhY2hUb1ZpZXdDb250YWluZXJSZWYodGhpcyk7XG4gICAgICAgIHJldHVybiB2aWV3UmVmO1xuICAgIH07XG4gICAgVmlld0NvbnRhaW5lclJlZl8ucHJvdG90eXBlLm1vdmUgPSBmdW5jdGlvbiAodmlld1JlZiwgY3VycmVudEluZGV4KSB7XG4gICAgICAgIGlmICh2aWV3UmVmLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbW92ZSBhIGRlc3Ryb3llZCBWaWV3IGluIGEgVmlld0NvbnRhaW5lciEnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXNJbmRleCA9IHRoaXMuX2VtYmVkZGVkVmlld3MuaW5kZXhPZih2aWV3UmVmLl92aWV3KTtcbiAgICAgICAgbW92ZUVtYmVkZGVkVmlldyh0aGlzLl9kYXRhLCBwcmV2aW91c0luZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgICByZXR1cm4gdmlld1JlZjtcbiAgICB9O1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKHZpZXdSZWYpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtYmVkZGVkVmlld3MuaW5kZXhPZih2aWV3UmVmLl92aWV3KTtcbiAgICB9O1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIHZpZXdEYXRhID0gZGV0YWNoRW1iZWRkZWRWaWV3KHRoaXMuX2RhdGEsIGluZGV4KTtcbiAgICAgICAgaWYgKHZpZXdEYXRhKSB7XG4gICAgICAgICAgICBTZXJ2aWNlcy5kZXN0cm95Vmlldyh2aWV3RGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZXdDb250YWluZXJSZWZfLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBkZXRhY2hFbWJlZGRlZFZpZXcodGhpcy5fZGF0YSwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gdmlldyA/IG5ldyBWaWV3UmVmXyh2aWV3KSA6IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gVmlld0NvbnRhaW5lclJlZl87XG59KCkpO1xuZnVuY3Rpb24gY3JlYXRlQ2hhbmdlRGV0ZWN0b3JSZWYodmlldykge1xuICAgIHJldHVybiBuZXcgVmlld1JlZl8odmlldyk7XG59XG52YXIgVmlld1JlZl8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlld1JlZl8oX3ZpZXcpIHtcbiAgICAgICAgdGhpcy5fdmlldyA9IF92aWV3O1xuICAgICAgICB0aGlzLl92aWV3Q29udGFpbmVyUmVmID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYXBwUmVmID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdSZWZfLnByb3RvdHlwZSwgXCJyb290Tm9kZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvb3RSZW5kZXJOb2Rlcyh0aGlzLl92aWV3KTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpZXdSZWZfLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl92aWV3LmNvbnRleHQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWaWV3UmVmXy5wcm90b3R5cGUsIFwiZGVzdHJveWVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAodGhpcy5fdmlldy5zdGF0ZSAmIDEyOCAvKiBEZXN0cm95ZWQgKi8pICE9PSAwOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBWaWV3UmVmXy5wcm90b3R5cGUubWFya0ZvckNoZWNrID0gZnVuY3Rpb24gKCkgeyBtYXJrUGFyZW50Vmlld3NGb3JDaGVjayh0aGlzLl92aWV3KTsgfTtcbiAgICBWaWV3UmVmXy5wcm90b3R5cGUuZGV0YWNoID0gZnVuY3Rpb24gKCkgeyB0aGlzLl92aWV3LnN0YXRlICY9IH40IC8qIEF0dGFjaGVkICovOyB9O1xuICAgIFZpZXdSZWZfLnByb3RvdHlwZS5kZXRlY3RDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnMgPSB0aGlzLl92aWV3LnJvb3QucmVuZGVyZXJGYWN0b3J5O1xuICAgICAgICBpZiAoZnMuYmVnaW4pIHtcbiAgICAgICAgICAgIGZzLmJlZ2luKCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFNlcnZpY2VzLmNoZWNrQW5kVXBkYXRlVmlldyh0aGlzLl92aWV3KTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChmcy5lbmQpIHtcbiAgICAgICAgICAgICAgICBmcy5lbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlld1JlZl8ucHJvdG90eXBlLmNoZWNrTm9DaGFuZ2VzID0gZnVuY3Rpb24gKCkgeyBTZXJ2aWNlcy5jaGVja05vQ2hhbmdlc1ZpZXcodGhpcy5fdmlldyk7IH07XG4gICAgVmlld1JlZl8ucHJvdG90eXBlLnJlYXR0YWNoID0gZnVuY3Rpb24gKCkgeyB0aGlzLl92aWV3LnN0YXRlIHw9IDQgLyogQXR0YWNoZWQgKi87IH07XG4gICAgVmlld1JlZl8ucHJvdG90eXBlLm9uRGVzdHJveSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuX3ZpZXcuZGlzcG9zYWJsZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcuZGlzcG9zYWJsZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92aWV3LmRpc3Bvc2FibGVzLnB1c2goY2FsbGJhY2spO1xuICAgIH07XG4gICAgVmlld1JlZl8ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hcHBSZWYpIHtcbiAgICAgICAgICAgIHRoaXMuX2FwcFJlZi5kZXRhY2hWaWV3KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3ZpZXdDb250YWluZXJSZWYpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdDb250YWluZXJSZWYuZGV0YWNoKHRoaXMuX3ZpZXdDb250YWluZXJSZWYuaW5kZXhPZih0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgU2VydmljZXMuZGVzdHJveVZpZXcodGhpcy5fdmlldyk7XG4gICAgfTtcbiAgICBWaWV3UmVmXy5wcm90b3R5cGUuZGV0YWNoRnJvbUFwcFJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYXBwUmVmID0gbnVsbDtcbiAgICAgICAgcmVuZGVyRGV0YWNoVmlldyh0aGlzLl92aWV3KTtcbiAgICAgICAgU2VydmljZXMuZGlydHlQYXJlbnRRdWVyaWVzKHRoaXMuX3ZpZXcpO1xuICAgIH07XG4gICAgVmlld1JlZl8ucHJvdG90eXBlLmF0dGFjaFRvQXBwUmVmID0gZnVuY3Rpb24gKGFwcFJlZikge1xuICAgICAgICBpZiAodGhpcy5fdmlld0NvbnRhaW5lclJlZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIHZpZXcgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byBhIFZpZXdDb250YWluZXIhJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXBwUmVmID0gYXBwUmVmO1xuICAgIH07XG4gICAgVmlld1JlZl8ucHJvdG90eXBlLmF0dGFjaFRvVmlld0NvbnRhaW5lclJlZiA9IGZ1bmN0aW9uICh2Y1JlZikge1xuICAgICAgICBpZiAodGhpcy5fYXBwUmVmKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgdmlldyBpcyBhbHJlYWR5IGF0dGFjaGVkIGRpcmVjdGx5IHRvIHRoZSBBcHBsaWNhdGlvblJlZiEnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92aWV3Q29udGFpbmVyUmVmID0gdmNSZWY7XG4gICAgfTtcbiAgICByZXR1cm4gVmlld1JlZl87XG59KCkpO1xuZnVuY3Rpb24gY3JlYXRlVGVtcGxhdGVEYXRhKHZpZXcsIGRlZikge1xuICAgIHJldHVybiBuZXcgVGVtcGxhdGVSZWZfKHZpZXcsIGRlZik7XG59XG52YXIgVGVtcGxhdGVSZWZfID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUZW1wbGF0ZVJlZl8sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGVtcGxhdGVSZWZfKF9wYXJlbnRWaWV3LCBfZGVmKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wYXJlbnRWaWV3ID0gX3BhcmVudFZpZXc7XG4gICAgICAgIF90aGlzLl9kZWYgPSBfZGVmO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFRlbXBsYXRlUmVmXy5wcm90b3R5cGUuY3JlYXRlRW1iZWRkZWRWaWV3ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3UmVmXyhTZXJ2aWNlcy5jcmVhdGVFbWJlZGRlZFZpZXcodGhpcy5fcGFyZW50VmlldywgdGhpcy5fZGVmLCB0aGlzLl9kZWYuZWxlbWVudC50ZW1wbGF0ZSwgY29udGV4dCkpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRlbXBsYXRlUmVmXy5wcm90b3R5cGUsIFwiZWxlbWVudFJlZlwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbGVtZW50UmVmKGFzRWxlbWVudERhdGEodGhpcy5fcGFyZW50VmlldywgdGhpcy5fZGVmLm5vZGVJbmRleCkucmVuZGVyRWxlbWVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUZW1wbGF0ZVJlZl87XG59KFRlbXBsYXRlUmVmKSk7XG5mdW5jdGlvbiBjcmVhdGVJbmplY3RvciQxKHZpZXcsIGVsRGVmKSB7XG4gICAgcmV0dXJuIG5ldyBJbmplY3Rvcl8odmlldywgZWxEZWYpO1xufVxudmFyIEluamVjdG9yXyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbmplY3Rvcl8odmlldywgZWxEZWYpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5lbERlZiA9IGVsRGVmO1xuICAgIH1cbiAgICBJbmplY3Rvcl8ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0b2tlbiwgbm90Rm91bmRWYWx1ZSkge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSA9PT0gdm9pZCAwKSB7IG5vdEZvdW5kVmFsdWUgPSBJbmplY3Rvci5USFJPV19JRl9OT1RfRk9VTkQ7IH1cbiAgICAgICAgdmFyIGFsbG93UHJpdmF0ZVNlcnZpY2VzID0gdGhpcy5lbERlZiA/ICh0aGlzLmVsRGVmLmZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLykgIT09IDAgOiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIFNlcnZpY2VzLnJlc29sdmVEZXAodGhpcy52aWV3LCB0aGlzLmVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgeyBmbGFnczogMCAvKiBOb25lICovLCB0b2tlbjogdG9rZW4sIHRva2VuS2V5OiB0b2tlbktleSh0b2tlbikgfSwgbm90Rm91bmRWYWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gSW5qZWN0b3JfO1xufSgpKTtcbmZ1bmN0aW9uIG5vZGVWYWx1ZSh2aWV3LCBpbmRleCkge1xuICAgIHZhciBkZWYgPSB2aWV3LmRlZi5ub2Rlc1tpbmRleF07XG4gICAgaWYgKGRlZi5mbGFncyAmIDEgLyogVHlwZUVsZW1lbnQgKi8pIHtcbiAgICAgICAgdmFyIGVsRGF0YSA9IGFzRWxlbWVudERhdGEodmlldywgZGVmLm5vZGVJbmRleCk7XG4gICAgICAgIHJldHVybiBkZWYuZWxlbWVudC50ZW1wbGF0ZSA/IGVsRGF0YS50ZW1wbGF0ZSA6IGVsRGF0YS5yZW5kZXJFbGVtZW50O1xuICAgIH1cbiAgICBlbHNlIGlmIChkZWYuZmxhZ3MgJiAyIC8qIFR5cGVUZXh0ICovKSB7XG4gICAgICAgIHJldHVybiBhc1RleHREYXRhKHZpZXcsIGRlZi5ub2RlSW5kZXgpLnJlbmRlclRleHQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlZi5mbGFncyAmICgyMDIyNCAvKiBDYXRQcm92aWRlciAqLyB8IDE2IC8qIFR5cGVQaXBlICovKSkge1xuICAgICAgICByZXR1cm4gYXNQcm92aWRlckRhdGEodmlldywgZGVmLm5vZGVJbmRleCkuaW5zdGFuY2U7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgc3RhdGU6IHJlYWQgbm9kZVZhbHVlIGZvciBub2RlIGluZGV4IFwiICsgaW5kZXgpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXJWMSh2aWV3KSB7XG4gICAgcmV0dXJuIG5ldyBSZW5kZXJlckFkYXB0ZXIodmlldy5yZW5kZXJlcik7XG59XG52YXIgUmVuZGVyZXJBZGFwdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlbmRlcmVyQWRhcHRlcihkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgfVxuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUuc2VsZWN0Um9vdEVsZW1lbnQgPSBmdW5jdGlvbiAoc2VsZWN0b3JPck5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUuc2VsZWN0Um9vdEVsZW1lbnQoc2VsZWN0b3JPck5vZGUpO1xuICAgIH07XG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKHBhcmVudCwgbmFtZXNwYWNlQW5kTmFtZSkge1xuICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3BsaXROYW1lc3BhY2UobmFtZXNwYWNlQW5kTmFtZSksIDIpLCBucyA9IF9hWzBdLCBuYW1lID0gX2FbMV07XG4gICAgICAgIHZhciBlbCA9IHRoaXMuZGVsZWdhdGUuY3JlYXRlRWxlbWVudChuYW1lLCBucyk7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kQ2hpbGQocGFyZW50LCBlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5jcmVhdGVWaWV3Um9vdCA9IGZ1bmN0aW9uIChob3N0RWxlbWVudCkgeyByZXR1cm4gaG9zdEVsZW1lbnQ7IH07XG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5jcmVhdGVUZW1wbGF0ZUFuY2hvciA9IGZ1bmN0aW9uIChwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHZhciBjb21tZW50ID0gdGhpcy5kZWxlZ2F0ZS5jcmVhdGVDb21tZW50KCcnKTtcbiAgICAgICAgaWYgKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kQ2hpbGQocGFyZW50RWxlbWVudCwgY29tbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbW1lbnQ7XG4gICAgfTtcbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLmNyZWF0ZVRleHQgPSBmdW5jdGlvbiAocGFyZW50RWxlbWVudCwgdmFsdWUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLmRlbGVnYXRlLmNyZWF0ZVRleHQodmFsdWUpO1xuICAgICAgICBpZiAocGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRDaGlsZChwYXJlbnRFbGVtZW50LCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUucHJvamVjdE5vZGVzID0gZnVuY3Rpb24gKHBhcmVudEVsZW1lbnQsIG5vZGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYXBwZW5kQ2hpbGQocGFyZW50RWxlbWVudCwgbm9kZXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLmF0dGFjaFZpZXdBZnRlciA9IGZ1bmN0aW9uIChub2RlLCB2aWV3Um9vdE5vZGVzKSB7XG4gICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gdGhpcy5kZWxlZ2F0ZS5wYXJlbnROb2RlKG5vZGUpO1xuICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSB0aGlzLmRlbGVnYXRlLm5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXdSb290Tm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuaW5zZXJ0QmVmb3JlKHBhcmVudEVsZW1lbnQsIHZpZXdSb290Tm9kZXNbaV0sIG5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5kZXRhY2hWaWV3ID0gZnVuY3Rpb24gKHZpZXdSb290Tm9kZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Um9vdE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHZpZXdSb290Tm9kZXNbaV07XG4gICAgICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IHRoaXMuZGVsZWdhdGUucGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUucmVtb3ZlQ2hpbGQocGFyZW50RWxlbWVudCwgbm9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUuZGVzdHJveVZpZXcgPSBmdW5jdGlvbiAoaG9zdEVsZW1lbnQsIHZpZXdBbGxOb2Rlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXdBbGxOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5kZXN0cm95Tm9kZSh2aWV3QWxsTm9kZXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5saXN0ZW4ocmVuZGVyRWxlbWVudCwgbmFtZSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5saXN0ZW5HbG9iYWwgPSBmdW5jdGlvbiAodGFyZ2V0LCBuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5saXN0ZW4odGFyZ2V0LCBuYW1lLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLnNldEVsZW1lbnRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZXRQcm9wZXJ0eShyZW5kZXJFbGVtZW50LCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpO1xuICAgIH07XG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5zZXRFbGVtZW50QXR0cmlidXRlID0gZnVuY3Rpb24gKHJlbmRlckVsZW1lbnQsIG5hbWVzcGFjZUFuZE5hbWUsIGF0dHJpYnV0ZVZhbHVlKSB7XG4gICAgICAgIHZhciBfYSA9IF9fcmVhZChzcGxpdE5hbWVzcGFjZShuYW1lc3BhY2VBbmROYW1lKSwgMiksIG5zID0gX2FbMF0sIG5hbWUgPSBfYVsxXTtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZVZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuc2V0QXR0cmlidXRlKHJlbmRlckVsZW1lbnQsIG5hbWUsIGF0dHJpYnV0ZVZhbHVlLCBucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbGVnYXRlLnJlbW92ZUF0dHJpYnV0ZShyZW5kZXJFbGVtZW50LCBuYW1lLCBucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlbmRlcmVyQWRhcHRlci5wcm90b3R5cGUuc2V0QmluZGluZ0RlYnVnSW5mbyA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWUpIHsgfTtcbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLnNldEVsZW1lbnRDbGFzcyA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBjbGFzc05hbWUsIGlzQWRkKSB7XG4gICAgICAgIGlmIChpc0FkZCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hZGRDbGFzcyhyZW5kZXJFbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5yZW1vdmVDbGFzcyhyZW5kZXJFbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLnNldEVsZW1lbnRTdHlsZSA9IGZ1bmN0aW9uIChyZW5kZXJFbGVtZW50LCBzdHlsZU5hbWUsIHN0eWxlVmFsdWUpIHtcbiAgICAgICAgaWYgKHN0eWxlVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZXRTdHlsZShyZW5kZXJFbGVtZW50LCBzdHlsZU5hbWUsIHN0eWxlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5yZW1vdmVTdHlsZShyZW5kZXJFbGVtZW50LCBzdHlsZU5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLmludm9rZUVsZW1lbnRNZXRob2QgPSBmdW5jdGlvbiAocmVuZGVyRWxlbWVudCwgbWV0aG9kTmFtZSwgYXJncykge1xuICAgICAgICByZW5kZXJFbGVtZW50W21ldGhvZE5hbWVdLmFwcGx5KHJlbmRlckVsZW1lbnQsIGFyZ3MpO1xuICAgIH07XG4gICAgUmVuZGVyZXJBZGFwdGVyLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHJlbmRlck5vZGUkJDEsIHRleHQpIHsgdGhpcy5kZWxlZ2F0ZS5zZXRWYWx1ZShyZW5kZXJOb2RlJCQxLCB0ZXh0KTsgfTtcbiAgICBSZW5kZXJlckFkYXB0ZXIucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBFcnJvcignUmVuZGVyZXIuYW5pbWF0ZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkIScpOyB9O1xuICAgIHJldHVybiBSZW5kZXJlckFkYXB0ZXI7XG59KCkpO1xuZnVuY3Rpb24gY3JlYXRlTmdNb2R1bGVSZWYobW9kdWxlVHlwZSwgcGFyZW50LCBib290c3RyYXBDb21wb25lbnRzLCBkZWYpIHtcbiAgICByZXR1cm4gbmV3IE5nTW9kdWxlUmVmXyhtb2R1bGVUeXBlLCBwYXJlbnQsIGJvb3RzdHJhcENvbXBvbmVudHMsIGRlZik7XG59XG52YXIgTmdNb2R1bGVSZWZfID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5nTW9kdWxlUmVmXyhfbW9kdWxlVHlwZSwgX3BhcmVudCwgX2Jvb3RzdHJhcENvbXBvbmVudHMsIF9kZWYpIHtcbiAgICAgICAgdGhpcy5fbW9kdWxlVHlwZSA9IF9tb2R1bGVUeXBlO1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLl9ib290c3RyYXBDb21wb25lbnRzID0gX2Jvb3RzdHJhcENvbXBvbmVudHM7XG4gICAgICAgIHRoaXMuX2RlZiA9IF9kZWY7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5qZWN0b3IgPSB0aGlzO1xuICAgICAgICBpbml0TmdNb2R1bGUodGhpcyk7XG4gICAgfVxuICAgIE5nTW9kdWxlUmVmXy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHRva2VuLCBub3RGb3VuZFZhbHVlLCBpbmplY3RGbGFncykge1xuICAgICAgICBpZiAobm90Rm91bmRWYWx1ZSA9PT0gdm9pZCAwKSB7IG5vdEZvdW5kVmFsdWUgPSBJbmplY3Rvci5USFJPV19JRl9OT1RfRk9VTkQ7IH1cbiAgICAgICAgaWYgKGluamVjdEZsYWdzID09PSB2b2lkIDApIHsgaW5qZWN0RmxhZ3MgPSBJbmplY3RGbGFncy5EZWZhdWx0OyB9XG4gICAgICAgIHZhciBmbGFncyA9IDAgLyogTm9uZSAqLztcbiAgICAgICAgaWYgKGluamVjdEZsYWdzICYgSW5qZWN0RmxhZ3MuU2tpcFNlbGYpIHtcbiAgICAgICAgICAgIGZsYWdzIHw9IDEgLyogU2tpcFNlbGYgKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5qZWN0RmxhZ3MgJiBJbmplY3RGbGFncy5TZWxmKSB7XG4gICAgICAgICAgICBmbGFncyB8PSA0IC8qIFNlbGYgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVOZ01vZHVsZURlcCh0aGlzLCB7IHRva2VuOiB0b2tlbiwgdG9rZW5LZXk6IHRva2VuS2V5KHRva2VuKSwgZmxhZ3M6IGZsYWdzIH0sIG5vdEZvdW5kVmFsdWUpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5nTW9kdWxlUmVmXy5wcm90b3R5cGUsIFwiaW5zdGFuY2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuX21vZHVsZVR5cGUpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmdNb2R1bGVSZWZfLnByb3RvdHlwZSwgXCJjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2V0KENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcik7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE5nTW9kdWxlUmVmXy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIG5nIG1vZHVsZSBcIiArIHN0cmluZ2lmeSh0aGlzLmluc3RhbmNlLmNvbnN0cnVjdG9yKSArIFwiIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICBjYWxsTmdNb2R1bGVMaWZlY3ljbGUodGhpcywgMTMxMDcyIC8qIE9uRGVzdHJveSAqLyk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKCk7IH0pO1xuICAgIH07XG4gICAgTmdNb2R1bGVSZWZfLnByb3RvdHlwZS5vbkRlc3Ryb3kgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsgdGhpcy5fZGVzdHJveUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTsgfTtcbiAgICByZXR1cm4gTmdNb2R1bGVSZWZfO1xufSgpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xudmFyIFJlbmRlcmVyVjFUb2tlbktleSA9IHRva2VuS2V5KFJlbmRlcmVyKTtcbnZhciBSZW5kZXJlcjJUb2tlbktleSA9IHRva2VuS2V5KFJlbmRlcmVyMik7XG52YXIgRWxlbWVudFJlZlRva2VuS2V5ID0gdG9rZW5LZXkoRWxlbWVudFJlZik7XG52YXIgVmlld0NvbnRhaW5lclJlZlRva2VuS2V5ID0gdG9rZW5LZXkoVmlld0NvbnRhaW5lclJlZik7XG52YXIgVGVtcGxhdGVSZWZUb2tlbktleSA9IHRva2VuS2V5KFRlbXBsYXRlUmVmKTtcbnZhciBDaGFuZ2VEZXRlY3RvclJlZlRva2VuS2V5ID0gdG9rZW5LZXkoQ2hhbmdlRGV0ZWN0b3JSZWYpO1xudmFyIEluamVjdG9yUmVmVG9rZW5LZXkkMSA9IHRva2VuS2V5KEluamVjdG9yKTtcbnZhciBJTkpFQ1RPUlJlZlRva2VuS2V5JDEgPSB0b2tlbktleShJTkpFQ1RPUiQxKTtcbmZ1bmN0aW9uIGRpcmVjdGl2ZURlZihjaGVja0luZGV4LCBmbGFncywgbWF0Y2hlZFF1ZXJpZXMsIGNoaWxkQ291bnQsIGN0b3IsIGRlcHMsIHByb3BzLCBvdXRwdXRzKSB7XG4gICAgdmFyIGJpbmRpbmdzID0gW107XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChwcm9wc1twcm9wXSwgMiksIGJpbmRpbmdJbmRleCA9IF9hWzBdLCBub25NaW5pZmllZE5hbWUgPSBfYVsxXTtcbiAgICAgICAgICAgIGJpbmRpbmdzW2JpbmRpbmdJbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgZmxhZ3M6IDggLyogVHlwZVByb3BlcnR5ICovLFxuICAgICAgICAgICAgICAgIG5hbWU6IHByb3AsIG5vbk1pbmlmaWVkTmFtZTogbm9uTWluaWZpZWROYW1lLFxuICAgICAgICAgICAgICAgIG5zOiBudWxsLFxuICAgICAgICAgICAgICAgIHNlY3VyaXR5Q29udGV4dDogbnVsbCxcbiAgICAgICAgICAgICAgICBzdWZmaXg6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIG91dHB1dERlZnMgPSBbXTtcbiAgICBpZiAob3V0cHV0cykge1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBvdXRwdXRzKSB7XG4gICAgICAgICAgICBvdXRwdXREZWZzLnB1c2goeyB0eXBlOiAxIC8qIERpcmVjdGl2ZU91dHB1dCAqLywgcHJvcE5hbWU6IHByb3BOYW1lLCB0YXJnZXQ6IG51bGwsIGV2ZW50TmFtZTogb3V0cHV0c1twcm9wTmFtZV0gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmxhZ3MgfD0gMTYzODQgLyogVHlwZURpcmVjdGl2ZSAqLztcbiAgICByZXR1cm4gX2RlZihjaGVja0luZGV4LCBmbGFncywgbWF0Y2hlZFF1ZXJpZXMsIGNoaWxkQ291bnQsIGN0b3IsIGN0b3IsIGRlcHMsIGJpbmRpbmdzLCBvdXRwdXREZWZzKTtcbn1cbmZ1bmN0aW9uIHBpcGVEZWYoZmxhZ3MsIGN0b3IsIGRlcHMpIHtcbiAgICBmbGFncyB8PSAxNiAvKiBUeXBlUGlwZSAqLztcbiAgICByZXR1cm4gX2RlZigtMSwgZmxhZ3MsIG51bGwsIDAsIGN0b3IsIGN0b3IsIGRlcHMpO1xufVxuZnVuY3Rpb24gcHJvdmlkZXJEZWYoZmxhZ3MsIG1hdGNoZWRRdWVyaWVzLCB0b2tlbiwgdmFsdWUsIGRlcHMpIHtcbiAgICByZXR1cm4gX2RlZigtMSwgZmxhZ3MsIG1hdGNoZWRRdWVyaWVzLCAwLCB0b2tlbiwgdmFsdWUsIGRlcHMpO1xufVxuZnVuY3Rpb24gX2RlZihjaGVja0luZGV4LCBmbGFncywgbWF0Y2hlZFF1ZXJpZXNEc2wsIGNoaWxkQ291bnQsIHRva2VuLCB2YWx1ZSwgZGVwcywgYmluZGluZ3MsIG91dHB1dHMpIHtcbiAgICB2YXIgX2EgPSBzcGxpdE1hdGNoZWRRdWVyaWVzRHNsKG1hdGNoZWRRdWVyaWVzRHNsKSwgbWF0Y2hlZFF1ZXJpZXMgPSBfYS5tYXRjaGVkUXVlcmllcywgcmVmZXJlbmNlcyA9IF9hLnJlZmVyZW5jZXMsIG1hdGNoZWRRdWVyeUlkcyA9IF9hLm1hdGNoZWRRdWVyeUlkcztcbiAgICBpZiAoIW91dHB1dHMpIHtcbiAgICAgICAgb3V0cHV0cyA9IFtdO1xuICAgIH1cbiAgICBpZiAoIWJpbmRpbmdzKSB7XG4gICAgICAgIGJpbmRpbmdzID0gW107XG4gICAgfVxuICAgIC8vIE5lZWQgdG8gcmVzb2x2ZSBmb3J3YXJkUmVmcyBhcyBlLmcuIGZvciBgdXNlVmFsdWVgIHdlXG4gICAgLy8gbG93ZXJlZCB0aGUgZXhwcmVzc2lvbiBhbmQgdGhlbiBzdG9wcGVkIGV2YWx1YXRpbmcgaXQsXG4gICAgLy8gaS5lLiBhbHNvIGRpZG4ndCB1bndyYXAgaXQuXG4gICAgdmFsdWUgPSByZXNvbHZlRm9yd2FyZFJlZih2YWx1ZSk7XG4gICAgdmFyIGRlcERlZnMgPSBzcGxpdERlcHNEc2woZGVwcywgc3RyaW5naWZ5KHRva2VuKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gd2lsbCBiZXQgc2V0IGJ5IHRoZSB2aWV3IGRlZmluaXRpb25cbiAgICAgICAgbm9kZUluZGV4OiAtMSxcbiAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICByZW5kZXJQYXJlbnQ6IG51bGwsXG4gICAgICAgIGJpbmRpbmdJbmRleDogLTEsXG4gICAgICAgIG91dHB1dEluZGV4OiAtMSxcbiAgICAgICAgLy8gcmVndWxhciB2YWx1ZXNcbiAgICAgICAgY2hlY2tJbmRleDogY2hlY2tJbmRleCxcbiAgICAgICAgZmxhZ3M6IGZsYWdzLFxuICAgICAgICBjaGlsZEZsYWdzOiAwLFxuICAgICAgICBkaXJlY3RDaGlsZEZsYWdzOiAwLFxuICAgICAgICBjaGlsZE1hdGNoZWRRdWVyaWVzOiAwLCBtYXRjaGVkUXVlcmllczogbWF0Y2hlZFF1ZXJpZXMsIG1hdGNoZWRRdWVyeUlkczogbWF0Y2hlZFF1ZXJ5SWRzLCByZWZlcmVuY2VzOiByZWZlcmVuY2VzLFxuICAgICAgICBuZ0NvbnRlbnRJbmRleDogLTEsIGNoaWxkQ291bnQ6IGNoaWxkQ291bnQsIGJpbmRpbmdzOiBiaW5kaW5ncyxcbiAgICAgICAgYmluZGluZ0ZsYWdzOiBjYWxjQmluZGluZ0ZsYWdzKGJpbmRpbmdzKSwgb3V0cHV0czogb3V0cHV0cyxcbiAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgcHJvdmlkZXI6IHsgdG9rZW46IHRva2VuLCB2YWx1ZTogdmFsdWUsIGRlcHM6IGRlcERlZnMgfSxcbiAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgcXVlcnk6IG51bGwsXG4gICAgICAgIG5nQ29udGVudDogbnVsbFxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVQcm92aWRlckluc3RhbmNlKHZpZXcsIGRlZikge1xuICAgIHJldHVybiBfY3JlYXRlUHJvdmlkZXJJbnN0YW5jZSQxKHZpZXcsIGRlZik7XG59XG5mdW5jdGlvbiBjcmVhdGVQaXBlSW5zdGFuY2UodmlldywgZGVmKSB7XG4gICAgLy8gZGVwcyBhcmUgbG9va2VkIHVwIGZyb20gY29tcG9uZW50LlxuICAgIHZhciBjb21wVmlldyA9IHZpZXc7XG4gICAgd2hpbGUgKGNvbXBWaWV3LnBhcmVudCAmJiAhaXNDb21wb25lbnRWaWV3KGNvbXBWaWV3KSkge1xuICAgICAgICBjb21wVmlldyA9IGNvbXBWaWV3LnBhcmVudDtcbiAgICB9XG4gICAgLy8gcGlwZXMgY2FuIHNlZSB0aGUgcHJpdmF0ZSBzZXJ2aWNlcyBvZiB0aGUgY29tcG9uZW50XG4gICAgdmFyIGFsbG93UHJpdmF0ZVNlcnZpY2VzID0gdHJ1ZTtcbiAgICAvLyBwaXBlcyBhcmUgYWx3YXlzIGVhZ2VyIGFuZCBjbGFzc2VzIVxuICAgIHJldHVybiBjcmVhdGVDbGFzcyhjb21wVmlldy5wYXJlbnQsIHZpZXdQYXJlbnRFbChjb21wVmlldyksIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZWYucHJvdmlkZXIudmFsdWUsIGRlZi5wcm92aWRlci5kZXBzKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURpcmVjdGl2ZUluc3RhbmNlKHZpZXcsIGRlZikge1xuICAgIC8vIGNvbXBvbmVudHMgY2FuIHNlZSBvdGhlciBwcml2YXRlIHNlcnZpY2VzLCBvdGhlciBkaXJlY3RpdmVzIGNhbid0LlxuICAgIHZhciBhbGxvd1ByaXZhdGVTZXJ2aWNlcyA9IChkZWYuZmxhZ3MgJiAzMjc2OCAvKiBDb21wb25lbnQgKi8pID4gMDtcbiAgICAvLyBkaXJlY3RpdmVzIGFyZSBhbHdheXMgZWFnZXIgYW5kIGNsYXNzZXMhXG4gICAgdmFyIGluc3RhbmNlID0gY3JlYXRlQ2xhc3ModmlldywgZGVmLnBhcmVudCwgYWxsb3dQcml2YXRlU2VydmljZXMsIGRlZi5wcm92aWRlci52YWx1ZSwgZGVmLnByb3ZpZGVyLmRlcHMpO1xuICAgIGlmIChkZWYub3V0cHV0cy5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWYub3V0cHV0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9IGRlZi5vdXRwdXRzW2ldO1xuICAgICAgICAgICAgdmFyIG91dHB1dE9ic2VydmFibGUgPSBpbnN0YW5jZVtvdXRwdXQucHJvcE5hbWVdO1xuICAgICAgICAgICAgaWYgKGlzT2JzZXJ2YWJsZShvdXRwdXRPYnNlcnZhYmxlKSkge1xuICAgICAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBvdXRwdXRPYnNlcnZhYmxlLnN1YnNjcmliZShldmVudEhhbmRsZXJDbG9zdXJlKHZpZXcsIGRlZi5wYXJlbnQubm9kZUluZGV4LCBvdXRwdXQuZXZlbnROYW1lKSk7XG4gICAgICAgICAgICAgICAgdmlldy5kaXNwb3NhYmxlc1tkZWYub3V0cHV0SW5kZXggKyBpXSA9IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZS5iaW5kKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJAT3V0cHV0IFwiICsgb3V0cHV0LnByb3BOYW1lICsgXCIgbm90IGluaXRpYWxpemVkIGluICdcIiArIGluc3RhbmNlLmNvbnN0cnVjdG9yLm5hbWUgKyBcIicuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cbmZ1bmN0aW9uIGV2ZW50SGFuZGxlckNsb3N1cmUodmlldywgaW5kZXgsIGV2ZW50TmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGRpc3BhdGNoRXZlbnQodmlldywgaW5kZXgsIGV2ZW50TmFtZSwgZXZlbnQpOyB9O1xufVxuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVEaXJlY3RpdmVJbmxpbmUodmlldywgZGVmLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSkge1xuICAgIHZhciBwcm92aWRlckRhdGEgPSBhc1Byb3ZpZGVyRGF0YSh2aWV3LCBkZWYubm9kZUluZGV4KTtcbiAgICB2YXIgZGlyZWN0aXZlID0gcHJvdmlkZXJEYXRhLmluc3RhbmNlO1xuICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIGNoYW5nZXMgPSB1bmRlZmluZWQ7XG4gICAgdmFyIGJpbmRMZW4gPSBkZWYuYmluZGluZ3MubGVuZ3RoO1xuICAgIGlmIChiaW5kTGVuID4gMCAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCAwLCB2MCkpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCAwLCB2MCwgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChiaW5kTGVuID4gMSAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCAxLCB2MSkpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCAxLCB2MSwgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChiaW5kTGVuID4gMiAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCAyLCB2MikpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCAyLCB2MiwgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChiaW5kTGVuID4gMyAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCAzLCB2MykpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCAzLCB2MywgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChiaW5kTGVuID4gNCAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCA0LCB2NCkpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCA0LCB2NCwgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChiaW5kTGVuID4gNSAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCA1LCB2NSkpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCA1LCB2NSwgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChiaW5kTGVuID4gNiAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCA2LCB2NikpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCA2LCB2NiwgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChiaW5kTGVuID4gNyAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCA3LCB2NykpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCA3LCB2NywgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChiaW5kTGVuID4gOCAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCA4LCB2OCkpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCA4LCB2OCwgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChiaW5kTGVuID4gOSAmJiBjaGVja0JpbmRpbmcodmlldywgZGVmLCA5LCB2OSkpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGNoYW5nZXMgPSB1cGRhdGVQcm9wKHZpZXcsIHByb3ZpZGVyRGF0YSwgZGVmLCA5LCB2OSwgY2hhbmdlcyk7XG4gICAgfVxuICAgIGlmIChjaGFuZ2VzKSB7XG4gICAgICAgIGRpcmVjdGl2ZS5uZ09uQ2hhbmdlcyhjaGFuZ2VzKTtcbiAgICB9XG4gICAgaWYgKChkZWYuZmxhZ3MgJiA2NTUzNiAvKiBPbkluaXQgKi8pICYmXG4gICAgICAgIHNob3VsZENhbGxMaWZlY3ljbGVJbml0SG9vayh2aWV3LCAyNTYgLyogSW5pdFN0YXRlX0NhbGxpbmdPbkluaXQgKi8sIGRlZi5ub2RlSW5kZXgpKSB7XG4gICAgICAgIGRpcmVjdGl2ZS5uZ09uSW5pdCgpO1xuICAgIH1cbiAgICBpZiAoZGVmLmZsYWdzICYgMjYyMTQ0IC8qIERvQ2hlY2sgKi8pIHtcbiAgICAgICAgZGlyZWN0aXZlLm5nRG9DaGVjaygpO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbmdlZDtcbn1cbmZ1bmN0aW9uIGNoZWNrQW5kVXBkYXRlRGlyZWN0aXZlRHluYW1pYyh2aWV3LCBkZWYsIHZhbHVlcykge1xuICAgIHZhciBwcm92aWRlckRhdGEgPSBhc1Byb3ZpZGVyRGF0YSh2aWV3LCBkZWYubm9kZUluZGV4KTtcbiAgICB2YXIgZGlyZWN0aXZlID0gcHJvdmlkZXJEYXRhLmluc3RhbmNlO1xuICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIGNoYW5nZXMgPSB1bmRlZmluZWQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNoZWNrQmluZGluZyh2aWV3LCBkZWYsIGksIHZhbHVlc1tpXSkpIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2hhbmdlcyA9IHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIGksIHZhbHVlc1tpXSwgY2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYW5nZXMpIHtcbiAgICAgICAgZGlyZWN0aXZlLm5nT25DaGFuZ2VzKGNoYW5nZXMpO1xuICAgIH1cbiAgICBpZiAoKGRlZi5mbGFncyAmIDY1NTM2IC8qIE9uSW5pdCAqLykgJiZcbiAgICAgICAgc2hvdWxkQ2FsbExpZmVjeWNsZUluaXRIb29rKHZpZXcsIDI1NiAvKiBJbml0U3RhdGVfQ2FsbGluZ09uSW5pdCAqLywgZGVmLm5vZGVJbmRleCkpIHtcbiAgICAgICAgZGlyZWN0aXZlLm5nT25Jbml0KCk7XG4gICAgfVxuICAgIGlmIChkZWYuZmxhZ3MgJiAyNjIxNDQgLyogRG9DaGVjayAqLykge1xuICAgICAgICBkaXJlY3RpdmUubmdEb0NoZWNrKCk7XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xufVxuZnVuY3Rpb24gX2NyZWF0ZVByb3ZpZGVySW5zdGFuY2UkMSh2aWV3LCBkZWYpIHtcbiAgICAvLyBwcml2YXRlIHNlcnZpY2VzIGNhbiBzZWUgb3RoZXIgcHJpdmF0ZSBzZXJ2aWNlc1xuICAgIHZhciBhbGxvd1ByaXZhdGVTZXJ2aWNlcyA9IChkZWYuZmxhZ3MgJiA4MTkyIC8qIFByaXZhdGVQcm92aWRlciAqLykgPiAwO1xuICAgIHZhciBwcm92aWRlckRlZiA9IGRlZi5wcm92aWRlcjtcbiAgICBzd2l0Y2ggKGRlZi5mbGFncyAmIDIwMTM0NzA2NyAvKiBUeXBlcyAqLykge1xuICAgICAgICBjYXNlIDUxMiAvKiBUeXBlQ2xhc3NQcm92aWRlciAqLzpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDbGFzcyh2aWV3LCBkZWYucGFyZW50LCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgcHJvdmlkZXJEZWYudmFsdWUsIHByb3ZpZGVyRGVmLmRlcHMpO1xuICAgICAgICBjYXNlIDEwMjQgLyogVHlwZUZhY3RvcnlQcm92aWRlciAqLzpcbiAgICAgICAgICAgIHJldHVybiBjYWxsRmFjdG9yeSh2aWV3LCBkZWYucGFyZW50LCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgcHJvdmlkZXJEZWYudmFsdWUsIHByb3ZpZGVyRGVmLmRlcHMpO1xuICAgICAgICBjYXNlIDIwNDggLyogVHlwZVVzZUV4aXN0aW5nUHJvdmlkZXIgKi86XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZURlcCh2aWV3LCBkZWYucGFyZW50LCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgcHJvdmlkZXJEZWYuZGVwc1swXSk7XG4gICAgICAgIGNhc2UgMjU2IC8qIFR5cGVWYWx1ZVByb3ZpZGVyICovOlxuICAgICAgICAgICAgcmV0dXJuIHByb3ZpZGVyRGVmLnZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUNsYXNzKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgY3RvciwgZGVwcykge1xuICAgIHZhciBsZW4gPSBkZXBzLmxlbmd0aDtcbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gbmV3IGN0b3IoKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBjdG9yKHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzBdKSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcihyZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwc1swXSksIHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzFdKSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgY3RvcihyZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwc1swXSksIHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzFdKSwgcmVzb2x2ZURlcCh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMsIGRlcHNbMl0pKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhciBkZXBWYWx1ZXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkZXBWYWx1ZXNbaV0gPSByZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IChjdG9yLmJpbmQuYXBwbHkoY3RvciwgX19zcHJlYWQoW3ZvaWQgMF0sIGRlcFZhbHVlcykpKSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNhbGxGYWN0b3J5KHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZmFjdG9yeSwgZGVwcykge1xuICAgIHZhciBsZW4gPSBkZXBzLmxlbmd0aDtcbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeSgpO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeShyZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwc1swXSkpO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeShyZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwc1swXSksIHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzFdKSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KHJlc29sdmVEZXAodmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzLCBkZXBzWzBdKSwgcmVzb2x2ZURlcCh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMsIGRlcHNbMV0pLCByZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwc1syXSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIGRlcFZhbHVlcyA9IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZGVwVmFsdWVzW2ldID0gcmVzb2x2ZURlcCh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMsIGRlcHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkuYXBwbHkodm9pZCAwLCBfX3NwcmVhZChkZXBWYWx1ZXMpKTtcbiAgICB9XG59XG4vLyBUaGlzIGRlZmF1bHQgdmFsdWUgaXMgd2hlbiBjaGVja2luZyB0aGUgaGllcmFyY2h5IGZvciBhIHRva2VuLlxuLy9cbi8vIEl0IG1lYW5zIGJvdGg6XG4vLyAtIHRoZSB0b2tlbiBpcyBub3QgcHJvdmlkZWQgYnkgdGhlIGN1cnJlbnQgaW5qZWN0b3IsXG4vLyAtIG9ubHkgdGhlIGVsZW1lbnQgaW5qZWN0b3JzIHNob3VsZCBiZSBjaGVja2VkIChpZSBkbyBub3QgY2hlY2sgbW9kdWxlIGluamVjdG9yc1xuLy9cbi8vICAgICAgICAgIG1vZDFcbi8vICAgICAgICAgL1xuLy8gICAgICAgZWwxICAgbW9kMlxuLy8gICAgICAgICBcXCAgL1xuLy8gICAgICAgICBlbDJcbi8vXG4vLyBXaGVuIHJlcXVlc3RpbmcgZWwyLmluamVjdG9yLmdldCh0b2tlbiksIHdlIHNob3VsZCBjaGVjayBpbiB0aGUgZm9sbG93aW5nIG9yZGVyIGFuZCByZXR1cm4gdGhlXG4vLyBmaXJzdCBmb3VuZCB2YWx1ZTpcbi8vIC0gZWwyLmluamVjdG9yLmdldCh0b2tlbiwgZGVmYXVsdClcbi8vIC0gZWwxLmluamVjdG9yLmdldCh0b2tlbiwgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUikgLT4gZG8gbm90IGNoZWNrIHRoZSBtb2R1bGVcbi8vIC0gbW9kMi5pbmplY3Rvci5nZXQodG9rZW4sIGRlZmF1bHQpXG52YXIgTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiQxID0ge307XG5mdW5jdGlvbiByZXNvbHZlRGVwKHZpZXcsIGVsRGVmLCBhbGxvd1ByaXZhdGVTZXJ2aWNlcywgZGVwRGVmLCBub3RGb3VuZFZhbHVlKSB7XG4gICAgaWYgKG5vdEZvdW5kVmFsdWUgPT09IHZvaWQgMCkgeyBub3RGb3VuZFZhbHVlID0gSW5qZWN0b3IuVEhST1dfSUZfTk9UX0ZPVU5EOyB9XG4gICAgaWYgKGRlcERlZi5mbGFncyAmIDggLyogVmFsdWUgKi8pIHtcbiAgICAgICAgcmV0dXJuIGRlcERlZi50b2tlbjtcbiAgICB9XG4gICAgdmFyIHN0YXJ0VmlldyA9IHZpZXc7XG4gICAgaWYgKGRlcERlZi5mbGFncyAmIDIgLyogT3B0aW9uYWwgKi8pIHtcbiAgICAgICAgbm90Rm91bmRWYWx1ZSA9IG51bGw7XG4gICAgfVxuICAgIHZhciB0b2tlbktleSQkMSA9IGRlcERlZi50b2tlbktleTtcbiAgICBpZiAodG9rZW5LZXkkJDEgPT09IENoYW5nZURldGVjdG9yUmVmVG9rZW5LZXkpIHtcbiAgICAgICAgLy8gZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIGEgY29tcG9uZW50IHNob3VsZCBiZSBhYmxlIHRvIGNvbnRyb2wgdGhlIGNoYW5nZSBkZXRlY3RvclxuICAgICAgICAvLyBvZiB0aGF0IGNvbXBvbmVudCBhcyB3ZWxsLlxuICAgICAgICBhbGxvd1ByaXZhdGVTZXJ2aWNlcyA9ICEhKGVsRGVmICYmIGVsRGVmLmVsZW1lbnQuY29tcG9uZW50Vmlldyk7XG4gICAgfVxuICAgIGlmIChlbERlZiAmJiAoZGVwRGVmLmZsYWdzICYgMSAvKiBTa2lwU2VsZiAqLykpIHtcbiAgICAgICAgYWxsb3dQcml2YXRlU2VydmljZXMgPSBmYWxzZTtcbiAgICAgICAgZWxEZWYgPSBlbERlZi5wYXJlbnQ7XG4gICAgfVxuICAgIHZhciBzZWFyY2hWaWV3ID0gdmlldztcbiAgICB3aGlsZSAoc2VhcmNoVmlldykge1xuICAgICAgICBpZiAoZWxEZWYpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW5LZXkkJDEpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFJlbmRlcmVyVjFUb2tlbktleToge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcFZpZXcgPSBmaW5kQ29tcFZpZXcoc2VhcmNoVmlldywgZWxEZWYsIGFsbG93UHJpdmF0ZVNlcnZpY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJlbmRlcmVyVjEoY29tcFZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFJlbmRlcmVyMlRva2VuS2V5OiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wVmlldyA9IGZpbmRDb21wVmlldyhzZWFyY2hWaWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcFZpZXcucmVuZGVyZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgRWxlbWVudFJlZlRva2VuS2V5OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVsZW1lbnRSZWYoYXNFbGVtZW50RGF0YShzZWFyY2hWaWV3LCBlbERlZi5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGNhc2UgVmlld0NvbnRhaW5lclJlZlRva2VuS2V5OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXNFbGVtZW50RGF0YShzZWFyY2hWaWV3LCBlbERlZi5ub2RlSW5kZXgpLnZpZXdDb250YWluZXI7XG4gICAgICAgICAgICAgICAgY2FzZSBUZW1wbGF0ZVJlZlRva2VuS2V5OiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbERlZi5lbGVtZW50LnRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXNFbGVtZW50RGF0YShzZWFyY2hWaWV3LCBlbERlZi5ub2RlSW5kZXgpLnRlbXBsYXRlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIENoYW5nZURldGVjdG9yUmVmVG9rZW5LZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNkVmlldyA9IGZpbmRDb21wVmlldyhzZWFyY2hWaWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2hhbmdlRGV0ZWN0b3JSZWYoY2RWaWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBJbmplY3RvclJlZlRva2VuS2V5JDE6XG4gICAgICAgICAgICAgICAgY2FzZSBJTkpFQ1RPUlJlZlRva2VuS2V5JDE6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbmplY3RvciQxKHNlYXJjaFZpZXcsIGVsRGVmKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJEZWZfMSA9IChhbGxvd1ByaXZhdGVTZXJ2aWNlcyA/IGVsRGVmLmVsZW1lbnQuYWxsUHJvdmlkZXJzIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsRGVmLmVsZW1lbnQucHVibGljUHJvdmlkZXJzKVt0b2tlbktleSQkMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm92aWRlckRlZl8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJEYXRhID0gYXNQcm92aWRlckRhdGEoc2VhcmNoVmlldywgcHJvdmlkZXJEZWZfMS5ub2RlSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm92aWRlckRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlckRhdGEgPSB7IGluc3RhbmNlOiBfY3JlYXRlUHJvdmlkZXJJbnN0YW5jZSQxKHNlYXJjaFZpZXcsIHByb3ZpZGVyRGVmXzEpIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoVmlldy5ub2Rlc1twcm92aWRlckRlZl8xLm5vZGVJbmRleF0gPSBwcm92aWRlckRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvdmlkZXJEYXRhLmluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWxsb3dQcml2YXRlU2VydmljZXMgPSBpc0NvbXBvbmVudFZpZXcoc2VhcmNoVmlldyk7XG4gICAgICAgIGVsRGVmID0gdmlld1BhcmVudEVsKHNlYXJjaFZpZXcpO1xuICAgICAgICBzZWFyY2hWaWV3ID0gc2VhcmNoVmlldy5wYXJlbnQ7XG4gICAgICAgIGlmIChkZXBEZWYuZmxhZ3MgJiA0IC8qIFNlbGYgKi8pIHtcbiAgICAgICAgICAgIHNlYXJjaFZpZXcgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciB2YWx1ZSA9IHN0YXJ0Vmlldy5yb290LmluamVjdG9yLmdldChkZXBEZWYudG9rZW4sIE5PVF9GT1VORF9DSEVDS19PTkxZX0VMRU1FTlRfSU5KRUNUT1IkMSk7XG4gICAgaWYgKHZhbHVlICE9PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SJDEgfHxcbiAgICAgICAgbm90Rm91bmRWYWx1ZSA9PT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUiQxKSB7XG4gICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgZnJvbSB0aGUgcm9vdCBlbGVtZW50IGluamVjdG9yIHdoZW5cbiAgICAgICAgLy8gLSBpdCBwcm92aWRlcyBpdFxuICAgICAgICAvLyAgICh2YWx1ZSAhPT0gTk9UX0ZPVU5EX0NIRUNLX09OTFlfRUxFTUVOVF9JTkpFQ1RPUilcbiAgICAgICAgLy8gLSB0aGUgbW9kdWxlIGluamVjdG9yIHNob3VsZCBub3QgYmUgY2hlY2tlZFxuICAgICAgICAvLyAgIChub3RGb3VuZFZhbHVlID09PSBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBzdGFydFZpZXcucm9vdC5uZ01vZHVsZS5pbmplY3Rvci5nZXQoZGVwRGVmLnRva2VuLCBub3RGb3VuZFZhbHVlKTtcbn1cbmZ1bmN0aW9uIGZpbmRDb21wVmlldyh2aWV3LCBlbERlZiwgYWxsb3dQcml2YXRlU2VydmljZXMpIHtcbiAgICB2YXIgY29tcFZpZXc7XG4gICAgaWYgKGFsbG93UHJpdmF0ZVNlcnZpY2VzKSB7XG4gICAgICAgIGNvbXBWaWV3ID0gYXNFbGVtZW50RGF0YSh2aWV3LCBlbERlZi5ub2RlSW5kZXgpLmNvbXBvbmVudFZpZXc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb21wVmlldyA9IHZpZXc7XG4gICAgICAgIHdoaWxlIChjb21wVmlldy5wYXJlbnQgJiYgIWlzQ29tcG9uZW50Vmlldyhjb21wVmlldykpIHtcbiAgICAgICAgICAgIGNvbXBWaWV3ID0gY29tcFZpZXcucGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21wVmlldztcbn1cbmZ1bmN0aW9uIHVwZGF0ZVByb3AodmlldywgcHJvdmlkZXJEYXRhLCBkZWYsIGJpbmRpbmdJZHgsIHZhbHVlLCBjaGFuZ2VzKSB7XG4gICAgaWYgKGRlZi5mbGFncyAmIDMyNzY4IC8qIENvbXBvbmVudCAqLykge1xuICAgICAgICB2YXIgY29tcFZpZXcgPSBhc0VsZW1lbnREYXRhKHZpZXcsIGRlZi5wYXJlbnQubm9kZUluZGV4KS5jb21wb25lbnRWaWV3O1xuICAgICAgICBpZiAoY29tcFZpZXcuZGVmLmZsYWdzICYgMiAvKiBPblB1c2ggKi8pIHtcbiAgICAgICAgICAgIGNvbXBWaWV3LnN0YXRlIHw9IDggLyogQ2hlY2tzRW5hYmxlZCAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgYmluZGluZyA9IGRlZi5iaW5kaW5nc1tiaW5kaW5nSWR4XTtcbiAgICB2YXIgcHJvcE5hbWUgPSBiaW5kaW5nLm5hbWU7XG4gICAgLy8gTm90ZTogVGhpcyBpcyBzdGlsbCBzYWZlIHdpdGggQ2xvc3VyZSBDb21waWxlciBhc1xuICAgIC8vIHRoZSB1c2VyIHBhc3NlZCBpbiB0aGUgcHJvcGVydHkgbmFtZSBhcyBhbiBvYmplY3QgaGFzIHRvIGBwcm92aWRlckRlZmAsXG4gICAgLy8gc28gQ2xvc3VyZSBDb21waWxlciB3aWxsIGhhdmUgcmVuYW1lZCB0aGUgcHJvcGVydHkgY29ycmVjdGx5IGFscmVhZHkuXG4gICAgcHJvdmlkZXJEYXRhLmluc3RhbmNlW3Byb3BOYW1lXSA9IHZhbHVlO1xuICAgIGlmIChkZWYuZmxhZ3MgJiA1MjQyODggLyogT25DaGFuZ2VzICovKSB7XG4gICAgICAgIGNoYW5nZXMgPSBjaGFuZ2VzIHx8IHt9O1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSBXcmFwcGVkVmFsdWUudW53cmFwKHZpZXcub2xkVmFsdWVzW2RlZi5iaW5kaW5nSW5kZXggKyBiaW5kaW5nSWR4XSk7XG4gICAgICAgIHZhciBiaW5kaW5nXzEgPSBkZWYuYmluZGluZ3NbYmluZGluZ0lkeF07XG4gICAgICAgIGNoYW5nZXNbYmluZGluZ18xLm5vbk1pbmlmaWVkTmFtZV0gPVxuICAgICAgICAgICAgbmV3IFNpbXBsZUNoYW5nZShvbGRWYWx1ZSwgdmFsdWUsICh2aWV3LnN0YXRlICYgMiAvKiBGaXJzdENoZWNrICovKSAhPT0gMCk7XG4gICAgfVxuICAgIHZpZXcub2xkVmFsdWVzW2RlZi5iaW5kaW5nSW5kZXggKyBiaW5kaW5nSWR4XSA9IHZhbHVlO1xuICAgIHJldHVybiBjaGFuZ2VzO1xufVxuLy8gVGhpcyBmdW5jdGlvbiBjYWxscyB0aGUgbmdBZnRlckNvbnRlbnRDaGVjaywgbmdBZnRlckNvbnRlbnRJbml0LFxuLy8gbmdBZnRlclZpZXdDaGVjaywgYW5kIG5nQWZ0ZXJWaWV3SW5pdCBsaWZlY3ljbGUgaG9va3MgKGRlcGVuZGluZyBvbiB0aGUgbm9kZVxuLy8gZmxhZ3MgaW4gbGlmZWN5Y2xlKS4gVW5saWtlIG5nRG9DaGVjaywgbmdPbkNoYW5nZXMgYW5kIG5nT25Jbml0LCB3aGljaCBhcmVcbi8vIGNhbGxlZCBkdXJpbmcgYSBwcmUtb3JkZXIgdHJhdmVyc2FsIG9mIHRoZSB2aWV3IHRyZWUgKHRoYXQgaXMgY2FsbGluZyB0aGVcbi8vIHBhcmVudCBob29rcyBiZWZvcmUgdGhlIGNoaWxkIGhvb2tzKSB0aGVzZSBldmVudHMgYXJlIHNlbnQgaW4gdXNpbmcgYVxuLy8gcG9zdC1vcmRlciB0cmF2ZXJzYWwgb2YgdGhlIHRyZWUgKGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzKS4gVGhpcyBjaGFuZ2VzIHRoZVxuLy8gbWVhbmluZyBvZiBpbml0SW5kZXggaW4gdGhlIHZpZXcgc3RhdGUuIEZvciBuZ09uSW5pdCwgaW5pdEluZGV4IHRyYWNrcyB0aGVcbi8vIGV4cGVjdGVkIG5vZGVJbmRleCB3aGljaCBhIG5nT25Jbml0IHNob3VsZCBiZSBjYWxsZWQuIFdoZW4gc2VuZGluZ1xuLy8gbmdBZnRlckNvbnRlbnRJbml0IGFuZCBuZ0FmdGVyVmlld0luaXQgaXQgaXMgdGhlIGV4cGVjdGVkIGNvdW50IG9mXG4vLyBuZ0FmdGVyQ29udGVudEluaXQgb3IgbmdBZnRlclZpZXdJbml0IG1ldGhvZHMgdGhhdCBoYXZlIGJlZW4gY2FsbGVkLiBUaGlzXG4vLyBlbnN1cmUgdGhhdCBkZXNwaXRlIGJlaW5nIGNhbGxlZCByZWN1cnNpdmVseSBvciBhZnRlciBwaWNraW5nIHVwIGFmdGVyIGFuXG4vLyBleGNlcHRpb24sIHRoZSBuZ0FmdGVyQ29udGVudEluaXQgb3IgbmdBZnRlclZpZXdJbml0IHdpbGwgYmUgY2FsbGVkIG9uIHRoZVxuLy8gY29ycmVjdCBub2Rlcy4gQ29uc2lkZXIgZm9yIGV4YW1wbGUsIHRoZSBmb2xsb3dpbmcgKHdoZXJlIEUgaXMgYW4gZWxlbWVudFxuLy8gYW5kIEQgaXMgYSBkaXJlY3RpdmUpXG4vLyAgVHJlZTogICAgICAgcHJlLW9yZGVyIGluZGV4ICBwb3N0LW9yZGVyIGluZGV4XG4vLyAgICBFMSAgICAgICAgMCAgICAgICAgICAgICAgICA2XG4vLyAgICAgIEUyICAgICAgMSAgICAgICAgICAgICAgICAxXG4vLyAgICAgICBEMyAgICAgMiAgICAgICAgICAgICAgICAwXG4vLyAgICAgIEU0ICAgICAgMyAgICAgICAgICAgICAgICA1XG4vLyAgICAgICBFNSAgICAgNCAgICAgICAgICAgICAgICA0XG4vLyAgICAgICAgRTYgICAgNSAgICAgICAgICAgICAgICAyXG4vLyAgICAgICAgRTcgICAgNiAgICAgICAgICAgICAgICAzXG4vLyBBcyBjYW4gYmUgc2VlbiwgdGhlIHBvc3Qtb3JkZXIgaW5kZXggaGFzIGFuIHVuY2xlYXIgcmVsYXRpb25zaGlwIHRvIHRoZVxuLy8gcHJlLW9yZGVyIGluZGV4IChwb3N0T3JkZXJJbmRleCA9PT0gcHJlT3JkZXJJbmRleCAtIHBhcmVudENvdW50ICtcbi8vIGNoaWxkQ291bnQpLiBTaW5jZSBudW1iZXIgb2YgY2FsbHMgdG8gbmdBZnRlckNvbnRlbnRJbml0IGFuZCBuZ0FmdGVyVmlld0luaXRcbi8vIGFyZSBzdGFibGUgKHdpbGwgYmUgdGhlIHNhbWUgZm9yIHRoZSBzYW1lIHZpZXcgcmVnYXJkbGVzcyBvZiBleGNlcHRpb25zIG9yXG4vLyByZWN1cnNpb24pIHdlIGp1c3QgbmVlZCB0byBjb3VudCB0aGVtIHdoaWNoIHdpbGwgcm91Z2hseSBjb3JyZXNwb25kIHRvIHRoZVxuLy8gcG9zdC1vcmRlciBpbmRleCAoaXQgc2tpcHMgZWxlbWVudHMgYW5kIGRpcmVjdGl2ZXMgdGhhdCBkbyBub3QgaGF2ZVxuLy8gbGlmZWN5Y2xlIGhvb2tzKS5cbi8vXG4vLyBGb3IgZXhhbXBsZSwgaWYgYW4gZXhjZXB0aW9uIGlzIHJhaXNlZCBpbiB0aGUgRTYub25BZnRlclZpZXdJbml0KCkgdGhlXG4vLyBpbml0SW5kZXggaXMgbGVmdCBhdCAzIChieSBzaG91bGRDYWxsTGlmZWN5Y2xlSW5pdEhvb2soKSB3aGljaCBzZXQgaXQgdG9cbi8vIGluaXRJbmRleCArIDEpLiBXaGVuIGNoZWNrQW5kVXBkYXRlVmlldygpIGlzIGNhbGxlZCBhZ2FpbiBEMywgRTIgYW5kIEU2IHdpbGxcbi8vIG5vdCBoYXZlIHRoZWlyIG5nQWZ0ZXJWaWV3SW5pdCgpIGNhbGxlZCBidXQsIHN0YXJ0aW5nIHdpdGggRTcsIHRoZSByZXN0IG9mXG4vLyB0aGUgdmlldyB3aWxsIGJlZ2luIGdldHRpbmcgbmdBZnRlclZpZXdJbml0KCkgY2FsbGVkIHVudGlsIGEgY2hlY2sgYW5kXG4vLyBwYXNzIGlzIGNvbXBsZXRlLlxuLy9cbi8vIFRoaXMgYWxnb3J0aGltIGFsc28gaGFuZGxlcyByZWN1cnNpb24uIENvbnNpZGVyIGlmIEU0J3MgbmdBZnRlclZpZXdJbml0KClcbi8vIGluZGlyZWN0bHkgY2FsbHMgRTEncyBDaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCkuIFRoZSBleHBlY3RlZFxuLy8gaW5pdEluZGV4IGlzIHNldCB0byA2LCB0aGUgcmVjdXNpdmUgY2hlY2tBbmRVcGRhdGVWaWV3KCkgc3RhcnRzIHdhbGsgYWdhaW4uXG4vLyBEMywgRTIsIEU2LCBFNywgRTUgYW5kIEU0IGFyZSBza2lwcGVkLCBuZ0FmdGVyVmlld0luaXQoKSBpcyBjYWxsZWQgb24gRTEuXG4vLyBXaGVuIHRoZSByZWN1cnNpb24gcmV0dXJucyB0aGUgaW5pdEluZGV4IHdpbGwgYmUgNyBzbyBFMSBpcyBza2lwcGVkIGFzIGl0XG4vLyBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCBpbiB0aGUgcmVjdXJzaXZlbHkgY2FsbGVkIGNoZWNrQW5VcGRhdGVWaWV3KCkuXG5mdW5jdGlvbiBjYWxsTGlmZWN5Y2xlSG9va3NDaGlsZHJlbkZpcnN0KHZpZXcsIGxpZmVjeWNsZXMpIHtcbiAgICBpZiAoISh2aWV3LmRlZi5ub2RlRmxhZ3MgJiBsaWZlY3ljbGVzKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBub2RlcyA9IHZpZXcuZGVmLm5vZGVzO1xuICAgIHZhciBpbml0SW5kZXggPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG5vZGVEZWYgPSBub2Rlc1tpXTtcbiAgICAgICAgdmFyIHBhcmVudF8xID0gbm9kZURlZi5wYXJlbnQ7XG4gICAgICAgIGlmICghcGFyZW50XzEgJiYgbm9kZURlZi5mbGFncyAmIGxpZmVjeWNsZXMpIHtcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIHJvb3Qgbm9kZSAoZS5nLiBhIHBpcGUpXG4gICAgICAgICAgICBjYWxsUHJvdmlkZXJMaWZlY3ljbGVzKHZpZXcsIGksIG5vZGVEZWYuZmxhZ3MgJiBsaWZlY3ljbGVzLCBpbml0SW5kZXgrKyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlRGVmLmNoaWxkRmxhZ3MgJiBsaWZlY3ljbGVzKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gbm8gY2hpbGQgbWF0Y2hlcyBvbmUgb2YgdGhlIGxpZmVjeWNsZXNcbiAgICAgICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChwYXJlbnRfMSAmJiAocGFyZW50XzEuZmxhZ3MgJiAxIC8qIFR5cGVFbGVtZW50ICovKSAmJlxuICAgICAgICAgICAgaSA9PT0gcGFyZW50XzEubm9kZUluZGV4ICsgcGFyZW50XzEuY2hpbGRDb3VudCkge1xuICAgICAgICAgICAgLy8gbGFzdCBjaGlsZCBvZiBhbiBlbGVtZW50XG4gICAgICAgICAgICBpZiAocGFyZW50XzEuZGlyZWN0Q2hpbGRGbGFncyAmIGxpZmVjeWNsZXMpIHtcbiAgICAgICAgICAgICAgICBpbml0SW5kZXggPSBjYWxsRWxlbWVudFByb3ZpZGVyc0xpZmVjeWNsZXModmlldywgcGFyZW50XzEsIGxpZmVjeWNsZXMsIGluaXRJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnRfMSA9IHBhcmVudF8xLnBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNhbGxFbGVtZW50UHJvdmlkZXJzTGlmZWN5Y2xlcyh2aWV3LCBlbERlZiwgbGlmZWN5Y2xlcywgaW5pdEluZGV4KSB7XG4gICAgZm9yICh2YXIgaSA9IGVsRGVmLm5vZGVJbmRleCArIDE7IGkgPD0gZWxEZWYubm9kZUluZGV4ICsgZWxEZWYuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgICAgIHZhciBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgbGlmZWN5Y2xlcykge1xuICAgICAgICAgICAgY2FsbFByb3ZpZGVyTGlmZWN5Y2xlcyh2aWV3LCBpLCBub2RlRGVmLmZsYWdzICYgbGlmZWN5Y2xlcywgaW5pdEluZGV4KyspO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkgdmlzaXQgZGlyZWN0IGNoaWxkcmVuXG4gICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgIH1cbiAgICByZXR1cm4gaW5pdEluZGV4O1xufVxuZnVuY3Rpb24gY2FsbFByb3ZpZGVyTGlmZWN5Y2xlcyh2aWV3LCBpbmRleCwgbGlmZWN5Y2xlcywgaW5pdEluZGV4KSB7XG4gICAgdmFyIHByb3ZpZGVyRGF0YSA9IGFzUHJvdmlkZXJEYXRhKHZpZXcsIGluZGV4KTtcbiAgICBpZiAoIXByb3ZpZGVyRGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVyRGF0YS5pbnN0YW5jZTtcbiAgICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgU2VydmljZXMuc2V0Q3VycmVudE5vZGUodmlldywgaW5kZXgpO1xuICAgIGlmIChsaWZlY3ljbGVzICYgMTA0ODU3NiAvKiBBZnRlckNvbnRlbnRJbml0ICovICYmXG4gICAgICAgIHNob3VsZENhbGxMaWZlY3ljbGVJbml0SG9vayh2aWV3LCA1MTIgLyogSW5pdFN0YXRlX0NhbGxpbmdBZnRlckNvbnRlbnRJbml0ICovLCBpbml0SW5kZXgpKSB7XG4gICAgICAgIHByb3ZpZGVyLm5nQWZ0ZXJDb250ZW50SW5pdCgpO1xuICAgIH1cbiAgICBpZiAobGlmZWN5Y2xlcyAmIDIwOTcxNTIgLyogQWZ0ZXJDb250ZW50Q2hlY2tlZCAqLykge1xuICAgICAgICBwcm92aWRlci5uZ0FmdGVyQ29udGVudENoZWNrZWQoKTtcbiAgICB9XG4gICAgaWYgKGxpZmVjeWNsZXMgJiA0MTk0MzA0IC8qIEFmdGVyVmlld0luaXQgKi8gJiZcbiAgICAgICAgc2hvdWxkQ2FsbExpZmVjeWNsZUluaXRIb29rKHZpZXcsIDc2OCAvKiBJbml0U3RhdGVfQ2FsbGluZ0FmdGVyVmlld0luaXQgKi8sIGluaXRJbmRleCkpIHtcbiAgICAgICAgcHJvdmlkZXIubmdBZnRlclZpZXdJbml0KCk7XG4gICAgfVxuICAgIGlmIChsaWZlY3ljbGVzICYgODM4ODYwOCAvKiBBZnRlclZpZXdDaGVja2VkICovKSB7XG4gICAgICAgIHByb3ZpZGVyLm5nQWZ0ZXJWaWV3Q2hlY2tlZCgpO1xuICAgIH1cbiAgICBpZiAobGlmZWN5Y2xlcyAmIDEzMTA3MiAvKiBPbkRlc3Ryb3kgKi8pIHtcbiAgICAgICAgcHJvdmlkZXIubmdPbkRlc3Ryb3koKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5RGVmKGZsYWdzLCBpZCwgYmluZGluZ3MpIHtcbiAgICB2YXIgYmluZGluZ0RlZnMgPSBbXTtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBiaW5kaW5ncykge1xuICAgICAgICB2YXIgYmluZGluZ1R5cGUgPSBiaW5kaW5nc1twcm9wTmFtZV07XG4gICAgICAgIGJpbmRpbmdEZWZzLnB1c2goeyBwcm9wTmFtZTogcHJvcE5hbWUsIGJpbmRpbmdUeXBlOiBiaW5kaW5nVHlwZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gd2lsbCBiZXQgc2V0IGJ5IHRoZSB2aWV3IGRlZmluaXRpb25cbiAgICAgICAgbm9kZUluZGV4OiAtMSxcbiAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICByZW5kZXJQYXJlbnQ6IG51bGwsXG4gICAgICAgIGJpbmRpbmdJbmRleDogLTEsXG4gICAgICAgIG91dHB1dEluZGV4OiAtMSxcbiAgICAgICAgLy8gcmVndWxhciB2YWx1ZXNcbiAgICAgICAgLy8gVE9ETyh2aWNiKTogY2hlY2tcbiAgICAgICAgY2hlY2tJbmRleDogLTEsIGZsYWdzOiBmbGFncyxcbiAgICAgICAgY2hpbGRGbGFnczogMCxcbiAgICAgICAgZGlyZWN0Q2hpbGRGbGFnczogMCxcbiAgICAgICAgY2hpbGRNYXRjaGVkUXVlcmllczogMCxcbiAgICAgICAgbmdDb250ZW50SW5kZXg6IC0xLFxuICAgICAgICBtYXRjaGVkUXVlcmllczoge30sXG4gICAgICAgIG1hdGNoZWRRdWVyeUlkczogMCxcbiAgICAgICAgcmVmZXJlbmNlczoge30sXG4gICAgICAgIGNoaWxkQ291bnQ6IDAsXG4gICAgICAgIGJpbmRpbmdzOiBbXSxcbiAgICAgICAgYmluZGluZ0ZsYWdzOiAwLFxuICAgICAgICBvdXRwdXRzOiBbXSxcbiAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgcHJvdmlkZXI6IG51bGwsXG4gICAgICAgIHRleHQ6IG51bGwsXG4gICAgICAgIHF1ZXJ5OiB7IGlkOiBpZCwgZmlsdGVySWQ6IGZpbHRlclF1ZXJ5SWQoaWQpLCBiaW5kaW5nczogYmluZGluZ0RlZnMgfSxcbiAgICAgICAgbmdDb250ZW50OiBudWxsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVF1ZXJ5JDEoKSB7XG4gICAgcmV0dXJuIG5ldyBRdWVyeUxpc3QkMSgpO1xufVxuZnVuY3Rpb24gZGlydHlQYXJlbnRRdWVyaWVzKHZpZXcpIHtcbiAgICB2YXIgcXVlcnlJZHMgPSB2aWV3LmRlZi5ub2RlTWF0Y2hlZFF1ZXJpZXM7XG4gICAgd2hpbGUgKHZpZXcucGFyZW50ICYmIGlzRW1iZWRkZWRWaWV3KHZpZXcpKSB7XG4gICAgICAgIHZhciB0cGxEZWYgPSB2aWV3LnBhcmVudE5vZGVEZWY7XG4gICAgICAgIHZpZXcgPSB2aWV3LnBhcmVudDtcbiAgICAgICAgLy8gY29udGVudCBxdWVyaWVzXG4gICAgICAgIHZhciBlbmQgPSB0cGxEZWYubm9kZUluZGV4ICsgdHBsRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKChub2RlRGVmLmZsYWdzICYgNjcxMDg4NjQgLyogVHlwZUNvbnRlbnRRdWVyeSAqLykgJiZcbiAgICAgICAgICAgICAgICAobm9kZURlZi5mbGFncyAmIDUzNjg3MDkxMiAvKiBEeW5hbWljUXVlcnkgKi8pICYmXG4gICAgICAgICAgICAgICAgKG5vZGVEZWYucXVlcnkuZmlsdGVySWQgJiBxdWVyeUlkcykgPT09IG5vZGVEZWYucXVlcnkuZmlsdGVySWQpIHtcbiAgICAgICAgICAgICAgICBhc1F1ZXJ5TGlzdCh2aWV3LCBpKS5zZXREaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChub2RlRGVmLmZsYWdzICYgMSAvKiBUeXBlRWxlbWVudCAqLyAmJiBpICsgbm9kZURlZi5jaGlsZENvdW50IDwgdHBsRGVmLm5vZGVJbmRleCkgfHxcbiAgICAgICAgICAgICAgICAhKG5vZGVEZWYuY2hpbGRGbGFncyAmIDY3MTA4ODY0IC8qIFR5cGVDb250ZW50UXVlcnkgKi8pIHx8XG4gICAgICAgICAgICAgICAgIShub2RlRGVmLmNoaWxkRmxhZ3MgJiA1MzY4NzA5MTIgLyogRHluYW1pY1F1ZXJ5ICovKSkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgZWxlbWVudHMgdGhhdCBkb24ndCBjb250YWluIHRoZSB0ZW1wbGF0ZSBlbGVtZW50IG9yIG5vIHF1ZXJ5LlxuICAgICAgICAgICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHZpZXcgcXVlcmllc1xuICAgIGlmICh2aWV3LmRlZi5ub2RlRmxhZ3MgJiAxMzQyMTc3MjggLyogVHlwZVZpZXdRdWVyeSAqLykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcuZGVmLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKChub2RlRGVmLmZsYWdzICYgMTM0MjE3NzI4IC8qIFR5cGVWaWV3UXVlcnkgKi8pICYmIChub2RlRGVmLmZsYWdzICYgNTM2ODcwOTEyIC8qIER5bmFtaWNRdWVyeSAqLykpIHtcbiAgICAgICAgICAgICAgICBhc1F1ZXJ5TGlzdCh2aWV3LCBpKS5zZXREaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb25seSB2aXNpdCB0aGUgcm9vdCBub2Rlc1xuICAgICAgICAgICAgaSArPSBub2RlRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja0FuZFVwZGF0ZVF1ZXJ5KHZpZXcsIG5vZGVEZWYpIHtcbiAgICB2YXIgcXVlcnlMaXN0ID0gYXNRdWVyeUxpc3Qodmlldywgbm9kZURlZi5ub2RlSW5kZXgpO1xuICAgIGlmICghcXVlcnlMaXN0LmRpcnR5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRpcmVjdGl2ZUluc3RhbmNlO1xuICAgIHZhciBuZXdWYWx1ZXMgPSB1bmRlZmluZWQ7XG4gICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiA2NzEwODg2NCAvKiBUeXBlQ29udGVudFF1ZXJ5ICovKSB7XG4gICAgICAgIHZhciBlbGVtZW50RGVmID0gbm9kZURlZi5wYXJlbnQucGFyZW50O1xuICAgICAgICBuZXdWYWx1ZXMgPSBjYWxjUXVlcnlWYWx1ZXModmlldywgZWxlbWVudERlZi5ub2RlSW5kZXgsIGVsZW1lbnREZWYubm9kZUluZGV4ICsgZWxlbWVudERlZi5jaGlsZENvdW50LCBub2RlRGVmLnF1ZXJ5LCBbXSk7XG4gICAgICAgIGRpcmVjdGl2ZUluc3RhbmNlID0gYXNQcm92aWRlckRhdGEodmlldywgbm9kZURlZi5wYXJlbnQubm9kZUluZGV4KS5pbnN0YW5jZTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZURlZi5mbGFncyAmIDEzNDIxNzcyOCAvKiBUeXBlVmlld1F1ZXJ5ICovKSB7XG4gICAgICAgIG5ld1ZhbHVlcyA9IGNhbGNRdWVyeVZhbHVlcyh2aWV3LCAwLCB2aWV3LmRlZi5ub2Rlcy5sZW5ndGggLSAxLCBub2RlRGVmLnF1ZXJ5LCBbXSk7XG4gICAgICAgIGRpcmVjdGl2ZUluc3RhbmNlID0gdmlldy5jb21wb25lbnQ7XG4gICAgfVxuICAgIHF1ZXJ5TGlzdC5yZXNldChuZXdWYWx1ZXMpO1xuICAgIHZhciBiaW5kaW5ncyA9IG5vZGVEZWYucXVlcnkuYmluZGluZ3M7XG4gICAgdmFyIG5vdGlmeSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICAgICAgdmFyIGJvdW5kVmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIHN3aXRjaCAoYmluZGluZy5iaW5kaW5nVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIEZpcnN0ICovOlxuICAgICAgICAgICAgICAgIGJvdW5kVmFsdWUgPSBxdWVyeUxpc3QuZmlyc3Q7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEgLyogQWxsICovOlxuICAgICAgICAgICAgICAgIGJvdW5kVmFsdWUgPSBxdWVyeUxpc3Q7XG4gICAgICAgICAgICAgICAgbm90aWZ5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkaXJlY3RpdmVJbnN0YW5jZVtiaW5kaW5nLnByb3BOYW1lXSA9IGJvdW5kVmFsdWU7XG4gICAgfVxuICAgIGlmIChub3RpZnkpIHtcbiAgICAgICAgcXVlcnlMaXN0Lm5vdGlmeU9uQ2hhbmdlcygpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNhbGNRdWVyeVZhbHVlcyh2aWV3LCBzdGFydEluZGV4LCBlbmRJbmRleCwgcXVlcnlEZWYsIHZhbHVlcykge1xuICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDw9IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgdmFyIG5vZGVEZWYgPSB2aWV3LmRlZi5ub2Rlc1tpXTtcbiAgICAgICAgdmFyIHZhbHVlVHlwZSA9IG5vZGVEZWYubWF0Y2hlZFF1ZXJpZXNbcXVlcnlEZWYuaWRdO1xuICAgICAgICBpZiAodmFsdWVUeXBlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKGdldFF1ZXJ5VmFsdWUodmlldywgbm9kZURlZiwgdmFsdWVUeXBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAxIC8qIFR5cGVFbGVtZW50ICovICYmIG5vZGVEZWYuZWxlbWVudC50ZW1wbGF0ZSAmJlxuICAgICAgICAgICAgKG5vZGVEZWYuZWxlbWVudC50ZW1wbGF0ZS5ub2RlTWF0Y2hlZFF1ZXJpZXMgJiBxdWVyeURlZi5maWx0ZXJJZCkgPT09XG4gICAgICAgICAgICAgICAgcXVlcnlEZWYuZmlsdGVySWQpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50RGF0YSA9IGFzRWxlbWVudERhdGEodmlldywgaSk7XG4gICAgICAgICAgICAvLyBjaGVjayBlbWJlZGRlZCB2aWV3cyB0aGF0IHdlcmUgYXR0YWNoZWQgYXQgdGhlIHBsYWNlIG9mIHRoZWlyIHRlbXBsYXRlLFxuICAgICAgICAgICAgLy8gYnV0IHByb2Nlc3MgY2hpbGQgbm9kZXMgZmlyc3QgaWYgc29tZSBtYXRjaCB0aGUgcXVlcnkgKHNlZSBpc3N1ZSAjMTY1NjgpXG4gICAgICAgICAgICBpZiAoKG5vZGVEZWYuY2hpbGRNYXRjaGVkUXVlcmllcyAmIHF1ZXJ5RGVmLmZpbHRlcklkKSA9PT0gcXVlcnlEZWYuZmlsdGVySWQpIHtcbiAgICAgICAgICAgICAgICBjYWxjUXVlcnlWYWx1ZXModmlldywgaSArIDEsIGkgKyBub2RlRGVmLmNoaWxkQ291bnQsIHF1ZXJ5RGVmLCB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAxNjc3NzIxNiAvKiBFbWJlZGRlZFZpZXdzICovKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVtYmVkZGVkVmlld3MgPSBlbGVtZW50RGF0YS52aWV3Q29udGFpbmVyLl9lbWJlZGRlZFZpZXdzO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZW1iZWRkZWRWaWV3cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW1iZWRkZWRWaWV3ID0gZW1iZWRkZWRWaWV3c1trXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR2YyA9IGRlY2xhcmVkVmlld0NvbnRhaW5lcihlbWJlZGRlZFZpZXcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHZjICYmIGR2YyA9PT0gZWxlbWVudERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGNRdWVyeVZhbHVlcyhlbWJlZGRlZFZpZXcsIDAsIGVtYmVkZGVkVmlldy5kZWYubm9kZXMubGVuZ3RoIC0gMSwgcXVlcnlEZWYsIHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcHJvamVjdGVkVmlld3MgPSBlbGVtZW50RGF0YS50ZW1wbGF0ZS5fcHJvamVjdGVkVmlld3M7XG4gICAgICAgICAgICBpZiAocHJvamVjdGVkVmlld3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHByb2plY3RlZFZpZXdzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9qZWN0ZWRWaWV3ID0gcHJvamVjdGVkVmlld3Nba107XG4gICAgICAgICAgICAgICAgICAgIGNhbGNRdWVyeVZhbHVlcyhwcm9qZWN0ZWRWaWV3LCAwLCBwcm9qZWN0ZWRWaWV3LmRlZi5ub2Rlcy5sZW5ndGggLSAxLCBxdWVyeURlZiwgdmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChub2RlRGVmLmNoaWxkTWF0Y2hlZFF1ZXJpZXMgJiBxdWVyeURlZi5maWx0ZXJJZCkgIT09IHF1ZXJ5RGVmLmZpbHRlcklkKSB7XG4gICAgICAgICAgICAvLyBpZiBubyBjaGlsZCBtYXRjaGVzIHRoZSBxdWVyeSwgc2tpcCB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAgICBpICs9IG5vZGVEZWYuY2hpbGRDb3VudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xufVxuZnVuY3Rpb24gZ2V0UXVlcnlWYWx1ZSh2aWV3LCBub2RlRGVmLCBxdWVyeVZhbHVlVHlwZSkge1xuICAgIGlmIChxdWVyeVZhbHVlVHlwZSAhPSBudWxsKSB7XG4gICAgICAgIC8vIGEgbWF0Y2hcbiAgICAgICAgc3dpdGNoIChxdWVyeVZhbHVlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIFJlbmRlckVsZW1lbnQgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzRWxlbWVudERhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQ7XG4gICAgICAgICAgICBjYXNlIDAgLyogRWxlbWVudFJlZiAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVsZW1lbnRSZWYoYXNFbGVtZW50RGF0YSh2aWV3LCBub2RlRGVmLm5vZGVJbmRleCkucmVuZGVyRWxlbWVudCk7XG4gICAgICAgICAgICBjYXNlIDIgLyogVGVtcGxhdGVSZWYgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzRWxlbWVudERhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnRlbXBsYXRlO1xuICAgICAgICAgICAgY2FzZSAzIC8qIFZpZXdDb250YWluZXJSZWYgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzRWxlbWVudERhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnZpZXdDb250YWluZXI7XG4gICAgICAgICAgICBjYXNlIDQgLyogUHJvdmlkZXIgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzUHJvdmlkZXJEYXRhKHZpZXcsIG5vZGVEZWYubm9kZUluZGV4KS5pbnN0YW5jZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gbmdDb250ZW50RGVmKG5nQ29udGVudEluZGV4LCBpbmRleCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHdpbGwgYmV0IHNldCBieSB0aGUgdmlldyBkZWZpbml0aW9uXG4gICAgICAgIG5vZGVJbmRleDogLTEsXG4gICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgcmVuZGVyUGFyZW50OiBudWxsLFxuICAgICAgICBiaW5kaW5nSW5kZXg6IC0xLFxuICAgICAgICBvdXRwdXRJbmRleDogLTEsXG4gICAgICAgIC8vIHJlZ3VsYXIgdmFsdWVzXG4gICAgICAgIGNoZWNrSW5kZXg6IC0xLFxuICAgICAgICBmbGFnczogOCAvKiBUeXBlTmdDb250ZW50ICovLFxuICAgICAgICBjaGlsZEZsYWdzOiAwLFxuICAgICAgICBkaXJlY3RDaGlsZEZsYWdzOiAwLFxuICAgICAgICBjaGlsZE1hdGNoZWRRdWVyaWVzOiAwLFxuICAgICAgICBtYXRjaGVkUXVlcmllczoge30sXG4gICAgICAgIG1hdGNoZWRRdWVyeUlkczogMCxcbiAgICAgICAgcmVmZXJlbmNlczoge30sIG5nQ29udGVudEluZGV4OiBuZ0NvbnRlbnRJbmRleCxcbiAgICAgICAgY2hpbGRDb3VudDogMCxcbiAgICAgICAgYmluZGluZ3M6IFtdLFxuICAgICAgICBiaW5kaW5nRmxhZ3M6IDAsXG4gICAgICAgIG91dHB1dHM6IFtdLFxuICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICBwcm92aWRlcjogbnVsbCxcbiAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgcXVlcnk6IG51bGwsXG4gICAgICAgIG5nQ29udGVudDogeyBpbmRleDogaW5kZXggfVxuICAgIH07XG59XG5mdW5jdGlvbiBhcHBlbmROZ0NvbnRlbnQodmlldywgcmVuZGVySG9zdCwgZGVmKSB7XG4gICAgdmFyIHBhcmVudEVsID0gZ2V0UGFyZW50UmVuZGVyRWxlbWVudCh2aWV3LCByZW5kZXJIb3N0LCBkZWYpO1xuICAgIGlmICghcGFyZW50RWwpIHtcbiAgICAgICAgLy8gTm90aGluZyB0byBkbyBpZiB0aGVyZSBpcyBubyBwYXJlbnQgZWxlbWVudC5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbmdDb250ZW50SW5kZXggPSBkZWYubmdDb250ZW50LmluZGV4O1xuICAgIHZpc2l0UHJvamVjdGVkUmVuZGVyTm9kZXModmlldywgbmdDb250ZW50SW5kZXgsIDEgLyogQXBwZW5kQ2hpbGQgKi8sIHBhcmVudEVsLCBudWxsLCB1bmRlZmluZWQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBwdXJlUGlwZURlZihjaGVja0luZGV4LCBhcmdDb3VudCkge1xuICAgIC8vIGFyZ0NvdW50ICsgMSB0byBpbmNsdWRlIHRoZSBwaXBlIGFzIGZpcnN0IGFyZ1xuICAgIHJldHVybiBfcHVyZUV4cHJlc3Npb25EZWYoMTI4IC8qIFR5cGVQdXJlUGlwZSAqLywgY2hlY2tJbmRleCwgbmV3IEFycmF5KGFyZ0NvdW50ICsgMSkpO1xufVxuZnVuY3Rpb24gcHVyZUFycmF5RGVmKGNoZWNrSW5kZXgsIGFyZ0NvdW50KSB7XG4gICAgcmV0dXJuIF9wdXJlRXhwcmVzc2lvbkRlZigzMiAvKiBUeXBlUHVyZUFycmF5ICovLCBjaGVja0luZGV4LCBuZXcgQXJyYXkoYXJnQ291bnQpKTtcbn1cbmZ1bmN0aW9uIHB1cmVPYmplY3REZWYoY2hlY2tJbmRleCwgcHJvcFRvSW5kZXgpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3BUb0luZGV4KTtcbiAgICB2YXIgbmJLZXlzID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHByb3BlcnR5TmFtZXMgPSBuZXcgQXJyYXkobmJLZXlzKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5iS2V5czsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YXIgaW5kZXggPSBwcm9wVG9JbmRleFtrZXldO1xuICAgICAgICBwcm9wZXJ0eU5hbWVzW2luZGV4XSA9IGtleTtcbiAgICB9XG4gICAgcmV0dXJuIF9wdXJlRXhwcmVzc2lvbkRlZig2NCAvKiBUeXBlUHVyZU9iamVjdCAqLywgY2hlY2tJbmRleCwgcHJvcGVydHlOYW1lcyk7XG59XG5mdW5jdGlvbiBfcHVyZUV4cHJlc3Npb25EZWYoZmxhZ3MsIGNoZWNrSW5kZXgsIHByb3BlcnR5TmFtZXMpIHtcbiAgICB2YXIgYmluZGluZ3MgPSBuZXcgQXJyYXkocHJvcGVydHlOYW1lcy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHlOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcHJvcCA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgICAgIGJpbmRpbmdzW2ldID0ge1xuICAgICAgICAgICAgZmxhZ3M6IDggLyogVHlwZVByb3BlcnR5ICovLFxuICAgICAgICAgICAgbmFtZTogcHJvcCxcbiAgICAgICAgICAgIG5zOiBudWxsLFxuICAgICAgICAgICAgbm9uTWluaWZpZWROYW1lOiBwcm9wLFxuICAgICAgICAgICAgc2VjdXJpdHlDb250ZXh0OiBudWxsLFxuICAgICAgICAgICAgc3VmZml4OiBudWxsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC8vIHdpbGwgYmV0IHNldCBieSB0aGUgdmlldyBkZWZpbml0aW9uXG4gICAgICAgIG5vZGVJbmRleDogLTEsXG4gICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgcmVuZGVyUGFyZW50OiBudWxsLFxuICAgICAgICBiaW5kaW5nSW5kZXg6IC0xLFxuICAgICAgICBvdXRwdXRJbmRleDogLTEsXG4gICAgICAgIC8vIHJlZ3VsYXIgdmFsdWVzXG4gICAgICAgIGNoZWNrSW5kZXg6IGNoZWNrSW5kZXgsXG4gICAgICAgIGZsYWdzOiBmbGFncyxcbiAgICAgICAgY2hpbGRGbGFnczogMCxcbiAgICAgICAgZGlyZWN0Q2hpbGRGbGFnczogMCxcbiAgICAgICAgY2hpbGRNYXRjaGVkUXVlcmllczogMCxcbiAgICAgICAgbWF0Y2hlZFF1ZXJpZXM6IHt9LFxuICAgICAgICBtYXRjaGVkUXVlcnlJZHM6IDAsXG4gICAgICAgIHJlZmVyZW5jZXM6IHt9LFxuICAgICAgICBuZ0NvbnRlbnRJbmRleDogLTEsXG4gICAgICAgIGNoaWxkQ291bnQ6IDAsIGJpbmRpbmdzOiBiaW5kaW5ncyxcbiAgICAgICAgYmluZGluZ0ZsYWdzOiBjYWxjQmluZGluZ0ZsYWdzKGJpbmRpbmdzKSxcbiAgICAgICAgb3V0cHV0czogW10sXG4gICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgIHByb3ZpZGVyOiBudWxsLFxuICAgICAgICB0ZXh0OiBudWxsLFxuICAgICAgICBxdWVyeTogbnVsbCxcbiAgICAgICAgbmdDb250ZW50OiBudWxsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVB1cmVFeHByZXNzaW9uKHZpZXcsIGRlZikge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQgfTtcbn1cbmZ1bmN0aW9uIGNoZWNrQW5kVXBkYXRlUHVyZUV4cHJlc3Npb25JbmxpbmUodmlldywgZGVmLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSkge1xuICAgIHZhciBiaW5kaW5ncyA9IGRlZi5iaW5kaW5ncztcbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBiaW5kTGVuID0gYmluZGluZ3MubGVuZ3RoO1xuICAgIGlmIChiaW5kTGVuID4gMCAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCAwLCB2MCkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gMSAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCAxLCB2MSkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gMiAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCAyLCB2MikpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gMyAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCAzLCB2MykpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gNCAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCA0LCB2NCkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gNSAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCA1LCB2NSkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gNiAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCA2LCB2NikpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gNyAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCA3LCB2NykpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gOCAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCA4LCB2OCkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChiaW5kTGVuID4gOSAmJiBjaGVja0FuZFVwZGF0ZUJpbmRpbmcodmlldywgZGVmLCA5LCB2OSkpXG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXNQdXJlRXhwcmVzc2lvbkRhdGEodmlldywgZGVmLm5vZGVJbmRleCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgc3dpdGNoIChkZWYuZmxhZ3MgJiAyMDEzNDcwNjcgLyogVHlwZXMgKi8pIHtcbiAgICAgICAgICAgIGNhc2UgMzIgLyogVHlwZVB1cmVBcnJheSAqLzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBBcnJheShiaW5kaW5ncy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gMClcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbMF0gPSB2MDtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDEpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWzFdID0gdjE7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiAyKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVsyXSA9IHYyO1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gMylcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbM10gPSB2MztcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDQpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWzRdID0gdjQ7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiA1KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVs1XSA9IHY1O1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gNilcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbNl0gPSB2NjtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDcpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlWzddID0gdjc7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiA4KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVs4XSA9IHY4O1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gOSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbOV0gPSB2OTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjQgLyogVHlwZVB1cmVPYmplY3QgKi86XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDApXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlW2JpbmRpbmdzWzBdLm5hbWVdID0gdjA7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiAxKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVtiaW5kaW5nc1sxXS5uYW1lXSA9IHYxO1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gMilcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbYmluZGluZ3NbMl0ubmFtZV0gPSB2MjtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDMpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlW2JpbmRpbmdzWzNdLm5hbWVdID0gdjM7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiA0KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVtiaW5kaW5nc1s0XS5uYW1lXSA9IHY0O1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gNSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbYmluZGluZ3NbNV0ubmFtZV0gPSB2NTtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDYpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlW2JpbmRpbmdzWzZdLm5hbWVdID0gdjY7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRMZW4gPiA3KVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVtiaW5kaW5nc1s3XS5uYW1lXSA9IHY3O1xuICAgICAgICAgICAgICAgIGlmIChiaW5kTGVuID4gOClcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVbYmluZGluZ3NbOF0ubmFtZV0gPSB2ODtcbiAgICAgICAgICAgICAgICBpZiAoYmluZExlbiA+IDkpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlW2JpbmRpbmdzWzldLm5hbWVdID0gdjk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEyOCAvKiBUeXBlUHVyZVBpcGUgKi86XG4gICAgICAgICAgICAgICAgdmFyIHBpcGUgPSB2MDtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGJpbmRMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGlwZS50cmFuc2Zvcm0odjEsIHYyLCB2Myk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCwgdjUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGlwZS50cmFuc2Zvcm0odjEsIHYyLCB2MywgdjQsIHY1LCB2Nik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2Nyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwaXBlLnRyYW5zZm9ybSh2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBpcGUudHJhbnNmb3JtKHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG5mdW5jdGlvbiBjaGVja0FuZFVwZGF0ZVB1cmVFeHByZXNzaW9uRHluYW1pYyh2aWV3LCBkZWYsIHZhbHVlcykge1xuICAgIHZhciBiaW5kaW5ncyA9IGRlZi5iaW5kaW5ncztcbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIG5lZWQgdG8gbG9vcCBvdmVyIGFsbCB2YWx1ZXMsIHNvIHRoYXRcbiAgICAgICAgLy8gdGhlIG9sZCB2YWx1ZXMgYXJlIHVwZGF0ZXMgYXMgd2VsbCFcbiAgICAgICAgaWYgKGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIGksIHZhbHVlc1tpXSkpIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXNQdXJlRXhwcmVzc2lvbkRhdGEodmlldywgZGVmLm5vZGVJbmRleCk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgc3dpdGNoIChkZWYuZmxhZ3MgJiAyMDEzNDcwNjcgLyogVHlwZXMgKi8pIHtcbiAgICAgICAgICAgIGNhc2UgMzIgLyogVHlwZVB1cmVBcnJheSAqLzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjQgLyogVHlwZVB1cmVPYmplY3QgKi86XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVtiaW5kaW5nc1tpXS5uYW1lXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEyOCAvKiBUeXBlUHVyZVBpcGUgKi86XG4gICAgICAgICAgICAgICAgdmFyIHBpcGUgPSB2YWx1ZXNbMF07XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHZhbHVlcy5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHBpcGUudHJhbnNmb3JtLmFwcGx5KHBpcGUsIF9fc3ByZWFkKHBhcmFtcykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHRleHREZWYoY2hlY2tJbmRleCwgbmdDb250ZW50SW5kZXgsIHN0YXRpY1RleHQpIHtcbiAgICB2YXIgYmluZGluZ3MgPSBuZXcgQXJyYXkoc3RhdGljVGV4dC5sZW5ndGggLSAxKTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHN0YXRpY1RleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmluZGluZ3NbaSAtIDFdID0ge1xuICAgICAgICAgICAgZmxhZ3M6IDggLyogVHlwZVByb3BlcnR5ICovLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIG5zOiBudWxsLFxuICAgICAgICAgICAgbm9uTWluaWZpZWROYW1lOiBudWxsLFxuICAgICAgICAgICAgc2VjdXJpdHlDb250ZXh0OiBudWxsLFxuICAgICAgICAgICAgc3VmZml4OiBzdGF0aWNUZXh0W2ldLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAvLyB3aWxsIGJldCBzZXQgYnkgdGhlIHZpZXcgZGVmaW5pdGlvblxuICAgICAgICBub2RlSW5kZXg6IC0xLFxuICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgIHJlbmRlclBhcmVudDogbnVsbCxcbiAgICAgICAgYmluZGluZ0luZGV4OiAtMSxcbiAgICAgICAgb3V0cHV0SW5kZXg6IC0xLFxuICAgICAgICAvLyByZWd1bGFyIHZhbHVlc1xuICAgICAgICBjaGVja0luZGV4OiBjaGVja0luZGV4LFxuICAgICAgICBmbGFnczogMiAvKiBUeXBlVGV4dCAqLyxcbiAgICAgICAgY2hpbGRGbGFnczogMCxcbiAgICAgICAgZGlyZWN0Q2hpbGRGbGFnczogMCxcbiAgICAgICAgY2hpbGRNYXRjaGVkUXVlcmllczogMCxcbiAgICAgICAgbWF0Y2hlZFF1ZXJpZXM6IHt9LFxuICAgICAgICBtYXRjaGVkUXVlcnlJZHM6IDAsXG4gICAgICAgIHJlZmVyZW5jZXM6IHt9LCBuZ0NvbnRlbnRJbmRleDogbmdDb250ZW50SW5kZXgsXG4gICAgICAgIGNoaWxkQ291bnQ6IDAsIGJpbmRpbmdzOiBiaW5kaW5ncyxcbiAgICAgICAgYmluZGluZ0ZsYWdzOiA4IC8qIFR5cGVQcm9wZXJ0eSAqLyxcbiAgICAgICAgb3V0cHV0czogW10sXG4gICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgIHByb3ZpZGVyOiBudWxsLFxuICAgICAgICB0ZXh0OiB7IHByZWZpeDogc3RhdGljVGV4dFswXSB9LFxuICAgICAgICBxdWVyeTogbnVsbCxcbiAgICAgICAgbmdDb250ZW50OiBudWxsLFxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0KHZpZXcsIHJlbmRlckhvc3QsIGRlZikge1xuICAgIHZhciByZW5kZXJOb2RlJCQxO1xuICAgIHZhciByZW5kZXJlciA9IHZpZXcucmVuZGVyZXI7XG4gICAgcmVuZGVyTm9kZSQkMSA9IHJlbmRlcmVyLmNyZWF0ZVRleHQoZGVmLnRleHQucHJlZml4KTtcbiAgICB2YXIgcGFyZW50RWwgPSBnZXRQYXJlbnRSZW5kZXJFbGVtZW50KHZpZXcsIHJlbmRlckhvc3QsIGRlZik7XG4gICAgaWYgKHBhcmVudEVsKSB7XG4gICAgICAgIHJlbmRlcmVyLmFwcGVuZENoaWxkKHBhcmVudEVsLCByZW5kZXJOb2RlJCQxKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVuZGVyVGV4dDogcmVuZGVyTm9kZSQkMSB9O1xufVxuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVUZXh0SW5saW5lKHZpZXcsIGRlZiwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpIHtcbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBiaW5kaW5ncyA9IGRlZi5iaW5kaW5ncztcbiAgICB2YXIgYmluZExlbiA9IGJpbmRpbmdzLmxlbmd0aDtcbiAgICBpZiAoYmluZExlbiA+IDAgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgMCwgdjApKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDEgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgMSwgdjEpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDIgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgMiwgdjIpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDMgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgMywgdjMpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDQgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgNCwgdjQpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDUgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgNSwgdjUpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDYgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgNiwgdjYpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDcgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgNywgdjcpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDggJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgOCwgdjgpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoYmluZExlbiA+IDkgJiYgY2hlY2tBbmRVcGRhdGVCaW5kaW5nKHZpZXcsIGRlZiwgOSwgdjkpKVxuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBkZWYudGV4dC5wcmVmaXg7XG4gICAgICAgIGlmIChiaW5kTGVuID4gMClcbiAgICAgICAgICAgIHZhbHVlICs9IF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2MCwgYmluZGluZ3NbMF0pO1xuICAgICAgICBpZiAoYmluZExlbiA+IDEpXG4gICAgICAgICAgICB2YWx1ZSArPSBfYWRkSW50ZXJwb2xhdGlvblBhcnQodjEsIGJpbmRpbmdzWzFdKTtcbiAgICAgICAgaWYgKGJpbmRMZW4gPiAyKVxuICAgICAgICAgICAgdmFsdWUgKz0gX2FkZEludGVycG9sYXRpb25QYXJ0KHYyLCBiaW5kaW5nc1syXSk7XG4gICAgICAgIGlmIChiaW5kTGVuID4gMylcbiAgICAgICAgICAgIHZhbHVlICs9IF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2MywgYmluZGluZ3NbM10pO1xuICAgICAgICBpZiAoYmluZExlbiA+IDQpXG4gICAgICAgICAgICB2YWx1ZSArPSBfYWRkSW50ZXJwb2xhdGlvblBhcnQodjQsIGJpbmRpbmdzWzRdKTtcbiAgICAgICAgaWYgKGJpbmRMZW4gPiA1KVxuICAgICAgICAgICAgdmFsdWUgKz0gX2FkZEludGVycG9sYXRpb25QYXJ0KHY1LCBiaW5kaW5nc1s1XSk7XG4gICAgICAgIGlmIChiaW5kTGVuID4gNilcbiAgICAgICAgICAgIHZhbHVlICs9IF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2NiwgYmluZGluZ3NbNl0pO1xuICAgICAgICBpZiAoYmluZExlbiA+IDcpXG4gICAgICAgICAgICB2YWx1ZSArPSBfYWRkSW50ZXJwb2xhdGlvblBhcnQodjcsIGJpbmRpbmdzWzddKTtcbiAgICAgICAgaWYgKGJpbmRMZW4gPiA4KVxuICAgICAgICAgICAgdmFsdWUgKz0gX2FkZEludGVycG9sYXRpb25QYXJ0KHY4LCBiaW5kaW5nc1s4XSk7XG4gICAgICAgIGlmIChiaW5kTGVuID4gOSlcbiAgICAgICAgICAgIHZhbHVlICs9IF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2OSwgYmluZGluZ3NbOV0pO1xuICAgICAgICB2YXIgcmVuZGVyTm9kZSQkMSA9IGFzVGV4dERhdGEodmlldywgZGVmLm5vZGVJbmRleCkucmVuZGVyVGV4dDtcbiAgICAgICAgdmlldy5yZW5kZXJlci5zZXRWYWx1ZShyZW5kZXJOb2RlJCQxLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xufVxuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVUZXh0RHluYW1pYyh2aWV3LCBkZWYsIHZhbHVlcykge1xuICAgIHZhciBiaW5kaW5ncyA9IGRlZi5iaW5kaW5ncztcbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIG5lZWQgdG8gbG9vcCBvdmVyIGFsbCB2YWx1ZXMsIHNvIHRoYXRcbiAgICAgICAgLy8gdGhlIG9sZCB2YWx1ZXMgYXJlIHVwZGF0ZXMgYXMgd2VsbCFcbiAgICAgICAgaWYgKGNoZWNrQW5kVXBkYXRlQmluZGluZyh2aWV3LCBkZWYsIGksIHZhbHVlc1tpXSkpIHtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSArIF9hZGRJbnRlcnBvbGF0aW9uUGFydCh2YWx1ZXNbaV0sIGJpbmRpbmdzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IGRlZi50ZXh0LnByZWZpeCArIHZhbHVlO1xuICAgICAgICB2YXIgcmVuZGVyTm9kZSQkMSA9IGFzVGV4dERhdGEodmlldywgZGVmLm5vZGVJbmRleCkucmVuZGVyVGV4dDtcbiAgICAgICAgdmlldy5yZW5kZXJlci5zZXRWYWx1ZShyZW5kZXJOb2RlJCQxLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xufVxuZnVuY3Rpb24gX2FkZEludGVycG9sYXRpb25QYXJ0KHZhbHVlLCBiaW5kaW5nKSB7XG4gICAgdmFyIHZhbHVlU3RyID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLnRvU3RyaW5nKCkgOiAnJztcbiAgICByZXR1cm4gdmFsdWVTdHIgKyBiaW5kaW5nLnN1ZmZpeDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gdmlld0RlZihmbGFncywgbm9kZXMsIHVwZGF0ZURpcmVjdGl2ZXMsIHVwZGF0ZVJlbmRlcmVyKSB7XG4gICAgLy8gY2xvbmUgbm9kZXMgYW5kIHNldCBhdXRvIGNhbGN1bGF0ZWQgdmFsdWVzXG4gICAgdmFyIHZpZXdCaW5kaW5nQ291bnQgPSAwO1xuICAgIHZhciB2aWV3RGlzcG9zYWJsZUNvdW50ID0gMDtcbiAgICB2YXIgdmlld05vZGVGbGFncyA9IDA7XG4gICAgdmFyIHZpZXdSb290Tm9kZUZsYWdzID0gMDtcbiAgICB2YXIgdmlld01hdGNoZWRRdWVyaWVzID0gMDtcbiAgICB2YXIgY3VycmVudFBhcmVudCA9IG51bGw7XG4gICAgdmFyIGN1cnJlbnRSZW5kZXJQYXJlbnQgPSBudWxsO1xuICAgIHZhciBjdXJyZW50RWxlbWVudEhhc1B1YmxpY1Byb3ZpZGVycyA9IGZhbHNlO1xuICAgIHZhciBjdXJyZW50RWxlbWVudEhhc1ByaXZhdGVQcm92aWRlcnMgPSBmYWxzZTtcbiAgICB2YXIgbGFzdFJlbmRlclJvb3ROb2RlID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIG5vZGUubm9kZUluZGV4ID0gaTtcbiAgICAgICAgbm9kZS5wYXJlbnQgPSBjdXJyZW50UGFyZW50O1xuICAgICAgICBub2RlLmJpbmRpbmdJbmRleCA9IHZpZXdCaW5kaW5nQ291bnQ7XG4gICAgICAgIG5vZGUub3V0cHV0SW5kZXggPSB2aWV3RGlzcG9zYWJsZUNvdW50O1xuICAgICAgICBub2RlLnJlbmRlclBhcmVudCA9IGN1cnJlbnRSZW5kZXJQYXJlbnQ7XG4gICAgICAgIHZpZXdOb2RlRmxhZ3MgfD0gbm9kZS5mbGFncztcbiAgICAgICAgdmlld01hdGNoZWRRdWVyaWVzIHw9IG5vZGUubWF0Y2hlZFF1ZXJ5SWRzO1xuICAgICAgICBpZiAobm9kZS5lbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgZWxEZWYgPSBub2RlLmVsZW1lbnQ7XG4gICAgICAgICAgICBlbERlZi5wdWJsaWNQcm92aWRlcnMgPVxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPyBjdXJyZW50UGFyZW50LmVsZW1lbnQucHVibGljUHJvdmlkZXJzIDogT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIGVsRGVmLmFsbFByb3ZpZGVycyA9IGVsRGVmLnB1YmxpY1Byb3ZpZGVycztcbiAgICAgICAgICAgIC8vIE5vdGU6IFdlIGFzc3VtZSB0aGF0IGFsbCBwcm92aWRlcnMgb2YgYW4gZWxlbWVudCBhcmUgYmVmb3JlIGFueSBjaGlsZCBlbGVtZW50IVxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnRIYXNQdWJsaWNQcm92aWRlcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50SGFzUHJpdmF0ZVByb3ZpZGVycyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG5vZGUuZWxlbWVudC50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIHZpZXdNYXRjaGVkUXVlcmllcyB8PSBub2RlLmVsZW1lbnQudGVtcGxhdGUubm9kZU1hdGNoZWRRdWVyaWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlTm9kZShjdXJyZW50UGFyZW50LCBub2RlLCBub2Rlcy5sZW5ndGgpO1xuICAgICAgICB2aWV3QmluZGluZ0NvdW50ICs9IG5vZGUuYmluZGluZ3MubGVuZ3RoO1xuICAgICAgICB2aWV3RGlzcG9zYWJsZUNvdW50ICs9IG5vZGUub3V0cHV0cy5sZW5ndGg7XG4gICAgICAgIGlmICghY3VycmVudFJlbmRlclBhcmVudCAmJiAobm9kZS5mbGFncyAmIDMgLyogQ2F0UmVuZGVyTm9kZSAqLykpIHtcbiAgICAgICAgICAgIGxhc3RSZW5kZXJSb290Tm9kZSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiAyMDIyNCAvKiBDYXRQcm92aWRlciAqLykge1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50RWxlbWVudEhhc1B1YmxpY1Byb3ZpZGVycykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50SGFzUHVibGljUHJvdmlkZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBVc2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIHRvIG5vdCBnZXQgTyhuXjIpIGNvbXBsZXhpdHkuLi5cbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50LmVsZW1lbnQucHVibGljUHJvdmlkZXJzID1cbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmNyZWF0ZShjdXJyZW50UGFyZW50LmVsZW1lbnQucHVibGljUHJvdmlkZXJzKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50LmVsZW1lbnQuYWxsUHJvdmlkZXJzID0gY3VycmVudFBhcmVudC5lbGVtZW50LnB1YmxpY1Byb3ZpZGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpc1ByaXZhdGVTZXJ2aWNlID0gKG5vZGUuZmxhZ3MgJiA4MTkyIC8qIFByaXZhdGVQcm92aWRlciAqLykgIT09IDA7XG4gICAgICAgICAgICB2YXIgaXNDb21wb25lbnQgPSAobm9kZS5mbGFncyAmIDMyNzY4IC8qIENvbXBvbmVudCAqLykgIT09IDA7XG4gICAgICAgICAgICBpZiAoIWlzUHJpdmF0ZVNlcnZpY2UgfHwgaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50LmVsZW1lbnQucHVibGljUHJvdmlkZXJzW3Rva2VuS2V5KG5vZGUucHJvdmlkZXIudG9rZW4pXSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRFbGVtZW50SGFzUHJpdmF0ZVByb3ZpZGVycykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudEhhc1ByaXZhdGVQcm92aWRlcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIHRvIG5vdCBnZXQgTyhuXjIpIGNvbXBsZXhpdHkuLi5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhcmVudC5lbGVtZW50LmFsbFByb3ZpZGVycyA9XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuY3JlYXRlKGN1cnJlbnRQYXJlbnQuZWxlbWVudC5wdWJsaWNQcm92aWRlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50LmVsZW1lbnQuYWxsUHJvdmlkZXJzW3Rva2VuS2V5KG5vZGUucHJvdmlkZXIudG9rZW4pXSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50LmVsZW1lbnQuY29tcG9uZW50UHJvdmlkZXIgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50UGFyZW50KSB7XG4gICAgICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkRmxhZ3MgfD0gbm9kZS5mbGFncztcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQuZGlyZWN0Q2hpbGRGbGFncyB8PSBub2RlLmZsYWdzO1xuICAgICAgICAgICAgY3VycmVudFBhcmVudC5jaGlsZE1hdGNoZWRRdWVyaWVzIHw9IG5vZGUubWF0Y2hlZFF1ZXJ5SWRzO1xuICAgICAgICAgICAgaWYgKG5vZGUuZWxlbWVudCAmJiBub2RlLmVsZW1lbnQudGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkTWF0Y2hlZFF1ZXJpZXMgfD0gbm9kZS5lbGVtZW50LnRlbXBsYXRlLm5vZGVNYXRjaGVkUXVlcmllcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZpZXdSb290Tm9kZUZsYWdzIHw9IG5vZGUuZmxhZ3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUuY2hpbGRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBub2RlO1xuICAgICAgICAgICAgaWYgKCFpc05nQ29udGFpbmVyKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFJlbmRlclBhcmVudCA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBjdXJyZW50IG5vZGUgaGFzIG5vIGNoaWxkcmVuLCBjaGVjayBpZiBpdCBpcyB0aGUgbGFzdCBjaGlsZHJlbiBvZiBpdHMgcGFyZW50LlxuICAgICAgICAgICAgLy8gV2hlbiBpdCBpcywgcHJvcGFnYXRlIHRoZSBmbGFncyB1cC5cbiAgICAgICAgICAgIC8vIFRoZSBsb29wIGlzIHJlcXVpcmVkIGJlY2F1c2UgYW4gZWxlbWVudCBjb3VsZCBiZSB0aGUgbGFzdCB0cmFuc2l0aXZlIGNoaWxkcmVuIG9mIHNldmVyYWxcbiAgICAgICAgICAgIC8vIGVsZW1lbnRzLiBXZSBsb29wIHRvIGVpdGhlciB0aGUgcm9vdCBvciB0aGUgaGlnaGVzdCBvcGVuZWQgZWxlbWVudCAoPSB3aXRoIHJlbWFpbmluZ1xuICAgICAgICAgICAgLy8gY2hpbGRyZW4pXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudFBhcmVudCAmJiBpID09PSBjdXJyZW50UGFyZW50Lm5vZGVJbmRleCArIGN1cnJlbnRQYXJlbnQuY2hpbGRDb3VudCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdQYXJlbnQgPSBjdXJyZW50UGFyZW50LnBhcmVudDtcbiAgICAgICAgICAgICAgICBpZiAobmV3UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BhcmVudC5jaGlsZEZsYWdzIHw9IGN1cnJlbnRQYXJlbnQuY2hpbGRGbGFncztcbiAgICAgICAgICAgICAgICAgICAgbmV3UGFyZW50LmNoaWxkTWF0Y2hlZFF1ZXJpZXMgfD0gY3VycmVudFBhcmVudC5jaGlsZE1hdGNoZWRRdWVyaWVzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgICAgIC8vIFdlIGFsc28gbmVlZCB0byB1cGRhdGUgdGhlIHJlbmRlciBwYXJlbnQgJiBhY2NvdW50IGZvciBuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhcmVudCAmJiBpc05nQ29udGFpbmVyKGN1cnJlbnRQYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJQYXJlbnQgPSBjdXJyZW50UGFyZW50LnJlbmRlclBhcmVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJQYXJlbnQgPSBjdXJyZW50UGFyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAodmlldywgbm9kZUluZGV4LCBldmVudE5hbWUsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBub2Rlc1tub2RlSW5kZXhdLmVsZW1lbnQuaGFuZGxlRXZlbnQodmlldywgZXZlbnROYW1lLCBldmVudCk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBXaWxsIGJlIGZpbGxlZCBsYXRlci4uLlxuICAgICAgICBmYWN0b3J5OiBudWxsLFxuICAgICAgICBub2RlRmxhZ3M6IHZpZXdOb2RlRmxhZ3MsXG4gICAgICAgIHJvb3ROb2RlRmxhZ3M6IHZpZXdSb290Tm9kZUZsYWdzLFxuICAgICAgICBub2RlTWF0Y2hlZFF1ZXJpZXM6IHZpZXdNYXRjaGVkUXVlcmllcywgZmxhZ3M6IGZsYWdzLFxuICAgICAgICBub2Rlczogbm9kZXMsXG4gICAgICAgIHVwZGF0ZURpcmVjdGl2ZXM6IHVwZGF0ZURpcmVjdGl2ZXMgfHwgTk9PUCxcbiAgICAgICAgdXBkYXRlUmVuZGVyZXI6IHVwZGF0ZVJlbmRlcmVyIHx8IE5PT1AsIGhhbmRsZUV2ZW50OiBoYW5kbGVFdmVudCxcbiAgICAgICAgYmluZGluZ0NvdW50OiB2aWV3QmluZGluZ0NvdW50LFxuICAgICAgICBvdXRwdXRDb3VudDogdmlld0Rpc3Bvc2FibGVDb3VudCwgbGFzdFJlbmRlclJvb3ROb2RlOiBsYXN0UmVuZGVyUm9vdE5vZGVcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNOZ0NvbnRhaW5lcihub2RlKSB7XG4gICAgcmV0dXJuIChub2RlLmZsYWdzICYgMSAvKiBUeXBlRWxlbWVudCAqLykgIT09IDAgJiYgbm9kZS5lbGVtZW50Lm5hbWUgPT09IG51bGw7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU5vZGUocGFyZW50LCBub2RlLCBub2RlQ291bnQpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBub2RlLmVsZW1lbnQgJiYgbm9kZS5lbGVtZW50LnRlbXBsYXRlO1xuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICBpZiAoIXRlbXBsYXRlLmxhc3RSZW5kZXJSb290Tm9kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBTdGF0ZTogRW1iZWRkZWQgdGVtcGxhdGVzIHdpdGhvdXQgbm9kZXMgYXJlIG5vdCBhbGxvd2VkIVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGVtcGxhdGUubGFzdFJlbmRlclJvb3ROb2RlICYmXG4gICAgICAgICAgICB0ZW1wbGF0ZS5sYXN0UmVuZGVyUm9vdE5vZGUuZmxhZ3MgJiAxNjc3NzIxNiAvKiBFbWJlZGRlZFZpZXdzICovKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIFN0YXRlOiBMYXN0IHJvb3Qgbm9kZSBvZiBhIHRlbXBsYXRlIGNhbid0IGhhdmUgZW1iZWRkZWQgdmlld3MsIGF0IGluZGV4IFwiICsgbm9kZS5ub2RlSW5kZXggKyBcIiFcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUuZmxhZ3MgJiAyMDIyNCAvKiBDYXRQcm92aWRlciAqLykge1xuICAgICAgICB2YXIgcGFyZW50RmxhZ3MgPSBwYXJlbnQgPyBwYXJlbnQuZmxhZ3MgOiAwO1xuICAgICAgICBpZiAoKHBhcmVudEZsYWdzICYgMSAvKiBUeXBlRWxlbWVudCAqLykgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgU3RhdGU6IFN0YXRpY1Byb3ZpZGVyL0RpcmVjdGl2ZSBub2RlcyBuZWVkIHRvIGJlIGNoaWxkcmVuIG9mIGVsZW1lbnRzIG9yIGFuY2hvcnMsIGF0IGluZGV4IFwiICsgbm9kZS5ub2RlSW5kZXggKyBcIiFcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUucXVlcnkpIHtcbiAgICAgICAgaWYgKG5vZGUuZmxhZ3MgJiA2NzEwODg2NCAvKiBUeXBlQ29udGVudFF1ZXJ5ICovICYmXG4gICAgICAgICAgICAoIXBhcmVudCB8fCAocGFyZW50LmZsYWdzICYgMTYzODQgLyogVHlwZURpcmVjdGl2ZSAqLykgPT09IDApKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIFN0YXRlOiBDb250ZW50IFF1ZXJ5IG5vZGVzIG5lZWQgdG8gYmUgY2hpbGRyZW4gb2YgZGlyZWN0aXZlcywgYXQgaW5kZXggXCIgKyBub2RlLm5vZGVJbmRleCArIFwiIVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5mbGFncyAmIDEzNDIxNzcyOCAvKiBUeXBlVmlld1F1ZXJ5ICovICYmIHBhcmVudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBTdGF0ZTogVmlldyBRdWVyeSBub2RlcyBoYXZlIHRvIGJlIHRvcCBsZXZlbCBub2RlcywgYXQgaW5kZXggXCIgKyBub2RlLm5vZGVJbmRleCArIFwiIVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5jaGlsZENvdW50KSB7XG4gICAgICAgIHZhciBwYXJlbnRFbmQgPSBwYXJlbnQgPyBwYXJlbnQubm9kZUluZGV4ICsgcGFyZW50LmNoaWxkQ291bnQgOiBub2RlQ291bnQgLSAxO1xuICAgICAgICBpZiAobm9kZS5ub2RlSW5kZXggPD0gcGFyZW50RW5kICYmIG5vZGUubm9kZUluZGV4ICsgbm9kZS5jaGlsZENvdW50ID4gcGFyZW50RW5kKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIFN0YXRlOiBjaGlsZENvdW50IG9mIG5vZGUgbGVhZHMgb3V0c2lkZSBvZiBwYXJlbnQsIGF0IGluZGV4IFwiICsgbm9kZS5ub2RlSW5kZXggKyBcIiFcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVFbWJlZGRlZFZpZXcocGFyZW50LCBhbmNob3JEZWYkJDEsIHZpZXdEZWYsIGNvbnRleHQpIHtcbiAgICAvLyBlbWJlZGRlZCB2aWV3cyBhcmUgc2VlbiBhcyBzaWJsaW5ncyB0byB0aGUgYW5jaG9yLCBzbyB3ZSBuZWVkXG4gICAgLy8gdG8gZ2V0IHRoZSBwYXJlbnQgb2YgdGhlIGFuY2hvciBhbmQgdXNlIGl0IGFzIHBhcmVudEluZGV4LlxuICAgIHZhciB2aWV3ID0gY3JlYXRlVmlldyhwYXJlbnQucm9vdCwgcGFyZW50LnJlbmRlcmVyLCBwYXJlbnQsIGFuY2hvckRlZiQkMSwgdmlld0RlZik7XG4gICAgaW5pdFZpZXcodmlldywgcGFyZW50LmNvbXBvbmVudCwgY29udGV4dCk7XG4gICAgY3JlYXRlVmlld05vZGVzKHZpZXcpO1xuICAgIHJldHVybiB2aWV3O1xufVxuZnVuY3Rpb24gY3JlYXRlUm9vdFZpZXcocm9vdCwgZGVmLCBjb250ZXh0KSB7XG4gICAgdmFyIHZpZXcgPSBjcmVhdGVWaWV3KHJvb3QsIHJvb3QucmVuZGVyZXIsIG51bGwsIG51bGwsIGRlZik7XG4gICAgaW5pdFZpZXcodmlldywgY29udGV4dCwgY29udGV4dCk7XG4gICAgY3JlYXRlVmlld05vZGVzKHZpZXcpO1xuICAgIHJldHVybiB2aWV3O1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50VmlldyhwYXJlbnRWaWV3LCBub2RlRGVmLCB2aWV3RGVmLCBob3N0RWxlbWVudCkge1xuICAgIHZhciByZW5kZXJlclR5cGUgPSBub2RlRGVmLmVsZW1lbnQuY29tcG9uZW50UmVuZGVyZXJUeXBlO1xuICAgIHZhciBjb21wUmVuZGVyZXI7XG4gICAgaWYgKCFyZW5kZXJlclR5cGUpIHtcbiAgICAgICAgY29tcFJlbmRlcmVyID0gcGFyZW50Vmlldy5yb290LnJlbmRlcmVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29tcFJlbmRlcmVyID0gcGFyZW50Vmlldy5yb290LnJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihob3N0RWxlbWVudCwgcmVuZGVyZXJUeXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVZpZXcocGFyZW50Vmlldy5yb290LCBjb21wUmVuZGVyZXIsIHBhcmVudFZpZXcsIG5vZGVEZWYuZWxlbWVudC5jb21wb25lbnRQcm92aWRlciwgdmlld0RlZik7XG59XG5mdW5jdGlvbiBjcmVhdGVWaWV3KHJvb3QsIHJlbmRlcmVyLCBwYXJlbnQsIHBhcmVudE5vZGVEZWYsIGRlZikge1xuICAgIHZhciBub2RlcyA9IG5ldyBBcnJheShkZWYubm9kZXMubGVuZ3RoKTtcbiAgICB2YXIgZGlzcG9zYWJsZXMgPSBkZWYub3V0cHV0Q291bnQgPyBuZXcgQXJyYXkoZGVmLm91dHB1dENvdW50KSA6IG51bGw7XG4gICAgdmFyIHZpZXcgPSB7XG4gICAgICAgIGRlZjogZGVmLFxuICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgdmlld0NvbnRhaW5lclBhcmVudDogbnVsbCwgcGFyZW50Tm9kZURlZjogcGFyZW50Tm9kZURlZixcbiAgICAgICAgY29udGV4dDogbnVsbCxcbiAgICAgICAgY29tcG9uZW50OiBudWxsLCBub2Rlczogbm9kZXMsXG4gICAgICAgIHN0YXRlOiAxMyAvKiBDYXRJbml0ICovLCByb290OiByb290LCByZW5kZXJlcjogcmVuZGVyZXIsXG4gICAgICAgIG9sZFZhbHVlczogbmV3IEFycmF5KGRlZi5iaW5kaW5nQ291bnQpLCBkaXNwb3NhYmxlczogZGlzcG9zYWJsZXMsXG4gICAgICAgIGluaXRJbmRleDogLTFcbiAgICB9O1xuICAgIHJldHVybiB2aWV3O1xufVxuZnVuY3Rpb24gaW5pdFZpZXcodmlldywgY29tcG9uZW50LCBjb250ZXh0KSB7XG4gICAgdmlldy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgdmlldy5jb250ZXh0ID0gY29udGV4dDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdOb2Rlcyh2aWV3KSB7XG4gICAgdmFyIHJlbmRlckhvc3Q7XG4gICAgaWYgKGlzQ29tcG9uZW50Vmlldyh2aWV3KSkge1xuICAgICAgICB2YXIgaG9zdERlZiA9IHZpZXcucGFyZW50Tm9kZURlZjtcbiAgICAgICAgcmVuZGVySG9zdCA9IGFzRWxlbWVudERhdGEodmlldy5wYXJlbnQsIGhvc3REZWYucGFyZW50Lm5vZGVJbmRleCkucmVuZGVyRWxlbWVudDtcbiAgICB9XG4gICAgdmFyIGRlZiA9IHZpZXcuZGVmO1xuICAgIHZhciBub2RlcyA9IHZpZXcubm9kZXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWYubm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG5vZGVEZWYgPSBkZWYubm9kZXNbaV07XG4gICAgICAgIFNlcnZpY2VzLnNldEN1cnJlbnROb2RlKHZpZXcsIGkpO1xuICAgICAgICB2YXIgbm9kZURhdGEgPSB2b2lkIDA7XG4gICAgICAgIHN3aXRjaCAobm9kZURlZi5mbGFncyAmIDIwMTM0NzA2NyAvKiBUeXBlcyAqLykge1xuICAgICAgICAgICAgY2FzZSAxIC8qIFR5cGVFbGVtZW50ICovOlxuICAgICAgICAgICAgICAgIHZhciBlbCA9IGNyZWF0ZUVsZW1lbnQodmlldywgcmVuZGVySG9zdCwgbm9kZURlZik7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudFZpZXcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAzMzU1NDQzMiAvKiBDb21wb25lbnRWaWV3ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wVmlld0RlZiA9IHJlc29sdmVEZWZpbml0aW9uKG5vZGVEZWYuZWxlbWVudC5jb21wb25lbnRWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50VmlldyA9IFNlcnZpY2VzLmNyZWF0ZUNvbXBvbmVudFZpZXcodmlldywgbm9kZURlZiwgY29tcFZpZXdEZWYsIGVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGlzdGVuVG9FbGVtZW50T3V0cHV0cyh2aWV3LCBjb21wb25lbnRWaWV3LCBub2RlRGVmLCBlbCk7XG4gICAgICAgICAgICAgICAgbm9kZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckVsZW1lbnQ6IGVsLFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWaWV3OiBjb21wb25lbnRWaWV3LFxuICAgICAgICAgICAgICAgICAgICB2aWV3Q29udGFpbmVyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogbm9kZURlZi5lbGVtZW50LnRlbXBsYXRlID8gY3JlYXRlVGVtcGxhdGVEYXRhKHZpZXcsIG5vZGVEZWYpIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDE2Nzc3MjE2IC8qIEVtYmVkZGVkVmlld3MgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZURhdGEudmlld0NvbnRhaW5lciA9IGNyZWF0ZVZpZXdDb250YWluZXJEYXRhKHZpZXcsIG5vZGVEZWYsIG5vZGVEYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIgLyogVHlwZVRleHQgKi86XG4gICAgICAgICAgICAgICAgbm9kZURhdGEgPSBjcmVhdGVUZXh0KHZpZXcsIHJlbmRlckhvc3QsIG5vZGVEZWYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1MTIgLyogVHlwZUNsYXNzUHJvdmlkZXIgKi86XG4gICAgICAgICAgICBjYXNlIDEwMjQgLyogVHlwZUZhY3RvcnlQcm92aWRlciAqLzpcbiAgICAgICAgICAgIGNhc2UgMjA0OCAvKiBUeXBlVXNlRXhpc3RpbmdQcm92aWRlciAqLzpcbiAgICAgICAgICAgIGNhc2UgMjU2IC8qIFR5cGVWYWx1ZVByb3ZpZGVyICovOiB7XG4gICAgICAgICAgICAgICAgbm9kZURhdGEgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVEYXRhICYmICEobm9kZURlZi5mbGFncyAmIDQwOTYgLyogTGF6eVByb3ZpZGVyICovKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBjcmVhdGVQcm92aWRlckluc3RhbmNlKHZpZXcsIG5vZGVEZWYpO1xuICAgICAgICAgICAgICAgICAgICBub2RlRGF0YSA9IHsgaW5zdGFuY2U6IGluc3RhbmNlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAxNiAvKiBUeXBlUGlwZSAqLzoge1xuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGNyZWF0ZVBpcGVJbnN0YW5jZSh2aWV3LCBub2RlRGVmKTtcbiAgICAgICAgICAgICAgICBub2RlRGF0YSA9IHsgaW5zdGFuY2U6IGluc3RhbmNlIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDE2Mzg0IC8qIFR5cGVEaXJlY3RpdmUgKi86IHtcbiAgICAgICAgICAgICAgICBub2RlRGF0YSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmICghbm9kZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gY3JlYXRlRGlyZWN0aXZlSW5zdGFuY2Uodmlldywgbm9kZURlZik7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVEYXRhID0geyBpbnN0YW5jZTogaW5zdGFuY2UgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAzMjc2OCAvKiBDb21wb25lbnQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBWaWV3ID0gYXNFbGVtZW50RGF0YSh2aWV3LCBub2RlRGVmLnBhcmVudC5ub2RlSW5kZXgpLmNvbXBvbmVudFZpZXc7XG4gICAgICAgICAgICAgICAgICAgIGluaXRWaWV3KGNvbXBWaWV3LCBub2RlRGF0YS5pbnN0YW5jZSwgbm9kZURhdGEuaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgMzIgLyogVHlwZVB1cmVBcnJheSAqLzpcbiAgICAgICAgICAgIGNhc2UgNjQgLyogVHlwZVB1cmVPYmplY3QgKi86XG4gICAgICAgICAgICBjYXNlIDEyOCAvKiBUeXBlUHVyZVBpcGUgKi86XG4gICAgICAgICAgICAgICAgbm9kZURhdGEgPSBjcmVhdGVQdXJlRXhwcmVzc2lvbih2aWV3LCBub2RlRGVmKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjcxMDg4NjQgLyogVHlwZUNvbnRlbnRRdWVyeSAqLzpcbiAgICAgICAgICAgIGNhc2UgMTM0MjE3NzI4IC8qIFR5cGVWaWV3UXVlcnkgKi86XG4gICAgICAgICAgICAgICAgbm9kZURhdGEgPSBjcmVhdGVRdWVyeSQxKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDggLyogVHlwZU5nQ29udGVudCAqLzpcbiAgICAgICAgICAgICAgICBhcHBlbmROZ0NvbnRlbnQodmlldywgcmVuZGVySG9zdCwgbm9kZURlZik7XG4gICAgICAgICAgICAgICAgLy8gbm8gcnVudGltZSBkYXRhIG5lZWRlZCBmb3IgTmdDb250ZW50Li4uXG4gICAgICAgICAgICAgICAgbm9kZURhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZXNbaV0gPSBub2RlRGF0YTtcbiAgICB9XG4gICAgLy8gQ3JlYXRlIHRoZSBWaWV3RGF0YS5ub2RlcyBvZiBjb21wb25lbnQgdmlld3MgYWZ0ZXIgd2UgY3JlYXRlZCBldmVyeXRoaW5nIGVsc2UsXG4gICAgLy8gc28gdGhhdCBlLmcuIG5nLWNvbnRlbnQgd29ya3NcbiAgICBleGVjQ29tcG9uZW50Vmlld3NBY3Rpb24odmlldywgVmlld0FjdGlvbi5DcmVhdGVWaWV3Tm9kZXMpO1xuICAgIC8vIGZpbGwgc3RhdGljIGNvbnRlbnQgYW5kIHZpZXcgcXVlcmllc1xuICAgIGV4ZWNRdWVyaWVzQWN0aW9uKHZpZXcsIDY3MTA4ODY0IC8qIFR5cGVDb250ZW50UXVlcnkgKi8gfCAxMzQyMTc3MjggLyogVHlwZVZpZXdRdWVyeSAqLywgMjY4NDM1NDU2IC8qIFN0YXRpY1F1ZXJ5ICovLCAwIC8qIENoZWNrQW5kVXBkYXRlICovKTtcbn1cbmZ1bmN0aW9uIGNoZWNrTm9DaGFuZ2VzVmlldyh2aWV3KSB7XG4gICAgbWFya1Byb2plY3RlZFZpZXdzRm9yQ2hlY2sodmlldyk7XG4gICAgU2VydmljZXMudXBkYXRlRGlyZWN0aXZlcyh2aWV3LCAxIC8qIENoZWNrTm9DaGFuZ2VzICovKTtcbiAgICBleGVjRW1iZWRkZWRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkNoZWNrTm9DaGFuZ2VzKTtcbiAgICBTZXJ2aWNlcy51cGRhdGVSZW5kZXJlcih2aWV3LCAxIC8qIENoZWNrTm9DaGFuZ2VzICovKTtcbiAgICBleGVjQ29tcG9uZW50Vmlld3NBY3Rpb24odmlldywgVmlld0FjdGlvbi5DaGVja05vQ2hhbmdlcyk7XG4gICAgLy8gTm90ZTogV2UgZG9uJ3QgY2hlY2sgcXVlcmllcyBmb3IgY2hhbmdlcyBhcyB3ZSBkaWRuJ3QgZG8gdGhpcyBpbiB2Mi54LlxuICAgIC8vIFRPRE8odGJvc2NoKTogaW52ZXN0aWdhdGUgaWYgd2UgY2FuIGVuYWJsZSB0aGUgY2hlY2sgYWdhaW4gaW4gdjUueCB3aXRoIGEgbmljZXIgZXJyb3IgbWVzc2FnZS5cbiAgICB2aWV3LnN0YXRlICY9IH4oNjQgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3cyAqLyB8IDMyIC8qIENoZWNrUHJvamVjdGVkVmlldyAqLyk7XG59XG5mdW5jdGlvbiBjaGVja0FuZFVwZGF0ZVZpZXcodmlldykge1xuICAgIGlmICh2aWV3LnN0YXRlICYgMSAvKiBCZWZvcmVGaXJzdENoZWNrICovKSB7XG4gICAgICAgIHZpZXcuc3RhdGUgJj0gfjEgLyogQmVmb3JlRmlyc3RDaGVjayAqLztcbiAgICAgICAgdmlldy5zdGF0ZSB8PSAyIC8qIEZpcnN0Q2hlY2sgKi87XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2aWV3LnN0YXRlICY9IH4yIC8qIEZpcnN0Q2hlY2sgKi87XG4gICAgfVxuICAgIHNoaWZ0SW5pdFN0YXRlKHZpZXcsIDAgLyogSW5pdFN0YXRlX0JlZm9yZUluaXQgKi8sIDI1NiAvKiBJbml0U3RhdGVfQ2FsbGluZ09uSW5pdCAqLyk7XG4gICAgbWFya1Byb2plY3RlZFZpZXdzRm9yQ2hlY2sodmlldyk7XG4gICAgU2VydmljZXMudXBkYXRlRGlyZWN0aXZlcyh2aWV3LCAwIC8qIENoZWNrQW5kVXBkYXRlICovKTtcbiAgICBleGVjRW1iZWRkZWRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkNoZWNrQW5kVXBkYXRlKTtcbiAgICBleGVjUXVlcmllc0FjdGlvbih2aWV3LCA2NzEwODg2NCAvKiBUeXBlQ29udGVudFF1ZXJ5ICovLCA1MzY4NzA5MTIgLyogRHluYW1pY1F1ZXJ5ICovLCAwIC8qIENoZWNrQW5kVXBkYXRlICovKTtcbiAgICB2YXIgY2FsbEluaXQgPSBzaGlmdEluaXRTdGF0ZSh2aWV3LCAyNTYgLyogSW5pdFN0YXRlX0NhbGxpbmdPbkluaXQgKi8sIDUxMiAvKiBJbml0U3RhdGVfQ2FsbGluZ0FmdGVyQ29udGVudEluaXQgKi8pO1xuICAgIGNhbGxMaWZlY3ljbGVIb29rc0NoaWxkcmVuRmlyc3QodmlldywgMjA5NzE1MiAvKiBBZnRlckNvbnRlbnRDaGVja2VkICovIHwgKGNhbGxJbml0ID8gMTA0ODU3NiAvKiBBZnRlckNvbnRlbnRJbml0ICovIDogMCkpO1xuICAgIFNlcnZpY2VzLnVwZGF0ZVJlbmRlcmVyKHZpZXcsIDAgLyogQ2hlY2tBbmRVcGRhdGUgKi8pO1xuICAgIGV4ZWNDb21wb25lbnRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkNoZWNrQW5kVXBkYXRlKTtcbiAgICBleGVjUXVlcmllc0FjdGlvbih2aWV3LCAxMzQyMTc3MjggLyogVHlwZVZpZXdRdWVyeSAqLywgNTM2ODcwOTEyIC8qIER5bmFtaWNRdWVyeSAqLywgMCAvKiBDaGVja0FuZFVwZGF0ZSAqLyk7XG4gICAgY2FsbEluaXQgPSBzaGlmdEluaXRTdGF0ZSh2aWV3LCA1MTIgLyogSW5pdFN0YXRlX0NhbGxpbmdBZnRlckNvbnRlbnRJbml0ICovLCA3NjggLyogSW5pdFN0YXRlX0NhbGxpbmdBZnRlclZpZXdJbml0ICovKTtcbiAgICBjYWxsTGlmZWN5Y2xlSG9va3NDaGlsZHJlbkZpcnN0KHZpZXcsIDgzODg2MDggLyogQWZ0ZXJWaWV3Q2hlY2tlZCAqLyB8IChjYWxsSW5pdCA/IDQxOTQzMDQgLyogQWZ0ZXJWaWV3SW5pdCAqLyA6IDApKTtcbiAgICBpZiAodmlldy5kZWYuZmxhZ3MgJiAyIC8qIE9uUHVzaCAqLykge1xuICAgICAgICB2aWV3LnN0YXRlICY9IH44IC8qIENoZWNrc0VuYWJsZWQgKi87XG4gICAgfVxuICAgIHZpZXcuc3RhdGUgJj0gfig2NCAvKiBDaGVja1Byb2plY3RlZFZpZXdzICovIHwgMzIgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3ICovKTtcbiAgICBzaGlmdEluaXRTdGF0ZSh2aWV3LCA3NjggLyogSW5pdFN0YXRlX0NhbGxpbmdBZnRlclZpZXdJbml0ICovLCAxMDI0IC8qIEluaXRTdGF0ZV9BZnRlckluaXQgKi8pO1xufVxuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVOb2RlKHZpZXcsIG5vZGVEZWYsIGFyZ1N0eWxlLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSkge1xuICAgIGlmIChhcmdTdHlsZSA9PT0gMCAvKiBJbmxpbmUgKi8pIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrQW5kVXBkYXRlTm9kZUlubGluZSh2aWV3LCBub2RlRGVmLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY2hlY2tBbmRVcGRhdGVOb2RlRHluYW1pYyh2aWV3LCBub2RlRGVmLCB2MCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWFya1Byb2plY3RlZFZpZXdzRm9yQ2hlY2sodmlldykge1xuICAgIHZhciBkZWYgPSB2aWV3LmRlZjtcbiAgICBpZiAoIShkZWYubm9kZUZsYWdzICYgNCAvKiBQcm9qZWN0ZWRUZW1wbGF0ZSAqLykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZi5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbm9kZURlZiA9IGRlZi5ub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiA0IC8qIFByb2plY3RlZFRlbXBsYXRlICovKSB7XG4gICAgICAgICAgICB2YXIgcHJvamVjdGVkVmlld3MgPSBhc0VsZW1lbnREYXRhKHZpZXcsIGkpLnRlbXBsYXRlLl9wcm9qZWN0ZWRWaWV3cztcbiAgICAgICAgICAgIGlmIChwcm9qZWN0ZWRWaWV3cykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IDA7IGlfMSA8IHByb2plY3RlZFZpZXdzLmxlbmd0aDsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2plY3RlZFZpZXcgPSBwcm9qZWN0ZWRWaWV3c1tpXzFdO1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0ZWRWaWV3LnN0YXRlIHw9IDMyIC8qIENoZWNrUHJvamVjdGVkVmlldyAqLztcbiAgICAgICAgICAgICAgICAgICAgbWFya1BhcmVudFZpZXdzRm9yQ2hlY2tQcm9qZWN0ZWRWaWV3cyhwcm9qZWN0ZWRWaWV3LCB2aWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG5vZGVEZWYuY2hpbGRGbGFncyAmIDQgLyogUHJvamVjdGVkVGVtcGxhdGUgKi8pID09PSAwKSB7XG4gICAgICAgICAgICAvLyBhIHBhcmVudCB3aXRoIGxlYWZzXG4gICAgICAgICAgICAvLyBubyBjaGlsZCBpcyBhIGNvbXBvbmVudCxcbiAgICAgICAgICAgIC8vIHRoZW4gc2tpcCB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tBbmRVcGRhdGVOb2RlSW5saW5lKHZpZXcsIG5vZGVEZWYsIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIHY5KSB7XG4gICAgc3dpdGNoIChub2RlRGVmLmZsYWdzICYgMjAxMzQ3MDY3IC8qIFR5cGVzICovKSB7XG4gICAgICAgIGNhc2UgMSAvKiBUeXBlRWxlbWVudCAqLzpcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZFVwZGF0ZUVsZW1lbnRJbmxpbmUodmlldywgbm9kZURlZiwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpO1xuICAgICAgICBjYXNlIDIgLyogVHlwZVRleHQgKi86XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tBbmRVcGRhdGVUZXh0SW5saW5lKHZpZXcsIG5vZGVEZWYsIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIHY5KTtcbiAgICAgICAgY2FzZSAxNjM4NCAvKiBUeXBlRGlyZWN0aXZlICovOlxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrQW5kVXBkYXRlRGlyZWN0aXZlSW5saW5lKHZpZXcsIG5vZGVEZWYsIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIHY5KTtcbiAgICAgICAgY2FzZSAzMiAvKiBUeXBlUHVyZUFycmF5ICovOlxuICAgICAgICBjYXNlIDY0IC8qIFR5cGVQdXJlT2JqZWN0ICovOlxuICAgICAgICBjYXNlIDEyOCAvKiBUeXBlUHVyZVBpcGUgKi86XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tBbmRVcGRhdGVQdXJlRXhwcmVzc2lvbklubGluZSh2aWV3LCBub2RlRGVmLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyAndW5yZWFjaGFibGUnO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrQW5kVXBkYXRlTm9kZUR5bmFtaWModmlldywgbm9kZURlZiwgdmFsdWVzKSB7XG4gICAgc3dpdGNoIChub2RlRGVmLmZsYWdzICYgMjAxMzQ3MDY3IC8qIFR5cGVzICovKSB7XG4gICAgICAgIGNhc2UgMSAvKiBUeXBlRWxlbWVudCAqLzpcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZFVwZGF0ZUVsZW1lbnREeW5hbWljKHZpZXcsIG5vZGVEZWYsIHZhbHVlcyk7XG4gICAgICAgIGNhc2UgMiAvKiBUeXBlVGV4dCAqLzpcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZFVwZGF0ZVRleHREeW5hbWljKHZpZXcsIG5vZGVEZWYsIHZhbHVlcyk7XG4gICAgICAgIGNhc2UgMTYzODQgLyogVHlwZURpcmVjdGl2ZSAqLzpcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZFVwZGF0ZURpcmVjdGl2ZUR5bmFtaWModmlldywgbm9kZURlZiwgdmFsdWVzKTtcbiAgICAgICAgY2FzZSAzMiAvKiBUeXBlUHVyZUFycmF5ICovOlxuICAgICAgICBjYXNlIDY0IC8qIFR5cGVQdXJlT2JqZWN0ICovOlxuICAgICAgICBjYXNlIDEyOCAvKiBUeXBlUHVyZVBpcGUgKi86XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tBbmRVcGRhdGVQdXJlRXhwcmVzc2lvbkR5bmFtaWModmlldywgbm9kZURlZiwgdmFsdWVzKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93ICd1bnJlYWNoYWJsZSc7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tOb0NoYW5nZXNOb2RlKHZpZXcsIG5vZGVEZWYsIGFyZ1N0eWxlLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSkge1xuICAgIGlmIChhcmdTdHlsZSA9PT0gMCAvKiBJbmxpbmUgKi8pIHtcbiAgICAgICAgY2hlY2tOb0NoYW5nZXNOb2RlSW5saW5lKHZpZXcsIG5vZGVEZWYsIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIHY5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoZWNrTm9DaGFuZ2VzTm9kZUR5bmFtaWModmlldywgbm9kZURlZiwgdjApO1xuICAgIH1cbiAgICAvLyBSZXR1cm5pbmcgZmFsc2UgaXMgb2sgaGVyZSBhcyB3ZSB3b3VsZCBoYXZlIHRocm93biBpbiBjYXNlIG9mIGEgY2hhbmdlLlxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNoZWNrTm9DaGFuZ2VzTm9kZUlubGluZSh2aWV3LCBub2RlRGVmLCB2MCwgdjEsIHYyLCB2MywgdjQsIHY1LCB2NiwgdjcsIHY4LCB2OSkge1xuICAgIHZhciBiaW5kTGVuID0gbm9kZURlZi5iaW5kaW5ncy5sZW5ndGg7XG4gICAgaWYgKGJpbmRMZW4gPiAwKVxuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgMCwgdjApO1xuICAgIGlmIChiaW5kTGVuID4gMSlcbiAgICAgICAgY2hlY2tCaW5kaW5nTm9DaGFuZ2VzKHZpZXcsIG5vZGVEZWYsIDEsIHYxKTtcbiAgICBpZiAoYmluZExlbiA+IDIpXG4gICAgICAgIGNoZWNrQmluZGluZ05vQ2hhbmdlcyh2aWV3LCBub2RlRGVmLCAyLCB2Mik7XG4gICAgaWYgKGJpbmRMZW4gPiAzKVxuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgMywgdjMpO1xuICAgIGlmIChiaW5kTGVuID4gNClcbiAgICAgICAgY2hlY2tCaW5kaW5nTm9DaGFuZ2VzKHZpZXcsIG5vZGVEZWYsIDQsIHY0KTtcbiAgICBpZiAoYmluZExlbiA+IDUpXG4gICAgICAgIGNoZWNrQmluZGluZ05vQ2hhbmdlcyh2aWV3LCBub2RlRGVmLCA1LCB2NSk7XG4gICAgaWYgKGJpbmRMZW4gPiA2KVxuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgNiwgdjYpO1xuICAgIGlmIChiaW5kTGVuID4gNylcbiAgICAgICAgY2hlY2tCaW5kaW5nTm9DaGFuZ2VzKHZpZXcsIG5vZGVEZWYsIDcsIHY3KTtcbiAgICBpZiAoYmluZExlbiA+IDgpXG4gICAgICAgIGNoZWNrQmluZGluZ05vQ2hhbmdlcyh2aWV3LCBub2RlRGVmLCA4LCB2OCk7XG4gICAgaWYgKGJpbmRMZW4gPiA5KVxuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgOSwgdjkpO1xufVxuZnVuY3Rpb24gY2hlY2tOb0NoYW5nZXNOb2RlRHluYW1pYyh2aWV3LCBub2RlRGVmLCB2YWx1ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjaGVja0JpbmRpbmdOb0NoYW5nZXModmlldywgbm9kZURlZiwgaSwgdmFsdWVzW2ldKTtcbiAgICB9XG59XG4vKipcbiAqIFdvcmthcm91bmQgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvdHNpY2tsZS9pc3N1ZXMvNDk3XG4gKiBAc3VwcHJlc3Mge21pc3BsYWNlZFR5cGVBbm5vdGF0aW9ufVxuICovXG5mdW5jdGlvbiBjaGVja05vQ2hhbmdlc1F1ZXJ5KHZpZXcsIG5vZGVEZWYpIHtcbiAgICB2YXIgcXVlcnlMaXN0ID0gYXNRdWVyeUxpc3Qodmlldywgbm9kZURlZi5ub2RlSW5kZXgpO1xuICAgIGlmIChxdWVyeUxpc3QuZGlydHkpIHtcbiAgICAgICAgdGhyb3cgZXhwcmVzc2lvbkNoYW5nZWRBZnRlckl0SGFzQmVlbkNoZWNrZWRFcnJvcihTZXJ2aWNlcy5jcmVhdGVEZWJ1Z0NvbnRleHQodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLCBcIlF1ZXJ5IFwiICsgbm9kZURlZi5xdWVyeS5pZCArIFwiIG5vdCBkaXJ0eVwiLCBcIlF1ZXJ5IFwiICsgbm9kZURlZi5xdWVyeS5pZCArIFwiIGRpcnR5XCIsICh2aWV3LnN0YXRlICYgMSAvKiBCZWZvcmVGaXJzdENoZWNrICovKSAhPT0gMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVzdHJveVZpZXcodmlldykge1xuICAgIGlmICh2aWV3LnN0YXRlICYgMTI4IC8qIERlc3Ryb3llZCAqLykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGV4ZWNFbWJlZGRlZFZpZXdzQWN0aW9uKHZpZXcsIFZpZXdBY3Rpb24uRGVzdHJveSk7XG4gICAgZXhlY0NvbXBvbmVudFZpZXdzQWN0aW9uKHZpZXcsIFZpZXdBY3Rpb24uRGVzdHJveSk7XG4gICAgY2FsbExpZmVjeWNsZUhvb2tzQ2hpbGRyZW5GaXJzdCh2aWV3LCAxMzEwNzIgLyogT25EZXN0cm95ICovKTtcbiAgICBpZiAodmlldy5kaXNwb3NhYmxlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcuZGlzcG9zYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZpZXcuZGlzcG9zYWJsZXNbaV0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXRhY2hQcm9qZWN0ZWRWaWV3KHZpZXcpO1xuICAgIGlmICh2aWV3LnJlbmRlcmVyLmRlc3Ryb3lOb2RlKSB7XG4gICAgICAgIGRlc3Ryb3lWaWV3Tm9kZXModmlldyk7XG4gICAgfVxuICAgIGlmIChpc0NvbXBvbmVudFZpZXcodmlldykpIHtcbiAgICAgICAgdmlldy5yZW5kZXJlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIHZpZXcuc3RhdGUgfD0gMTI4IC8qIERlc3Ryb3llZCAqLztcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lWaWV3Tm9kZXModmlldykge1xuICAgIHZhciBsZW4gPSB2aWV3LmRlZi5ub2Rlcy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgZGVmID0gdmlldy5kZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChkZWYuZmxhZ3MgJiAxIC8qIFR5cGVFbGVtZW50ICovKSB7XG4gICAgICAgICAgICB2aWV3LnJlbmRlcmVyLmRlc3Ryb3lOb2RlKGFzRWxlbWVudERhdGEodmlldywgaSkucmVuZGVyRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVmLmZsYWdzICYgMiAvKiBUeXBlVGV4dCAqLykge1xuICAgICAgICAgICAgdmlldy5yZW5kZXJlci5kZXN0cm95Tm9kZShhc1RleHREYXRhKHZpZXcsIGkpLnJlbmRlclRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlZi5mbGFncyAmIDY3MTA4ODY0IC8qIFR5cGVDb250ZW50UXVlcnkgKi8gfHwgZGVmLmZsYWdzICYgMTM0MjE3NzI4IC8qIFR5cGVWaWV3UXVlcnkgKi8pIHtcbiAgICAgICAgICAgIGFzUXVlcnlMaXN0KHZpZXcsIGkpLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbnZhciBWaWV3QWN0aW9uO1xuKGZ1bmN0aW9uIChWaWV3QWN0aW9uKSB7XG4gICAgVmlld0FjdGlvbltWaWV3QWN0aW9uW1wiQ3JlYXRlVmlld05vZGVzXCJdID0gMF0gPSBcIkNyZWF0ZVZpZXdOb2Rlc1wiO1xuICAgIFZpZXdBY3Rpb25bVmlld0FjdGlvbltcIkNoZWNrTm9DaGFuZ2VzXCJdID0gMV0gPSBcIkNoZWNrTm9DaGFuZ2VzXCI7XG4gICAgVmlld0FjdGlvbltWaWV3QWN0aW9uW1wiQ2hlY2tOb0NoYW5nZXNQcm9qZWN0ZWRWaWV3c1wiXSA9IDJdID0gXCJDaGVja05vQ2hhbmdlc1Byb2plY3RlZFZpZXdzXCI7XG4gICAgVmlld0FjdGlvbltWaWV3QWN0aW9uW1wiQ2hlY2tBbmRVcGRhdGVcIl0gPSAzXSA9IFwiQ2hlY2tBbmRVcGRhdGVcIjtcbiAgICBWaWV3QWN0aW9uW1ZpZXdBY3Rpb25bXCJDaGVja0FuZFVwZGF0ZVByb2plY3RlZFZpZXdzXCJdID0gNF0gPSBcIkNoZWNrQW5kVXBkYXRlUHJvamVjdGVkVmlld3NcIjtcbiAgICBWaWV3QWN0aW9uW1ZpZXdBY3Rpb25bXCJEZXN0cm95XCJdID0gNV0gPSBcIkRlc3Ryb3lcIjtcbn0pKFZpZXdBY3Rpb24gfHwgKFZpZXdBY3Rpb24gPSB7fSkpO1xuZnVuY3Rpb24gZXhlY0NvbXBvbmVudFZpZXdzQWN0aW9uKHZpZXcsIGFjdGlvbikge1xuICAgIHZhciBkZWYgPSB2aWV3LmRlZjtcbiAgICBpZiAoIShkZWYubm9kZUZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZi5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbm9kZURlZiA9IGRlZi5ub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAzMzU1NDQzMiAvKiBDb21wb25lbnRWaWV3ICovKSB7XG4gICAgICAgICAgICAvLyBhIGxlYWZcbiAgICAgICAgICAgIGNhbGxWaWV3QWN0aW9uKGFzRWxlbWVudERhdGEodmlldywgaSkuY29tcG9uZW50VmlldywgYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobm9kZURlZi5jaGlsZEZsYWdzICYgMzM1NTQ0MzIgLyogQ29tcG9uZW50VmlldyAqLykgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGEgcGFyZW50IHdpdGggbGVhZnNcbiAgICAgICAgICAgIC8vIG5vIGNoaWxkIGlzIGEgY29tcG9uZW50LFxuICAgICAgICAgICAgLy8gdGhlbiBza2lwIHRoZSBjaGlsZHJlblxuICAgICAgICAgICAgaSArPSBub2RlRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBleGVjRW1iZWRkZWRWaWV3c0FjdGlvbih2aWV3LCBhY3Rpb24pIHtcbiAgICB2YXIgZGVmID0gdmlldy5kZWY7XG4gICAgaWYgKCEoZGVmLm5vZGVGbGFncyAmIDE2Nzc3MjE2IC8qIEVtYmVkZGVkVmlld3MgKi8pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWYubm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG5vZGVEZWYgPSBkZWYubm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgMTY3NzcyMTYgLyogRW1iZWRkZWRWaWV3cyAqLykge1xuICAgICAgICAgICAgLy8gYSBsZWFmXG4gICAgICAgICAgICB2YXIgZW1iZWRkZWRWaWV3cyA9IGFzRWxlbWVudERhdGEodmlldywgaSkudmlld0NvbnRhaW5lci5fZW1iZWRkZWRWaWV3cztcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZW1iZWRkZWRWaWV3cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIGNhbGxWaWV3QWN0aW9uKGVtYmVkZGVkVmlld3Nba10sIGFjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG5vZGVEZWYuY2hpbGRGbGFncyAmIDE2Nzc3MjE2IC8qIEVtYmVkZGVkVmlld3MgKi8pID09PSAwKSB7XG4gICAgICAgICAgICAvLyBhIHBhcmVudCB3aXRoIGxlYWZzXG4gICAgICAgICAgICAvLyBubyBjaGlsZCBpcyBhIGNvbXBvbmVudCxcbiAgICAgICAgICAgIC8vIHRoZW4gc2tpcCB0aGUgY2hpbGRyZW5cbiAgICAgICAgICAgIGkgKz0gbm9kZURlZi5jaGlsZENvdW50O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2FsbFZpZXdBY3Rpb24odmlldywgYWN0aW9uKSB7XG4gICAgdmFyIHZpZXdTdGF0ZSA9IHZpZXcuc3RhdGU7XG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgY2FzZSBWaWV3QWN0aW9uLkNoZWNrTm9DaGFuZ2VzOlxuICAgICAgICAgICAgaWYgKCh2aWV3U3RhdGUgJiAxMjggLyogRGVzdHJveWVkICovKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICgodmlld1N0YXRlICYgMTIgLyogQ2F0RGV0ZWN0Q2hhbmdlcyAqLykgPT09IDEyIC8qIENhdERldGVjdENoYW5nZXMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tOb0NoYW5nZXNWaWV3KHZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2aWV3U3RhdGUgJiA2NCAvKiBDaGVja1Byb2plY3RlZFZpZXdzICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWNQcm9qZWN0ZWRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkNoZWNrTm9DaGFuZ2VzUHJvamVjdGVkVmlld3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFZpZXdBY3Rpb24uQ2hlY2tOb0NoYW5nZXNQcm9qZWN0ZWRWaWV3czpcbiAgICAgICAgICAgIGlmICgodmlld1N0YXRlICYgMTI4IC8qIERlc3Ryb3llZCAqLykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodmlld1N0YXRlICYgMzIgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrTm9DaGFuZ2VzVmlldyh2aWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmlld1N0YXRlICYgNjQgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3cyAqLykge1xuICAgICAgICAgICAgICAgICAgICBleGVjUHJvamVjdGVkVmlld3NBY3Rpb24odmlldywgYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBWaWV3QWN0aW9uLkNoZWNrQW5kVXBkYXRlOlxuICAgICAgICAgICAgaWYgKCh2aWV3U3RhdGUgJiAxMjggLyogRGVzdHJveWVkICovKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICgodmlld1N0YXRlICYgMTIgLyogQ2F0RGV0ZWN0Q2hhbmdlcyAqLykgPT09IDEyIC8qIENhdERldGVjdENoYW5nZXMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tBbmRVcGRhdGVWaWV3KHZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2aWV3U3RhdGUgJiA2NCAvKiBDaGVja1Byb2plY3RlZFZpZXdzICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWNQcm9qZWN0ZWRWaWV3c0FjdGlvbih2aWV3LCBWaWV3QWN0aW9uLkNoZWNrQW5kVXBkYXRlUHJvamVjdGVkVmlld3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFZpZXdBY3Rpb24uQ2hlY2tBbmRVcGRhdGVQcm9qZWN0ZWRWaWV3czpcbiAgICAgICAgICAgIGlmICgodmlld1N0YXRlICYgMTI4IC8qIERlc3Ryb3llZCAqLykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodmlld1N0YXRlICYgMzIgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQW5kVXBkYXRlVmlldyh2aWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmlld1N0YXRlICYgNjQgLyogQ2hlY2tQcm9qZWN0ZWRWaWV3cyAqLykge1xuICAgICAgICAgICAgICAgICAgICBleGVjUHJvamVjdGVkVmlld3NBY3Rpb24odmlldywgYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBWaWV3QWN0aW9uLkRlc3Ryb3k6XG4gICAgICAgICAgICAvLyBOb3RlOiBkZXN0cm95VmlldyByZWN1cnNlcyBvdmVyIGFsbCB2aWV3cyxcbiAgICAgICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gc3BlY2lhbCBjYXNlIHByb2plY3RlZCB2aWV3cyBoZXJlLlxuICAgICAgICAgICAgZGVzdHJveVZpZXcodmlldyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBWaWV3QWN0aW9uLkNyZWF0ZVZpZXdOb2RlczpcbiAgICAgICAgICAgIGNyZWF0ZVZpZXdOb2Rlcyh2aWV3KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGV4ZWNQcm9qZWN0ZWRWaWV3c0FjdGlvbih2aWV3LCBhY3Rpb24pIHtcbiAgICBleGVjRW1iZWRkZWRWaWV3c0FjdGlvbih2aWV3LCBhY3Rpb24pO1xuICAgIGV4ZWNDb21wb25lbnRWaWV3c0FjdGlvbih2aWV3LCBhY3Rpb24pO1xufVxuZnVuY3Rpb24gZXhlY1F1ZXJpZXNBY3Rpb24odmlldywgcXVlcnlGbGFncywgc3RhdGljRHluYW1pY1F1ZXJ5RmxhZywgY2hlY2tUeXBlKSB7XG4gICAgaWYgKCEodmlldy5kZWYubm9kZUZsYWdzICYgcXVlcnlGbGFncykgfHwgISh2aWV3LmRlZi5ub2RlRmxhZ3MgJiBzdGF0aWNEeW5hbWljUXVlcnlGbGFnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBub2RlQ291bnQgPSB2aWV3LmRlZi5ub2Rlcy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykge1xuICAgICAgICB2YXIgbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICBpZiAoKG5vZGVEZWYuZmxhZ3MgJiBxdWVyeUZsYWdzKSAmJiAobm9kZURlZi5mbGFncyAmIHN0YXRpY0R5bmFtaWNRdWVyeUZsYWcpKSB7XG4gICAgICAgICAgICBTZXJ2aWNlcy5zZXRDdXJyZW50Tm9kZSh2aWV3LCBub2RlRGVmLm5vZGVJbmRleCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoZWNrVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBDaGVja0FuZFVwZGF0ZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tBbmRVcGRhdGVRdWVyeSh2aWV3LCBub2RlRGVmKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxIC8qIENoZWNrTm9DaGFuZ2VzICovOlxuICAgICAgICAgICAgICAgICAgICBjaGVja05vQ2hhbmdlc1F1ZXJ5KHZpZXcsIG5vZGVEZWYpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIShub2RlRGVmLmNoaWxkRmxhZ3MgJiBxdWVyeUZsYWdzKSB8fCAhKG5vZGVEZWYuY2hpbGRGbGFncyAmIHN0YXRpY0R5bmFtaWNRdWVyeUZsYWcpKSB7XG4gICAgICAgICAgICAvLyBubyBjaGlsZCBoYXMgYSBtYXRjaGluZyBxdWVyeVxuICAgICAgICAgICAgLy8gdGhlbiBza2lwIHRoZSBjaGlsZHJlblxuICAgICAgICAgICAgaSArPSBub2RlRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbnZhciBpbml0aWFsaXplZCA9IGZhbHNlO1xuZnVuY3Rpb24gaW5pdFNlcnZpY2VzSWZOZWVkZWQoKSB7XG4gICAgaWYgKGluaXRpYWxpemVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHZhciBzZXJ2aWNlcyA9IGlzRGV2TW9kZSgpID8gY3JlYXRlRGVidWdTZXJ2aWNlcygpIDogY3JlYXRlUHJvZFNlcnZpY2VzKCk7XG4gICAgU2VydmljZXMuc2V0Q3VycmVudE5vZGUgPSBzZXJ2aWNlcy5zZXRDdXJyZW50Tm9kZTtcbiAgICBTZXJ2aWNlcy5jcmVhdGVSb290VmlldyA9IHNlcnZpY2VzLmNyZWF0ZVJvb3RWaWV3O1xuICAgIFNlcnZpY2VzLmNyZWF0ZUVtYmVkZGVkVmlldyA9IHNlcnZpY2VzLmNyZWF0ZUVtYmVkZGVkVmlldztcbiAgICBTZXJ2aWNlcy5jcmVhdGVDb21wb25lbnRWaWV3ID0gc2VydmljZXMuY3JlYXRlQ29tcG9uZW50VmlldztcbiAgICBTZXJ2aWNlcy5jcmVhdGVOZ01vZHVsZVJlZiA9IHNlcnZpY2VzLmNyZWF0ZU5nTW9kdWxlUmVmO1xuICAgIFNlcnZpY2VzLm92ZXJyaWRlUHJvdmlkZXIgPSBzZXJ2aWNlcy5vdmVycmlkZVByb3ZpZGVyO1xuICAgIFNlcnZpY2VzLm92ZXJyaWRlQ29tcG9uZW50VmlldyA9IHNlcnZpY2VzLm92ZXJyaWRlQ29tcG9uZW50VmlldztcbiAgICBTZXJ2aWNlcy5jbGVhck92ZXJyaWRlcyA9IHNlcnZpY2VzLmNsZWFyT3ZlcnJpZGVzO1xuICAgIFNlcnZpY2VzLmNoZWNrQW5kVXBkYXRlVmlldyA9IHNlcnZpY2VzLmNoZWNrQW5kVXBkYXRlVmlldztcbiAgICBTZXJ2aWNlcy5jaGVja05vQ2hhbmdlc1ZpZXcgPSBzZXJ2aWNlcy5jaGVja05vQ2hhbmdlc1ZpZXc7XG4gICAgU2VydmljZXMuZGVzdHJveVZpZXcgPSBzZXJ2aWNlcy5kZXN0cm95VmlldztcbiAgICBTZXJ2aWNlcy5yZXNvbHZlRGVwID0gcmVzb2x2ZURlcDtcbiAgICBTZXJ2aWNlcy5jcmVhdGVEZWJ1Z0NvbnRleHQgPSBzZXJ2aWNlcy5jcmVhdGVEZWJ1Z0NvbnRleHQ7XG4gICAgU2VydmljZXMuaGFuZGxlRXZlbnQgPSBzZXJ2aWNlcy5oYW5kbGVFdmVudDtcbiAgICBTZXJ2aWNlcy51cGRhdGVEaXJlY3RpdmVzID0gc2VydmljZXMudXBkYXRlRGlyZWN0aXZlcztcbiAgICBTZXJ2aWNlcy51cGRhdGVSZW5kZXJlciA9IHNlcnZpY2VzLnVwZGF0ZVJlbmRlcmVyO1xuICAgIFNlcnZpY2VzLmRpcnR5UGFyZW50UXVlcmllcyA9IGRpcnR5UGFyZW50UXVlcmllcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb2RTZXJ2aWNlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXRDdXJyZW50Tm9kZTogZnVuY3Rpb24gKCkgeyB9LFxuICAgICAgICBjcmVhdGVSb290VmlldzogY3JlYXRlUHJvZFJvb3RWaWV3LFxuICAgICAgICBjcmVhdGVFbWJlZGRlZFZpZXc6IGNyZWF0ZUVtYmVkZGVkVmlldyxcbiAgICAgICAgY3JlYXRlQ29tcG9uZW50VmlldzogY3JlYXRlQ29tcG9uZW50VmlldyxcbiAgICAgICAgY3JlYXRlTmdNb2R1bGVSZWY6IGNyZWF0ZU5nTW9kdWxlUmVmLFxuICAgICAgICBvdmVycmlkZVByb3ZpZGVyOiBOT09QLFxuICAgICAgICBvdmVycmlkZUNvbXBvbmVudFZpZXc6IE5PT1AsXG4gICAgICAgIGNsZWFyT3ZlcnJpZGVzOiBOT09QLFxuICAgICAgICBjaGVja0FuZFVwZGF0ZVZpZXc6IGNoZWNrQW5kVXBkYXRlVmlldyxcbiAgICAgICAgY2hlY2tOb0NoYW5nZXNWaWV3OiBjaGVja05vQ2hhbmdlc1ZpZXcsXG4gICAgICAgIGRlc3Ryb3lWaWV3OiBkZXN0cm95VmlldyxcbiAgICAgICAgY3JlYXRlRGVidWdDb250ZXh0OiBmdW5jdGlvbiAodmlldywgbm9kZUluZGV4KSB7IHJldHVybiBuZXcgRGVidWdDb250ZXh0Xyh2aWV3LCBub2RlSW5kZXgpOyB9LFxuICAgICAgICBoYW5kbGVFdmVudDogZnVuY3Rpb24gKHZpZXcsIG5vZGVJbmRleCwgZXZlbnROYW1lLCBldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuZGVmLmhhbmRsZUV2ZW50KHZpZXcsIG5vZGVJbmRleCwgZXZlbnROYW1lLCBldmVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZURpcmVjdGl2ZXM6IGZ1bmN0aW9uICh2aWV3LCBjaGVja1R5cGUpIHsgcmV0dXJuIHZpZXcuZGVmLnVwZGF0ZURpcmVjdGl2ZXMoY2hlY2tUeXBlID09PSAwIC8qIENoZWNrQW5kVXBkYXRlICovID8gcHJvZENoZWNrQW5kVXBkYXRlTm9kZSA6XG4gICAgICAgICAgICBwcm9kQ2hlY2tOb0NoYW5nZXNOb2RlLCB2aWV3KTsgfSxcbiAgICAgICAgdXBkYXRlUmVuZGVyZXI6IGZ1bmN0aW9uICh2aWV3LCBjaGVja1R5cGUpIHsgcmV0dXJuIHZpZXcuZGVmLnVwZGF0ZVJlbmRlcmVyKGNoZWNrVHlwZSA9PT0gMCAvKiBDaGVja0FuZFVwZGF0ZSAqLyA/IHByb2RDaGVja0FuZFVwZGF0ZU5vZGUgOlxuICAgICAgICAgICAgcHJvZENoZWNrTm9DaGFuZ2VzTm9kZSwgdmlldyk7IH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlYnVnU2VydmljZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2V0Q3VycmVudE5vZGU6IGRlYnVnU2V0Q3VycmVudE5vZGUsXG4gICAgICAgIGNyZWF0ZVJvb3RWaWV3OiBkZWJ1Z0NyZWF0ZVJvb3RWaWV3LFxuICAgICAgICBjcmVhdGVFbWJlZGRlZFZpZXc6IGRlYnVnQ3JlYXRlRW1iZWRkZWRWaWV3LFxuICAgICAgICBjcmVhdGVDb21wb25lbnRWaWV3OiBkZWJ1Z0NyZWF0ZUNvbXBvbmVudFZpZXcsXG4gICAgICAgIGNyZWF0ZU5nTW9kdWxlUmVmOiBkZWJ1Z0NyZWF0ZU5nTW9kdWxlUmVmLFxuICAgICAgICBvdmVycmlkZVByb3ZpZGVyOiBkZWJ1Z092ZXJyaWRlUHJvdmlkZXIsXG4gICAgICAgIG92ZXJyaWRlQ29tcG9uZW50VmlldzogZGVidWdPdmVycmlkZUNvbXBvbmVudFZpZXcsXG4gICAgICAgIGNsZWFyT3ZlcnJpZGVzOiBkZWJ1Z0NsZWFyT3ZlcnJpZGVzLFxuICAgICAgICBjaGVja0FuZFVwZGF0ZVZpZXc6IGRlYnVnQ2hlY2tBbmRVcGRhdGVWaWV3LFxuICAgICAgICBjaGVja05vQ2hhbmdlc1ZpZXc6IGRlYnVnQ2hlY2tOb0NoYW5nZXNWaWV3LFxuICAgICAgICBkZXN0cm95VmlldzogZGVidWdEZXN0cm95VmlldyxcbiAgICAgICAgY3JlYXRlRGVidWdDb250ZXh0OiBmdW5jdGlvbiAodmlldywgbm9kZUluZGV4KSB7IHJldHVybiBuZXcgRGVidWdDb250ZXh0Xyh2aWV3LCBub2RlSW5kZXgpOyB9LFxuICAgICAgICBoYW5kbGVFdmVudDogZGVidWdIYW5kbGVFdmVudCxcbiAgICAgICAgdXBkYXRlRGlyZWN0aXZlczogZGVidWdVcGRhdGVEaXJlY3RpdmVzLFxuICAgICAgICB1cGRhdGVSZW5kZXJlcjogZGVidWdVcGRhdGVSZW5kZXJlcixcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUHJvZFJvb3RWaWV3KGVsSW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSwgZGVmLCBuZ01vZHVsZSwgY29udGV4dCkge1xuICAgIHZhciByZW5kZXJlckZhY3RvcnkgPSBuZ01vZHVsZS5pbmplY3Rvci5nZXQoUmVuZGVyZXJGYWN0b3J5Mik7XG4gICAgcmV0dXJuIGNyZWF0ZVJvb3RWaWV3KGNyZWF0ZVJvb3REYXRhKGVsSW5qZWN0b3IsIG5nTW9kdWxlLCByZW5kZXJlckZhY3RvcnksIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSksIGRlZiwgY29udGV4dCk7XG59XG5mdW5jdGlvbiBkZWJ1Z0NyZWF0ZVJvb3RWaWV3KGVsSW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSwgZGVmLCBuZ01vZHVsZSwgY29udGV4dCkge1xuICAgIHZhciByZW5kZXJlckZhY3RvcnkgPSBuZ01vZHVsZS5pbmplY3Rvci5nZXQoUmVuZGVyZXJGYWN0b3J5Mik7XG4gICAgdmFyIHJvb3QgPSBjcmVhdGVSb290RGF0YShlbEluamVjdG9yLCBuZ01vZHVsZSwgbmV3IERlYnVnUmVuZGVyZXJGYWN0b3J5MihyZW5kZXJlckZhY3RvcnkpLCBwcm9qZWN0YWJsZU5vZGVzLCByb290U2VsZWN0b3JPck5vZGUpO1xuICAgIHZhciBkZWZXaXRoT3ZlcnJpZGUgPSBhcHBseVByb3ZpZGVyT3ZlcnJpZGVzVG9WaWV3KGRlZik7XG4gICAgcmV0dXJuIGNhbGxXaXRoRGVidWdDb250ZXh0KERlYnVnQWN0aW9uLmNyZWF0ZSwgY3JlYXRlUm9vdFZpZXcsIG51bGwsIFtyb290LCBkZWZXaXRoT3ZlcnJpZGUsIGNvbnRleHRdKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJvb3REYXRhKGVsSW5qZWN0b3IsIG5nTW9kdWxlLCByZW5kZXJlckZhY3RvcnksIHByb2plY3RhYmxlTm9kZXMsIHJvb3RTZWxlY3Rvck9yTm9kZSkge1xuICAgIHZhciBzYW5pdGl6ZXIgPSBuZ01vZHVsZS5pbmplY3Rvci5nZXQoU2FuaXRpemVyKTtcbiAgICB2YXIgZXJyb3JIYW5kbGVyID0gbmdNb2R1bGUuaW5qZWN0b3IuZ2V0KEVycm9ySGFuZGxlcik7XG4gICAgdmFyIHJlbmRlcmVyID0gcmVuZGVyZXJGYWN0b3J5LmNyZWF0ZVJlbmRlcmVyKG51bGwsIG51bGwpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5nTW9kdWxlOiBuZ01vZHVsZSxcbiAgICAgICAgaW5qZWN0b3I6IGVsSW5qZWN0b3IsIHByb2plY3RhYmxlTm9kZXM6IHByb2plY3RhYmxlTm9kZXMsXG4gICAgICAgIHNlbGVjdG9yT3JOb2RlOiByb290U2VsZWN0b3JPck5vZGUsIHNhbml0aXplcjogc2FuaXRpemVyLCByZW5kZXJlckZhY3Rvcnk6IHJlbmRlcmVyRmFjdG9yeSwgcmVuZGVyZXI6IHJlbmRlcmVyLCBlcnJvckhhbmRsZXI6IGVycm9ySGFuZGxlclxuICAgIH07XG59XG5mdW5jdGlvbiBkZWJ1Z0NyZWF0ZUVtYmVkZGVkVmlldyhwYXJlbnRWaWV3LCBhbmNob3JEZWYsIHZpZXdEZWYkJDEsIGNvbnRleHQpIHtcbiAgICB2YXIgZGVmV2l0aE92ZXJyaWRlID0gYXBwbHlQcm92aWRlck92ZXJyaWRlc1RvVmlldyh2aWV3RGVmJCQxKTtcbiAgICByZXR1cm4gY2FsbFdpdGhEZWJ1Z0NvbnRleHQoRGVidWdBY3Rpb24uY3JlYXRlLCBjcmVhdGVFbWJlZGRlZFZpZXcsIG51bGwsIFtwYXJlbnRWaWV3LCBhbmNob3JEZWYsIGRlZldpdGhPdmVycmlkZSwgY29udGV4dF0pO1xufVxuZnVuY3Rpb24gZGVidWdDcmVhdGVDb21wb25lbnRWaWV3KHBhcmVudFZpZXcsIG5vZGVEZWYsIHZpZXdEZWYkJDEsIGhvc3RFbGVtZW50KSB7XG4gICAgdmFyIG92ZXJyaWRlQ29tcG9uZW50VmlldyA9IHZpZXdEZWZPdmVycmlkZXMuZ2V0KG5vZGVEZWYuZWxlbWVudC5jb21wb25lbnRQcm92aWRlci5wcm92aWRlci50b2tlbik7XG4gICAgaWYgKG92ZXJyaWRlQ29tcG9uZW50Vmlldykge1xuICAgICAgICB2aWV3RGVmJCQxID0gb3ZlcnJpZGVDb21wb25lbnRWaWV3O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmlld0RlZiQkMSA9IGFwcGx5UHJvdmlkZXJPdmVycmlkZXNUb1ZpZXcodmlld0RlZiQkMSk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsV2l0aERlYnVnQ29udGV4dChEZWJ1Z0FjdGlvbi5jcmVhdGUsIGNyZWF0ZUNvbXBvbmVudFZpZXcsIG51bGwsIFtwYXJlbnRWaWV3LCBub2RlRGVmLCB2aWV3RGVmJCQxLCBob3N0RWxlbWVudF0pO1xufVxuZnVuY3Rpb24gZGVidWdDcmVhdGVOZ01vZHVsZVJlZihtb2R1bGVUeXBlLCBwYXJlbnRJbmplY3RvciwgYm9vdHN0cmFwQ29tcG9uZW50cywgZGVmKSB7XG4gICAgdmFyIGRlZldpdGhPdmVycmlkZSA9IGFwcGx5UHJvdmlkZXJPdmVycmlkZXNUb05nTW9kdWxlKGRlZik7XG4gICAgcmV0dXJuIGNyZWF0ZU5nTW9kdWxlUmVmKG1vZHVsZVR5cGUsIHBhcmVudEluamVjdG9yLCBib290c3RyYXBDb21wb25lbnRzLCBkZWZXaXRoT3ZlcnJpZGUpO1xufVxudmFyIHByb3ZpZGVyT3ZlcnJpZGVzID0gbmV3IE1hcCgpO1xudmFyIHByb3ZpZGVyT3ZlcnJpZGVzV2l0aFNjb3BlID0gbmV3IE1hcCgpO1xudmFyIHZpZXdEZWZPdmVycmlkZXMgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBkZWJ1Z092ZXJyaWRlUHJvdmlkZXIob3ZlcnJpZGUpIHtcbiAgICBwcm92aWRlck92ZXJyaWRlcy5zZXQob3ZlcnJpZGUudG9rZW4sIG92ZXJyaWRlKTtcbiAgICB2YXIgaW5qZWN0YWJsZURlZjtcbiAgICBpZiAodHlwZW9mIG92ZXJyaWRlLnRva2VuID09PSAnZnVuY3Rpb24nICYmIChpbmplY3RhYmxlRGVmID0gZ2V0SW5qZWN0YWJsZURlZihvdmVycmlkZS50b2tlbikpICYmXG4gICAgICAgIHR5cGVvZiBpbmplY3RhYmxlRGVmLnByb3ZpZGVkSW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJvdmlkZXJPdmVycmlkZXNXaXRoU2NvcGUuc2V0KG92ZXJyaWRlLnRva2VuLCBvdmVycmlkZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVidWdPdmVycmlkZUNvbXBvbmVudFZpZXcoY29tcCwgY29tcEZhY3RvcnkpIHtcbiAgICB2YXIgaG9zdFZpZXdEZWYgPSByZXNvbHZlRGVmaW5pdGlvbihnZXRDb21wb25lbnRWaWV3RGVmaW5pdGlvbkZhY3RvcnkoY29tcEZhY3RvcnkpKTtcbiAgICB2YXIgY29tcFZpZXdEZWYgPSByZXNvbHZlRGVmaW5pdGlvbihob3N0Vmlld0RlZi5ub2Rlc1swXS5lbGVtZW50LmNvbXBvbmVudFZpZXcpO1xuICAgIHZpZXdEZWZPdmVycmlkZXMuc2V0KGNvbXAsIGNvbXBWaWV3RGVmKTtcbn1cbmZ1bmN0aW9uIGRlYnVnQ2xlYXJPdmVycmlkZXMoKSB7XG4gICAgcHJvdmlkZXJPdmVycmlkZXMuY2xlYXIoKTtcbiAgICBwcm92aWRlck92ZXJyaWRlc1dpdGhTY29wZS5jbGVhcigpO1xuICAgIHZpZXdEZWZPdmVycmlkZXMuY2xlYXIoKTtcbn1cbi8vIE5vdGVzIGFib3V0IHRoZSBhbGdvcml0aG06XG4vLyAxKSBMb2NhdGUgdGhlIHByb3ZpZGVycyBvZiBhbiBlbGVtZW50IGFuZCBjaGVjayBpZiBvbmUgb2YgdGhlbSB3YXMgb3ZlcndyaXR0ZW5cbi8vIDIpIENoYW5nZSB0aGUgcHJvdmlkZXJzIG9mIHRoYXQgZWxlbWVudFxuLy9cbi8vIFdlIG9ubHkgY3JlYXRlIG5ldyBkYXRhc3RydWN0dXJlcyBpZiB3ZSBuZWVkIHRvLCB0byBrZWVwIHBlcmYgaW1wYWN0XG4vLyByZWFzb25hYmxlLlxuZnVuY3Rpb24gYXBwbHlQcm92aWRlck92ZXJyaWRlc1RvVmlldyhkZWYpIHtcbiAgICBpZiAocHJvdmlkZXJPdmVycmlkZXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGVmO1xuICAgIH1cbiAgICB2YXIgZWxlbWVudEluZGljZXNXaXRoT3ZlcndyaXR0ZW5Qcm92aWRlcnMgPSBmaW5kRWxlbWVudEluZGljZXNXaXRoT3ZlcndyaXR0ZW5Qcm92aWRlcnMoZGVmKTtcbiAgICBpZiAoZWxlbWVudEluZGljZXNXaXRoT3ZlcndyaXR0ZW5Qcm92aWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBkZWY7XG4gICAgfVxuICAgIC8vIGNsb25lIHRoZSB3aG9sZSB2aWV3IGRlZmluaXRpb24sXG4gICAgLy8gYXMgaXQgbWFpbnRhaW5zIHJlZmVyZW5jZXMgYmV0d2VlbiB0aGUgbm9kZXMgdGhhdCBhcmUgaGFyZCB0byB1cGRhdGUuXG4gICAgZGVmID0gZGVmLmZhY3RvcnkoZnVuY3Rpb24gKCkgeyByZXR1cm4gTk9PUDsgfSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50SW5kaWNlc1dpdGhPdmVyd3JpdHRlblByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcHBseVByb3ZpZGVyT3ZlcnJpZGVzVG9FbGVtZW50KGRlZiwgZWxlbWVudEluZGljZXNXaXRoT3ZlcndyaXR0ZW5Qcm92aWRlcnNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmO1xuICAgIGZ1bmN0aW9uIGZpbmRFbGVtZW50SW5kaWNlc1dpdGhPdmVyd3JpdHRlblByb3ZpZGVycyhkZWYpIHtcbiAgICAgICAgdmFyIGVsSW5kaWNlc1dpdGhPdmVyd3JpdHRlblByb3ZpZGVycyA9IFtdO1xuICAgICAgICB2YXIgbGFzdEVsZW1lbnREZWYgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZi5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG5vZGVEZWYgPSBkZWYubm9kZXNbaV07XG4gICAgICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDEgLyogVHlwZUVsZW1lbnQgKi8pIHtcbiAgICAgICAgICAgICAgICBsYXN0RWxlbWVudERlZiA9IG5vZGVEZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdEVsZW1lbnREZWYgJiYgbm9kZURlZi5mbGFncyAmIDM4NDAgLyogQ2F0UHJvdmlkZXJOb0RpcmVjdGl2ZSAqLyAmJlxuICAgICAgICAgICAgICAgIHByb3ZpZGVyT3ZlcnJpZGVzLmhhcyhub2RlRGVmLnByb3ZpZGVyLnRva2VuKSkge1xuICAgICAgICAgICAgICAgIGVsSW5kaWNlc1dpdGhPdmVyd3JpdHRlblByb3ZpZGVycy5wdXNoKGxhc3RFbGVtZW50RGVmLm5vZGVJbmRleCk7XG4gICAgICAgICAgICAgICAgbGFzdEVsZW1lbnREZWYgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbEluZGljZXNXaXRoT3ZlcndyaXR0ZW5Qcm92aWRlcnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFwcGx5UHJvdmlkZXJPdmVycmlkZXNUb0VsZW1lbnQodmlld0RlZiQkMSwgZWxJbmRleCkge1xuICAgICAgICBmb3IgKHZhciBpID0gZWxJbmRleCArIDE7IGkgPCB2aWV3RGVmJCQxLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbm9kZURlZiA9IHZpZXdEZWYkJDEubm9kZXNbaV07XG4gICAgICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDEgLyogVHlwZUVsZW1lbnQgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBzdG9wIGF0IHRoZSBuZXh0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDM4NDAgLyogQ2F0UHJvdmlkZXJOb0RpcmVjdGl2ZSAqLykge1xuICAgICAgICAgICAgICAgIHZhciBwcm92aWRlciA9IG5vZGVEZWYucHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgdmFyIG92ZXJyaWRlID0gcHJvdmlkZXJPdmVycmlkZXMuZ2V0KHByb3ZpZGVyLnRva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcnJpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZURlZi5mbGFncyA9IChub2RlRGVmLmZsYWdzICYgfjM4NDAgLyogQ2F0UHJvdmlkZXJOb0RpcmVjdGl2ZSAqLykgfCBvdmVycmlkZS5mbGFncztcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIuZGVwcyA9IHNwbGl0RGVwc0RzbChvdmVycmlkZS5kZXBzKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIudmFsdWUgPSBvdmVycmlkZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBOb3RlcyBhYm91dCB0aGUgYWxnb3JpdGhtOlxuLy8gV2Ugb25seSBjcmVhdGUgbmV3IGRhdGFzdHJ1Y3R1cmVzIGlmIHdlIG5lZWQgdG8sIHRvIGtlZXAgcGVyZiBpbXBhY3Rcbi8vIHJlYXNvbmFibGUuXG5mdW5jdGlvbiBhcHBseVByb3ZpZGVyT3ZlcnJpZGVzVG9OZ01vZHVsZShkZWYpIHtcbiAgICB2YXIgX2EgPSBjYWxjSGFzT3ZlcnJpZGVzKGRlZiksIGhhc092ZXJyaWRlcyA9IF9hLmhhc092ZXJyaWRlcywgaGFzRGVwcmVjYXRlZE92ZXJyaWRlcyA9IF9hLmhhc0RlcHJlY2F0ZWRPdmVycmlkZXM7XG4gICAgaWYgKCFoYXNPdmVycmlkZXMpIHtcbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICB9XG4gICAgLy8gY2xvbmUgdGhlIHdob2xlIHZpZXcgZGVmaW5pdGlvbixcbiAgICAvLyBhcyBpdCBtYWludGFpbnMgcmVmZXJlbmNlcyBiZXR3ZWVuIHRoZSBub2RlcyB0aGF0IGFyZSBoYXJkIHRvIHVwZGF0ZS5cbiAgICBkZWYgPSBkZWYuZmFjdG9yeShmdW5jdGlvbiAoKSB7IHJldHVybiBOT09QOyB9KTtcbiAgICBhcHBseVByb3ZpZGVyT3ZlcnJpZGVzKGRlZik7XG4gICAgcmV0dXJuIGRlZjtcbiAgICBmdW5jdGlvbiBjYWxjSGFzT3ZlcnJpZGVzKGRlZikge1xuICAgICAgICB2YXIgaGFzT3ZlcnJpZGVzID0gZmFsc2U7XG4gICAgICAgIHZhciBoYXNEZXByZWNhdGVkT3ZlcnJpZGVzID0gZmFsc2U7XG4gICAgICAgIGlmIChwcm92aWRlck92ZXJyaWRlcy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4geyBoYXNPdmVycmlkZXM6IGhhc092ZXJyaWRlcywgaGFzRGVwcmVjYXRlZE92ZXJyaWRlczogaGFzRGVwcmVjYXRlZE92ZXJyaWRlcyB9O1xuICAgICAgICB9XG4gICAgICAgIGRlZi5wcm92aWRlcnMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdmFyIG92ZXJyaWRlID0gcHJvdmlkZXJPdmVycmlkZXMuZ2V0KG5vZGUudG9rZW4pO1xuICAgICAgICAgICAgaWYgKChub2RlLmZsYWdzICYgMzg0MCAvKiBDYXRQcm92aWRlck5vRGlyZWN0aXZlICovKSAmJiBvdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIGhhc092ZXJyaWRlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaGFzRGVwcmVjYXRlZE92ZXJyaWRlcyA9IGhhc0RlcHJlY2F0ZWRPdmVycmlkZXMgfHwgb3ZlcnJpZGUuZGVwcmVjYXRlZEJlaGF2aW9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZGVmLm1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlKSB7XG4gICAgICAgICAgICBwcm92aWRlck92ZXJyaWRlc1dpdGhTY29wZS5mb3JFYWNoKGZ1bmN0aW9uIChvdmVycmlkZSwgdG9rZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2V0SW5qZWN0YWJsZURlZih0b2tlbikucHJvdmlkZWRJbiA9PT0gbW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc092ZXJyaWRlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGhhc0RlcHJlY2F0ZWRPdmVycmlkZXMgPSBoYXNEZXByZWNhdGVkT3ZlcnJpZGVzIHx8IG92ZXJyaWRlLmRlcHJlY2F0ZWRCZWhhdmlvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IGhhc092ZXJyaWRlczogaGFzT3ZlcnJpZGVzLCBoYXNEZXByZWNhdGVkT3ZlcnJpZGVzOiBoYXNEZXByZWNhdGVkT3ZlcnJpZGVzIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFwcGx5UHJvdmlkZXJPdmVycmlkZXMoZGVmKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVmLnByb3ZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByb3ZpZGVyID0gZGVmLnByb3ZpZGVyc1tpXTtcbiAgICAgICAgICAgIGlmIChoYXNEZXByZWNhdGVkT3ZlcnJpZGVzKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGFkIGEgYnVnIHdoZXJlIG1lIG1hZGVcbiAgICAgICAgICAgICAgICAvLyBhbGwgcHJvdmlkZXJzIGxhenkuIEtlZXAgdGhpcyBsb2dpYyBiZWhpbmQgYSBmbGFnXG4gICAgICAgICAgICAgICAgLy8gZm9yIG1pZ3JhdGluZyBleGlzdGluZyB1c2Vycy5cbiAgICAgICAgICAgICAgICBwcm92aWRlci5mbGFncyB8PSA0MDk2IC8qIExhenlQcm92aWRlciAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvdmVycmlkZSA9IHByb3ZpZGVyT3ZlcnJpZGVzLmdldChwcm92aWRlci50b2tlbik7XG4gICAgICAgICAgICBpZiAob3ZlcnJpZGUpIHtcbiAgICAgICAgICAgICAgICBwcm92aWRlci5mbGFncyA9IChwcm92aWRlci5mbGFncyAmIH4zODQwIC8qIENhdFByb3ZpZGVyTm9EaXJlY3RpdmUgKi8pIHwgb3ZlcnJpZGUuZmxhZ3M7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXIuZGVwcyA9IHNwbGl0RGVwc0RzbChvdmVycmlkZS5kZXBzKTtcbiAgICAgICAgICAgICAgICBwcm92aWRlci52YWx1ZSA9IG92ZXJyaWRlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm92aWRlck92ZXJyaWRlc1dpdGhTY29wZS5zaXplID4gMCkge1xuICAgICAgICAgICAgdmFyIG1vZHVsZVNldF8xID0gbmV3IFNldChkZWYubW9kdWxlcyk7XG4gICAgICAgICAgICBwcm92aWRlck92ZXJyaWRlc1dpdGhTY29wZS5mb3JFYWNoKGZ1bmN0aW9uIChvdmVycmlkZSwgdG9rZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kdWxlU2V0XzEuaGFzKGdldEluamVjdGFibGVEZWYodG9rZW4pLnByb3ZpZGVkSW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzOiBvdmVycmlkZS5mbGFncyB8IChoYXNEZXByZWNhdGVkT3ZlcnJpZGVzID8gNDA5NiAvKiBMYXp5UHJvdmlkZXIgKi8gOiAwIC8qIE5vbmUgKi8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwczogc3BsaXREZXBzRHNsKG92ZXJyaWRlLmRlcHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG92ZXJyaWRlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGRlZi5wcm92aWRlcnMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBkZWYucHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xuICAgICAgICAgICAgICAgICAgICBkZWYucHJvdmlkZXJzQnlLZXlbdG9rZW5LZXkodG9rZW4pXSA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcHJvZENoZWNrQW5kVXBkYXRlTm9kZSh2aWV3LCBjaGVja0luZGV4LCBhcmdTdHlsZSwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpIHtcbiAgICB2YXIgbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2NoZWNrSW5kZXhdO1xuICAgIGNoZWNrQW5kVXBkYXRlTm9kZSh2aWV3LCBub2RlRGVmLCBhcmdTdHlsZSwgdjAsIHYxLCB2MiwgdjMsIHY0LCB2NSwgdjYsIHY3LCB2OCwgdjkpO1xuICAgIHJldHVybiAobm9kZURlZi5mbGFncyAmIDIyNCAvKiBDYXRQdXJlRXhwcmVzc2lvbiAqLykgP1xuICAgICAgICBhc1B1cmVFeHByZXNzaW9uRGF0YSh2aWV3LCBjaGVja0luZGV4KS52YWx1ZSA6XG4gICAgICAgIHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIHByb2RDaGVja05vQ2hhbmdlc05vZGUodmlldywgY2hlY2tJbmRleCwgYXJnU3R5bGUsIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIHY5KSB7XG4gICAgdmFyIG5vZGVEZWYgPSB2aWV3LmRlZi5ub2Rlc1tjaGVja0luZGV4XTtcbiAgICBjaGVja05vQ2hhbmdlc05vZGUodmlldywgbm9kZURlZiwgYXJnU3R5bGUsIHYwLCB2MSwgdjIsIHYzLCB2NCwgdjUsIHY2LCB2NywgdjgsIHY5KTtcbiAgICByZXR1cm4gKG5vZGVEZWYuZmxhZ3MgJiAyMjQgLyogQ2F0UHVyZUV4cHJlc3Npb24gKi8pID9cbiAgICAgICAgYXNQdXJlRXhwcmVzc2lvbkRhdGEodmlldywgY2hlY2tJbmRleCkudmFsdWUgOlxuICAgICAgICB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBkZWJ1Z0NoZWNrQW5kVXBkYXRlVmlldyh2aWV3KSB7XG4gICAgcmV0dXJuIGNhbGxXaXRoRGVidWdDb250ZXh0KERlYnVnQWN0aW9uLmRldGVjdENoYW5nZXMsIGNoZWNrQW5kVXBkYXRlVmlldywgbnVsbCwgW3ZpZXddKTtcbn1cbmZ1bmN0aW9uIGRlYnVnQ2hlY2tOb0NoYW5nZXNWaWV3KHZpZXcpIHtcbiAgICByZXR1cm4gY2FsbFdpdGhEZWJ1Z0NvbnRleHQoRGVidWdBY3Rpb24uY2hlY2tOb0NoYW5nZXMsIGNoZWNrTm9DaGFuZ2VzVmlldywgbnVsbCwgW3ZpZXddKTtcbn1cbmZ1bmN0aW9uIGRlYnVnRGVzdHJveVZpZXcodmlldykge1xuICAgIHJldHVybiBjYWxsV2l0aERlYnVnQ29udGV4dChEZWJ1Z0FjdGlvbi5kZXN0cm95LCBkZXN0cm95VmlldywgbnVsbCwgW3ZpZXddKTtcbn1cbnZhciBEZWJ1Z0FjdGlvbjtcbihmdW5jdGlvbiAoRGVidWdBY3Rpb24pIHtcbiAgICBEZWJ1Z0FjdGlvbltEZWJ1Z0FjdGlvbltcImNyZWF0ZVwiXSA9IDBdID0gXCJjcmVhdGVcIjtcbiAgICBEZWJ1Z0FjdGlvbltEZWJ1Z0FjdGlvbltcImRldGVjdENoYW5nZXNcIl0gPSAxXSA9IFwiZGV0ZWN0Q2hhbmdlc1wiO1xuICAgIERlYnVnQWN0aW9uW0RlYnVnQWN0aW9uW1wiY2hlY2tOb0NoYW5nZXNcIl0gPSAyXSA9IFwiY2hlY2tOb0NoYW5nZXNcIjtcbiAgICBEZWJ1Z0FjdGlvbltEZWJ1Z0FjdGlvbltcImRlc3Ryb3lcIl0gPSAzXSA9IFwiZGVzdHJveVwiO1xuICAgIERlYnVnQWN0aW9uW0RlYnVnQWN0aW9uW1wiaGFuZGxlRXZlbnRcIl0gPSA0XSA9IFwiaGFuZGxlRXZlbnRcIjtcbn0pKERlYnVnQWN0aW9uIHx8IChEZWJ1Z0FjdGlvbiA9IHt9KSk7XG52YXIgX2N1cnJlbnRBY3Rpb247XG52YXIgX2N1cnJlbnRWaWV3O1xudmFyIF9jdXJyZW50Tm9kZUluZGV4O1xuZnVuY3Rpb24gZGVidWdTZXRDdXJyZW50Tm9kZSh2aWV3LCBub2RlSW5kZXgpIHtcbiAgICBfY3VycmVudFZpZXcgPSB2aWV3O1xuICAgIF9jdXJyZW50Tm9kZUluZGV4ID0gbm9kZUluZGV4O1xufVxuZnVuY3Rpb24gZGVidWdIYW5kbGVFdmVudCh2aWV3LCBub2RlSW5kZXgsIGV2ZW50TmFtZSwgZXZlbnQpIHtcbiAgICBkZWJ1Z1NldEN1cnJlbnROb2RlKHZpZXcsIG5vZGVJbmRleCk7XG4gICAgcmV0dXJuIGNhbGxXaXRoRGVidWdDb250ZXh0KERlYnVnQWN0aW9uLmhhbmRsZUV2ZW50LCB2aWV3LmRlZi5oYW5kbGVFdmVudCwgbnVsbCwgW3ZpZXcsIG5vZGVJbmRleCwgZXZlbnROYW1lLCBldmVudF0pO1xufVxuZnVuY3Rpb24gZGVidWdVcGRhdGVEaXJlY3RpdmVzKHZpZXcsIGNoZWNrVHlwZSkge1xuICAgIGlmICh2aWV3LnN0YXRlICYgMTI4IC8qIERlc3Ryb3llZCAqLykge1xuICAgICAgICB0aHJvdyB2aWV3RGVzdHJveWVkRXJyb3IoRGVidWdBY3Rpb25bX2N1cnJlbnRBY3Rpb25dKTtcbiAgICB9XG4gICAgZGVidWdTZXRDdXJyZW50Tm9kZSh2aWV3LCBuZXh0RGlyZWN0aXZlV2l0aEJpbmRpbmcodmlldywgMCkpO1xuICAgIHJldHVybiB2aWV3LmRlZi51cGRhdGVEaXJlY3RpdmVzKGRlYnVnQ2hlY2tEaXJlY3RpdmVzRm4sIHZpZXcpO1xuICAgIGZ1bmN0aW9uIGRlYnVnQ2hlY2tEaXJlY3RpdmVzRm4odmlldywgbm9kZUluZGV4LCBhcmdTdHlsZSkge1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMzsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YWx1ZXNbX2kgLSAzXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGVEZWYgPSB2aWV3LmRlZi5ub2Rlc1tub2RlSW5kZXhdO1xuICAgICAgICBpZiAoY2hlY2tUeXBlID09PSAwIC8qIENoZWNrQW5kVXBkYXRlICovKSB7XG4gICAgICAgICAgICBkZWJ1Z0NoZWNrQW5kVXBkYXRlTm9kZSh2aWV3LCBub2RlRGVmLCBhcmdTdHlsZSwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlYnVnQ2hlY2tOb0NoYW5nZXNOb2RlKHZpZXcsIG5vZGVEZWYsIGFyZ1N0eWxlLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlRGVmLmZsYWdzICYgMTYzODQgLyogVHlwZURpcmVjdGl2ZSAqLykge1xuICAgICAgICAgICAgZGVidWdTZXRDdXJyZW50Tm9kZSh2aWV3LCBuZXh0RGlyZWN0aXZlV2l0aEJpbmRpbmcodmlldywgbm9kZUluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChub2RlRGVmLmZsYWdzICYgMjI0IC8qIENhdFB1cmVFeHByZXNzaW9uICovKSA/XG4gICAgICAgICAgICBhc1B1cmVFeHByZXNzaW9uRGF0YSh2aWV3LCBub2RlRGVmLm5vZGVJbmRleCkudmFsdWUgOlxuICAgICAgICAgICAgdW5kZWZpbmVkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlYnVnVXBkYXRlUmVuZGVyZXIodmlldywgY2hlY2tUeXBlKSB7XG4gICAgaWYgKHZpZXcuc3RhdGUgJiAxMjggLyogRGVzdHJveWVkICovKSB7XG4gICAgICAgIHRocm93IHZpZXdEZXN0cm95ZWRFcnJvcihEZWJ1Z0FjdGlvbltfY3VycmVudEFjdGlvbl0pO1xuICAgIH1cbiAgICBkZWJ1Z1NldEN1cnJlbnROb2RlKHZpZXcsIG5leHRSZW5kZXJOb2RlV2l0aEJpbmRpbmcodmlldywgMCkpO1xuICAgIHJldHVybiB2aWV3LmRlZi51cGRhdGVSZW5kZXJlcihkZWJ1Z0NoZWNrUmVuZGVyTm9kZUZuLCB2aWV3KTtcbiAgICBmdW5jdGlvbiBkZWJ1Z0NoZWNrUmVuZGVyTm9kZUZuKHZpZXcsIG5vZGVJbmRleCwgYXJnU3R5bGUpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFsdWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlRGVmID0gdmlldy5kZWYubm9kZXNbbm9kZUluZGV4XTtcbiAgICAgICAgaWYgKGNoZWNrVHlwZSA9PT0gMCAvKiBDaGVja0FuZFVwZGF0ZSAqLykge1xuICAgICAgICAgICAgZGVidWdDaGVja0FuZFVwZGF0ZU5vZGUodmlldywgbm9kZURlZiwgYXJnU3R5bGUsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWJ1Z0NoZWNrTm9DaGFuZ2VzTm9kZSh2aWV3LCBub2RlRGVmLCBhcmdTdHlsZSwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDMgLyogQ2F0UmVuZGVyTm9kZSAqLykge1xuICAgICAgICAgICAgZGVidWdTZXRDdXJyZW50Tm9kZSh2aWV3LCBuZXh0UmVuZGVyTm9kZVdpdGhCaW5kaW5nKHZpZXcsIG5vZGVJbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobm9kZURlZi5mbGFncyAmIDIyNCAvKiBDYXRQdXJlRXhwcmVzc2lvbiAqLykgP1xuICAgICAgICAgICAgYXNQdXJlRXhwcmVzc2lvbkRhdGEodmlldywgbm9kZURlZi5ub2RlSW5kZXgpLnZhbHVlIDpcbiAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICB9XG59XG5mdW5jdGlvbiBkZWJ1Z0NoZWNrQW5kVXBkYXRlTm9kZSh2aWV3LCBub2RlRGVmLCBhcmdTdHlsZSwgZ2l2ZW5WYWx1ZXMpIHtcbiAgICB2YXIgY2hhbmdlZCA9IGNoZWNrQW5kVXBkYXRlTm9kZS5hcHBseSh2b2lkIDAsIF9fc3ByZWFkKFt2aWV3LCBub2RlRGVmLCBhcmdTdHlsZV0sIGdpdmVuVmFsdWVzKSk7XG4gICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGFyZ1N0eWxlID09PSAxIC8qIER5bmFtaWMgKi8gPyBnaXZlblZhbHVlc1swXSA6IGdpdmVuVmFsdWVzO1xuICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDE2Mzg0IC8qIFR5cGVEaXJlY3RpdmUgKi8pIHtcbiAgICAgICAgICAgIHZhciBiaW5kaW5nVmFsdWVzID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVEZWYuYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYmluZGluZyA9IG5vZGVEZWYuYmluZGluZ3NbaV07XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChiaW5kaW5nLmZsYWdzICYgOCAvKiBUeXBlUHJvcGVydHkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgYmluZGluZ1ZhbHVlc1tub3JtYWxpemVEZWJ1Z0JpbmRpbmdOYW1lKGJpbmRpbmcubm9uTWluaWZpZWROYW1lKV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplRGVidWdCaW5kaW5nVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlbERlZiA9IG5vZGVEZWYucGFyZW50O1xuICAgICAgICAgICAgdmFyIGVsID0gYXNFbGVtZW50RGF0YSh2aWV3LCBlbERlZi5ub2RlSW5kZXgpLnJlbmRlckVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIWVsRGVmLmVsZW1lbnQubmFtZSkge1xuICAgICAgICAgICAgICAgIC8vIGEgY29tbWVudC5cbiAgICAgICAgICAgICAgICB2aWV3LnJlbmRlcmVyLnNldFZhbHVlKGVsLCBcImJpbmRpbmdzPVwiICsgSlNPTi5zdHJpbmdpZnkoYmluZGluZ1ZhbHVlcywgbnVsbCwgMikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYSByZWd1bGFyIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBiaW5kaW5nVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJpbmRpbmdWYWx1ZXNbYXR0cl07XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LnJlbmRlcmVyLnNldEF0dHJpYnV0ZShlbCwgYXR0ciwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5yZW5kZXJlci5yZW1vdmVBdHRyaWJ1dGUoZWwsIGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZGVidWdDaGVja05vQ2hhbmdlc05vZGUodmlldywgbm9kZURlZiwgYXJnU3R5bGUsIHZhbHVlcykge1xuICAgIGNoZWNrTm9DaGFuZ2VzTm9kZS5hcHBseSh2b2lkIDAsIF9fc3ByZWFkKFt2aWV3LCBub2RlRGVmLCBhcmdTdHlsZV0sIHZhbHVlcykpO1xufVxuZnVuY3Rpb24gbmV4dERpcmVjdGl2ZVdpdGhCaW5kaW5nKHZpZXcsIG5vZGVJbmRleCkge1xuICAgIGZvciAodmFyIGkgPSBub2RlSW5kZXg7IGkgPCB2aWV3LmRlZi5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZURlZi5mbGFncyAmIDE2Mzg0IC8qIFR5cGVEaXJlY3RpdmUgKi8gJiYgbm9kZURlZi5iaW5kaW5ncyAmJiBub2RlRGVmLmJpbmRpbmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBuZXh0UmVuZGVyTm9kZVdpdGhCaW5kaW5nKHZpZXcsIG5vZGVJbmRleCkge1xuICAgIGZvciAodmFyIGkgPSBub2RlSW5kZXg7IGkgPCB2aWV3LmRlZi5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgbm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICBpZiAoKG5vZGVEZWYuZmxhZ3MgJiAzIC8qIENhdFJlbmRlck5vZGUgKi8pICYmIG5vZGVEZWYuYmluZGluZ3MgJiYgbm9kZURlZi5iaW5kaW5ncy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxudmFyIERlYnVnQ29udGV4dF8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVidWdDb250ZXh0Xyh2aWV3LCBub2RlSW5kZXgpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5ub2RlSW5kZXggPSBub2RlSW5kZXg7XG4gICAgICAgIGlmIChub2RlSW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5ub2RlSW5kZXggPSBub2RlSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubm9kZURlZiA9IHZpZXcuZGVmLm5vZGVzW25vZGVJbmRleF07XG4gICAgICAgIHZhciBlbERlZiA9IHRoaXMubm9kZURlZjtcbiAgICAgICAgdmFyIGVsVmlldyA9IHZpZXc7XG4gICAgICAgIHdoaWxlIChlbERlZiAmJiAoZWxEZWYuZmxhZ3MgJiAxIC8qIFR5cGVFbGVtZW50ICovKSA9PT0gMCkge1xuICAgICAgICAgICAgZWxEZWYgPSBlbERlZi5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlbERlZikge1xuICAgICAgICAgICAgd2hpbGUgKCFlbERlZiAmJiBlbFZpZXcpIHtcbiAgICAgICAgICAgICAgICBlbERlZiA9IHZpZXdQYXJlbnRFbChlbFZpZXcpO1xuICAgICAgICAgICAgICAgIGVsVmlldyA9IGVsVmlldy5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbERlZiA9IGVsRGVmO1xuICAgICAgICB0aGlzLmVsVmlldyA9IGVsVmlldztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnQ29udGV4dF8ucHJvdG90eXBlLCBcImVsT3JDb21wVmlld1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gSGFzIHRvIGJlIGRvbmUgbGF6aWx5IGFzIHdlIHVzZSB0aGUgRGVidWdDb250ZXh0IGFsc28gZHVyaW5nIGNyZWF0aW9uIG9mIGVsZW1lbnRzLi4uXG4gICAgICAgICAgICByZXR1cm4gYXNFbGVtZW50RGF0YSh0aGlzLmVsVmlldywgdGhpcy5lbERlZi5ub2RlSW5kZXgpLmNvbXBvbmVudFZpZXcgfHwgdGhpcy52aWV3O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdDb250ZXh0Xy5wcm90b3R5cGUsIFwiaW5qZWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNyZWF0ZUluamVjdG9yJDEodGhpcy5lbFZpZXcsIHRoaXMuZWxEZWYpOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdDb250ZXh0Xy5wcm90b3R5cGUsIFwiY29tcG9uZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVsT3JDb21wVmlldy5jb21wb25lbnQ7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0NvbnRleHRfLnByb3RvdHlwZSwgXCJjb250ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVsT3JDb21wVmlldy5jb250ZXh0OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVidWdDb250ZXh0Xy5wcm90b3R5cGUsIFwicHJvdmlkZXJUb2tlbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsRGVmKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuZWxEZWYubm9kZUluZGV4ICsgMTsgaSA8PSB0aGlzLmVsRGVmLm5vZGVJbmRleCArIHRoaXMuZWxEZWYuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZERlZiA9IHRoaXMuZWxWaWV3LmRlZi5ub2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkRGVmLmZsYWdzICYgMjAyMjQgLyogQ2F0UHJvdmlkZXIgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKGNoaWxkRGVmLnByb3ZpZGVyLnRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpICs9IGNoaWxkRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnQ29udGV4dF8ucHJvdG90eXBlLCBcInJlZmVyZW5jZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2VzID0ge307XG4gICAgICAgICAgICBpZiAodGhpcy5lbERlZikge1xuICAgICAgICAgICAgICAgIGNvbGxlY3RSZWZlcmVuY2VzKHRoaXMuZWxWaWV3LCB0aGlzLmVsRGVmLCByZWZlcmVuY2VzKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5lbERlZi5ub2RlSW5kZXggKyAxOyBpIDw9IHRoaXMuZWxEZWYubm9kZUluZGV4ICsgdGhpcy5lbERlZi5jaGlsZENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkRGVmID0gdGhpcy5lbFZpZXcuZGVmLm5vZGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGREZWYuZmxhZ3MgJiAyMDIyNCAvKiBDYXRQcm92aWRlciAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdFJlZmVyZW5jZXModGhpcy5lbFZpZXcsIGNoaWxkRGVmLCByZWZlcmVuY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpICs9IGNoaWxkRGVmLmNoaWxkQ291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlZmVyZW5jZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWJ1Z0NvbnRleHRfLnByb3RvdHlwZSwgXCJjb21wb25lbnRSZW5kZXJFbGVtZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZWxEYXRhID0gZmluZEhvc3RFbGVtZW50KHRoaXMuZWxPckNvbXBWaWV3KTtcbiAgICAgICAgICAgIHJldHVybiBlbERhdGEgPyBlbERhdGEucmVuZGVyRWxlbWVudCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlYnVnQ29udGV4dF8ucHJvdG90eXBlLCBcInJlbmRlck5vZGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVEZWYuZmxhZ3MgJiAyIC8qIFR5cGVUZXh0ICovID8gcmVuZGVyTm9kZSh0aGlzLnZpZXcsIHRoaXMubm9kZURlZikgOlxuICAgICAgICAgICAgICAgIHJlbmRlck5vZGUodGhpcy5lbFZpZXcsIHRoaXMuZWxEZWYpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEZWJ1Z0NvbnRleHRfLnByb3RvdHlwZS5sb2dFcnJvciA9IGZ1bmN0aW9uIChjb25zb2xlKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhbHVlc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9nVmlld0RlZjtcbiAgICAgICAgdmFyIGxvZ05vZGVJbmRleDtcbiAgICAgICAgaWYgKHRoaXMubm9kZURlZi5mbGFncyAmIDIgLyogVHlwZVRleHQgKi8pIHtcbiAgICAgICAgICAgIGxvZ1ZpZXdEZWYgPSB0aGlzLnZpZXcuZGVmO1xuICAgICAgICAgICAgbG9nTm9kZUluZGV4ID0gdGhpcy5ub2RlRGVmLm5vZGVJbmRleDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ1ZpZXdEZWYgPSB0aGlzLmVsVmlldy5kZWY7XG4gICAgICAgICAgICBsb2dOb2RlSW5kZXggPSB0aGlzLmVsRGVmLm5vZGVJbmRleDtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3RlOiB3ZSBvbmx5IGdlbmVyYXRlIGEgbG9nIGZ1bmN0aW9uIGZvciB0ZXh0IGFuZCBlbGVtZW50IG5vZGVzXG4gICAgICAgIC8vIHRvIG1ha2UgdGhlIGdlbmVyYXRlZCBjb2RlIGFzIHNtYWxsIGFzIHBvc3NpYmxlLlxuICAgICAgICB2YXIgcmVuZGVyTm9kZUluZGV4ID0gZ2V0UmVuZGVyTm9kZUluZGV4KGxvZ1ZpZXdEZWYsIGxvZ05vZGVJbmRleCk7XG4gICAgICAgIHZhciBjdXJyUmVuZGVyTm9kZUluZGV4ID0gLTE7XG4gICAgICAgIHZhciBub2RlTG9nZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY3VyclJlbmRlck5vZGVJbmRleCsrO1xuICAgICAgICAgICAgaWYgKGN1cnJSZW5kZXJOb2RlSW5kZXggPT09IHJlbmRlck5vZGVJbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoX2EgPSBjb25zb2xlLmVycm9yKS5iaW5kLmFwcGx5KF9hLCBfX3NwcmVhZChbY29uc29sZV0sIHZhbHVlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE5PT1A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxvZ1ZpZXdEZWYuZmFjdG9yeShub2RlTG9nZ2VyKTtcbiAgICAgICAgaWYgKGN1cnJSZW5kZXJOb2RlSW5kZXggPCByZW5kZXJOb2RlSW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0lsbGVnYWwgc3RhdGU6IHRoZSBWaWV3RGVmaW5pdGlvbkZhY3RvcnkgZGlkIG5vdCBjYWxsIHRoZSBsb2dnZXIhJyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsIF9fc3ByZWFkKHZhbHVlcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVidWdDb250ZXh0Xztcbn0oKSk7XG5mdW5jdGlvbiBnZXRSZW5kZXJOb2RlSW5kZXgodmlld0RlZiQkMSwgbm9kZUluZGV4KSB7XG4gICAgdmFyIHJlbmRlck5vZGVJbmRleCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IG5vZGVJbmRleDsgaSsrKSB7XG4gICAgICAgIHZhciBub2RlRGVmID0gdmlld0RlZiQkMS5ub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGVEZWYuZmxhZ3MgJiAzIC8qIENhdFJlbmRlck5vZGUgKi8pIHtcbiAgICAgICAgICAgIHJlbmRlck5vZGVJbmRleCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJOb2RlSW5kZXg7XG59XG5mdW5jdGlvbiBmaW5kSG9zdEVsZW1lbnQodmlldykge1xuICAgIHdoaWxlICh2aWV3ICYmICFpc0NvbXBvbmVudFZpZXcodmlldykpIHtcbiAgICAgICAgdmlldyA9IHZpZXcucGFyZW50O1xuICAgIH1cbiAgICBpZiAodmlldy5wYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIGFzRWxlbWVudERhdGEodmlldy5wYXJlbnQsIHZpZXdQYXJlbnRFbCh2aWV3KS5ub2RlSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNvbGxlY3RSZWZlcmVuY2VzKHZpZXcsIG5vZGVEZWYsIHJlZmVyZW5jZXMpIHtcbiAgICBmb3IgKHZhciByZWZOYW1lIGluIG5vZGVEZWYucmVmZXJlbmNlcykge1xuICAgICAgICByZWZlcmVuY2VzW3JlZk5hbWVdID0gZ2V0UXVlcnlWYWx1ZSh2aWV3LCBub2RlRGVmLCBub2RlRGVmLnJlZmVyZW5jZXNbcmVmTmFtZV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNhbGxXaXRoRGVidWdDb250ZXh0KGFjdGlvbiwgZm4sIHNlbGYsIGFyZ3MpIHtcbiAgICB2YXIgb2xkQWN0aW9uID0gX2N1cnJlbnRBY3Rpb247XG4gICAgdmFyIG9sZFZpZXcgPSBfY3VycmVudFZpZXc7XG4gICAgdmFyIG9sZE5vZGVJbmRleCA9IF9jdXJyZW50Tm9kZUluZGV4O1xuICAgIHRyeSB7XG4gICAgICAgIF9jdXJyZW50QWN0aW9uID0gYWN0aW9uO1xuICAgICAgICB2YXIgcmVzdWx0ID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgIF9jdXJyZW50VmlldyA9IG9sZFZpZXc7XG4gICAgICAgIF9jdXJyZW50Tm9kZUluZGV4ID0gb2xkTm9kZUluZGV4O1xuICAgICAgICBfY3VycmVudEFjdGlvbiA9IG9sZEFjdGlvbjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzVmlld0RlYnVnRXJyb3IoZSkgfHwgIV9jdXJyZW50Vmlldykge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyB2aWV3V3JhcHBlZERlYnVnRXJyb3IoZSwgZ2V0Q3VycmVudERlYnVnQ29udGV4dCgpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50RGVidWdDb250ZXh0KCkge1xuICAgIHJldHVybiBfY3VycmVudFZpZXcgPyBuZXcgRGVidWdDb250ZXh0XyhfY3VycmVudFZpZXcsIF9jdXJyZW50Tm9kZUluZGV4KSA6IG51bGw7XG59XG52YXIgRGVidWdSZW5kZXJlckZhY3RvcnkyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlYnVnUmVuZGVyZXJGYWN0b3J5MihkZWxlZ2F0ZSkge1xuICAgICAgICB0aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgfVxuICAgIERlYnVnUmVuZGVyZXJGYWN0b3J5Mi5wcm90b3R5cGUuY3JlYXRlUmVuZGVyZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgcmVuZGVyRGF0YSkge1xuICAgICAgICByZXR1cm4gbmV3IERlYnVnUmVuZGVyZXIyKHRoaXMuZGVsZWdhdGUuY3JlYXRlUmVuZGVyZXIoZWxlbWVudCwgcmVuZGVyRGF0YSkpO1xuICAgIH07XG4gICAgRGVidWdSZW5kZXJlckZhY3RvcnkyLnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUuYmVnaW4pIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZWdhdGUuYmVnaW4oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVidWdSZW5kZXJlckZhY3RvcnkyLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGVnYXRlLmVuZCkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5lbmQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVidWdSZW5kZXJlckZhY3RvcnkyLnByb3RvdHlwZS53aGVuUmVuZGVyaW5nRG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUud2hlblJlbmRlcmluZ0RvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLndoZW5SZW5kZXJpbmdEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWJ1Z1JlbmRlcmVyRmFjdG9yeTI7XG59KCkpO1xudmFyIERlYnVnUmVuZGVyZXIyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlYnVnUmVuZGVyZXIyKGRlbGVnYXRlKSB7XG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZhY3RvcnkgZnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgYSBgRGVidWdDb250ZXh0YCB3aGVuIGEgbm9kZSBpcyBjcmVhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgYERlYnVnQ29udGV4dGAgYWxsb3dzIHRvIHJldHJpZXZlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBub2RlcyB0aGF0IGFyZSB1c2VmdWwgaW4gdGVzdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmYWN0b3J5IGlzIGNvbmZpZ3VyYWJsZSBzbyB0aGF0IHRoZSBgRGVidWdSZW5kZXJlcjJgIGNvdWxkIGluc3RhbnRpYXRlIGVpdGhlciBhIFZpZXcgRW5naW5lXG4gICAgICAgICAqIG9yIGEgUmVuZGVyIGNvbnRleHQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlYnVnQ29udGV4dEZhY3RvcnkgPSBnZXRDdXJyZW50RGVidWdDb250ZXh0O1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmRlbGVnYXRlLmRhdGE7XG4gICAgfVxuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5jcmVhdGVEZWJ1Z0NvbnRleHQgPSBmdW5jdGlvbiAobmF0aXZlRWxlbWVudCkgeyByZXR1cm4gdGhpcy5kZWJ1Z0NvbnRleHRGYWN0b3J5KG5hdGl2ZUVsZW1lbnQpOyB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5kZXN0cm95Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJlbW92ZURlYnVnTm9kZUZyb21JbmRleChnZXREZWJ1Z05vZGUobm9kZSkpO1xuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZS5kZXN0cm95Tm9kZSkge1xuICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZS5kZXN0cm95Tm9kZShub2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IHRoaXMuZGVsZWdhdGUuZGVzdHJveSgpOyB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKG5hbWUsIG5hbWVzcGFjZSkge1xuICAgICAgICB2YXIgZWwgPSB0aGlzLmRlbGVnYXRlLmNyZWF0ZUVsZW1lbnQobmFtZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgdmFyIGRlYnVnQ3R4ID0gdGhpcy5jcmVhdGVEZWJ1Z0NvbnRleHQoZWwpO1xuICAgICAgICBpZiAoZGVidWdDdHgpIHtcbiAgICAgICAgICAgIHZhciBkZWJ1Z0VsID0gbmV3IERlYnVnRWxlbWVudF9fUFJFX1IzX18oZWwsIG51bGwsIGRlYnVnQ3R4KTtcbiAgICAgICAgICAgIGRlYnVnRWwubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBpbmRleERlYnVnTm9kZShkZWJ1Z0VsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfTtcbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgY29tbWVudCA9IHRoaXMuZGVsZWdhdGUuY3JlYXRlQ29tbWVudCh2YWx1ZSk7XG4gICAgICAgIHZhciBkZWJ1Z0N0eCA9IHRoaXMuY3JlYXRlRGVidWdDb250ZXh0KGNvbW1lbnQpO1xuICAgICAgICBpZiAoZGVidWdDdHgpIHtcbiAgICAgICAgICAgIGluZGV4RGVidWdOb2RlKG5ldyBEZWJ1Z05vZGVfX1BSRV9SM19fKGNvbW1lbnQsIG51bGwsIGRlYnVnQ3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbW1lbnQ7XG4gICAgfTtcbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuY3JlYXRlVGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuZGVsZWdhdGUuY3JlYXRlVGV4dCh2YWx1ZSk7XG4gICAgICAgIHZhciBkZWJ1Z0N0eCA9IHRoaXMuY3JlYXRlRGVidWdDb250ZXh0KHRleHQpO1xuICAgICAgICBpZiAoZGVidWdDdHgpIHtcbiAgICAgICAgICAgIGluZGV4RGVidWdOb2RlKG5ldyBEZWJ1Z05vZGVfX1BSRV9SM19fKHRleHQsIG51bGwsIGRlYnVnQ3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBmdW5jdGlvbiAocGFyZW50LCBuZXdDaGlsZCkge1xuICAgICAgICB2YXIgZGVidWdFbCA9IGdldERlYnVnTm9kZShwYXJlbnQpO1xuICAgICAgICB2YXIgZGVidWdDaGlsZEVsID0gZ2V0RGVidWdOb2RlKG5ld0NoaWxkKTtcbiAgICAgICAgaWYgKGRlYnVnRWwgJiYgZGVidWdDaGlsZEVsICYmIGRlYnVnRWwgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fKSB7XG4gICAgICAgICAgICBkZWJ1Z0VsLmFkZENoaWxkKGRlYnVnQ2hpbGRFbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5hcHBlbmRDaGlsZChwYXJlbnQsIG5ld0NoaWxkKTtcbiAgICB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUgPSBmdW5jdGlvbiAocGFyZW50LCBuZXdDaGlsZCwgcmVmQ2hpbGQpIHtcbiAgICAgICAgdmFyIGRlYnVnRWwgPSBnZXREZWJ1Z05vZGUocGFyZW50KTtcbiAgICAgICAgdmFyIGRlYnVnQ2hpbGRFbCA9IGdldERlYnVnTm9kZShuZXdDaGlsZCk7XG4gICAgICAgIHZhciBkZWJ1Z1JlZkVsID0gZ2V0RGVidWdOb2RlKHJlZkNoaWxkKTtcbiAgICAgICAgaWYgKGRlYnVnRWwgJiYgZGVidWdDaGlsZEVsICYmIGRlYnVnRWwgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fKSB7XG4gICAgICAgICAgICBkZWJ1Z0VsLmluc2VydEJlZm9yZShkZWJ1Z1JlZkVsLCBkZWJ1Z0NoaWxkRWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsZWdhdGUuaW5zZXJ0QmVmb3JlKHBhcmVudCwgbmV3Q2hpbGQsIHJlZkNoaWxkKTtcbiAgICB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIChwYXJlbnQsIG9sZENoaWxkKSB7XG4gICAgICAgIHZhciBkZWJ1Z0VsID0gZ2V0RGVidWdOb2RlKHBhcmVudCk7XG4gICAgICAgIHZhciBkZWJ1Z0NoaWxkRWwgPSBnZXREZWJ1Z05vZGUob2xkQ2hpbGQpO1xuICAgICAgICBpZiAoZGVidWdFbCAmJiBkZWJ1Z0NoaWxkRWwgJiYgZGVidWdFbCBpbnN0YW5jZW9mIERlYnVnRWxlbWVudF9fUFJFX1IzX18pIHtcbiAgICAgICAgICAgIGRlYnVnRWwucmVtb3ZlQ2hpbGQoZGVidWdDaGlsZEVsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGVnYXRlLnJlbW92ZUNoaWxkKHBhcmVudCwgb2xkQ2hpbGQpO1xuICAgIH07XG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLnNlbGVjdFJvb3RFbGVtZW50ID0gZnVuY3Rpb24gKHNlbGVjdG9yT3JOb2RlLCBwcmVzZXJ2ZUNvbnRlbnQpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5kZWxlZ2F0ZS5zZWxlY3RSb290RWxlbWVudChzZWxlY3Rvck9yTm9kZSwgcHJlc2VydmVDb250ZW50KTtcbiAgICAgICAgdmFyIGRlYnVnQ3R4ID0gZ2V0Q3VycmVudERlYnVnQ29udGV4dCgpO1xuICAgICAgICBpZiAoZGVidWdDdHgpIHtcbiAgICAgICAgICAgIGluZGV4RGVidWdOb2RlKG5ldyBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fKGVsLCBudWxsLCBkZWJ1Z0N0eCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgdmFyIGRlYnVnRWwgPSBnZXREZWJ1Z05vZGUoZWwpO1xuICAgICAgICBpZiAoZGVidWdFbCAmJiBkZWJ1Z0VsIGluc3RhbmNlb2YgRGVidWdFbGVtZW50X19QUkVfUjNfXykge1xuICAgICAgICAgICAgdmFyIGZ1bGxOYW1lID0gbmFtZXNwYWNlID8gbmFtZXNwYWNlICsgJzonICsgbmFtZSA6IG5hbWU7XG4gICAgICAgICAgICBkZWJ1Z0VsLmF0dHJpYnV0ZXNbZnVsbE5hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZXRBdHRyaWJ1dGUoZWwsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2UpO1xuICAgIH07XG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChlbCwgbmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIHZhciBkZWJ1Z0VsID0gZ2V0RGVidWdOb2RlKGVsKTtcbiAgICAgICAgaWYgKGRlYnVnRWwgJiYgZGVidWdFbCBpbnN0YW5jZW9mIERlYnVnRWxlbWVudF9fUFJFX1IzX18pIHtcbiAgICAgICAgICAgIHZhciBmdWxsTmFtZSA9IG5hbWVzcGFjZSA/IG5hbWVzcGFjZSArICc6JyArIG5hbWUgOiBuYW1lO1xuICAgICAgICAgICAgZGVidWdFbC5hdHRyaWJ1dGVzW2Z1bGxOYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5yZW1vdmVBdHRyaWJ1dGUoZWwsIG5hbWUsIG5hbWVzcGFjZSk7XG4gICAgfTtcbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAoZWwsIG5hbWUpIHtcbiAgICAgICAgdmFyIGRlYnVnRWwgPSBnZXREZWJ1Z05vZGUoZWwpO1xuICAgICAgICBpZiAoZGVidWdFbCAmJiBkZWJ1Z0VsIGluc3RhbmNlb2YgRGVidWdFbGVtZW50X19QUkVfUjNfXykge1xuICAgICAgICAgICAgZGVidWdFbC5jbGFzc2VzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGVnYXRlLmFkZENsYXNzKGVsLCBuYW1lKTtcbiAgICB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChlbCwgbmFtZSkge1xuICAgICAgICB2YXIgZGVidWdFbCA9IGdldERlYnVnTm9kZShlbCk7XG4gICAgICAgIGlmIChkZWJ1Z0VsICYmIGRlYnVnRWwgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fKSB7XG4gICAgICAgICAgICBkZWJ1Z0VsLmNsYXNzZXNbbmFtZV0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGVnYXRlLnJlbW92ZUNsYXNzKGVsLCBuYW1lKTtcbiAgICB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChlbCwgc3R5bGUsIHZhbHVlLCBmbGFncykge1xuICAgICAgICB2YXIgZGVidWdFbCA9IGdldERlYnVnTm9kZShlbCk7XG4gICAgICAgIGlmIChkZWJ1Z0VsICYmIGRlYnVnRWwgaW5zdGFuY2VvZiBEZWJ1Z0VsZW1lbnRfX1BSRV9SM19fKSB7XG4gICAgICAgICAgICBkZWJ1Z0VsLnN0eWxlc1tzdHlsZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGVnYXRlLnNldFN0eWxlKGVsLCBzdHlsZSwgdmFsdWUsIGZsYWdzKTtcbiAgICB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5yZW1vdmVTdHlsZSA9IGZ1bmN0aW9uIChlbCwgc3R5bGUsIGZsYWdzKSB7XG4gICAgICAgIHZhciBkZWJ1Z0VsID0gZ2V0RGVidWdOb2RlKGVsKTtcbiAgICAgICAgaWYgKGRlYnVnRWwgJiYgZGVidWdFbCBpbnN0YW5jZW9mIERlYnVnRWxlbWVudF9fUFJFX1IzX18pIHtcbiAgICAgICAgICAgIGRlYnVnRWwuc3R5bGVzW3N0eWxlXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5yZW1vdmVTdHlsZShlbCwgc3R5bGUsIGZsYWdzKTtcbiAgICB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5zZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChlbCwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGRlYnVnRWwgPSBnZXREZWJ1Z05vZGUoZWwpO1xuICAgICAgICBpZiAoZGVidWdFbCAmJiBkZWJ1Z0VsIGluc3RhbmNlb2YgRGVidWdFbGVtZW50X19QUkVfUjNfXykge1xuICAgICAgICAgICAgZGVidWdFbC5wcm9wZXJ0aWVzW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZS5zZXRQcm9wZXJ0eShlbCwgbmFtZSwgdmFsdWUpO1xuICAgIH07XG4gICAgRGVidWdSZW5kZXJlcjIucHJvdG90eXBlLmxpc3RlbiA9IGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgZGVidWdFbCA9IGdldERlYnVnTm9kZSh0YXJnZXQpO1xuICAgICAgICAgICAgaWYgKGRlYnVnRWwpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0VsLmxpc3RlbmVycy5wdXNoKG5ldyBFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5saXN0ZW4odGFyZ2V0LCBldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIERlYnVnUmVuZGVyZXIyLnByb3RvdHlwZS5wYXJlbnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUucGFyZW50Tm9kZShub2RlKTsgfTtcbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUubmV4dFNpYmxpbmcgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5uZXh0U2libGluZyhub2RlKTsgfTtcbiAgICBEZWJ1Z1JlbmRlcmVyMi5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAobm9kZSwgdmFsdWUpIHsgcmV0dXJuIHRoaXMuZGVsZWdhdGUuc2V0VmFsdWUobm9kZSwgdmFsdWUpOyB9O1xuICAgIHJldHVybiBEZWJ1Z1JlbmRlcmVyMjtcbn0oKSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIG92ZXJyaWRlUHJvdmlkZXIob3ZlcnJpZGUpIHtcbiAgICBpbml0U2VydmljZXNJZk5lZWRlZCgpO1xuICAgIHJldHVybiBTZXJ2aWNlcy5vdmVycmlkZVByb3ZpZGVyKG92ZXJyaWRlKTtcbn1cbmZ1bmN0aW9uIG92ZXJyaWRlQ29tcG9uZW50Vmlldyhjb21wLCBjb21wb25lbnRGYWN0b3J5KSB7XG4gICAgaW5pdFNlcnZpY2VzSWZOZWVkZWQoKTtcbiAgICByZXR1cm4gU2VydmljZXMub3ZlcnJpZGVDb21wb25lbnRWaWV3KGNvbXAsIGNvbXBvbmVudEZhY3RvcnkpO1xufVxuZnVuY3Rpb24gY2xlYXJPdmVycmlkZXMoKSB7XG4gICAgaW5pdFNlcnZpY2VzSWZOZWVkZWQoKTtcbiAgICByZXR1cm4gU2VydmljZXMuY2xlYXJPdmVycmlkZXMoKTtcbn1cbi8vIEF0dGVudGlvbjogdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYXMgdG9wIGxldmVsIGZ1bmN0aW9uLlxuLy8gUHV0dGluZyBhbnkgbG9naWMgaW4gaGVyZSB3aWxsIGRlc3Ryb3kgY2xvc3VyZSB0cmVlIHNoYWtpbmchXG5mdW5jdGlvbiBjcmVhdGVOZ01vZHVsZUZhY3RvcnkobmdNb2R1bGVUeXBlLCBib290c3RyYXBDb21wb25lbnRzLCBkZWZGYWN0b3J5KSB7XG4gICAgcmV0dXJuIG5ldyBOZ01vZHVsZUZhY3RvcnlfKG5nTW9kdWxlVHlwZSwgYm9vdHN0cmFwQ29tcG9uZW50cywgZGVmRmFjdG9yeSk7XG59XG5mdW5jdGlvbiBjbG9uZU5nTW9kdWxlRGVmaW5pdGlvbihkZWYpIHtcbiAgICB2YXIgcHJvdmlkZXJzID0gQXJyYXkuZnJvbShkZWYucHJvdmlkZXJzKTtcbiAgICB2YXIgbW9kdWxlcyA9IEFycmF5LmZyb20oZGVmLm1vZHVsZXMpO1xuICAgIHZhciBwcm92aWRlcnNCeUtleSA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBkZWYucHJvdmlkZXJzQnlLZXkpIHtcbiAgICAgICAgcHJvdmlkZXJzQnlLZXlba2V5XSA9IGRlZi5wcm92aWRlcnNCeUtleVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBmYWN0b3J5OiBkZWYuZmFjdG9yeSxcbiAgICAgICAgaXNSb290OiBkZWYuaXNSb290LCBwcm92aWRlcnM6IHByb3ZpZGVycywgbW9kdWxlczogbW9kdWxlcywgcHJvdmlkZXJzQnlLZXk6IHByb3ZpZGVyc0J5S2V5LFxuICAgIH07XG59XG52YXIgTmdNb2R1bGVGYWN0b3J5XyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTmdNb2R1bGVGYWN0b3J5XywgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOZ01vZHVsZUZhY3RvcnlfKG1vZHVsZVR5cGUsIF9ib290c3RyYXBDb21wb25lbnRzLCBfbmdNb2R1bGVEZWZGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IFxuICAgICAgICAvLyBBdHRlbnRpb246IHRoaXMgY3RvciBpcyBjYWxsZWQgYXMgdG9wIGxldmVsIGZ1bmN0aW9uLlxuICAgICAgICAvLyBQdXR0aW5nIGFueSBsb2dpYyBpbiBoZXJlIHdpbGwgZGVzdHJveSBjbG9zdXJlIHRyZWUgc2hha2luZyFcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubW9kdWxlVHlwZSA9IG1vZHVsZVR5cGU7XG4gICAgICAgIF90aGlzLl9ib290c3RyYXBDb21wb25lbnRzID0gX2Jvb3RzdHJhcENvbXBvbmVudHM7XG4gICAgICAgIF90aGlzLl9uZ01vZHVsZURlZkZhY3RvcnkgPSBfbmdNb2R1bGVEZWZGYWN0b3J5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE5nTW9kdWxlRmFjdG9yeV8ucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChwYXJlbnRJbmplY3Rvcikge1xuICAgICAgICBpbml0U2VydmljZXNJZk5lZWRlZCgpO1xuICAgICAgICAvLyBDbG9uZSB0aGUgTmdNb2R1bGVEZWZpbml0aW9uIHNvIHRoYXQgYW55IHRyZWUgc2hha2VhYmxlIHByb3ZpZGVyIGRlZmluaXRpb25cbiAgICAgICAgLy8gYWRkZWQgdG8gdGhpcyBpbnN0YW5jZSBvZiB0aGUgTmdNb2R1bGVSZWYgZG9lc24ndCBhZmZlY3QgdGhlIGNhY2hlZCBjb3B5LlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMjUwMTguXG4gICAgICAgIHZhciBkZWYgPSBjbG9uZU5nTW9kdWxlRGVmaW5pdGlvbihyZXNvbHZlRGVmaW5pdGlvbih0aGlzLl9uZ01vZHVsZURlZkZhY3RvcnkpKTtcbiAgICAgICAgcmV0dXJuIFNlcnZpY2VzLmNyZWF0ZU5nTW9kdWxlUmVmKHRoaXMubW9kdWxlVHlwZSwgcGFyZW50SW5qZWN0b3IgfHwgSW5qZWN0b3IuTlVMTCwgdGhpcy5fYm9vdHN0cmFwQ29tcG9uZW50cywgZGVmKTtcbiAgICB9O1xuICAgIHJldHVybiBOZ01vZHVsZUZhY3RvcnlfO1xufShOZ01vZHVsZUZhY3RvcnkpKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8vIGNsYW5nLWZvcm1hdCBvblxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gVGhpcyBmaWxlIG9ubHkgcmVleHBvcnRzIGNvbnRlbnQgb2YgdGhlIGBzcmNgIGZvbGRlci4gS2VlcCBpdCB0aGF0IHdheS5cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG4vKipcbiAqIEdlbmVyYXRlZCBidW5kbGUgaW5kZXguIERvIG5vdCBlZGl0LlxuICovXG5cbmV4cG9ydCB7IEFQUExJQ0FUSU9OX01PRFVMRV9QUk9WSURFUlMgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV9zLCBfaXRlcmFibGVEaWZmZXJzRmFjdG9yeSBhcyDJtWFuZ3VsYXJfcGFja2FnZXNfY29yZV9jb3JlX3AsIF9rZXlWYWx1ZURpZmZlcnNGYWN0b3J5IGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfcSwgX2xvY2FsZUZhY3RvcnkgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV9yLCBfYXBwSWRSYW5kb21Qcm92aWRlckZhY3RvcnkgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV9nLCBEZWZhdWx0SXRlcmFibGVEaWZmZXJGYWN0b3J5IGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfbiwgRGVmYXVsdEtleVZhbHVlRGlmZmVyRmFjdG9yeSBhcyDJtWFuZ3VsYXJfcGFja2FnZXNfY29yZV9jb3JlX28sIERlYnVnRWxlbWVudF9fUFJFX1IzX18gYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV9tLCBEZWJ1Z05vZGVfX1BSRV9SM19fIGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfbCwgaW5qZWN0SW5qZWN0b3JPbmx5IGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfYywgUmVmbGVjdGl2ZUluamVjdG9yXyBhcyDJtWFuZ3VsYXJfcGFja2FnZXNfY29yZV9jb3JlX2QsIFJlZmxlY3RpdmVEZXBlbmRlbmN5IGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfZSwgcmVzb2x2ZVJlZmxlY3RpdmVQcm92aWRlcnMgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV9mLCBnZXRNb2R1bGVGYWN0b3J5X19QUkVfUjNfXyBhcyDJtWFuZ3VsYXJfcGFja2FnZXNfY29yZV9jb3JlX2ssIHd0ZkVuYWJsZWQgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV90LCBjcmVhdGVTY29wZSBhcyDJtWFuZ3VsYXJfcGFja2FnZXNfY29yZV9jb3JlX3YsIGRldGVjdFdURiBhcyDJtWFuZ3VsYXJfcGFja2FnZXNfY29yZV9jb3JlX3UsIGVuZFRpbWVSYW5nZSBhcyDJtWFuZ3VsYXJfcGFja2FnZXNfY29yZV9jb3JlX3ksIGxlYXZlIGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfdywgc3RhcnRUaW1lUmFuZ2UgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV94LCBpbmplY3RBdHRyaWJ1dGVJbXBsIGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfYmIsIE5HX0lOSkVDVEFCTEVfREVGIGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfYmksIGdldExWaWV3IGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfYmMsIGdldFByZXZpb3VzT3JQYXJlbnRUTm9kZSBhcyDJtWFuZ3VsYXJfcGFja2FnZXNfY29yZV9jb3JlX2JkLCBuZXh0Q29udGV4dEltcGwgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV9iZSwgQm91bmRQbGF5ZXJGYWN0b3J5IGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfYmgsIGxvYWRJbnRlcm5hbCBhcyDJtWFuZ3VsYXJfcGFja2FnZXNfY29yZV9jb3JlX2JsLCBjcmVhdGVFbGVtZW50UmVmIGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfaCwgY3JlYXRlVGVtcGxhdGVSZWYgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV9pLCBjcmVhdGVWaWV3UmVmIGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfaiwgbWFrZVBhcmFtRGVjb3JhdG9yIGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfYSwgbWFrZVByb3BEZWNvcmF0b3IgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV9iLCBnZXRDbG9zdXJlU2FmZVByb3BlcnR5IGFzIMm1YW5ndWxhcl9wYWNrYWdlc19jb3JlX2NvcmVfYmosIF9kZWYgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV96LCBEZWJ1Z0NvbnRleHQgYXMgybVhbmd1bGFyX3BhY2thZ2VzX2NvcmVfY29yZV9iYSwgY3JlYXRlUGxhdGZvcm0sIGFzc2VydFBsYXRmb3JtLCBkZXN0cm95UGxhdGZvcm0sIGdldFBsYXRmb3JtLCBQbGF0Zm9ybVJlZiwgQXBwbGljYXRpb25SZWYsIGNyZWF0ZVBsYXRmb3JtRmFjdG9yeSwgTmdQcm9iZVRva2VuLCBlbmFibGVQcm9kTW9kZSwgaXNEZXZNb2RlLCBBUFBfSUQsIFBBQ0tBR0VfUk9PVF9VUkwsIFBMQVRGT1JNX0lOSVRJQUxJWkVSLCBQTEFURk9STV9JRCwgQVBQX0JPT1RTVFJBUF9MSVNURU5FUiwgQVBQX0lOSVRJQUxJWkVSLCBBcHBsaWNhdGlvbkluaXRTdGF0dXMsIERlYnVnRWxlbWVudCwgRGVidWdOb2RlLCBhc05hdGl2ZUVsZW1lbnRzLCBnZXREZWJ1Z05vZGUsIFRlc3RhYmlsaXR5LCBUZXN0YWJpbGl0eVJlZ2lzdHJ5LCBzZXRUZXN0YWJpbGl0eUdldHRlciwgVFJBTlNMQVRJT05TLCBUUkFOU0xBVElPTlNfRk9STUFULCBMT0NBTEVfSUQsIE1pc3NpbmdUcmFuc2xhdGlvblN0cmF0ZWd5LCBBcHBsaWNhdGlvbk1vZHVsZSwgd3RmQ3JlYXRlU2NvcGUsIHd0ZkxlYXZlLCB3dGZTdGFydFRpbWVSYW5nZSwgd3RmRW5kVGltZVJhbmdlLCBUeXBlLCBFdmVudEVtaXR0ZXIsIEVycm9ySGFuZGxlciwgU2FuaXRpemVyLCBTZWN1cml0eUNvbnRleHQsIEFOQUxZWkVfRk9SX0VOVFJZX0NPTVBPTkVOVFMsIEF0dHJpYnV0ZSwgQ29udGVudENoaWxkLCBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5LCBWaWV3Q2hpbGQsIFZpZXdDaGlsZHJlbiwgQ29tcG9uZW50LCBEaXJlY3RpdmUsIEhvc3RCaW5kaW5nLCBIb3N0TGlzdGVuZXIsIElucHV0LCBPdXRwdXQsIFBpcGUsIENVU1RPTV9FTEVNRU5UU19TQ0hFTUEsIE5PX0VSUk9SU19TQ0hFTUEsIE5nTW9kdWxlLCBWaWV3RW5jYXBzdWxhdGlvbiwgVmVyc2lvbiwgVkVSU0lPTiwgZGVmaW5lSW5qZWN0YWJsZSwgZGVmaW5lSW5qZWN0b3IsIGZvcndhcmRSZWYsIHJlc29sdmVGb3J3YXJkUmVmLCBJbmplY3RhYmxlLCBJTkpFQ1RPUiQxIGFzIElOSkVDVE9SLCBJbmplY3RvciwgaW5qZWN0LCBpbmplY3QgYXMgybVpbmplY3QsIEluamVjdEZsYWdzLCBSZWZsZWN0aXZlSW5qZWN0b3IsIGNyZWF0ZUluamVjdG9yLCBSZXNvbHZlZFJlZmxlY3RpdmVGYWN0b3J5LCBSZWZsZWN0aXZlS2V5LCBJbmplY3Rpb25Ub2tlbiwgSW5qZWN0LCBPcHRpb25hbCwgU2VsZiwgU2tpcFNlbGYsIEhvc3QsIE5nWm9uZSwgTm9vcE5nWm9uZSBhcyDJtU5vb3BOZ1pvbmUsIFJlbmRlckNvbXBvbmVudFR5cGUsIFJlbmRlcmVyLCBSZW5kZXJlcjIsIFJlbmRlcmVyRmFjdG9yeTIsIFJlbmRlcmVyU3R5bGVGbGFnczIsIFJvb3RSZW5kZXJlciwgQ09NUElMRVJfT1BUSU9OUywgQ29tcGlsZXIsIENvbXBpbGVyRmFjdG9yeSwgTW9kdWxlV2l0aENvbXBvbmVudEZhY3RvcmllcywgQ29tcG9uZW50RmFjdG9yeSwgQ29tcG9uZW50RmFjdG9yeSBhcyDJtUNvbXBvbmVudEZhY3RvcnksIENvbXBvbmVudFJlZiwgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLCBFbGVtZW50UmVmLCBOZ01vZHVsZUZhY3RvcnksIE5nTW9kdWxlUmVmLCBOZ01vZHVsZUZhY3RvcnlMb2FkZXIsIGdldE1vZHVsZUZhY3RvcnksIFF1ZXJ5TGlzdCQxIGFzIFF1ZXJ5TGlzdCwgU3lzdGVtSnNOZ01vZHVsZUxvYWRlciwgU3lzdGVtSnNOZ01vZHVsZUxvYWRlckNvbmZpZywgVGVtcGxhdGVSZWYsIFZpZXdDb250YWluZXJSZWYsIEVtYmVkZGVkVmlld1JlZiwgVmlld1JlZiQxIGFzIFZpZXdSZWYsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgRGVmYXVsdEl0ZXJhYmxlRGlmZmVyLCBJdGVyYWJsZURpZmZlcnMsIEtleVZhbHVlRGlmZmVycywgU2ltcGxlQ2hhbmdlLCBXcmFwcGVkVmFsdWUsIHBsYXRmb3JtQ29yZSwgQUxMT1dfTVVMVElQTEVfUExBVEZPUk1TIGFzIMm1QUxMT1dfTVVMVElQTEVfUExBVEZPUk1TLCBBUFBfSURfUkFORE9NX1BST1ZJREVSIGFzIMm1QVBQX0lEX1JBTkRPTV9QUk9WSURFUiwgZGVmYXVsdEl0ZXJhYmxlRGlmZmVycyBhcyDJtWRlZmF1bHRJdGVyYWJsZURpZmZlcnMsIGRlZmF1bHRLZXlWYWx1ZURpZmZlcnMgYXMgybVkZWZhdWx0S2V5VmFsdWVEaWZmZXJzLCBkZXZNb2RlRXF1YWwgYXMgybVkZXZNb2RlRXF1YWwsIGlzTGlzdExpa2VJdGVyYWJsZSBhcyDJtWlzTGlzdExpa2VJdGVyYWJsZSwgQ2hhbmdlRGV0ZWN0b3JTdGF0dXMgYXMgybVDaGFuZ2VEZXRlY3RvclN0YXR1cywgaXNEZWZhdWx0Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kgYXMgybVpc0RlZmF1bHRDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29uc29sZSBhcyDJtUNvbnNvbGUsIGdldEluamVjdGFibGVEZWYgYXMgybVnZXRJbmplY3RhYmxlRGVmLCBzZXRDdXJyZW50SW5qZWN0b3IgYXMgybVzZXRDdXJyZW50SW5qZWN0b3IsIEFQUF9ST09UIGFzIMm1QVBQX1JPT1QsIGl2eUVuYWJsZWQgYXMgybVpdnlFbmFibGVkLCBDb2RlZ2VuQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIGFzIMm1Q29kZWdlbkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgcmVzb2x2ZUNvbXBvbmVudFJlc291cmNlcyBhcyDJtXJlc29sdmVDb21wb25lbnRSZXNvdXJjZXMsIFJlZmxlY3Rpb25DYXBhYmlsaXRpZXMgYXMgybVSZWZsZWN0aW9uQ2FwYWJpbGl0aWVzLCBSZW5kZXJEZWJ1Z0luZm8gYXMgybVSZW5kZXJEZWJ1Z0luZm8sIF9zYW5pdGl6ZUh0bWwgYXMgybVfc2FuaXRpemVIdG1sLCBfc2FuaXRpemVTdHlsZSBhcyDJtV9zYW5pdGl6ZVN0eWxlLCBfc2FuaXRpemVVcmwgYXMgybVfc2FuaXRpemVVcmwsIF9nbG9iYWwgYXMgybVnbG9iYWwsIGxvb3NlSWRlbnRpY2FsIGFzIMm1bG9vc2VJZGVudGljYWwsIHN0cmluZ2lmeSBhcyDJtXN0cmluZ2lmeSwgbWFrZURlY29yYXRvciBhcyDJtW1ha2VEZWNvcmF0b3IsIGlzT2JzZXJ2YWJsZSBhcyDJtWlzT2JzZXJ2YWJsZSwgaXNQcm9taXNlIGFzIMm1aXNQcm9taXNlLCBjbGVhck92ZXJyaWRlcyBhcyDJtWNsZWFyT3ZlcnJpZGVzLCBpbml0U2VydmljZXNJZk5lZWRlZCBhcyDJtWluaXRTZXJ2aWNlc0lmTmVlZGVkLCBvdmVycmlkZUNvbXBvbmVudFZpZXcgYXMgybVvdmVycmlkZUNvbXBvbmVudFZpZXcsIG92ZXJyaWRlUHJvdmlkZXIgYXMgybVvdmVycmlkZVByb3ZpZGVyLCBOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SJDEgYXMgybVOT1RfRk9VTkRfQ0hFQ0tfT05MWV9FTEVNRU5UX0lOSkVDVE9SLCBkZWZpbmVCYXNlIGFzIMm1ZGVmaW5lQmFzZSwgZGVmaW5lQ29tcG9uZW50IGFzIMm1ZGVmaW5lQ29tcG9uZW50LCBkZWZpbmVEaXJlY3RpdmUgYXMgybVkZWZpbmVEaXJlY3RpdmUsIGRlZmluZVBpcGUgYXMgybVkZWZpbmVQaXBlLCBkZWZpbmVOZ01vZHVsZSBhcyDJtWRlZmluZU5nTW9kdWxlLCBkZXRlY3RDaGFuZ2VzIGFzIMm1ZGV0ZWN0Q2hhbmdlcywgcmVuZGVyQ29tcG9uZW50IGFzIMm1cmVuZGVyQ29tcG9uZW50LCBDb21wb25lbnRGYWN0b3J5JDEgYXMgybVSZW5kZXIzQ29tcG9uZW50RmFjdG9yeSwgQ29tcG9uZW50UmVmJDEgYXMgybVSZW5kZXIzQ29tcG9uZW50UmVmLCBkaXJlY3RpdmVJbmplY3QgYXMgybVkaXJlY3RpdmVJbmplY3QsIGluamVjdEF0dHJpYnV0ZSBhcyDJtWluamVjdEF0dHJpYnV0ZSwgZ2V0RmFjdG9yeU9mIGFzIMm1Z2V0RmFjdG9yeU9mLCBnZXRJbmhlcml0ZWRGYWN0b3J5IGFzIMm1Z2V0SW5oZXJpdGVkRmFjdG9yeSwgdGVtcGxhdGVSZWZFeHRyYWN0b3IgYXMgybV0ZW1wbGF0ZVJlZkV4dHJhY3RvciwgUHJvdmlkZXJzRmVhdHVyZSBhcyDJtVByb3ZpZGVyc0ZlYXR1cmUsIEluaGVyaXREZWZpbml0aW9uRmVhdHVyZSBhcyDJtUluaGVyaXREZWZpbml0aW9uRmVhdHVyZSwgTmdPbkNoYW5nZXNGZWF0dXJlIGFzIMm1TmdPbkNoYW5nZXNGZWF0dXJlLCBMaWZlY3ljbGVIb29rc0ZlYXR1cmUgYXMgybVMaWZlY3ljbGVIb29rc0ZlYXR1cmUsIE5nTW9kdWxlUmVmJDEgYXMgybVSZW5kZXIzTmdNb2R1bGVSZWYsIG1hcmtEaXJ0eSBhcyDJtW1hcmtEaXJ0eSwgTmdNb2R1bGVGYWN0b3J5JDEgYXMgybVOZ01vZHVsZUZhY3RvcnksIE5PX0NIQU5HRSBhcyDJtU5PX0NIQU5HRSwgY29udGFpbmVyIGFzIMm1Y29udGFpbmVyLCBuZXh0Q29udGV4dCBhcyDJtW5leHRDb250ZXh0LCBlbGVtZW50U3RhcnQgYXMgybVlbGVtZW50U3RhcnQsIG5hbWVzcGFjZUhUTUwgYXMgybVuYW1lc3BhY2VIVE1MLCBuYW1lc3BhY2VNYXRoTUwgYXMgybVuYW1lc3BhY2VNYXRoTUwsIG5hbWVzcGFjZVNWRyBhcyDJtW5hbWVzcGFjZVNWRywgZWxlbWVudCBhcyDJtWVsZW1lbnQsIGxpc3RlbmVyIGFzIMm1bGlzdGVuZXIsIHRleHQgYXMgybV0ZXh0LCBlbWJlZGRlZFZpZXdTdGFydCBhcyDJtWVtYmVkZGVkVmlld1N0YXJ0LCBxdWVyeSBhcyDJtXF1ZXJ5LCByZWdpc3RlckNvbnRlbnRRdWVyeSBhcyDJtXJlZ2lzdGVyQ29udGVudFF1ZXJ5LCBwcm9qZWN0aW9uIGFzIMm1cHJvamVjdGlvbiwgYmluZCBhcyDJtWJpbmQsIGludGVycG9sYXRpb24xIGFzIMm1aW50ZXJwb2xhdGlvbjEsIGludGVycG9sYXRpb24yIGFzIMm1aW50ZXJwb2xhdGlvbjIsIGludGVycG9sYXRpb24zIGFzIMm1aW50ZXJwb2xhdGlvbjMsIGludGVycG9sYXRpb240IGFzIMm1aW50ZXJwb2xhdGlvbjQsIGludGVycG9sYXRpb241IGFzIMm1aW50ZXJwb2xhdGlvbjUsIGludGVycG9sYXRpb242IGFzIMm1aW50ZXJwb2xhdGlvbjYsIGludGVycG9sYXRpb243IGFzIMm1aW50ZXJwb2xhdGlvbjcsIGludGVycG9sYXRpb244IGFzIMm1aW50ZXJwb2xhdGlvbjgsIGludGVycG9sYXRpb25WIGFzIMm1aW50ZXJwb2xhdGlvblYsIHBpcGVCaW5kMSBhcyDJtXBpcGVCaW5kMSwgcGlwZUJpbmQyIGFzIMm1cGlwZUJpbmQyLCBwaXBlQmluZDMgYXMgybVwaXBlQmluZDMsIHBpcGVCaW5kNCBhcyDJtXBpcGVCaW5kNCwgcGlwZUJpbmRWIGFzIMm1cGlwZUJpbmRWLCBwdXJlRnVuY3Rpb24wIGFzIMm1cHVyZUZ1bmN0aW9uMCwgcHVyZUZ1bmN0aW9uMSBhcyDJtXB1cmVGdW5jdGlvbjEsIHB1cmVGdW5jdGlvbjIgYXMgybVwdXJlRnVuY3Rpb24yLCBwdXJlRnVuY3Rpb24zIGFzIMm1cHVyZUZ1bmN0aW9uMywgcHVyZUZ1bmN0aW9uNCBhcyDJtXB1cmVGdW5jdGlvbjQsIHB1cmVGdW5jdGlvbjUgYXMgybVwdXJlRnVuY3Rpb241LCBwdXJlRnVuY3Rpb242IGFzIMm1cHVyZUZ1bmN0aW9uNiwgcHVyZUZ1bmN0aW9uNyBhcyDJtXB1cmVGdW5jdGlvbjcsIHB1cmVGdW5jdGlvbjggYXMgybVwdXJlRnVuY3Rpb244LCBwdXJlRnVuY3Rpb25WIGFzIMm1cHVyZUZ1bmN0aW9uViwgZ2V0Q3VycmVudFZpZXcgYXMgybVnZXRDdXJyZW50VmlldywgZ2V0SG9zdEVsZW1lbnQgYXMgybVnZXRIb3N0RWxlbWVudCwgcmVzdG9yZVZpZXcgYXMgybVyZXN0b3JlVmlldywgY29udGFpbmVyUmVmcmVzaFN0YXJ0IGFzIMm1Y29udGFpbmVyUmVmcmVzaFN0YXJ0LCBjb250YWluZXJSZWZyZXNoRW5kIGFzIMm1Y29udGFpbmVyUmVmcmVzaEVuZCwgcXVlcnlSZWZyZXNoIGFzIMm1cXVlcnlSZWZyZXNoLCBsb2FkUXVlcnlMaXN0IGFzIMm1bG9hZFF1ZXJ5TGlzdCwgZWxlbWVudEVuZCBhcyDJtWVsZW1lbnRFbmQsIGVsZW1lbnRQcm9wZXJ0eSBhcyDJtWVsZW1lbnRQcm9wZXJ0eSwgY29tcG9uZW50SG9zdFN5bnRoZXRpY1Byb3BlcnR5IGFzIMm1Y29tcG9uZW50SG9zdFN5bnRoZXRpY1Byb3BlcnR5LCBwcm9qZWN0aW9uRGVmIGFzIMm1cHJvamVjdGlvbkRlZiwgcmVmZXJlbmNlIGFzIMm1cmVmZXJlbmNlLCBlbmFibGVCaW5kaW5ncyBhcyDJtWVuYWJsZUJpbmRpbmdzLCBkaXNhYmxlQmluZGluZ3MgYXMgybVkaXNhYmxlQmluZGluZ3MsIGFsbG9jSG9zdFZhcnMgYXMgybVhbGxvY0hvc3RWYXJzLCBlbGVtZW50QXR0cmlidXRlIGFzIMm1ZWxlbWVudEF0dHJpYnV0ZSwgZWxlbWVudENvbnRhaW5lclN0YXJ0IGFzIMm1ZWxlbWVudENvbnRhaW5lclN0YXJ0LCBlbGVtZW50Q29udGFpbmVyRW5kIGFzIMm1ZWxlbWVudENvbnRhaW5lckVuZCwgZWxlbWVudFN0eWxpbmcgYXMgybVlbGVtZW50U3R5bGluZywgZWxlbWVudEhvc3RBdHRycyBhcyDJtWVsZW1lbnRIb3N0QXR0cnMsIGVsZW1lbnRTdHlsaW5nTWFwIGFzIMm1ZWxlbWVudFN0eWxpbmdNYXAsIGVsZW1lbnRTdHlsZVByb3AgYXMgybVlbGVtZW50U3R5bGVQcm9wLCBlbGVtZW50U3R5bGluZ0FwcGx5IGFzIMm1ZWxlbWVudFN0eWxpbmdBcHBseSwgZWxlbWVudENsYXNzUHJvcCBhcyDJtWVsZW1lbnRDbGFzc1Byb3AsIHRleHRCaW5kaW5nIGFzIMm1dGV4dEJpbmRpbmcsIHRlbXBsYXRlIGFzIMm1dGVtcGxhdGUsIGVtYmVkZGVkVmlld0VuZCBhcyDJtWVtYmVkZGVkVmlld0VuZCwgc3RvcmUgYXMgybVzdG9yZSwgbG9hZCBhcyDJtWxvYWQsIHBpcGUgYXMgybVwaXBlLCB3aGVuUmVuZGVyZWQgYXMgybV3aGVuUmVuZGVyZWQsIGkxOG4gYXMgybVpMThuLCBpMThuQXR0cmlidXRlcyBhcyDJtWkxOG5BdHRyaWJ1dGVzLCBpMThuRXhwIGFzIMm1aTE4bkV4cCwgaTE4blN0YXJ0IGFzIMm1aTE4blN0YXJ0LCBpMThuRW5kIGFzIMm1aTE4bkVuZCwgaTE4bkFwcGx5IGFzIMm1aTE4bkFwcGx5LCBpMThuUG9zdHByb2Nlc3MgYXMgybVpMThuUG9zdHByb2Nlc3MsIHNldENsYXNzTWV0YWRhdGEgYXMgybVzZXRDbGFzc01ldGFkYXRhLCBjb21waWxlQ29tcG9uZW50IGFzIMm1Y29tcGlsZUNvbXBvbmVudCwgY29tcGlsZURpcmVjdGl2ZSBhcyDJtWNvbXBpbGVEaXJlY3RpdmUsIGNvbXBpbGVOZ01vZHVsZSBhcyDJtWNvbXBpbGVOZ01vZHVsZSwgY29tcGlsZU5nTW9kdWxlRGVmcyBhcyDJtWNvbXBpbGVOZ01vZHVsZURlZnMsIHBhdGNoQ29tcG9uZW50RGVmV2l0aFNjb3BlIGFzIMm1cGF0Y2hDb21wb25lbnREZWZXaXRoU2NvcGUsIHJlc2V0Q29tcGlsZWRDb21wb25lbnRzIGFzIMm1cmVzZXRDb21waWxlZENvbXBvbmVudHMsIGNvbXBpbGVQaXBlIGFzIMm1Y29tcGlsZVBpcGUsIHNhbml0aXplSHRtbCBhcyDJtXNhbml0aXplSHRtbCwgc2FuaXRpemVTdHlsZSBhcyDJtXNhbml0aXplU3R5bGUsIGRlZmF1bHRTdHlsZVNhbml0aXplciBhcyDJtWRlZmF1bHRTdHlsZVNhbml0aXplciwgc2FuaXRpemVTY3JpcHQgYXMgybVzYW5pdGl6ZVNjcmlwdCwgc2FuaXRpemVVcmwgYXMgybVzYW5pdGl6ZVVybCwgc2FuaXRpemVSZXNvdXJjZVVybCBhcyDJtXNhbml0aXplUmVzb3VyY2VVcmwsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0SHRtbCBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0SHRtbCwgYnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTdHlsZSBhcyDJtWJ5cGFzc1Nhbml0aXphdGlvblRydXN0U3R5bGUsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0U2NyaXB0IGFzIMm1YnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RTY3JpcHQsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0VXJsIGFzIMm1YnlwYXNzU2FuaXRpemF0aW9uVHJ1c3RVcmwsIGJ5cGFzc1Nhbml0aXphdGlvblRydXN0UmVzb3VyY2VVcmwgYXMgybVieXBhc3NTYW5pdGl6YXRpb25UcnVzdFJlc291cmNlVXJsLCBnZXRMQ29udGV4dCBhcyDJtWdldExDb250ZXh0LCBiaW5kUGxheWVyRmFjdG9yeSBhcyDJtWJpbmRQbGF5ZXJGYWN0b3J5LCBhZGRQbGF5ZXIgYXMgybVhZGRQbGF5ZXIsIGdldFBsYXllcnMgYXMgybVnZXRQbGF5ZXJzLCBjb21waWxlTmdNb2R1bGVGYWN0b3J5X19QT1NUX1IzX18gYXMgybVjb21waWxlTmdNb2R1bGVGYWN0b3J5X19QT1NUX1IzX18sIFNXSVRDSF9DT01QSUxFX0NPTVBPTkVOVF9fUE9TVF9SM19fIGFzIMm1U1dJVENIX0NPTVBJTEVfQ09NUE9ORU5UX19QT1NUX1IzX18sIFNXSVRDSF9DT01QSUxFX0RJUkVDVElWRV9fUE9TVF9SM19fIGFzIMm1U1dJVENIX0NPTVBJTEVfRElSRUNUSVZFX19QT1NUX1IzX18sIFNXSVRDSF9DT01QSUxFX1BJUEVfX1BPU1RfUjNfXyBhcyDJtVNXSVRDSF9DT01QSUxFX1BJUEVfX1BPU1RfUjNfXywgU1dJVENIX0NPTVBJTEVfTkdNT0RVTEVfX1BPU1RfUjNfXyBhcyDJtVNXSVRDSF9DT01QSUxFX05HTU9EVUxFX19QT1NUX1IzX18sIGdldERlYnVnTm9kZV9fUE9TVF9SM19fIGFzIMm1Z2V0RGVidWdOb2RlX19QT1NUX1IzX18sIFNXSVRDSF9DT01QSUxFX0lOSkVDVEFCTEVfX1BPU1RfUjNfXyBhcyDJtVNXSVRDSF9DT01QSUxFX0lOSkVDVEFCTEVfX1BPU1RfUjNfXywgU1dJVENIX0lWWV9FTkFCTEVEX19QT1NUX1IzX18gYXMgybVTV0lUQ0hfSVZZX0VOQUJMRURfX1BPU1RfUjNfXywgU1dJVENIX0NIQU5HRV9ERVRFQ1RPUl9SRUZfRkFDVE9SWV9fUE9TVF9SM19fIGFzIMm1U1dJVENIX0NIQU5HRV9ERVRFQ1RPUl9SRUZfRkFDVE9SWV9fUE9TVF9SM19fLCBDb21waWxlcl9jb21waWxlTW9kdWxlU3luY19fUE9TVF9SM19fIGFzIMm1Q29tcGlsZXJfY29tcGlsZU1vZHVsZVN5bmNfX1BPU1RfUjNfXywgQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFzeW5jX19QT1NUX1IzX18gYXMgybVDb21waWxlcl9jb21waWxlTW9kdWxlQXN5bmNfX1BPU1RfUjNfXywgQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNTeW5jX19QT1NUX1IzX18gYXMgybVDb21waWxlcl9jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmNfX1BPU1RfUjNfXywgQ29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luY19fUE9TVF9SM19fIGFzIMm1Q29tcGlsZXJfY29tcGlsZU1vZHVsZUFuZEFsbENvbXBvbmVudHNBc3luY19fUE9TVF9SM19fLCBTV0lUQ0hfRUxFTUVOVF9SRUZfRkFDVE9SWV9fUE9TVF9SM19fIGFzIMm1U1dJVENIX0VMRU1FTlRfUkVGX0ZBQ1RPUllfX1BPU1RfUjNfXywgU1dJVENIX1RFTVBMQVRFX1JFRl9GQUNUT1JZX19QT1NUX1IzX18gYXMgybVTV0lUQ0hfVEVNUExBVEVfUkVGX0ZBQ1RPUllfX1BPU1RfUjNfXywgU1dJVENIX1ZJRVdfQ09OVEFJTkVSX1JFRl9GQUNUT1JZX19QT1NUX1IzX18gYXMgybVTV0lUQ0hfVklFV19DT05UQUlORVJfUkVGX0ZBQ1RPUllfX1BPU1RfUjNfXywgU1dJVENIX1JFTkRFUkVSMl9GQUNUT1JZX19QT1NUX1IzX18gYXMgybVTV0lUQ0hfUkVOREVSRVIyX0ZBQ1RPUllfX1BPU1RfUjNfXywgZ2V0TW9kdWxlRmFjdG9yeV9fUE9TVF9SM19fIGFzIMm1Z2V0TW9kdWxlRmFjdG9yeV9fUE9TVF9SM19fLCBwdWJsaXNoR2xvYmFsVXRpbCBhcyDJtXB1Ymxpc2hHbG9iYWxVdGlsLCBwdWJsaXNoRGVmYXVsdEdsb2JhbFV0aWxzIGFzIMm1cHVibGlzaERlZmF1bHRHbG9iYWxVdGlscywgU1dJVENIX0lOSkVDVE9SX0ZBQ1RPUllfX1BPU1RfUjNfXyBhcyDJtVNXSVRDSF9JTkpFQ1RPUl9GQUNUT1JZX19QT1NUX1IzX18sIHJlZ2lzdGVyTW9kdWxlRmFjdG9yeSBhcyDJtXJlZ2lzdGVyTW9kdWxlRmFjdG9yeSwgRU1QVFlfQVJSQVkkNCBhcyDJtUVNUFRZX0FSUkFZLCBFTVBUWV9NQVAgYXMgybVFTVBUWV9NQVAsIGFuY2hvckRlZiBhcyDJtWFuZCwgY3JlYXRlQ29tcG9uZW50RmFjdG9yeSBhcyDJtWNjZiwgY3JlYXRlTmdNb2R1bGVGYWN0b3J5IGFzIMm1Y21mLCBjcmVhdGVSZW5kZXJlclR5cGUyIGFzIMm1Y3J0LCBkaXJlY3RpdmVEZWYgYXMgybVkaWQsIGVsZW1lbnREZWYgYXMgybVlbGQsIGVsZW1lbnRFdmVudEZ1bGxOYW1lIGFzIMm1ZWxlbWVudEV2ZW50RnVsbE5hbWUsIGdldENvbXBvbmVudFZpZXdEZWZpbml0aW9uRmFjdG9yeSBhcyDJtWdldENvbXBvbmVudFZpZXdEZWZpbml0aW9uRmFjdG9yeSwgaW5saW5lSW50ZXJwb2xhdGUgYXMgybVpbmxpbmVJbnRlcnBvbGF0ZSwgaW50ZXJwb2xhdGUgYXMgybVpbnRlcnBvbGF0ZSwgbW9kdWxlRGVmIGFzIMm1bW9kLCBtb2R1bGVQcm92aWRlRGVmIGFzIMm1bXBkLCBuZ0NvbnRlbnREZWYgYXMgybVuY2QsIG5vZGVWYWx1ZSBhcyDJtW5vdiwgcGlwZURlZiBhcyDJtXBpZCwgcHJvdmlkZXJEZWYgYXMgybVwcmQsIHB1cmVBcnJheURlZiBhcyDJtXBhZCwgcHVyZU9iamVjdERlZiBhcyDJtXBvZCwgcHVyZVBpcGVEZWYgYXMgybVwcGQsIHF1ZXJ5RGVmIGFzIMm1cXVkLCB0ZXh0RGVmIGFzIMm1dGVkLCB1bndyYXBWYWx1ZSQxIGFzIMm1dW52LCB2aWV3RGVmIGFzIMm1dmlkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLmpzLm1hcFxuIiwiZnVuY3Rpb24gd2VicGFja0VtcHR5QXN5bmNDb250ZXh0KHJlcSkge1xuXHQvLyBIZXJlIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKSBpcyB1c2VkIGluc3RlYWQgb2YgbmV3IFByb21pc2UoKSB0byBwcmV2ZW50XG5cdC8vIHVuY2F1Z2h0IGV4Y2VwdGlvbiBwb3BwaW5nIHVwIGluIGRldnRvb2xzXG5cdHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fSk7XG59XG53ZWJwYWNrRW1wdHlBc3luY0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gW107IH07XG53ZWJwYWNrRW1wdHlBc3luY0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUFzeW5jQ29udGV4dDtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0VtcHR5QXN5bmNDb250ZXh0O1xud2VicGFja0VtcHR5QXN5bmNDb250ZXh0LmlkID0gMTQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbl9fZXhwb3J0KHJlcXVpcmUoXCIuLi9zcmMvQ2hhcnRDb21wb25lbnRcIikpO1xyXG5fX2V4cG9ydChyZXF1aXJlKFwiLi4vc3JjL0NoYXJ0TW9kdWxlXCIpKTtcclxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGNvcmVfMSA9IHJlcXVpcmUoXCJAYW5ndWxhci9jb3JlXCIpO1xyXG52YXIgQ2hhcnRDb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL0NoYXJ0Q29tcG9uZW50XCIpO1xyXG52YXIgQ2hhcnRNb2R1bGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDaGFydE1vZHVsZSgpIHtcclxuICAgIH1cclxuICAgIENoYXJ0TW9kdWxlID0gX19kZWNvcmF0ZShbXHJcbiAgICAgICAgY29yZV8xLk5nTW9kdWxlKHtcclxuICAgICAgICAgICAgaW1wb3J0czogW10sXHJcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW0NoYXJ0Q29tcG9uZW50XzEuQ2hhcnRDb21wb25lbnRdLFxyXG4gICAgICAgICAgICBleHBvcnRzOiBbQ2hhcnRDb21wb25lbnRfMS5DaGFydENvbXBvbmVudF1cclxuICAgICAgICB9KVxyXG4gICAgXSwgQ2hhcnRNb2R1bGUpO1xyXG4gICAgcmV0dXJuIENoYXJ0TW9kdWxlO1xyXG59KCkpO1xyXG5leHBvcnRzLkNoYXJ0TW9kdWxlID0gQ2hhcnRNb2R1bGU7XHJcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xudmFyIElubmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbm5lclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5uZXJTdWJzY3JpYmVyKHBhcmVudCwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIF90aGlzLm91dGVyVmFsdWUgPSBvdXRlclZhbHVlO1xuICAgICAgICBfdGhpcy5vdXRlckluZGV4ID0gb3V0ZXJJbmRleDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsIHZhbHVlLCB0aGlzLm91dGVySW5kZXgsIHRoaXMuaW5kZXgrKywgdGhpcyk7XG4gICAgfTtcbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvciwgdGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIElubmVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgSW5uZXJTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Jbm5lclN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHN1YnNjcmliZVRvQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi9ob3N0UmVwb3J0RXJyb3InO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGhvc3RSZXBvcnRFcnJvcik7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9Qcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN5bWJvbEl0ZXJhdG9yKCkge1xuICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nIHx8ICFTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcbiAgICB9XG4gICAgcmV0dXJuIFN5bWJvbC5pdGVyYXRvcjtcbn1cbmV4cG9ydCB2YXIgaXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIGdldFN5bWJvbEl0ZXJhdG9yKCk7XG5leHBvcnQgdmFyICQkaXRlcmF0b3IgPSBpdGVyYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvSXRlcmFibGUgPSBmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChpdGVtLmRvbmUpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaXRlbS52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvSXRlcmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHZhciBzdWJzY3JpYmVUb09ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBvYnMgPSBvYmpbU3ltYm9sX29ic2VydmFibGVdKCk7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb09ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIGlzQXJyYXlMaWtlID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHggIT09ICdmdW5jdGlvbic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheUxpa2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3N1YnNjcmliZVRvQXJyYXksX3N1YnNjcmliZVRvUHJvbWlzZSxfc3Vic2NyaWJlVG9JdGVyYWJsZSxfc3Vic2NyaWJlVG9PYnNlcnZhYmxlLF9pc0FycmF5TGlrZSxfaXNQcm9taXNlLF9pc09iamVjdCxfc3ltYm9sX2l0ZXJhdG9yLF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0FycmF5IH0gZnJvbSAnLi9zdWJzY3JpYmVUb0FycmF5JztcbmltcG9ydCB7IHN1YnNjcmliZVRvUHJvbWlzZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9Qcm9taXNlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvSXRlcmFibGUgfSBmcm9tICcuL3N1YnNjcmliZVRvSXRlcmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9PYnNlcnZhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4vaXNQcm9taXNlJztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi9pc09iamVjdCc7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG8gPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0Ll9pc1NjYWxhcikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKCEhcmVzdWx0ICYmIHR5cGVvZiByZXN1bHRbU3ltYm9sX29ic2VydmFibGVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb09ic2VydmFibGUocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheUxpa2UocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9BcnJheShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9Qcm9taXNlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCEhcmVzdWx0ICYmIHR5cGVvZiByZXN1bHRbU3ltYm9sX2l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9JdGVyYWJsZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXNPYmplY3QocmVzdWx0KSA/ICdhbiBpbnZhbGlkIG9iamVjdCcgOiBcIidcIiArIHJlc3VsdCArIFwiJ1wiO1xuICAgICAgICB2YXIgbXNnID0gXCJZb3UgcHJvdmlkZWQgXCIgKyB2YWx1ZSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC5cIlxuICAgICAgICAgICAgKyAnIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBBcnJheSwgb3IgSXRlcmFibGUuJztcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihtc2cpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUby5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xudmFyIE91dGVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhPdXRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3V0ZXJTdWJzY3JpYmVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBPdXRlclN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUVycm9yID0gZnVuY3Rpb24gKGVycm9yLCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycm9yKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoaW5uZXJTdWIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIE91dGVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PdXRlclN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWFwT3BlcmF0aW9uKHNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIHByb2plY3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpKTtcbiAgICB9O1xufVxudmFyIE1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICB9XG4gICAgTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNYXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJvamVjdCwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWFwT3BlcmF0b3IgfTtcbnZhciBNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJvamVjdCwgdGhpc0FyZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmcgfHwgX3RoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdC5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuY291bnQrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfdXRpbF9zdWJzY3JpYmVUb0FycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb0FycmF5IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb0FycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUb0FycmF5KGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViLmFkZCh0aGlzLnNjaGVkdWxlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBzdWI7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21BcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNQcm9taXNlLF91dGlsX2lzQXJyYXlMaWtlLF91dGlsX2lzSW50ZXJvcE9ic2VydmFibGUsX3V0aWxfaXNJdGVyYWJsZSxfZnJvbUFycmF5LF9mcm9tUHJvbWlzZSxfZnJvbUl0ZXJhYmxlLF9mcm9tT2JzZXJ2YWJsZSxfdXRpbF9zdWJzY3JpYmVUbyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0l0ZXJhYmxlJztcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmltcG9ydCB7IGZyb21Qcm9taXNlIH0gZnJvbSAnLi9mcm9tUHJvbWlzZSc7XG5pbXBvcnQgeyBmcm9tSXRlcmFibGUgfSBmcm9tICcuL2Zyb21JdGVyYWJsZSc7XG5pbXBvcnQgeyBmcm9tT2JzZXJ2YWJsZSB9IGZyb20gJy4vZnJvbU9ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG8gfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvKGlucHV0KSk7XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21PYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNJdGVyYWJsZShpbnB1dCkgfHwgdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZyb21JdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKChpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgfHwgaW5wdXQpICsgJyBpcyBub3Qgb2JzZXJ2YWJsZScpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCAmJiB0eXBlb2YgaW5wdXRbU3ltYm9sX29ic2VydmFibGVdID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNJbnRlcm9wT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX1N1YnNjcmlwdGlvbixfc3ltYm9sX29ic2VydmFibGUsX3V0aWxfc3Vic2NyaWJlVG9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9PYnNlcnZhYmxlIH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21PYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG9PYnNlcnZhYmxlKGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKG9ic2VydmFibGUuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnIpIHsgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KSk7IH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSkpOyB9LFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBzdWI7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uLF91dGlsX3N1YnNjcmliZVRvUHJvbWlzZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9Qcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Byb21pc2UnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21Qcm9taXNlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG9Qcm9taXNlKGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0LnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByZXR1cm4gc3ViO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSXRlcmFibGUoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgJiYgdHlwZW9mIGlucHV0W1N5bWJvbF9pdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0l0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uLF9zeW1ib2xfaXRlcmF0b3IsX3V0aWxfc3Vic2NyaWJlVG9JdGVyYWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IHN1YnNjcmliZVRvSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvSXRlcmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21JdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgfVxuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUb0l0ZXJhYmxlKGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3I7XG4gICAgICAgICAgICBzdWIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmF0b3IgJiYgdHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gcmVzdWx0LmRvbmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIHN1YjtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUl0ZXJhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCxfT3V0ZXJTdWJzY3JpYmVyLF9Jbm5lclN1YnNjcmliZXIsX21hcCxfb2JzZXJ2YWJsZV9mcm9tIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IElubmVyU3Vic2NyaWJlciB9IGZyb20gJy4uL0lubmVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9mcm9tJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLnBpcGUobWVyZ2VNYXAoZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIGZyb20ocHJvamVjdChhLCBpKSkucGlwZShtYXAoZnVuY3Rpb24gKGIsIGlpKSB7IHJldHVybiByZXN1bHRTZWxlY3RvcihhLCBiLCBpLCBpaSk7IH0pKTsgfSwgY29uY3VycmVudCkpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzdWx0U2VsZWN0b3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNZXJnZU1hcE9wZXJhdG9yKHByb2plY3QsIGNvbmN1cnJlbnQpKTsgfTtcbn1cbnZhciBNZXJnZU1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgY29uY3VycmVudCkge1xuICAgICAgICBpZiAoY29uY3VycmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMuY29uY3VycmVudCA9IGNvbmN1cnJlbnQ7XG4gICAgfVxuICAgIE1lcmdlTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAob2JzZXJ2ZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWVyZ2VNYXBTdWJzY3JpYmVyKG9ic2VydmVyLCB0aGlzLnByb2plY3QsIHRoaXMuY29uY3VycmVudCkpO1xuICAgIH07XG4gICAgcmV0dXJuIE1lcmdlTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWVyZ2VNYXBPcGVyYXRvciB9O1xudmFyIE1lcmdlTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNZXJnZU1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWVyZ2VNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0LCBjb25jdXJyZW50KSB7XG4gICAgICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICAgICAgX3RoaXMuaGFzQ29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPCB0aGlzLmNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeU5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0KHZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlKys7XG4gICAgICAgIHRoaXMuX2lubmVyU3ViKHJlc3VsdCwgdmFsdWUsIGluZGV4KTtcbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX2lubmVyU3ViID0gZnVuY3Rpb24gKGlzaCwgdmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHZhciBpbm5lclN1YnNjcmliZXIgPSBuZXcgSW5uZXJTdWJzY3JpYmVyKHRoaXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZGVzdGluYXRpb24uYWRkKGlubmVyU3Vic2NyaWJlcik7XG4gICAgICAgIHN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIGlzaCwgdmFsdWUsIGluZGV4LCBpbm5lclN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSAwICYmIHRoaXMuYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQoaW5uZXJWYWx1ZSk7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlID0gZnVuY3Rpb24gKGlubmVyU3ViKSB7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgdGhpcy5yZW1vdmUoaW5uZXJTdWIpO1xuICAgICAgICB0aGlzLmFjdGl2ZS0tO1xuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQoYnVmZmVyLnNoaWZ0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlID09PSAwICYmIHRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNZXJnZU1hcFN1YnNjcmliZXI7XG59KE91dGVyU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgTWVyZ2VNYXBTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZU1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0lubmVyU3Vic2NyaWJlcixfc3Vic2NyaWJlVG8gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgSW5uZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vSW5uZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvIH0gZnJvbSAnLi9zdWJzY3JpYmVUbyc7XG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlVG9SZXN1bHQob3V0ZXJTdWJzY3JpYmVyLCByZXN1bHQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgsIGRlc3RpbmF0aW9uKSB7XG4gICAgaWYgKGRlc3RpbmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgICAgZGVzdGluYXRpb24gPSBuZXcgSW5uZXJTdWJzY3JpYmVyKG91dGVyU3Vic2NyaWJlciwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCk7XG4gICAgfVxuICAgIGlmIChkZXN0aW5hdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaWJlVG8ocmVzdWx0KShkZXN0aW5hdGlvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb1Jlc3VsdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGl0eS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNTY2hlZHVsZXIsX29wZXJhdG9yc19tZXJnZUFsbCxfZnJvbUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9tZXJnZUFsbCc7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgdmFyIHNjaGVkdWxlciA9IG51bGw7XG4gICAgdmFyIGxhc3QgPSBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXTtcbiAgICBpZiAoaXNTY2hlZHVsZXIobGFzdCkpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgICAgIGlmIChvYnNlcnZhYmxlcy5sZW5ndGggPiAxICYmIHR5cGVvZiBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgbGFzdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAoc2NoZWR1bGVyID09PSBudWxsICYmIG9ic2VydmFibGVzLmxlbmd0aCA9PT0gMSAmJiBvYnNlcnZhYmxlc1swXSBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VBbGwoY29uY3VycmVudCkoZnJvbUFycmF5KG9ic2VydmFibGVzLCBzY2hlZHVsZXIpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU2NoZWR1bGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5zY2hlZHVsZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2NoZWR1bGVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWVyZ2VNYXAsX3V0aWxfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VBbGwoY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlTWFwKGlkZW50aXR5LCBjb25jdXJyZW50KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlQWxsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHJlZkNvdW50KCkge1xuICAgIHJldHVybiBmdW5jdGlvbiByZWZDb3VudE9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgUmVmQ291bnRPcGVyYXRvcihzb3VyY2UpKTtcbiAgICB9O1xufVxudmFyIFJlZkNvdW50T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVmQ291bnRPcGVyYXRvcihjb25uZWN0YWJsZSkge1xuICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgfVxuICAgIFJlZkNvdW50T3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCsrO1xuICAgICAgICB2YXIgcmVmQ291bnRlciA9IG5ldyBSZWZDb3VudFN1YnNjcmliZXIoc3Vic2NyaWJlciwgY29ubmVjdGFibGUpO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShyZWZDb3VudGVyKTtcbiAgICAgICAgaWYgKCFyZWZDb3VudGVyLmNsb3NlZCkge1xuICAgICAgICAgICAgcmVmQ291bnRlci5jb25uZWN0aW9uID0gY29ubmVjdGFibGUuY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICByZXR1cm4gUmVmQ291bnRPcGVyYXRvcjtcbn0oKSk7XG52YXIgUmVmQ291bnRTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlZkNvdW50U3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZWZDb3VudFN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlZkNvdW50U3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGFibGUgPSB0aGlzLmNvbm5lY3RhYmxlO1xuICAgICAgICBpZiAoIWNvbm5lY3RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBudWxsO1xuICAgICAgICB2YXIgcmVmQ291bnQgPSBjb25uZWN0YWJsZS5fcmVmQ291bnQ7XG4gICAgICAgIGlmIChyZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RhYmxlLl9yZWZDb3VudCA9IHJlZkNvdW50IC0gMTtcbiAgICAgICAgaWYgKHJlZkNvdW50ID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbjtcbiAgICAgICAgdmFyIHNoYXJlZENvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5fY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgaWYgKHNoYXJlZENvbm5lY3Rpb24gJiYgKCFjb25uZWN0aW9uIHx8IHNoYXJlZENvbm5lY3Rpb24gPT09IGNvbm5lY3Rpb24pKSB7XG4gICAgICAgICAgICBzaGFyZWRDb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSZWZDb3VudFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZkNvdW50LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfT2JzZXJ2YWJsZSxfU3Vic2NyaWJlcixfU3Vic2NyaXB0aW9uLF9vcGVyYXRvcnNfcmVmQ291bnQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3RTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcmVmQ291bnQgYXMgaGlnaGVyT3JkZXJSZWZDb3VudCB9IGZyb20gJy4uL29wZXJhdG9ycy9yZWZDb3VudCc7XG52YXIgQ29ubmVjdGFibGVPYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbm5lY3RhYmxlT2JzZXJ2YWJsZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25uZWN0YWJsZU9ic2VydmFibGUoc291cmNlLCBzdWJqZWN0RmFjdG9yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIF90aGlzLnN1YmplY3RGYWN0b3J5ID0gc3ViamVjdEZhY3Rvcnk7XG4gICAgICAgIF90aGlzLl9yZWZDb3VudCA9IDA7XG4gICAgICAgIF90aGlzLl9pc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3ViamVjdCgpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuZ2V0U3ViamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN1YmplY3QgPSB0aGlzLl9zdWJqZWN0O1xuICAgICAgICBpZiAoIXN1YmplY3QgfHwgc3ViamVjdC5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YmplY3QgPSB0aGlzLnN1YmplY3RGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1YmplY3Q7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gdGhpcy5fY29ubmVjdGlvbjtcbiAgICAgICAgaWYgKCFjb25uZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9pc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgICAgICBjb25uZWN0aW9uID0gdGhpcy5fY29ubmVjdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24uYWRkKHRoaXMuc291cmNlXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZShuZXcgQ29ubmVjdGFibGVTdWJzY3JpYmVyKHRoaXMuZ2V0U3ViamVjdCgpLCB0aGlzKSkpO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5yZWZDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGhpZ2hlck9yZGVyUmVmQ291bnQoKSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBDb25uZWN0YWJsZU9ic2VydmFibGU7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9O1xudmFyIGNvbm5lY3RhYmxlUHJvdG8gPSBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlO1xuZXhwb3J0IHZhciBjb25uZWN0YWJsZU9ic2VydmFibGVEZXNjcmlwdG9yID0ge1xuICAgIG9wZXJhdG9yOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgX3JlZkNvdW50OiB7IHZhbHVlOiAwLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgIF9zdWJqZWN0OiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgIF9jb25uZWN0aW9uOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgIF9zdWJzY3JpYmU6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uX3N1YnNjcmliZSB9LFxuICAgIF9pc0NvbXBsZXRlOiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLl9pc0NvbXBsZXRlLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgIGdldFN1YmplY3Q6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uZ2V0U3ViamVjdCB9LFxuICAgIGNvbm5lY3Q6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uY29ubmVjdCB9LFxuICAgIHJlZkNvdW50OiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLnJlZkNvdW50IH1cbn07XG52YXIgQ29ubmVjdGFibGVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbm5lY3RhYmxlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25uZWN0YWJsZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbm5lY3RhYmxlU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9lcnJvci5jYWxsKHRoaXMsIGVycik7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZS5faXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgaWYgKGNvbm5lY3RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBjb25uZWN0aW9uID0gY29ubmVjdGFibGUuX2Nvbm5lY3Rpb247XG4gICAgICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQgPSAwO1xuICAgICAgICAgICAgY29ubmVjdGFibGUuX3N1YmplY3QgPSBudWxsO1xuICAgICAgICAgICAgY29ubmVjdGFibGUuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb25uZWN0YWJsZVN1YnNjcmliZXI7XG59KFN1YmplY3RTdWJzY3JpYmVyKSk7XG52YXIgUmVmQ291bnRPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZDb3VudE9wZXJhdG9yKGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICB9XG4gICAgUmVmQ291bnRPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50Kys7XG4gICAgICAgIHZhciByZWZDb3VudGVyID0gbmV3IFJlZkNvdW50U3Vic2NyaWJlcihzdWJzY3JpYmVyLCBjb25uZWN0YWJsZSk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKHJlZkNvdW50ZXIpO1xuICAgICAgICBpZiAoIXJlZkNvdW50ZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICByZWZDb3VudGVyLmNvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBSZWZDb3VudE9wZXJhdG9yO1xufSgpKTtcbnZhciBSZWZDb3VudFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVmQ291bnRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY29ubmVjdGFibGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVmQ291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGlmICghY29ubmVjdGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IG51bGw7XG4gICAgICAgIHZhciByZWZDb3VudCA9IGNvbm5lY3RhYmxlLl9yZWZDb3VudDtcbiAgICAgICAgaWYgKHJlZkNvdW50IDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50ID0gcmVmQ291bnQgLSAxO1xuICAgICAgICBpZiAocmVmQ291bnQgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gdGhpcy5jb25uZWN0aW9uO1xuICAgICAgICB2YXIgc2hhcmVkQ29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBpZiAoc2hhcmVkQ29ubmVjdGlvbiAmJiAoIWNvbm5lY3Rpb24gfHwgc2hhcmVkQ29ubmVjdGlvbiA9PT0gY29ubmVjdGlvbikpIHtcbiAgICAgICAgICAgIHNoYXJlZENvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlZkNvdW50U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ubmVjdGFibGVPYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9Db25uZWN0YWJsZU9ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29ubmVjdGFibGVPYnNlcnZhYmxlRGVzY3JpcHRvciB9IGZyb20gJy4uL29ic2VydmFibGUvQ29ubmVjdGFibGVPYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBtdWx0aWNhc3Qoc3ViamVjdE9yU3ViamVjdEZhY3RvcnksIHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG11bHRpY2FzdE9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHZhciBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgaWYgKHR5cGVvZiBzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0T3JTdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1YmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gc3ViamVjdEZhY3RvcnkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YmplY3RPclN1YmplY3RGYWN0b3J5O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE11bHRpY2FzdE9wZXJhdG9yKHN1YmplY3RGYWN0b3J5LCBzZWxlY3RvcikpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IE9iamVjdC5jcmVhdGUoc291cmNlLCBjb25uZWN0YWJsZU9ic2VydmFibGVEZXNjcmlwdG9yKTtcbiAgICAgICAgY29ubmVjdGFibGUuc291cmNlID0gc291cmNlO1xuICAgICAgICBjb25uZWN0YWJsZS5zdWJqZWN0RmFjdG9yeSA9IHN1YmplY3RGYWN0b3J5O1xuICAgICAgICByZXR1cm4gY29ubmVjdGFibGU7XG4gICAgfTtcbn1cbnZhciBNdWx0aWNhc3RPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNdWx0aWNhc3RPcGVyYXRvcihzdWJqZWN0RmFjdG9yeSwgc2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5zdWJqZWN0RmFjdG9yeSA9IHN1YmplY3RGYWN0b3J5O1xuICAgICAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgfVxuICAgIE11bHRpY2FzdE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yO1xuICAgICAgICB2YXIgc3ViamVjdCA9IHRoaXMuc3ViamVjdEZhY3RvcnkoKTtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHNlbGVjdG9yKHN1YmplY3QpLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChzb3VyY2Uuc3Vic2NyaWJlKHN1YmplY3QpKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBNdWx0aWNhc3RPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNdWx0aWNhc3RPcGVyYXRvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGljYXN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbXVsdGljYXN0LF9yZWZDb3VudCxfU3ViamVjdCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtdWx0aWNhc3QgfSBmcm9tICcuL211bHRpY2FzdCc7XG5pbXBvcnQgeyByZWZDb3VudCB9IGZyb20gJy4vcmVmQ291bnQnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuZnVuY3Rpb24gc2hhcmVTdWJqZWN0RmFjdG9yeSgpIHtcbiAgICByZXR1cm4gbmV3IFN1YmplY3QoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gcmVmQ291bnQoKShtdWx0aWNhc3Qoc2hhcmVTdWJqZWN0RmFjdG9yeSkoc291cmNlKSk7IH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFyZS5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=